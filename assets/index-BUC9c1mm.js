import{r as fg,a as hg,c as gg,b as le,R as xg}from"./vendor-3atx5Jhe.js";import{t as Fl,a as L0}from"./game-data-CyX7646K.js";(function(){const d=document.createElement("link").relList;if(d&&d.supports&&d.supports("modulepreload"))return;for(const m of document.querySelectorAll('link[rel="modulepreload"]'))c(m);new MutationObserver(m=>{for(const f of m)if(f.type==="childList")for(const b of f.addedNodes)b.tagName==="LINK"&&b.rel==="modulepreload"&&c(b)}).observe(document,{childList:!0,subtree:!0});function o(m){const f={};return m.integrity&&(f.integrity=m.integrity),m.referrerPolicy&&(f.referrerPolicy=m.referrerPolicy),m.crossOrigin==="use-credentials"?f.credentials="include":m.crossOrigin==="anonymous"?f.credentials="omit":f.credentials="same-origin",f}function c(m){if(m.ep)return;m.ep=!0;const f=o(m);fetch(m.href,f)}})();var Wc={exports:{}},An={};var f0;function bg(){if(f0)return An;f0=1;var i=Symbol.for("react.transitional.element"),d=Symbol.for("react.fragment");function o(c,m,f){var b=null;if(f!==void 0&&(b=""+f),m.key!==void 0&&(b=""+m.key),"key"in m){f={};for(var x in m)x!=="key"&&(f[x]=m[x])}else f=m;return m=f.ref,{$$typeof:i,type:c,key:b,ref:m!==void 0?m:null,props:f}}return An.Fragment=d,An.jsx=o,An.jsxs=o,An}var h0;function yg(){return h0||(h0=1,Wc.exports=bg()),Wc.exports}var l=yg(),eo={exports:{}},Bn={},to={exports:{}},ao={};var g0;function pg(){return g0||(g0=1,(function(i){function d(z,P){var te=z.length;z.push(P);e:for(;0<te;){var ge=te-1>>>1,Y=z[ge];if(0<m(Y,P))z[ge]=P,z[te]=Y,te=ge;else break e}}function o(z){return z.length===0?null:z[0]}function c(z){if(z.length===0)return null;var P=z[0],te=z.pop();if(te!==P){z[0]=te;e:for(var ge=0,Y=z.length,A=Y>>>1;ge<A;){var F=2*(ge+1)-1,de=z[F],re=F+1,Ce=z[re];if(0>m(de,te))re<Y&&0>m(Ce,de)?(z[ge]=Ce,z[re]=te,ge=re):(z[ge]=de,z[F]=te,ge=F);else if(re<Y&&0>m(Ce,te))z[ge]=Ce,z[re]=te,ge=re;else break e}}return P}function m(z,P){var te=z.sortIndex-P.sortIndex;return te!==0?te:z.id-P.id}if(i.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var f=performance;i.unstable_now=function(){return f.now()}}else{var b=Date,x=b.now();i.unstable_now=function(){return b.now()-x}}var g=[],h=[],v=1,p=null,T=3,w=!1,j=!1,N=!1,S=!1,E=typeof setTimeout=="function"?setTimeout:null,k=typeof clearTimeout=="function"?clearTimeout:null,O=typeof setImmediate<"u"?setImmediate:null;function W(z){for(var P=o(h);P!==null;){if(P.callback===null)c(h);else if(P.startTime<=z)c(h),P.sortIndex=P.expirationTime,d(g,P);else break;P=o(h)}}function _(z){if(N=!1,W(z),!j)if(o(g)!==null)j=!0,ne||(ne=!0,J());else{var P=o(h);P!==null&&se(_,P.startTime-z)}}var ne=!1,B=-1,G=5,ue=-1;function C(){return S?!0:!(i.unstable_now()-ue<G)}function ae(){if(S=!1,ne){var z=i.unstable_now();ue=z;var P=!0;try{e:{j=!1,N&&(N=!1,k(B),B=-1),w=!0;var te=T;try{t:{for(W(z),p=o(g);p!==null&&!(p.expirationTime>z&&C());){var ge=p.callback;if(typeof ge=="function"){p.callback=null,T=p.priorityLevel;var Y=ge(p.expirationTime<=z);if(z=i.unstable_now(),typeof Y=="function"){p.callback=Y,W(z),P=!0;break t}p===o(g)&&c(g),W(z)}else c(g);p=o(g)}if(p!==null)P=!0;else{var A=o(h);A!==null&&se(_,A.startTime-z),P=!1}}break e}finally{p=null,T=te,w=!1}P=void 0}}finally{P?J():ne=!1}}}var J;if(typeof O=="function")J=function(){O(ae)};else if(typeof MessageChannel<"u"){var V=new MessageChannel,fe=V.port2;V.port1.onmessage=ae,J=function(){fe.postMessage(null)}}else J=function(){E(ae,0)};function se(z,P){B=E(function(){z(i.unstable_now())},P)}i.unstable_IdlePriority=5,i.unstable_ImmediatePriority=1,i.unstable_LowPriority=4,i.unstable_NormalPriority=3,i.unstable_Profiling=null,i.unstable_UserBlockingPriority=2,i.unstable_cancelCallback=function(z){z.callback=null},i.unstable_forceFrameRate=function(z){0>z||125<z?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):G=0<z?Math.floor(1e3/z):5},i.unstable_getCurrentPriorityLevel=function(){return T},i.unstable_next=function(z){switch(T){case 1:case 2:case 3:var P=3;break;default:P=T}var te=T;T=P;try{return z()}finally{T=te}},i.unstable_requestPaint=function(){S=!0},i.unstable_runWithPriority=function(z,P){switch(z){case 1:case 2:case 3:case 4:case 5:break;default:z=3}var te=T;T=z;try{return P()}finally{T=te}},i.unstable_scheduleCallback=function(z,P,te){var ge=i.unstable_now();switch(typeof te=="object"&&te!==null?(te=te.delay,te=typeof te=="number"&&0<te?ge+te:ge):te=ge,z){case 1:var Y=-1;break;case 2:Y=250;break;case 5:Y=1073741823;break;case 4:Y=1e4;break;default:Y=5e3}return Y=te+Y,z={id:v++,callback:P,priorityLevel:z,startTime:te,expirationTime:Y,sortIndex:-1},te>ge?(z.sortIndex=te,d(h,z),o(g)===null&&z===o(h)&&(N?(k(B),B=-1):N=!0,se(_,te-ge))):(z.sortIndex=Y,d(g,z),j||w||(j=!0,ne||(ne=!0,J()))),z},i.unstable_shouldYield=C,i.unstable_wrapCallback=function(z){var P=T;return function(){var te=T;T=P;try{return z.apply(this,arguments)}finally{T=te}}}})(ao)),ao}var x0;function vg(){return x0||(x0=1,to.exports=pg()),to.exports}var b0;function Ng(){if(b0)return Bn;b0=1;var i=vg(),d=fg(),o=hg();function c(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)t+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function m(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function f(e){var t=e,a=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,(t.flags&4098)!==0&&(a=t.return),e=t.return;while(e)}return t.tag===3?a:null}function b(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function x(e){if(e.tag===31){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function g(e){if(f(e)!==e)throw Error(c(188))}function h(e){var t=e.alternate;if(!t){if(t=f(e),t===null)throw Error(c(188));return t!==e?null:e}for(var a=e,s=t;;){var n=a.return;if(n===null)break;var r=n.alternate;if(r===null){if(s=n.return,s!==null){a=s;continue}break}if(n.child===r.child){for(r=n.child;r;){if(r===a)return g(n),e;if(r===s)return g(n),t;r=r.sibling}throw Error(c(188))}if(a.return!==s.return)a=n,s=r;else{for(var u=!1,y=n.child;y;){if(y===a){u=!0,a=n,s=r;break}if(y===s){u=!0,s=n,a=r;break}y=y.sibling}if(!u){for(y=r.child;y;){if(y===a){u=!0,a=r,s=n;break}if(y===s){u=!0,s=r,a=n;break}y=y.sibling}if(!u)throw Error(c(189))}}if(a.alternate!==s)throw Error(c(190))}if(a.tag!==3)throw Error(c(188));return a.stateNode.current===a?e:t}function v(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e;for(e=e.child;e!==null;){if(t=v(e),t!==null)return t;e=e.sibling}return null}var p=Object.assign,T=Symbol.for("react.element"),w=Symbol.for("react.transitional.element"),j=Symbol.for("react.portal"),N=Symbol.for("react.fragment"),S=Symbol.for("react.strict_mode"),E=Symbol.for("react.profiler"),k=Symbol.for("react.consumer"),O=Symbol.for("react.context"),W=Symbol.for("react.forward_ref"),_=Symbol.for("react.suspense"),ne=Symbol.for("react.suspense_list"),B=Symbol.for("react.memo"),G=Symbol.for("react.lazy"),ue=Symbol.for("react.activity"),C=Symbol.for("react.memo_cache_sentinel"),ae=Symbol.iterator;function J(e){return e===null||typeof e!="object"?null:(e=ae&&e[ae]||e["@@iterator"],typeof e=="function"?e:null)}var V=Symbol.for("react.client.reference");function fe(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===V?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case N:return"Fragment";case E:return"Profiler";case S:return"StrictMode";case _:return"Suspense";case ne:return"SuspenseList";case ue:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case j:return"Portal";case O:return e.displayName||"Context";case k:return(e._context.displayName||"Context")+".Consumer";case W:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case B:return t=e.displayName||null,t!==null?t:fe(e.type)||"Memo";case G:t=e._payload,e=e._init;try{return fe(e(t))}catch{}}return null}var se=Array.isArray,z=d.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,P=o.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,te={pending:!1,data:null,method:null,action:null},ge=[],Y=-1;function A(e){return{current:e}}function F(e){0>Y||(e.current=ge[Y],ge[Y]=null,Y--)}function de(e,t){Y++,ge[Y]=e.current,e.current=t}var re=A(null),Ce=A(null),Ae=A(null),ye=A(null);function lt(e,t){switch(de(Ae,t),de(Ce,e),de(re,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?_m(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)t=_m(t),e=qm(t,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}F(re),de(re,e)}function ot(){F(re),F(Ce),F(Ae)}function Zt(e){e.memoizedState!==null&&de(ye,e);var t=re.current,a=qm(t,e.type);t!==a&&(de(Ce,e),de(re,a))}function Ie(e){Ce.current===e&&(F(re),F(Ce)),ye.current===e&&(F(ye),wn._currentValue=te)}var xt,qt;function Wt(e){if(xt===void 0)try{throw Error()}catch(a){var t=a.stack.trim().match(/\n( *(at )?)/);xt=t&&t[1]||"",qt=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+xt+e+qt}var Ut=!1;function ca(e,t){if(!e||Ut)return"";Ut=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var s={DetermineComponentFrameRoot:function(){try{if(t){var ee=function(){throw Error()};if(Object.defineProperty(ee.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ee,[])}catch(Q){var L=Q}Reflect.construct(e,[],ee)}else{try{ee.call()}catch(Q){L=Q}e.call(ee.prototype)}}else{try{throw Error()}catch(Q){L=Q}(ee=e())&&typeof ee.catch=="function"&&ee.catch(function(){})}}catch(Q){if(Q&&L&&typeof Q.stack=="string")return[Q.stack,L.stack]}return[null,null]}};s.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var n=Object.getOwnPropertyDescriptor(s.DetermineComponentFrameRoot,"name");n&&n.configurable&&Object.defineProperty(s.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var r=s.DetermineComponentFrameRoot(),u=r[0],y=r[1];if(u&&y){var M=u.split(`
`),U=y.split(`
`);for(n=s=0;s<M.length&&!M[s].includes("DetermineComponentFrameRoot");)s++;for(;n<U.length&&!U[n].includes("DetermineComponentFrameRoot");)n++;if(s===M.length||n===U.length)for(s=M.length-1,n=U.length-1;1<=s&&0<=n&&M[s]!==U[n];)n--;for(;1<=s&&0<=n;s--,n--)if(M[s]!==U[n]){if(s!==1||n!==1)do if(s--,n--,0>n||M[s]!==U[n]){var Z=`
`+M[s].replace(" at new "," at ");return e.displayName&&Z.includes("<anonymous>")&&(Z=Z.replace("<anonymous>",e.displayName)),Z}while(1<=s&&0<=n);break}}}finally{Ut=!1,Error.prepareStackTrace=a}return(a=e?e.displayName||e.name:"")?Wt(a):""}function he(e,t){switch(e.tag){case 26:case 27:case 5:return Wt(e.type);case 16:return Wt("Lazy");case 13:return e.child!==t&&t!==null?Wt("Suspense Fallback"):Wt("Suspense");case 19:return Wt("SuspenseList");case 0:case 15:return ca(e.type,!1);case 11:return ca(e.type.render,!1);case 1:return ca(e.type,!0);case 31:return Wt("Activity");default:return""}}function We(e){try{var t="",a=null;do t+=he(e,a),a=e,e=e.return;while(e);return t}catch(s){return`
Error generating stack: `+s.message+`
`+s.stack}}var X=Object.prototype.hasOwnProperty,Ca=i.unstable_scheduleCallback,Oa=i.unstable_cancelCallback,Ht=i.unstable_shouldYield,ve=i.unstable_requestPaint,Oe=i.unstable_now,Ee=i.unstable_getCurrentPriorityLevel,Jl=i.unstable_ImmediatePriority,bt=i.unstable_UserBlockingPriority,Ma=i.unstable_NormalPriority,Al=i.unstable_LowPriority,al=i.unstable_IdlePriority,Wl=i.log,qs=i.unstable_setDisableYieldValue,ka=null,yt=null;function Gt(e){if(typeof Wl=="function"&&qs(e),yt&&typeof yt.setStrictMode=="function")try{yt.setStrictMode(ka,e)}catch{}}var I=Math.clz32?Math.clz32:Ne,xe=Math.log,Me=Math.LN2;function Ne(e){return e>>>=0,e===0?32:31-(xe(e)/Me|0)|0}var oe=256,Se=262144,Ge=4194304;function H(e){var t=e&42;if(t!==0)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function $(e,t,a){var s=e.pendingLanes;if(s===0)return 0;var n=0,r=e.suspendedLanes,u=e.pingedLanes;e=e.warmLanes;var y=s&134217727;return y!==0?(s=y&~r,s!==0?n=H(s):(u&=y,u!==0?n=H(u):a||(a=y&~e,a!==0&&(n=H(a))))):(y=s&~r,y!==0?n=H(y):u!==0?n=H(u):a||(a=s&~e,a!==0&&(n=H(a)))),n===0?0:t!==0&&t!==n&&(t&r)===0&&(r=n&-n,a=t&-t,r>=a||r===32&&(a&4194048)!==0)?t:n}function ie(e,t){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)===0}function ce(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function me(){var e=Ge;return Ge<<=1,(Ge&62914560)===0&&(Ge=4194304),e}function Ue(e){for(var t=[],a=0;31>a;a++)t.push(e);return t}function Xe(e,t){e.pendingLanes|=t,t!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Ye(e,t,a,s,n,r){var u=e.pendingLanes;e.pendingLanes=a,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=a,e.entangledLanes&=a,e.errorRecoveryDisabledLanes&=a,e.shellSuspendCounter=0;var y=e.entanglements,M=e.expirationTimes,U=e.hiddenUpdates;for(a=u&~a;0<a;){var Z=31-I(a),ee=1<<Z;y[Z]=0,M[Z]=-1;var L=U[Z];if(L!==null)for(U[Z]=null,Z=0;Z<L.length;Z++){var Q=L[Z];Q!==null&&(Q.lane&=-536870913)}a&=~ee}s!==0&&oa(e,s,0),r!==0&&n===0&&e.tag!==0&&(e.suspendedLanes|=r&~(u&~t))}function oa(e,t,a){e.pendingLanes|=t,e.suspendedLanes&=~t;var s=31-I(t);e.entangledLanes|=t,e.entanglements[s]=e.entanglements[s]|1073741824|a&261930}function Te(e,t){var a=e.entangledLanes|=t;for(e=e.entanglements;a;){var s=31-I(a),n=1<<s;n&t|e[s]&t&&(e[s]|=t),a&=~n}}function Fe(e,t){var a=t&-t;return a=(a&42)!==0?1:$e(a),(a&(e.suspendedLanes|t))!==0?0:a}function $e(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function mt(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function Bt(){var e=P.p;return e!==0?e:(e=window.event,e===void 0?32:i0(e.type))}function Us(e,t){var a=P.p;try{return P.p=e,t()}finally{P.p=a}}var za=Math.random().toString(36).slice(2),He="__reactFiber$"+za,pt="__reactProps$"+za,vt="__reactContainer$"+za,Rt="__reactEvents$"+za,Yt="__reactListeners$"+za,Lt="__reactHandles$"+za,ea="__reactResources$"+za,Mt="__reactMarker$"+za;function Hs(e){delete e[He],delete e[pt],delete e[Rt],delete e[Yt],delete e[Lt]}function Da(e){var t=e[He];if(t)return t;for(var a=e.parentNode;a;){if(t=a[vt]||a[He]){if(a=t.alternate,t.child!==null||a!==null&&a.child!==null)for(e=Qm(e);e!==null;){if(a=e[He])return a;e=Qm(e)}return t}e=a,a=e.parentNode}return null}function ll(e){if(e=e[He]||e[vt]){var t=e.tag;if(t===5||t===6||t===13||t===31||t===26||t===27||t===3)return e}return null}function sl(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e.stateNode;throw Error(c(33))}function _a(e){var t=e[ea];return t||(t=e[ea]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function ft(e){e[Mt]=!0}var va=new Set,Na={};function Xt(e,t){es(e,t),es(e+"Capture",t)}function es(e,t){for(Na[e]=t,e=0;e<t.length;e++)va.add(t[e])}var lf=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Mo={},Eo={};function sf(e){return X.call(Eo,e)?!0:X.call(Mo,e)?!1:lf.test(e)?Eo[e]=!0:(Mo[e]=!0,!1)}function kn(e,t,a){if(sf(t))if(a===null)e.removeAttribute(t);else{switch(typeof a){case"undefined":case"function":case"symbol":e.removeAttribute(t);return;case"boolean":var s=t.toLowerCase().slice(0,5);if(s!=="data-"&&s!=="aria-"){e.removeAttribute(t);return}}e.setAttribute(t,""+a)}}function zn(e,t,a){if(a===null)e.removeAttribute(t);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(t);return}e.setAttribute(t,""+a)}}function qa(e,t,a,s){if(s===null)e.removeAttribute(a);else{switch(typeof s){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(a);return}e.setAttributeNS(t,a,""+s)}}function ua(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Ao(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function nf(e,t,a){var s=Object.getOwnPropertyDescriptor(e.constructor.prototype,t);if(!e.hasOwnProperty(t)&&typeof s<"u"&&typeof s.get=="function"&&typeof s.set=="function"){var n=s.get,r=s.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return n.call(this)},set:function(u){a=""+u,r.call(this,u)}}),Object.defineProperty(e,t,{enumerable:s.enumerable}),{getValue:function(){return a},setValue:function(u){a=""+u},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Zi(e){if(!e._valueTracker){var t=Ao(e)?"checked":"value";e._valueTracker=nf(e,t,""+e[t])}}function Bo(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var a=t.getValue(),s="";return e&&(s=Ao(e)?e.checked?"true":"false":e.value),e=s,e!==a?(t.setValue(e),!0):!1}function Dn(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var rf=/[\n"\\]/g;function da(e){return e.replace(rf,function(t){return"\\"+t.charCodeAt(0).toString(16)+" "})}function $i(e,t,a,s,n,r,u,y){e.name="",u!=null&&typeof u!="function"&&typeof u!="symbol"&&typeof u!="boolean"?e.type=u:e.removeAttribute("type"),t!=null?u==="number"?(t===0&&e.value===""||e.value!=t)&&(e.value=""+ua(t)):e.value!==""+ua(t)&&(e.value=""+ua(t)):u!=="submit"&&u!=="reset"||e.removeAttribute("value"),t!=null?Pi(e,u,ua(t)):a!=null?Pi(e,u,ua(a)):s!=null&&e.removeAttribute("value"),n==null&&r!=null&&(e.defaultChecked=!!r),n!=null&&(e.checked=n&&typeof n!="function"&&typeof n!="symbol"),y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"?e.name=""+ua(y):e.removeAttribute("name")}function Ro(e,t,a,s,n,r,u,y){if(r!=null&&typeof r!="function"&&typeof r!="symbol"&&typeof r!="boolean"&&(e.type=r),t!=null||a!=null){if(!(r!=="submit"&&r!=="reset"||t!=null)){Zi(e);return}a=a!=null?""+ua(a):"",t=t!=null?""+ua(t):a,y||t===e.value||(e.value=t),e.defaultValue=t}s=s??n,s=typeof s!="function"&&typeof s!="symbol"&&!!s,e.checked=y?e.checked:!!s,e.defaultChecked=!!s,u!=null&&typeof u!="function"&&typeof u!="symbol"&&typeof u!="boolean"&&(e.name=u),Zi(e)}function Pi(e,t,a){t==="number"&&Dn(e.ownerDocument)===e||e.defaultValue===""+a||(e.defaultValue=""+a)}function ts(e,t,a,s){if(e=e.options,t){t={};for(var n=0;n<a.length;n++)t["$"+a[n]]=!0;for(a=0;a<e.length;a++)n=t.hasOwnProperty("$"+e[a].value),e[a].selected!==n&&(e[a].selected=n),n&&s&&(e[a].defaultSelected=!0)}else{for(a=""+ua(a),t=null,n=0;n<e.length;n++){if(e[n].value===a){e[n].selected=!0,s&&(e[n].defaultSelected=!0);return}t!==null||e[n].disabled||(t=e[n])}t!==null&&(t.selected=!0)}}function Co(e,t,a){if(t!=null&&(t=""+ua(t),t!==e.value&&(e.value=t),a==null)){e.defaultValue!==t&&(e.defaultValue=t);return}e.defaultValue=a!=null?""+ua(a):""}function Oo(e,t,a,s){if(t==null){if(s!=null){if(a!=null)throw Error(c(92));if(se(s)){if(1<s.length)throw Error(c(93));s=s[0]}a=s}a==null&&(a=""),t=a}a=ua(t),e.defaultValue=a,s=e.textContent,s===a&&s!==""&&s!==null&&(e.value=s),Zi(e)}function as(e,t){if(t){var a=e.firstChild;if(a&&a===e.lastChild&&a.nodeType===3){a.nodeValue=t;return}}e.textContent=t}var cf=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function ko(e,t,a){var s=t.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?s?e.setProperty(t,""):t==="float"?e.cssFloat="":e[t]="":s?e.setProperty(t,a):typeof a!="number"||a===0||cf.has(t)?t==="float"?e.cssFloat=a:e[t]=(""+a).trim():e[t]=a+"px"}function zo(e,t,a){if(t!=null&&typeof t!="object")throw Error(c(62));if(e=e.style,a!=null){for(var s in a)!a.hasOwnProperty(s)||t!=null&&t.hasOwnProperty(s)||(s.indexOf("--")===0?e.setProperty(s,""):s==="float"?e.cssFloat="":e[s]="");for(var n in t)s=t[n],t.hasOwnProperty(n)&&a[n]!==s&&ko(e,n,s)}else for(var r in t)t.hasOwnProperty(r)&&ko(e,r,t[r])}function Ii(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var of=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),uf=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function _n(e){return uf.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function Ua(){}var Fi=null;function Ki(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var ls=null,ss=null;function Do(e){var t=ll(e);if(t&&(e=t.stateNode)){var a=e[pt]||null;e:switch(e=t.stateNode,t.type){case"input":if($i(e,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),t=a.name,a.type==="radio"&&t!=null){for(a=e;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+da(""+t)+'"][type="radio"]'),t=0;t<a.length;t++){var s=a[t];if(s!==e&&s.form===e.form){var n=s[pt]||null;if(!n)throw Error(c(90));$i(s,n.value,n.defaultValue,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name)}}for(t=0;t<a.length;t++)s=a[t],s.form===e.form&&Bo(s)}break e;case"textarea":Co(e,a.value,a.defaultValue);break e;case"select":t=a.value,t!=null&&ts(e,!!a.multiple,t,!1)}}}var Ji=!1;function _o(e,t,a){if(Ji)return e(t,a);Ji=!0;try{var s=e(t);return s}finally{if(Ji=!1,(ls!==null||ss!==null)&&(Si(),ls&&(t=ls,e=ss,ss=ls=null,Do(t),e)))for(t=0;t<e.length;t++)Do(e[t])}}function Ls(e,t){var a=e.stateNode;if(a===null)return null;var s=a[pt]||null;if(s===null)return null;a=s[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(s=!s.disabled)||(e=e.type,s=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!s;break e;default:e=!1}if(e)return null;if(a&&typeof a!="function")throw Error(c(231,t,typeof a));return a}var Ha=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Wi=!1;if(Ha)try{var Gs={};Object.defineProperty(Gs,"passive",{get:function(){Wi=!0}}),window.addEventListener("test",Gs,Gs),window.removeEventListener("test",Gs,Gs)}catch{Wi=!1}var nl=null,er=null,qn=null;function qo(){if(qn)return qn;var e,t=er,a=t.length,s,n="value"in nl?nl.value:nl.textContent,r=n.length;for(e=0;e<a&&t[e]===n[e];e++);var u=a-e;for(s=1;s<=u&&t[a-s]===n[r-s];s++);return qn=n.slice(e,1<s?1-s:void 0)}function Un(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Hn(){return!0}function Uo(){return!1}function $t(e){function t(a,s,n,r,u){this._reactName=a,this._targetInst=n,this.type=s,this.nativeEvent=r,this.target=u,this.currentTarget=null;for(var y in e)e.hasOwnProperty(y)&&(a=e[y],this[y]=a?a(r):r[y]);return this.isDefaultPrevented=(r.defaultPrevented!=null?r.defaultPrevented:r.returnValue===!1)?Hn:Uo,this.isPropagationStopped=Uo,this}return p(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Hn)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Hn)},persist:function(){},isPersistent:Hn}),t}var Bl={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ln=$t(Bl),Ys=p({},Bl,{view:0,detail:0}),df=$t(Ys),tr,ar,Xs,Gn=p({},Ys,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:sr,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Xs&&(Xs&&e.type==="mousemove"?(tr=e.screenX-Xs.screenX,ar=e.screenY-Xs.screenY):ar=tr=0,Xs=e),tr)},movementY:function(e){return"movementY"in e?e.movementY:ar}}),Ho=$t(Gn),mf=p({},Gn,{dataTransfer:0}),ff=$t(mf),hf=p({},Ys,{relatedTarget:0}),lr=$t(hf),gf=p({},Bl,{animationName:0,elapsedTime:0,pseudoElement:0}),xf=$t(gf),bf=p({},Bl,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),yf=$t(bf),pf=p({},Bl,{data:0}),Lo=$t(pf),vf={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Nf={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},jf={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Sf(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=jf[e])?!!t[e]:!1}function sr(){return Sf}var wf=p({},Ys,{key:function(e){if(e.key){var t=vf[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Un(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Nf[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:sr,charCode:function(e){return e.type==="keypress"?Un(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Un(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Tf=$t(wf),Mf=p({},Gn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Go=$t(Mf),Ef=p({},Ys,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:sr}),Af=$t(Ef),Bf=p({},Bl,{propertyName:0,elapsedTime:0,pseudoElement:0}),Rf=$t(Bf),Cf=p({},Gn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Of=$t(Cf),kf=p({},Bl,{newState:0,oldState:0}),zf=$t(kf),Df=[9,13,27,32],nr=Ha&&"CompositionEvent"in window,Qs=null;Ha&&"documentMode"in document&&(Qs=document.documentMode);var _f=Ha&&"TextEvent"in window&&!Qs,Yo=Ha&&(!nr||Qs&&8<Qs&&11>=Qs),Xo=" ",Qo=!1;function Vo(e,t){switch(e){case"keyup":return Df.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Zo(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var ns=!1;function qf(e,t){switch(e){case"compositionend":return Zo(t);case"keypress":return t.which!==32?null:(Qo=!0,Xo);case"textInput":return e=t.data,e===Xo&&Qo?null:e;default:return null}}function Uf(e,t){if(ns)return e==="compositionend"||!nr&&Vo(e,t)?(e=qo(),qn=er=nl=null,ns=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Yo&&t.locale!=="ko"?null:t.data;default:return null}}var Hf={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function $o(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!Hf[e.type]:t==="textarea"}function Po(e,t,a,s){ls?ss?ss.push(s):ss=[s]:ls=s,t=Ri(t,"onChange"),0<t.length&&(a=new Ln("onChange","change",null,a,s),e.push({event:a,listeners:t}))}var Vs=null,Zs=null;function Lf(e){Rm(e,0)}function Yn(e){var t=sl(e);if(Bo(t))return e}function Io(e,t){if(e==="change")return t}var Fo=!1;if(Ha){var ir;if(Ha){var rr="oninput"in document;if(!rr){var Ko=document.createElement("div");Ko.setAttribute("oninput","return;"),rr=typeof Ko.oninput=="function"}ir=rr}else ir=!1;Fo=ir&&(!document.documentMode||9<document.documentMode)}function Jo(){Vs&&(Vs.detachEvent("onpropertychange",Wo),Zs=Vs=null)}function Wo(e){if(e.propertyName==="value"&&Yn(Zs)){var t=[];Po(t,Zs,e,Ki(e)),_o(Lf,t)}}function Gf(e,t,a){e==="focusin"?(Jo(),Vs=t,Zs=a,Vs.attachEvent("onpropertychange",Wo)):e==="focusout"&&Jo()}function Yf(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Yn(Zs)}function Xf(e,t){if(e==="click")return Yn(t)}function Qf(e,t){if(e==="input"||e==="change")return Yn(t)}function Vf(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var ta=typeof Object.is=="function"?Object.is:Vf;function $s(e,t){if(ta(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var a=Object.keys(e),s=Object.keys(t);if(a.length!==s.length)return!1;for(s=0;s<a.length;s++){var n=a[s];if(!X.call(t,n)||!ta(e[n],t[n]))return!1}return!0}function eu(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function tu(e,t){var a=eu(e);e=0;for(var s;a;){if(a.nodeType===3){if(s=e+a.textContent.length,e<=t&&s>=t)return{node:a,offset:t-e};e=s}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=eu(a)}}function au(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?au(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function lu(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var t=Dn(e.document);t instanceof e.HTMLIFrameElement;){try{var a=typeof t.contentWindow.location.href=="string"}catch{a=!1}if(a)e=t.contentWindow;else break;t=Dn(e.document)}return t}function cr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}var Zf=Ha&&"documentMode"in document&&11>=document.documentMode,is=null,or=null,Ps=null,ur=!1;function su(e,t,a){var s=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;ur||is==null||is!==Dn(s)||(s=is,"selectionStart"in s&&cr(s)?s={start:s.selectionStart,end:s.selectionEnd}:(s=(s.ownerDocument&&s.ownerDocument.defaultView||window).getSelection(),s={anchorNode:s.anchorNode,anchorOffset:s.anchorOffset,focusNode:s.focusNode,focusOffset:s.focusOffset}),Ps&&$s(Ps,s)||(Ps=s,s=Ri(or,"onSelect"),0<s.length&&(t=new Ln("onSelect","select",null,t,a),e.push({event:t,listeners:s}),t.target=is)))}function Rl(e,t){var a={};return a[e.toLowerCase()]=t.toLowerCase(),a["Webkit"+e]="webkit"+t,a["Moz"+e]="moz"+t,a}var rs={animationend:Rl("Animation","AnimationEnd"),animationiteration:Rl("Animation","AnimationIteration"),animationstart:Rl("Animation","AnimationStart"),transitionrun:Rl("Transition","TransitionRun"),transitionstart:Rl("Transition","TransitionStart"),transitioncancel:Rl("Transition","TransitionCancel"),transitionend:Rl("Transition","TransitionEnd")},dr={},nu={};Ha&&(nu=document.createElement("div").style,"AnimationEvent"in window||(delete rs.animationend.animation,delete rs.animationiteration.animation,delete rs.animationstart.animation),"TransitionEvent"in window||delete rs.transitionend.transition);function Cl(e){if(dr[e])return dr[e];if(!rs[e])return e;var t=rs[e],a;for(a in t)if(t.hasOwnProperty(a)&&a in nu)return dr[e]=t[a];return e}var iu=Cl("animationend"),ru=Cl("animationiteration"),cu=Cl("animationstart"),$f=Cl("transitionrun"),Pf=Cl("transitionstart"),If=Cl("transitioncancel"),ou=Cl("transitionend"),uu=new Map,mr="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");mr.push("scrollEnd");function ja(e,t){uu.set(e,t),Xt(t,[e])}var Xn=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},ma=[],cs=0,fr=0;function Qn(){for(var e=cs,t=fr=cs=0;t<e;){var a=ma[t];ma[t++]=null;var s=ma[t];ma[t++]=null;var n=ma[t];ma[t++]=null;var r=ma[t];if(ma[t++]=null,s!==null&&n!==null){var u=s.pending;u===null?n.next=n:(n.next=u.next,u.next=n),s.pending=n}r!==0&&du(a,n,r)}}function Vn(e,t,a,s){ma[cs++]=e,ma[cs++]=t,ma[cs++]=a,ma[cs++]=s,fr|=s,e.lanes|=s,e=e.alternate,e!==null&&(e.lanes|=s)}function hr(e,t,a,s){return Vn(e,t,a,s),Zn(e)}function Ol(e,t){return Vn(e,null,null,t),Zn(e)}function du(e,t,a){e.lanes|=a;var s=e.alternate;s!==null&&(s.lanes|=a);for(var n=!1,r=e.return;r!==null;)r.childLanes|=a,s=r.alternate,s!==null&&(s.childLanes|=a),r.tag===22&&(e=r.stateNode,e===null||e._visibility&1||(n=!0)),e=r,r=r.return;return e.tag===3?(r=e.stateNode,n&&t!==null&&(n=31-I(a),e=r.hiddenUpdates,s=e[n],s===null?e[n]=[t]:s.push(t),t.lane=a|536870912),r):null}function Zn(e){if(50<bn)throw bn=0,Sc=null,Error(c(185));for(var t=e.return;t!==null;)e=t,t=e.return;return e.tag===3?e.stateNode:null}var os={};function Ff(e,t,a,s){this.tag=e,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=s,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function aa(e,t,a,s){return new Ff(e,t,a,s)}function gr(e){return e=e.prototype,!(!e||!e.isReactComponent)}function La(e,t){var a=e.alternate;return a===null?(a=aa(e.tag,t,e.key,e.mode),a.elementType=e.elementType,a.type=e.type,a.stateNode=e.stateNode,a.alternate=e,e.alternate=a):(a.pendingProps=t,a.type=e.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=e.flags&65011712,a.childLanes=e.childLanes,a.lanes=e.lanes,a.child=e.child,a.memoizedProps=e.memoizedProps,a.memoizedState=e.memoizedState,a.updateQueue=e.updateQueue,t=e.dependencies,a.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},a.sibling=e.sibling,a.index=e.index,a.ref=e.ref,a.refCleanup=e.refCleanup,a}function mu(e,t){e.flags&=65011714;var a=e.alternate;return a===null?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=a.childLanes,e.lanes=a.lanes,e.child=a.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=a.memoizedProps,e.memoizedState=a.memoizedState,e.updateQueue=a.updateQueue,e.type=a.type,t=a.dependencies,e.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function $n(e,t,a,s,n,r){var u=0;if(s=e,typeof e=="function")gr(e)&&(u=1);else if(typeof e=="string")u=tg(e,a,re.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case ue:return e=aa(31,a,t,n),e.elementType=ue,e.lanes=r,e;case N:return kl(a.children,n,r,t);case S:u=8,n|=24;break;case E:return e=aa(12,a,t,n|2),e.elementType=E,e.lanes=r,e;case _:return e=aa(13,a,t,n),e.elementType=_,e.lanes=r,e;case ne:return e=aa(19,a,t,n),e.elementType=ne,e.lanes=r,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case O:u=10;break e;case k:u=9;break e;case W:u=11;break e;case B:u=14;break e;case G:u=16,s=null;break e}u=29,a=Error(c(130,e===null?"null":typeof e,"")),s=null}return t=aa(u,a,t,n),t.elementType=e,t.type=s,t.lanes=r,t}function kl(e,t,a,s){return e=aa(7,e,s,t),e.lanes=a,e}function xr(e,t,a){return e=aa(6,e,null,t),e.lanes=a,e}function fu(e){var t=aa(18,null,null,0);return t.stateNode=e,t}function br(e,t,a){return t=aa(4,e.children!==null?e.children:[],e.key,t),t.lanes=a,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var hu=new WeakMap;function fa(e,t){if(typeof e=="object"&&e!==null){var a=hu.get(e);return a!==void 0?a:(t={value:e,source:t,stack:We(t)},hu.set(e,t),t)}return{value:e,source:t,stack:We(t)}}var us=[],ds=0,Pn=null,Is=0,ha=[],ga=0,il=null,Ea=1,Aa="";function Ga(e,t){us[ds++]=Is,us[ds++]=Pn,Pn=e,Is=t}function gu(e,t,a){ha[ga++]=Ea,ha[ga++]=Aa,ha[ga++]=il,il=e;var s=Ea;e=Aa;var n=32-I(s)-1;s&=~(1<<n),a+=1;var r=32-I(t)+n;if(30<r){var u=n-n%5;r=(s&(1<<u)-1).toString(32),s>>=u,n-=u,Ea=1<<32-I(t)+n|a<<n|s,Aa=r+e}else Ea=1<<r|a<<n|s,Aa=e}function yr(e){e.return!==null&&(Ga(e,1),gu(e,1,0))}function pr(e){for(;e===Pn;)Pn=us[--ds],us[ds]=null,Is=us[--ds],us[ds]=null;for(;e===il;)il=ha[--ga],ha[ga]=null,Aa=ha[--ga],ha[ga]=null,Ea=ha[--ga],ha[ga]=null}function xu(e,t){ha[ga++]=Ea,ha[ga++]=Aa,ha[ga++]=il,Ea=t.id,Aa=t.overflow,il=e}var Ct=null,nt=null,Le=!1,rl=null,xa=!1,vr=Error(c(519));function cl(e){var t=Error(c(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Fs(fa(t,e)),vr}function bu(e){var t=e.stateNode,a=e.type,s=e.memoizedProps;switch(t[He]=e,t[pt]=s,a){case"dialog":ze("cancel",t),ze("close",t);break;case"iframe":case"object":case"embed":ze("load",t);break;case"video":case"audio":for(a=0;a<pn.length;a++)ze(pn[a],t);break;case"source":ze("error",t);break;case"img":case"image":case"link":ze("error",t),ze("load",t);break;case"details":ze("toggle",t);break;case"input":ze("invalid",t),Ro(t,s.value,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name,!0);break;case"select":ze("invalid",t);break;case"textarea":ze("invalid",t),Oo(t,s.value,s.defaultValue,s.children)}a=s.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||t.textContent===""+a||s.suppressHydrationWarning===!0||zm(t.textContent,a)?(s.popover!=null&&(ze("beforetoggle",t),ze("toggle",t)),s.onScroll!=null&&ze("scroll",t),s.onScrollEnd!=null&&ze("scrollend",t),s.onClick!=null&&(t.onclick=Ua),t=!0):t=!1,t||cl(e,!0)}function yu(e){for(Ct=e.return;Ct;)switch(Ct.tag){case 5:case 31:case 13:xa=!1;return;case 27:case 3:xa=!0;return;default:Ct=Ct.return}}function ms(e){if(e!==Ct)return!1;if(!Le)return yu(e),Le=!0,!1;var t=e.tag,a;if((a=t!==3&&t!==27)&&((a=t===5)&&(a=e.type,a=!(a!=="form"&&a!=="button")||Uc(e.type,e.memoizedProps)),a=!a),a&&nt&&cl(e),yu(e),t===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(c(317));nt=Xm(e)}else if(t===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(c(317));nt=Xm(e)}else t===27?(t=nt,jl(e.type)?(e=Xc,Xc=null,nt=e):nt=t):nt=Ct?ya(e.stateNode.nextSibling):null;return!0}function zl(){nt=Ct=null,Le=!1}function Nr(){var e=rl;return e!==null&&(Kt===null?Kt=e:Kt.push.apply(Kt,e),rl=null),e}function Fs(e){rl===null?rl=[e]:rl.push(e)}var jr=A(null),Dl=null,Ya=null;function ol(e,t,a){de(jr,t._currentValue),t._currentValue=a}function Xa(e){e._currentValue=jr.current,F(jr)}function Sr(e,t,a){for(;e!==null;){var s=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,s!==null&&(s.childLanes|=t)):s!==null&&(s.childLanes&t)!==t&&(s.childLanes|=t),e===a)break;e=e.return}}function wr(e,t,a,s){var n=e.child;for(n!==null&&(n.return=e);n!==null;){var r=n.dependencies;if(r!==null){var u=n.child;r=r.firstContext;e:for(;r!==null;){var y=r;r=n;for(var M=0;M<t.length;M++)if(y.context===t[M]){r.lanes|=a,y=r.alternate,y!==null&&(y.lanes|=a),Sr(r.return,a,e),s||(u=null);break e}r=y.next}}else if(n.tag===18){if(u=n.return,u===null)throw Error(c(341));u.lanes|=a,r=u.alternate,r!==null&&(r.lanes|=a),Sr(u,a,e),u=null}else u=n.child;if(u!==null)u.return=n;else for(u=n;u!==null;){if(u===e){u=null;break}if(n=u.sibling,n!==null){n.return=u.return,u=n;break}u=u.return}n=u}}function fs(e,t,a,s){e=null;for(var n=t,r=!1;n!==null;){if(!r){if((n.flags&524288)!==0)r=!0;else if((n.flags&262144)!==0)break}if(n.tag===10){var u=n.alternate;if(u===null)throw Error(c(387));if(u=u.memoizedProps,u!==null){var y=n.type;ta(n.pendingProps.value,u.value)||(e!==null?e.push(y):e=[y])}}else if(n===ye.current){if(u=n.alternate,u===null)throw Error(c(387));u.memoizedState.memoizedState!==n.memoizedState.memoizedState&&(e!==null?e.push(wn):e=[wn])}n=n.return}e!==null&&wr(t,e,a,s),t.flags|=262144}function In(e){for(e=e.firstContext;e!==null;){if(!ta(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function _l(e){Dl=e,Ya=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function Ot(e){return pu(Dl,e)}function Fn(e,t){return Dl===null&&_l(e),pu(e,t)}function pu(e,t){var a=t._currentValue;if(t={context:t,memoizedValue:a,next:null},Ya===null){if(e===null)throw Error(c(308));Ya=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else Ya=Ya.next=t;return a}var Kf=typeof AbortController<"u"?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(a,s){e.push(s)}};this.abort=function(){t.aborted=!0,e.forEach(function(a){return a()})}},Jf=i.unstable_scheduleCallback,Wf=i.unstable_NormalPriority,Nt={$$typeof:O,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Tr(){return{controller:new Kf,data:new Map,refCount:0}}function Ks(e){e.refCount--,e.refCount===0&&Jf(Wf,function(){e.controller.abort()})}var Js=null,Mr=0,hs=0,gs=null;function eh(e,t){if(Js===null){var a=Js=[];Mr=0,hs=Bc(),gs={status:"pending",value:void 0,then:function(s){a.push(s)}}}return Mr++,t.then(vu,vu),t}function vu(){if(--Mr===0&&Js!==null){gs!==null&&(gs.status="fulfilled");var e=Js;Js=null,hs=0,gs=null;for(var t=0;t<e.length;t++)(0,e[t])()}}function th(e,t){var a=[],s={status:"pending",value:null,reason:null,then:function(n){a.push(n)}};return e.then(function(){s.status="fulfilled",s.value=t;for(var n=0;n<a.length;n++)(0,a[n])(t)},function(n){for(s.status="rejected",s.reason=n,n=0;n<a.length;n++)(0,a[n])(void 0)}),s}var Nu=z.S;z.S=function(e,t){sm=Oe(),typeof t=="object"&&t!==null&&typeof t.then=="function"&&eh(e,t),Nu!==null&&Nu(e,t)};var ql=A(null);function Er(){var e=ql.current;return e!==null?e:st.pooledCache}function Kn(e,t){t===null?de(ql,ql.current):de(ql,t.pool)}function ju(){var e=Er();return e===null?null:{parent:Nt._currentValue,pool:e}}var xs=Error(c(460)),Ar=Error(c(474)),Jn=Error(c(542)),Wn={then:function(){}};function Su(e){return e=e.status,e==="fulfilled"||e==="rejected"}function wu(e,t,a){switch(a=e[a],a===void 0?e.push(t):a!==t&&(t.then(Ua,Ua),t=a),t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,Mu(e),e;default:if(typeof t.status=="string")t.then(Ua,Ua);else{if(e=st,e!==null&&100<e.shellSuspendCounter)throw Error(c(482));e=t,e.status="pending",e.then(function(s){if(t.status==="pending"){var n=t;n.status="fulfilled",n.value=s}},function(s){if(t.status==="pending"){var n=t;n.status="rejected",n.reason=s}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,Mu(e),e}throw Hl=t,xs}}function Ul(e){try{var t=e._init;return t(e._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(Hl=a,xs):a}}var Hl=null;function Tu(){if(Hl===null)throw Error(c(459));var e=Hl;return Hl=null,e}function Mu(e){if(e===xs||e===Jn)throw Error(c(483))}var bs=null,Ws=0;function ei(e){var t=Ws;return Ws+=1,bs===null&&(bs=[]),wu(bs,e,t)}function en(e,t){t=t.props.ref,e.ref=t!==void 0?t:null}function ti(e,t){throw t.$$typeof===T?Error(c(525)):(e=Object.prototype.toString.call(t),Error(c(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)))}function Eu(e){function t(D,R){if(e){var q=D.deletions;q===null?(D.deletions=[R],D.flags|=16):q.push(R)}}function a(D,R){if(!e)return null;for(;R!==null;)t(D,R),R=R.sibling;return null}function s(D){for(var R=new Map;D!==null;)D.key!==null?R.set(D.key,D):R.set(D.index,D),D=D.sibling;return R}function n(D,R){return D=La(D,R),D.index=0,D.sibling=null,D}function r(D,R,q){return D.index=q,e?(q=D.alternate,q!==null?(q=q.index,q<R?(D.flags|=67108866,R):q):(D.flags|=67108866,R)):(D.flags|=1048576,R)}function u(D){return e&&D.alternate===null&&(D.flags|=67108866),D}function y(D,R,q,K){return R===null||R.tag!==6?(R=xr(q,D.mode,K),R.return=D,R):(R=n(R,q),R.return=D,R)}function M(D,R,q,K){var je=q.type;return je===N?Z(D,R,q.props.children,K,q.key):R!==null&&(R.elementType===je||typeof je=="object"&&je!==null&&je.$$typeof===G&&Ul(je)===R.type)?(R=n(R,q.props),en(R,q),R.return=D,R):(R=$n(q.type,q.key,q.props,null,D.mode,K),en(R,q),R.return=D,R)}function U(D,R,q,K){return R===null||R.tag!==4||R.stateNode.containerInfo!==q.containerInfo||R.stateNode.implementation!==q.implementation?(R=br(q,D.mode,K),R.return=D,R):(R=n(R,q.children||[]),R.return=D,R)}function Z(D,R,q,K,je){return R===null||R.tag!==7?(R=kl(q,D.mode,K,je),R.return=D,R):(R=n(R,q),R.return=D,R)}function ee(D,R,q){if(typeof R=="string"&&R!==""||typeof R=="number"||typeof R=="bigint")return R=xr(""+R,D.mode,q),R.return=D,R;if(typeof R=="object"&&R!==null){switch(R.$$typeof){case w:return q=$n(R.type,R.key,R.props,null,D.mode,q),en(q,R),q.return=D,q;case j:return R=br(R,D.mode,q),R.return=D,R;case G:return R=Ul(R),ee(D,R,q)}if(se(R)||J(R))return R=kl(R,D.mode,q,null),R.return=D,R;if(typeof R.then=="function")return ee(D,ei(R),q);if(R.$$typeof===O)return ee(D,Fn(D,R),q);ti(D,R)}return null}function L(D,R,q,K){var je=R!==null?R.key:null;if(typeof q=="string"&&q!==""||typeof q=="number"||typeof q=="bigint")return je!==null?null:y(D,R,""+q,K);if(typeof q=="object"&&q!==null){switch(q.$$typeof){case w:return q.key===je?M(D,R,q,K):null;case j:return q.key===je?U(D,R,q,K):null;case G:return q=Ul(q),L(D,R,q,K)}if(se(q)||J(q))return je!==null?null:Z(D,R,q,K,null);if(typeof q.then=="function")return L(D,R,ei(q),K);if(q.$$typeof===O)return L(D,R,Fn(D,q),K);ti(D,q)}return null}function Q(D,R,q,K,je){if(typeof K=="string"&&K!==""||typeof K=="number"||typeof K=="bigint")return D=D.get(q)||null,y(R,D,""+K,je);if(typeof K=="object"&&K!==null){switch(K.$$typeof){case w:return D=D.get(K.key===null?q:K.key)||null,M(R,D,K,je);case j:return D=D.get(K.key===null?q:K.key)||null,U(R,D,K,je);case G:return K=Ul(K),Q(D,R,q,K,je)}if(se(K)||J(K))return D=D.get(q)||null,Z(R,D,K,je,null);if(typeof K.then=="function")return Q(D,R,q,ei(K),je);if(K.$$typeof===O)return Q(D,R,q,Fn(R,K),je);ti(R,K)}return null}function be(D,R,q,K){for(var je=null,Qe=null,pe=R,Re=R=0,_e=null;pe!==null&&Re<q.length;Re++){pe.index>Re?(_e=pe,pe=null):_e=pe.sibling;var Ve=L(D,pe,q[Re],K);if(Ve===null){pe===null&&(pe=_e);break}e&&pe&&Ve.alternate===null&&t(D,pe),R=r(Ve,R,Re),Qe===null?je=Ve:Qe.sibling=Ve,Qe=Ve,pe=_e}if(Re===q.length)return a(D,pe),Le&&Ga(D,Re),je;if(pe===null){for(;Re<q.length;Re++)pe=ee(D,q[Re],K),pe!==null&&(R=r(pe,R,Re),Qe===null?je=pe:Qe.sibling=pe,Qe=pe);return Le&&Ga(D,Re),je}for(pe=s(pe);Re<q.length;Re++)_e=Q(pe,D,Re,q[Re],K),_e!==null&&(e&&_e.alternate!==null&&pe.delete(_e.key===null?Re:_e.key),R=r(_e,R,Re),Qe===null?je=_e:Qe.sibling=_e,Qe=_e);return e&&pe.forEach(function(El){return t(D,El)}),Le&&Ga(D,Re),je}function we(D,R,q,K){if(q==null)throw Error(c(151));for(var je=null,Qe=null,pe=R,Re=R=0,_e=null,Ve=q.next();pe!==null&&!Ve.done;Re++,Ve=q.next()){pe.index>Re?(_e=pe,pe=null):_e=pe.sibling;var El=L(D,pe,Ve.value,K);if(El===null){pe===null&&(pe=_e);break}e&&pe&&El.alternate===null&&t(D,pe),R=r(El,R,Re),Qe===null?je=El:Qe.sibling=El,Qe=El,pe=_e}if(Ve.done)return a(D,pe),Le&&Ga(D,Re),je;if(pe===null){for(;!Ve.done;Re++,Ve=q.next())Ve=ee(D,Ve.value,K),Ve!==null&&(R=r(Ve,R,Re),Qe===null?je=Ve:Qe.sibling=Ve,Qe=Ve);return Le&&Ga(D,Re),je}for(pe=s(pe);!Ve.done;Re++,Ve=q.next())Ve=Q(pe,D,Re,Ve.value,K),Ve!==null&&(e&&Ve.alternate!==null&&pe.delete(Ve.key===null?Re:Ve.key),R=r(Ve,R,Re),Qe===null?je=Ve:Qe.sibling=Ve,Qe=Ve);return e&&pe.forEach(function(mg){return t(D,mg)}),Le&&Ga(D,Re),je}function at(D,R,q,K){if(typeof q=="object"&&q!==null&&q.type===N&&q.key===null&&(q=q.props.children),typeof q=="object"&&q!==null){switch(q.$$typeof){case w:e:{for(var je=q.key;R!==null;){if(R.key===je){if(je=q.type,je===N){if(R.tag===7){a(D,R.sibling),K=n(R,q.props.children),K.return=D,D=K;break e}}else if(R.elementType===je||typeof je=="object"&&je!==null&&je.$$typeof===G&&Ul(je)===R.type){a(D,R.sibling),K=n(R,q.props),en(K,q),K.return=D,D=K;break e}a(D,R);break}else t(D,R);R=R.sibling}q.type===N?(K=kl(q.props.children,D.mode,K,q.key),K.return=D,D=K):(K=$n(q.type,q.key,q.props,null,D.mode,K),en(K,q),K.return=D,D=K)}return u(D);case j:e:{for(je=q.key;R!==null;){if(R.key===je)if(R.tag===4&&R.stateNode.containerInfo===q.containerInfo&&R.stateNode.implementation===q.implementation){a(D,R.sibling),K=n(R,q.children||[]),K.return=D,D=K;break e}else{a(D,R);break}else t(D,R);R=R.sibling}K=br(q,D.mode,K),K.return=D,D=K}return u(D);case G:return q=Ul(q),at(D,R,q,K)}if(se(q))return be(D,R,q,K);if(J(q)){if(je=J(q),typeof je!="function")throw Error(c(150));return q=je.call(q),we(D,R,q,K)}if(typeof q.then=="function")return at(D,R,ei(q),K);if(q.$$typeof===O)return at(D,R,Fn(D,q),K);ti(D,q)}return typeof q=="string"&&q!==""||typeof q=="number"||typeof q=="bigint"?(q=""+q,R!==null&&R.tag===6?(a(D,R.sibling),K=n(R,q),K.return=D,D=K):(a(D,R),K=xr(q,D.mode,K),K.return=D,D=K),u(D)):a(D,R)}return function(D,R,q,K){try{Ws=0;var je=at(D,R,q,K);return bs=null,je}catch(pe){if(pe===xs||pe===Jn)throw pe;var Qe=aa(29,pe,null,D.mode);return Qe.lanes=K,Qe.return=D,Qe}}}var Ll=Eu(!0),Au=Eu(!1),ul=!1;function Br(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Rr(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function dl(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function ml(e,t,a){var s=e.updateQueue;if(s===null)return null;if(s=s.shared,(Pe&2)!==0){var n=s.pending;return n===null?t.next=t:(t.next=n.next,n.next=t),s.pending=t,t=Zn(e),du(e,null,a),t}return Vn(e,s,t,a),Zn(e)}function tn(e,t,a){if(t=t.updateQueue,t!==null&&(t=t.shared,(a&4194048)!==0)){var s=t.lanes;s&=e.pendingLanes,a|=s,t.lanes=a,Te(e,a)}}function Cr(e,t){var a=e.updateQueue,s=e.alternate;if(s!==null&&(s=s.updateQueue,a===s)){var n=null,r=null;if(a=a.firstBaseUpdate,a!==null){do{var u={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};r===null?n=r=u:r=r.next=u,a=a.next}while(a!==null);r===null?n=r=t:r=r.next=t}else n=r=t;a={baseState:s.baseState,firstBaseUpdate:n,lastBaseUpdate:r,shared:s.shared,callbacks:s.callbacks},e.updateQueue=a;return}e=a.lastBaseUpdate,e===null?a.firstBaseUpdate=t:e.next=t,a.lastBaseUpdate=t}var Or=!1;function an(){if(Or){var e=gs;if(e!==null)throw e}}function ln(e,t,a,s){Or=!1;var n=e.updateQueue;ul=!1;var r=n.firstBaseUpdate,u=n.lastBaseUpdate,y=n.shared.pending;if(y!==null){n.shared.pending=null;var M=y,U=M.next;M.next=null,u===null?r=U:u.next=U,u=M;var Z=e.alternate;Z!==null&&(Z=Z.updateQueue,y=Z.lastBaseUpdate,y!==u&&(y===null?Z.firstBaseUpdate=U:y.next=U,Z.lastBaseUpdate=M))}if(r!==null){var ee=n.baseState;u=0,Z=U=M=null,y=r;do{var L=y.lane&-536870913,Q=L!==y.lane;if(Q?(De&L)===L:(s&L)===L){L!==0&&L===hs&&(Or=!0),Z!==null&&(Z=Z.next={lane:0,tag:y.tag,payload:y.payload,callback:null,next:null});e:{var be=e,we=y;L=t;var at=a;switch(we.tag){case 1:if(be=we.payload,typeof be=="function"){ee=be.call(at,ee,L);break e}ee=be;break e;case 3:be.flags=be.flags&-65537|128;case 0:if(be=we.payload,L=typeof be=="function"?be.call(at,ee,L):be,L==null)break e;ee=p({},ee,L);break e;case 2:ul=!0}}L=y.callback,L!==null&&(e.flags|=64,Q&&(e.flags|=8192),Q=n.callbacks,Q===null?n.callbacks=[L]:Q.push(L))}else Q={lane:L,tag:y.tag,payload:y.payload,callback:y.callback,next:null},Z===null?(U=Z=Q,M=ee):Z=Z.next=Q,u|=L;if(y=y.next,y===null){if(y=n.shared.pending,y===null)break;Q=y,y=Q.next,Q.next=null,n.lastBaseUpdate=Q,n.shared.pending=null}}while(!0);Z===null&&(M=ee),n.baseState=M,n.firstBaseUpdate=U,n.lastBaseUpdate=Z,r===null&&(n.shared.lanes=0),bl|=u,e.lanes=u,e.memoizedState=ee}}function Bu(e,t){if(typeof e!="function")throw Error(c(191,e));e.call(t)}function Ru(e,t){var a=e.callbacks;if(a!==null)for(e.callbacks=null,e=0;e<a.length;e++)Bu(a[e],t)}var ys=A(null),ai=A(0);function Cu(e,t){e=Ja,de(ai,e),de(ys,t),Ja=e|t.baseLanes}function kr(){de(ai,Ja),de(ys,ys.current)}function zr(){Ja=ai.current,F(ys),F(ai)}var la=A(null),ba=null;function fl(e){var t=e.alternate;de(ht,ht.current&1),de(la,e),ba===null&&(t===null||ys.current!==null||t.memoizedState!==null)&&(ba=e)}function Dr(e){de(ht,ht.current),de(la,e),ba===null&&(ba=e)}function Ou(e){e.tag===22?(de(ht,ht.current),de(la,e),ba===null&&(ba=e)):hl()}function hl(){de(ht,ht.current),de(la,la.current)}function sa(e){F(la),ba===e&&(ba=null),F(ht)}var ht=A(0);function li(e){for(var t=e;t!==null;){if(t.tag===13){var a=t.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||Gc(a)||Yc(a)))return t}else if(t.tag===19&&(t.memoizedProps.revealOrder==="forwards"||t.memoizedProps.revealOrder==="backwards"||t.memoizedProps.revealOrder==="unstable_legacy-backwards"||t.memoizedProps.revealOrder==="together")){if((t.flags&128)!==0)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Qa=0,Be=null,et=null,jt=null,si=!1,ps=!1,Gl=!1,ni=0,sn=0,vs=null,ah=0;function ut(){throw Error(c(321))}function _r(e,t){if(t===null)return!1;for(var a=0;a<t.length&&a<e.length;a++)if(!ta(e[a],t[a]))return!1;return!0}function qr(e,t,a,s,n,r){return Qa=r,Be=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,z.H=e===null||e.memoizedState===null?gd:Jr,Gl=!1,r=a(s,n),Gl=!1,ps&&(r=zu(t,a,s,n)),ku(e),r}function ku(e){z.H=cn;var t=et!==null&&et.next!==null;if(Qa=0,jt=et=Be=null,si=!1,sn=0,vs=null,t)throw Error(c(300));e===null||St||(e=e.dependencies,e!==null&&In(e)&&(St=!0))}function zu(e,t,a,s){Be=e;var n=0;do{if(ps&&(vs=null),sn=0,ps=!1,25<=n)throw Error(c(301));if(n+=1,jt=et=null,e.updateQueue!=null){var r=e.updateQueue;r.lastEffect=null,r.events=null,r.stores=null,r.memoCache!=null&&(r.memoCache.index=0)}z.H=xd,r=t(a,s)}while(ps);return r}function lh(){var e=z.H,t=e.useState()[0];return t=typeof t.then=="function"?nn(t):t,e=e.useState()[0],(et!==null?et.memoizedState:null)!==e&&(Be.flags|=1024),t}function Ur(){var e=ni!==0;return ni=0,e}function Hr(e,t,a){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a}function Lr(e){if(si){for(e=e.memoizedState;e!==null;){var t=e.queue;t!==null&&(t.pending=null),e=e.next}si=!1}Qa=0,jt=et=Be=null,ps=!1,sn=ni=0,vs=null}function Qt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return jt===null?Be.memoizedState=jt=e:jt=jt.next=e,jt}function gt(){if(et===null){var e=Be.alternate;e=e!==null?e.memoizedState:null}else e=et.next;var t=jt===null?Be.memoizedState:jt.next;if(t!==null)jt=t,et=e;else{if(e===null)throw Be.alternate===null?Error(c(467)):Error(c(310));et=e,e={memoizedState:et.memoizedState,baseState:et.baseState,baseQueue:et.baseQueue,queue:et.queue,next:null},jt===null?Be.memoizedState=jt=e:jt=jt.next=e}return jt}function ii(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function nn(e){var t=sn;return sn+=1,vs===null&&(vs=[]),e=wu(vs,e,t),t=Be,(jt===null?t.memoizedState:jt.next)===null&&(t=t.alternate,z.H=t===null||t.memoizedState===null?gd:Jr),e}function ri(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return nn(e);if(e.$$typeof===O)return Ot(e)}throw Error(c(438,String(e)))}function Gr(e){var t=null,a=Be.updateQueue;if(a!==null&&(t=a.memoCache),t==null){var s=Be.alternate;s!==null&&(s=s.updateQueue,s!==null&&(s=s.memoCache,s!=null&&(t={data:s.data.map(function(n){return n.slice()}),index:0})))}if(t==null&&(t={data:[],index:0}),a===null&&(a=ii(),Be.updateQueue=a),a.memoCache=t,a=t.data[t.index],a===void 0)for(a=t.data[t.index]=Array(e),s=0;s<e;s++)a[s]=C;return t.index++,a}function Va(e,t){return typeof t=="function"?t(e):t}function ci(e){var t=gt();return Yr(t,et,e)}function Yr(e,t,a){var s=e.queue;if(s===null)throw Error(c(311));s.lastRenderedReducer=a;var n=e.baseQueue,r=s.pending;if(r!==null){if(n!==null){var u=n.next;n.next=r.next,r.next=u}t.baseQueue=n=r,s.pending=null}if(r=e.baseState,n===null)e.memoizedState=r;else{t=n.next;var y=u=null,M=null,U=t,Z=!1;do{var ee=U.lane&-536870913;if(ee!==U.lane?(De&ee)===ee:(Qa&ee)===ee){var L=U.revertLane;if(L===0)M!==null&&(M=M.next={lane:0,revertLane:0,gesture:null,action:U.action,hasEagerState:U.hasEagerState,eagerState:U.eagerState,next:null}),ee===hs&&(Z=!0);else if((Qa&L)===L){U=U.next,L===hs&&(Z=!0);continue}else ee={lane:0,revertLane:U.revertLane,gesture:null,action:U.action,hasEagerState:U.hasEagerState,eagerState:U.eagerState,next:null},M===null?(y=M=ee,u=r):M=M.next=ee,Be.lanes|=L,bl|=L;ee=U.action,Gl&&a(r,ee),r=U.hasEagerState?U.eagerState:a(r,ee)}else L={lane:ee,revertLane:U.revertLane,gesture:U.gesture,action:U.action,hasEagerState:U.hasEagerState,eagerState:U.eagerState,next:null},M===null?(y=M=L,u=r):M=M.next=L,Be.lanes|=ee,bl|=ee;U=U.next}while(U!==null&&U!==t);if(M===null?u=r:M.next=y,!ta(r,e.memoizedState)&&(St=!0,Z&&(a=gs,a!==null)))throw a;e.memoizedState=r,e.baseState=u,e.baseQueue=M,s.lastRenderedState=r}return n===null&&(s.lanes=0),[e.memoizedState,s.dispatch]}function Xr(e){var t=gt(),a=t.queue;if(a===null)throw Error(c(311));a.lastRenderedReducer=e;var s=a.dispatch,n=a.pending,r=t.memoizedState;if(n!==null){a.pending=null;var u=n=n.next;do r=e(r,u.action),u=u.next;while(u!==n);ta(r,t.memoizedState)||(St=!0),t.memoizedState=r,t.baseQueue===null&&(t.baseState=r),a.lastRenderedState=r}return[r,s]}function Du(e,t,a){var s=Be,n=gt(),r=Le;if(r){if(a===void 0)throw Error(c(407));a=a()}else a=t();var u=!ta((et||n).memoizedState,a);if(u&&(n.memoizedState=a,St=!0),n=n.queue,Zr(Uu.bind(null,s,n,e),[e]),n.getSnapshot!==t||u||jt!==null&&jt.memoizedState.tag&1){if(s.flags|=2048,Ns(9,{destroy:void 0},qu.bind(null,s,n,a,t),null),st===null)throw Error(c(349));r||(Qa&127)!==0||_u(s,t,a)}return a}function _u(e,t,a){e.flags|=16384,e={getSnapshot:t,value:a},t=Be.updateQueue,t===null?(t=ii(),Be.updateQueue=t,t.stores=[e]):(a=t.stores,a===null?t.stores=[e]:a.push(e))}function qu(e,t,a,s){t.value=a,t.getSnapshot=s,Hu(t)&&Lu(e)}function Uu(e,t,a){return a(function(){Hu(t)&&Lu(e)})}function Hu(e){var t=e.getSnapshot;e=e.value;try{var a=t();return!ta(e,a)}catch{return!0}}function Lu(e){var t=Ol(e,2);t!==null&&Jt(t,e,2)}function Qr(e){var t=Qt();if(typeof e=="function"){var a=e;if(e=a(),Gl){Gt(!0);try{a()}finally{Gt(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Va,lastRenderedState:e},t}function Gu(e,t,a,s){return e.baseState=a,Yr(e,et,typeof s=="function"?s:Va)}function sh(e,t,a,s,n){if(di(e))throw Error(c(485));if(e=t.action,e!==null){var r={payload:n,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(u){r.listeners.push(u)}};z.T!==null?a(!0):r.isTransition=!1,s(r),a=t.pending,a===null?(r.next=t.pending=r,Yu(t,r)):(r.next=a.next,t.pending=a.next=r)}}function Yu(e,t){var a=t.action,s=t.payload,n=e.state;if(t.isTransition){var r=z.T,u={};z.T=u;try{var y=a(n,s),M=z.S;M!==null&&M(u,y),Xu(e,t,y)}catch(U){Vr(e,t,U)}finally{r!==null&&u.types!==null&&(r.types=u.types),z.T=r}}else try{r=a(n,s),Xu(e,t,r)}catch(U){Vr(e,t,U)}}function Xu(e,t,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(s){Qu(e,t,s)},function(s){return Vr(e,t,s)}):Qu(e,t,a)}function Qu(e,t,a){t.status="fulfilled",t.value=a,Vu(t),e.state=a,t=e.pending,t!==null&&(a=t.next,a===t?e.pending=null:(a=a.next,t.next=a,Yu(e,a)))}function Vr(e,t,a){var s=e.pending;if(e.pending=null,s!==null){s=s.next;do t.status="rejected",t.reason=a,Vu(t),t=t.next;while(t!==s)}e.action=null}function Vu(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function Zu(e,t){return t}function $u(e,t){if(Le){var a=st.formState;if(a!==null){e:{var s=Be;if(Le){if(nt){t:{for(var n=nt,r=xa;n.nodeType!==8;){if(!r){n=null;break t}if(n=ya(n.nextSibling),n===null){n=null;break t}}r=n.data,n=r==="F!"||r==="F"?n:null}if(n){nt=ya(n.nextSibling),s=n.data==="F!";break e}}cl(s)}s=!1}s&&(t=a[0])}}return a=Qt(),a.memoizedState=a.baseState=t,s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Zu,lastRenderedState:t},a.queue=s,a=md.bind(null,Be,s),s.dispatch=a,s=Qr(!1),r=Kr.bind(null,Be,!1,s.queue),s=Qt(),n={state:t,dispatch:null,action:e,pending:null},s.queue=n,a=sh.bind(null,Be,n,r,a),n.dispatch=a,s.memoizedState=e,[t,a,!1]}function Pu(e){var t=gt();return Iu(t,et,e)}function Iu(e,t,a){if(t=Yr(e,t,Zu)[0],e=ci(Va)[0],typeof t=="object"&&t!==null&&typeof t.then=="function")try{var s=nn(t)}catch(u){throw u===xs?Jn:u}else s=t;t=gt();var n=t.queue,r=n.dispatch;return a!==t.memoizedState&&(Be.flags|=2048,Ns(9,{destroy:void 0},nh.bind(null,n,a),null)),[s,r,e]}function nh(e,t){e.action=t}function Fu(e){var t=gt(),a=et;if(a!==null)return Iu(t,a,e);gt(),t=t.memoizedState,a=gt();var s=a.queue.dispatch;return a.memoizedState=e,[t,s,!1]}function Ns(e,t,a,s){return e={tag:e,create:a,deps:s,inst:t,next:null},t=Be.updateQueue,t===null&&(t=ii(),Be.updateQueue=t),a=t.lastEffect,a===null?t.lastEffect=e.next=e:(s=a.next,a.next=e,e.next=s,t.lastEffect=e),e}function Ku(){return gt().memoizedState}function oi(e,t,a,s){var n=Qt();Be.flags|=e,n.memoizedState=Ns(1|t,{destroy:void 0},a,s===void 0?null:s)}function ui(e,t,a,s){var n=gt();s=s===void 0?null:s;var r=n.memoizedState.inst;et!==null&&s!==null&&_r(s,et.memoizedState.deps)?n.memoizedState=Ns(t,r,a,s):(Be.flags|=e,n.memoizedState=Ns(1|t,r,a,s))}function Ju(e,t){oi(8390656,8,e,t)}function Zr(e,t){ui(2048,8,e,t)}function ih(e){Be.flags|=4;var t=Be.updateQueue;if(t===null)t=ii(),Be.updateQueue=t,t.events=[e];else{var a=t.events;a===null?t.events=[e]:a.push(e)}}function Wu(e){var t=gt().memoizedState;return ih({ref:t,nextImpl:e}),function(){if((Pe&2)!==0)throw Error(c(440));return t.impl.apply(void 0,arguments)}}function ed(e,t){return ui(4,2,e,t)}function td(e,t){return ui(4,4,e,t)}function ad(e,t){if(typeof t=="function"){e=e();var a=t(e);return function(){typeof a=="function"?a():t(null)}}if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function ld(e,t,a){a=a!=null?a.concat([e]):null,ui(4,4,ad.bind(null,t,e),a)}function $r(){}function sd(e,t){var a=gt();t=t===void 0?null:t;var s=a.memoizedState;return t!==null&&_r(t,s[1])?s[0]:(a.memoizedState=[e,t],e)}function nd(e,t){var a=gt();t=t===void 0?null:t;var s=a.memoizedState;if(t!==null&&_r(t,s[1]))return s[0];if(s=e(),Gl){Gt(!0);try{e()}finally{Gt(!1)}}return a.memoizedState=[s,t],s}function Pr(e,t,a){return a===void 0||(Qa&1073741824)!==0&&(De&261930)===0?e.memoizedState=t:(e.memoizedState=a,e=im(),Be.lanes|=e,bl|=e,a)}function id(e,t,a,s){return ta(a,t)?a:ys.current!==null?(e=Pr(e,a,s),ta(e,t)||(St=!0),e):(Qa&42)===0||(Qa&1073741824)!==0&&(De&261930)===0?(St=!0,e.memoizedState=a):(e=im(),Be.lanes|=e,bl|=e,t)}function rd(e,t,a,s,n){var r=P.p;P.p=r!==0&&8>r?r:8;var u=z.T,y={};z.T=y,Kr(e,!1,t,a);try{var M=n(),U=z.S;if(U!==null&&U(y,M),M!==null&&typeof M=="object"&&typeof M.then=="function"){var Z=th(M,s);rn(e,t,Z,ra(e))}else rn(e,t,s,ra(e))}catch(ee){rn(e,t,{then:function(){},status:"rejected",reason:ee},ra())}finally{P.p=r,u!==null&&y.types!==null&&(u.types=y.types),z.T=u}}function rh(){}function Ir(e,t,a,s){if(e.tag!==5)throw Error(c(476));var n=cd(e).queue;rd(e,n,t,te,a===null?rh:function(){return od(e),a(s)})}function cd(e){var t=e.memoizedState;if(t!==null)return t;t={memoizedState:te,baseState:te,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Va,lastRenderedState:te},next:null};var a={};return t.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Va,lastRenderedState:a},next:null},e.memoizedState=t,e=e.alternate,e!==null&&(e.memoizedState=t),t}function od(e){var t=cd(e);t.next===null&&(t=e.alternate.memoizedState),rn(e,t.next.queue,{},ra())}function Fr(){return Ot(wn)}function ud(){return gt().memoizedState}function dd(){return gt().memoizedState}function ch(e){for(var t=e.return;t!==null;){switch(t.tag){case 24:case 3:var a=ra();e=dl(a);var s=ml(t,e,a);s!==null&&(Jt(s,t,a),tn(s,t,a)),t={cache:Tr()},e.payload=t;return}t=t.return}}function oh(e,t,a){var s=ra();a={lane:s,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},di(e)?fd(t,a):(a=hr(e,t,a,s),a!==null&&(Jt(a,e,s),hd(a,t,s)))}function md(e,t,a){var s=ra();rn(e,t,a,s)}function rn(e,t,a,s){var n={lane:s,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(di(e))fd(t,n);else{var r=e.alternate;if(e.lanes===0&&(r===null||r.lanes===0)&&(r=t.lastRenderedReducer,r!==null))try{var u=t.lastRenderedState,y=r(u,a);if(n.hasEagerState=!0,n.eagerState=y,ta(y,u))return Vn(e,t,n,0),st===null&&Qn(),!1}catch{}if(a=hr(e,t,n,s),a!==null)return Jt(a,e,s),hd(a,t,s),!0}return!1}function Kr(e,t,a,s){if(s={lane:2,revertLane:Bc(),gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null},di(e)){if(t)throw Error(c(479))}else t=hr(e,a,s,2),t!==null&&Jt(t,e,2)}function di(e){var t=e.alternate;return e===Be||t!==null&&t===Be}function fd(e,t){ps=si=!0;var a=e.pending;a===null?t.next=t:(t.next=a.next,a.next=t),e.pending=t}function hd(e,t,a){if((a&4194048)!==0){var s=t.lanes;s&=e.pendingLanes,a|=s,t.lanes=a,Te(e,a)}}var cn={readContext:Ot,use:ri,useCallback:ut,useContext:ut,useEffect:ut,useImperativeHandle:ut,useLayoutEffect:ut,useInsertionEffect:ut,useMemo:ut,useReducer:ut,useRef:ut,useState:ut,useDebugValue:ut,useDeferredValue:ut,useTransition:ut,useSyncExternalStore:ut,useId:ut,useHostTransitionStatus:ut,useFormState:ut,useActionState:ut,useOptimistic:ut,useMemoCache:ut,useCacheRefresh:ut};cn.useEffectEvent=ut;var gd={readContext:Ot,use:ri,useCallback:function(e,t){return Qt().memoizedState=[e,t===void 0?null:t],e},useContext:Ot,useEffect:Ju,useImperativeHandle:function(e,t,a){a=a!=null?a.concat([e]):null,oi(4194308,4,ad.bind(null,t,e),a)},useLayoutEffect:function(e,t){return oi(4194308,4,e,t)},useInsertionEffect:function(e,t){oi(4,2,e,t)},useMemo:function(e,t){var a=Qt();t=t===void 0?null:t;var s=e();if(Gl){Gt(!0);try{e()}finally{Gt(!1)}}return a.memoizedState=[s,t],s},useReducer:function(e,t,a){var s=Qt();if(a!==void 0){var n=a(t);if(Gl){Gt(!0);try{a(t)}finally{Gt(!1)}}}else n=t;return s.memoizedState=s.baseState=n,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:n},s.queue=e,e=e.dispatch=oh.bind(null,Be,e),[s.memoizedState,e]},useRef:function(e){var t=Qt();return e={current:e},t.memoizedState=e},useState:function(e){e=Qr(e);var t=e.queue,a=md.bind(null,Be,t);return t.dispatch=a,[e.memoizedState,a]},useDebugValue:$r,useDeferredValue:function(e,t){var a=Qt();return Pr(a,e,t)},useTransition:function(){var e=Qr(!1);return e=rd.bind(null,Be,e.queue,!0,!1),Qt().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,a){var s=Be,n=Qt();if(Le){if(a===void 0)throw Error(c(407));a=a()}else{if(a=t(),st===null)throw Error(c(349));(De&127)!==0||_u(s,t,a)}n.memoizedState=a;var r={value:a,getSnapshot:t};return n.queue=r,Ju(Uu.bind(null,s,r,e),[e]),s.flags|=2048,Ns(9,{destroy:void 0},qu.bind(null,s,r,a,t),null),a},useId:function(){var e=Qt(),t=st.identifierPrefix;if(Le){var a=Aa,s=Ea;a=(s&~(1<<32-I(s)-1)).toString(32)+a,t="_"+t+"R_"+a,a=ni++,0<a&&(t+="H"+a.toString(32)),t+="_"}else a=ah++,t="_"+t+"r_"+a.toString(32)+"_";return e.memoizedState=t},useHostTransitionStatus:Fr,useFormState:$u,useActionState:$u,useOptimistic:function(e){var t=Qt();t.memoizedState=t.baseState=e;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=a,t=Kr.bind(null,Be,!0,a),a.dispatch=t,[e,t]},useMemoCache:Gr,useCacheRefresh:function(){return Qt().memoizedState=ch.bind(null,Be)},useEffectEvent:function(e){var t=Qt(),a={impl:e};return t.memoizedState=a,function(){if((Pe&2)!==0)throw Error(c(440));return a.impl.apply(void 0,arguments)}}},Jr={readContext:Ot,use:ri,useCallback:sd,useContext:Ot,useEffect:Zr,useImperativeHandle:ld,useInsertionEffect:ed,useLayoutEffect:td,useMemo:nd,useReducer:ci,useRef:Ku,useState:function(){return ci(Va)},useDebugValue:$r,useDeferredValue:function(e,t){var a=gt();return id(a,et.memoizedState,e,t)},useTransition:function(){var e=ci(Va)[0],t=gt().memoizedState;return[typeof e=="boolean"?e:nn(e),t]},useSyncExternalStore:Du,useId:ud,useHostTransitionStatus:Fr,useFormState:Pu,useActionState:Pu,useOptimistic:function(e,t){var a=gt();return Gu(a,et,e,t)},useMemoCache:Gr,useCacheRefresh:dd};Jr.useEffectEvent=Wu;var xd={readContext:Ot,use:ri,useCallback:sd,useContext:Ot,useEffect:Zr,useImperativeHandle:ld,useInsertionEffect:ed,useLayoutEffect:td,useMemo:nd,useReducer:Xr,useRef:Ku,useState:function(){return Xr(Va)},useDebugValue:$r,useDeferredValue:function(e,t){var a=gt();return et===null?Pr(a,e,t):id(a,et.memoizedState,e,t)},useTransition:function(){var e=Xr(Va)[0],t=gt().memoizedState;return[typeof e=="boolean"?e:nn(e),t]},useSyncExternalStore:Du,useId:ud,useHostTransitionStatus:Fr,useFormState:Fu,useActionState:Fu,useOptimistic:function(e,t){var a=gt();return et!==null?Gu(a,et,e,t):(a.baseState=e,[e,a.queue.dispatch])},useMemoCache:Gr,useCacheRefresh:dd};xd.useEffectEvent=Wu;function Wr(e,t,a,s){t=e.memoizedState,a=a(s,t),a=a==null?t:p({},t,a),e.memoizedState=a,e.lanes===0&&(e.updateQueue.baseState=a)}var ec={enqueueSetState:function(e,t,a){e=e._reactInternals;var s=ra(),n=dl(s);n.payload=t,a!=null&&(n.callback=a),t=ml(e,n,s),t!==null&&(Jt(t,e,s),tn(t,e,s))},enqueueReplaceState:function(e,t,a){e=e._reactInternals;var s=ra(),n=dl(s);n.tag=1,n.payload=t,a!=null&&(n.callback=a),t=ml(e,n,s),t!==null&&(Jt(t,e,s),tn(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var a=ra(),s=dl(a);s.tag=2,t!=null&&(s.callback=t),t=ml(e,s,a),t!==null&&(Jt(t,e,a),tn(t,e,a))}};function bd(e,t,a,s,n,r,u){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(s,r,u):t.prototype&&t.prototype.isPureReactComponent?!$s(a,s)||!$s(n,r):!0}function yd(e,t,a,s){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(a,s),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(a,s),t.state!==e&&ec.enqueueReplaceState(t,t.state,null)}function Yl(e,t){var a=t;if("ref"in t){a={};for(var s in t)s!=="ref"&&(a[s]=t[s])}if(e=e.defaultProps){a===t&&(a=p({},a));for(var n in e)a[n]===void 0&&(a[n]=e[n])}return a}function pd(e){Xn(e)}function vd(e){console.error(e)}function Nd(e){Xn(e)}function mi(e,t){try{var a=e.onUncaughtError;a(t.value,{componentStack:t.stack})}catch(s){setTimeout(function(){throw s})}}function jd(e,t,a){try{var s=e.onCaughtError;s(a.value,{componentStack:a.stack,errorBoundary:t.tag===1?t.stateNode:null})}catch(n){setTimeout(function(){throw n})}}function tc(e,t,a){return a=dl(a),a.tag=3,a.payload={element:null},a.callback=function(){mi(e,t)},a}function Sd(e){return e=dl(e),e.tag=3,e}function wd(e,t,a,s){var n=a.type.getDerivedStateFromError;if(typeof n=="function"){var r=s.value;e.payload=function(){return n(r)},e.callback=function(){jd(t,a,s)}}var u=a.stateNode;u!==null&&typeof u.componentDidCatch=="function"&&(e.callback=function(){jd(t,a,s),typeof n!="function"&&(yl===null?yl=new Set([this]):yl.add(this));var y=s.stack;this.componentDidCatch(s.value,{componentStack:y!==null?y:""})})}function uh(e,t,a,s,n){if(a.flags|=32768,s!==null&&typeof s=="object"&&typeof s.then=="function"){if(t=a.alternate,t!==null&&fs(t,a,n,!0),a=la.current,a!==null){switch(a.tag){case 31:case 13:return ba===null?wi():a.alternate===null&&dt===0&&(dt=3),a.flags&=-257,a.flags|=65536,a.lanes=n,s===Wn?a.flags|=16384:(t=a.updateQueue,t===null?a.updateQueue=new Set([s]):t.add(s),Mc(e,s,n)),!1;case 22:return a.flags|=65536,s===Wn?a.flags|=16384:(t=a.updateQueue,t===null?(t={transitions:null,markerInstances:null,retryQueue:new Set([s])},a.updateQueue=t):(a=t.retryQueue,a===null?t.retryQueue=new Set([s]):a.add(s)),Mc(e,s,n)),!1}throw Error(c(435,a.tag))}return Mc(e,s,n),wi(),!1}if(Le)return t=la.current,t!==null?((t.flags&65536)===0&&(t.flags|=256),t.flags|=65536,t.lanes=n,s!==vr&&(e=Error(c(422),{cause:s}),Fs(fa(e,a)))):(s!==vr&&(t=Error(c(423),{cause:s}),Fs(fa(t,a))),e=e.current.alternate,e.flags|=65536,n&=-n,e.lanes|=n,s=fa(s,a),n=tc(e.stateNode,s,n),Cr(e,n),dt!==4&&(dt=2)),!1;var r=Error(c(520),{cause:s});if(r=fa(r,a),xn===null?xn=[r]:xn.push(r),dt!==4&&(dt=2),t===null)return!0;s=fa(s,a),a=t;do{switch(a.tag){case 3:return a.flags|=65536,e=n&-n,a.lanes|=e,e=tc(a.stateNode,s,e),Cr(a,e),!1;case 1:if(t=a.type,r=a.stateNode,(a.flags&128)===0&&(typeof t.getDerivedStateFromError=="function"||r!==null&&typeof r.componentDidCatch=="function"&&(yl===null||!yl.has(r))))return a.flags|=65536,n&=-n,a.lanes|=n,n=Sd(n),wd(n,e,a,s),Cr(a,n),!1}a=a.return}while(a!==null);return!1}var ac=Error(c(461)),St=!1;function kt(e,t,a,s){t.child=e===null?Au(t,null,a,s):Ll(t,e.child,a,s)}function Td(e,t,a,s,n){a=a.render;var r=t.ref;if("ref"in s){var u={};for(var y in s)y!=="ref"&&(u[y]=s[y])}else u=s;return _l(t),s=qr(e,t,a,u,r,n),y=Ur(),e!==null&&!St?(Hr(e,t,n),Za(e,t,n)):(Le&&y&&yr(t),t.flags|=1,kt(e,t,s,n),t.child)}function Md(e,t,a,s,n){if(e===null){var r=a.type;return typeof r=="function"&&!gr(r)&&r.defaultProps===void 0&&a.compare===null?(t.tag=15,t.type=r,Ed(e,t,r,s,n)):(e=$n(a.type,null,s,t,t.mode,n),e.ref=t.ref,e.return=t,t.child=e)}if(r=e.child,!uc(e,n)){var u=r.memoizedProps;if(a=a.compare,a=a!==null?a:$s,a(u,s)&&e.ref===t.ref)return Za(e,t,n)}return t.flags|=1,e=La(r,s),e.ref=t.ref,e.return=t,t.child=e}function Ed(e,t,a,s,n){if(e!==null){var r=e.memoizedProps;if($s(r,s)&&e.ref===t.ref)if(St=!1,t.pendingProps=s=r,uc(e,n))(e.flags&131072)!==0&&(St=!0);else return t.lanes=e.lanes,Za(e,t,n)}return lc(e,t,a,s,n)}function Ad(e,t,a,s){var n=s.children,r=e!==null?e.memoizedState:null;if(e===null&&t.stateNode===null&&(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),s.mode==="hidden"){if((t.flags&128)!==0){if(r=r!==null?r.baseLanes|a:a,e!==null){for(s=t.child=e.child,n=0;s!==null;)n=n|s.lanes|s.childLanes,s=s.sibling;s=n&~r}else s=0,t.child=null;return Bd(e,t,r,a,s)}if((a&536870912)!==0)t.memoizedState={baseLanes:0,cachePool:null},e!==null&&Kn(t,r!==null?r.cachePool:null),r!==null?Cu(t,r):kr(),Ou(t);else return s=t.lanes=536870912,Bd(e,t,r!==null?r.baseLanes|a:a,a,s)}else r!==null?(Kn(t,r.cachePool),Cu(t,r),hl(),t.memoizedState=null):(e!==null&&Kn(t,null),kr(),hl());return kt(e,t,n,a),t.child}function on(e,t){return e!==null&&e.tag===22||t.stateNode!==null||(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),t.sibling}function Bd(e,t,a,s,n){var r=Er();return r=r===null?null:{parent:Nt._currentValue,pool:r},t.memoizedState={baseLanes:a,cachePool:r},e!==null&&Kn(t,null),kr(),Ou(t),e!==null&&fs(e,t,s,!0),t.childLanes=n,null}function fi(e,t){return t=gi({mode:t.mode,children:t.children},e.mode),t.ref=e.ref,e.child=t,t.return=e,t}function Rd(e,t,a){return Ll(t,e.child,null,a),e=fi(t,t.pendingProps),e.flags|=2,sa(t),t.memoizedState=null,e}function dh(e,t,a){var s=t.pendingProps,n=(t.flags&128)!==0;if(t.flags&=-129,e===null){if(Le){if(s.mode==="hidden")return e=fi(t,s),t.lanes=536870912,on(null,e);if(Dr(t),(e=nt)?(e=Ym(e,xa),e=e!==null&&e.data==="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:il!==null?{id:Ea,overflow:Aa}:null,retryLane:536870912,hydrationErrors:null},a=fu(e),a.return=t,t.child=a,Ct=t,nt=null)):e=null,e===null)throw cl(t);return t.lanes=536870912,null}return fi(t,s)}var r=e.memoizedState;if(r!==null){var u=r.dehydrated;if(Dr(t),n)if(t.flags&256)t.flags&=-257,t=Rd(e,t,a);else if(t.memoizedState!==null)t.child=e.child,t.flags|=128,t=null;else throw Error(c(558));else if(St||fs(e,t,a,!1),n=(a&e.childLanes)!==0,St||n){if(s=st,s!==null&&(u=Fe(s,a),u!==0&&u!==r.retryLane))throw r.retryLane=u,Ol(e,u),Jt(s,e,u),ac;wi(),t=Rd(e,t,a)}else e=r.treeContext,nt=ya(u.nextSibling),Ct=t,Le=!0,rl=null,xa=!1,e!==null&&xu(t,e),t=fi(t,s),t.flags|=4096;return t}return e=La(e.child,{mode:s.mode,children:s.children}),e.ref=t.ref,t.child=e,e.return=t,e}function hi(e,t){var a=t.ref;if(a===null)e!==null&&e.ref!==null&&(t.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(c(284));(e===null||e.ref!==a)&&(t.flags|=4194816)}}function lc(e,t,a,s,n){return _l(t),a=qr(e,t,a,s,void 0,n),s=Ur(),e!==null&&!St?(Hr(e,t,n),Za(e,t,n)):(Le&&s&&yr(t),t.flags|=1,kt(e,t,a,n),t.child)}function Cd(e,t,a,s,n,r){return _l(t),t.updateQueue=null,a=zu(t,s,a,n),ku(e),s=Ur(),e!==null&&!St?(Hr(e,t,r),Za(e,t,r)):(Le&&s&&yr(t),t.flags|=1,kt(e,t,a,r),t.child)}function Od(e,t,a,s,n){if(_l(t),t.stateNode===null){var r=os,u=a.contextType;typeof u=="object"&&u!==null&&(r=Ot(u)),r=new a(s,r),t.memoizedState=r.state!==null&&r.state!==void 0?r.state:null,r.updater=ec,t.stateNode=r,r._reactInternals=t,r=t.stateNode,r.props=s,r.state=t.memoizedState,r.refs={},Br(t),u=a.contextType,r.context=typeof u=="object"&&u!==null?Ot(u):os,r.state=t.memoizedState,u=a.getDerivedStateFromProps,typeof u=="function"&&(Wr(t,a,u,s),r.state=t.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof r.getSnapshotBeforeUpdate=="function"||typeof r.UNSAFE_componentWillMount!="function"&&typeof r.componentWillMount!="function"||(u=r.state,typeof r.componentWillMount=="function"&&r.componentWillMount(),typeof r.UNSAFE_componentWillMount=="function"&&r.UNSAFE_componentWillMount(),u!==r.state&&ec.enqueueReplaceState(r,r.state,null),ln(t,s,r,n),an(),r.state=t.memoizedState),typeof r.componentDidMount=="function"&&(t.flags|=4194308),s=!0}else if(e===null){r=t.stateNode;var y=t.memoizedProps,M=Yl(a,y);r.props=M;var U=r.context,Z=a.contextType;u=os,typeof Z=="object"&&Z!==null&&(u=Ot(Z));var ee=a.getDerivedStateFromProps;Z=typeof ee=="function"||typeof r.getSnapshotBeforeUpdate=="function",y=t.pendingProps!==y,Z||typeof r.UNSAFE_componentWillReceiveProps!="function"&&typeof r.componentWillReceiveProps!="function"||(y||U!==u)&&yd(t,r,s,u),ul=!1;var L=t.memoizedState;r.state=L,ln(t,s,r,n),an(),U=t.memoizedState,y||L!==U||ul?(typeof ee=="function"&&(Wr(t,a,ee,s),U=t.memoizedState),(M=ul||bd(t,a,M,s,L,U,u))?(Z||typeof r.UNSAFE_componentWillMount!="function"&&typeof r.componentWillMount!="function"||(typeof r.componentWillMount=="function"&&r.componentWillMount(),typeof r.UNSAFE_componentWillMount=="function"&&r.UNSAFE_componentWillMount()),typeof r.componentDidMount=="function"&&(t.flags|=4194308)):(typeof r.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=s,t.memoizedState=U),r.props=s,r.state=U,r.context=u,s=M):(typeof r.componentDidMount=="function"&&(t.flags|=4194308),s=!1)}else{r=t.stateNode,Rr(e,t),u=t.memoizedProps,Z=Yl(a,u),r.props=Z,ee=t.pendingProps,L=r.context,U=a.contextType,M=os,typeof U=="object"&&U!==null&&(M=Ot(U)),y=a.getDerivedStateFromProps,(U=typeof y=="function"||typeof r.getSnapshotBeforeUpdate=="function")||typeof r.UNSAFE_componentWillReceiveProps!="function"&&typeof r.componentWillReceiveProps!="function"||(u!==ee||L!==M)&&yd(t,r,s,M),ul=!1,L=t.memoizedState,r.state=L,ln(t,s,r,n),an();var Q=t.memoizedState;u!==ee||L!==Q||ul||e!==null&&e.dependencies!==null&&In(e.dependencies)?(typeof y=="function"&&(Wr(t,a,y,s),Q=t.memoizedState),(Z=ul||bd(t,a,Z,s,L,Q,M)||e!==null&&e.dependencies!==null&&In(e.dependencies))?(U||typeof r.UNSAFE_componentWillUpdate!="function"&&typeof r.componentWillUpdate!="function"||(typeof r.componentWillUpdate=="function"&&r.componentWillUpdate(s,Q,M),typeof r.UNSAFE_componentWillUpdate=="function"&&r.UNSAFE_componentWillUpdate(s,Q,M)),typeof r.componentDidUpdate=="function"&&(t.flags|=4),typeof r.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof r.componentDidUpdate!="function"||u===e.memoizedProps&&L===e.memoizedState||(t.flags|=4),typeof r.getSnapshotBeforeUpdate!="function"||u===e.memoizedProps&&L===e.memoizedState||(t.flags|=1024),t.memoizedProps=s,t.memoizedState=Q),r.props=s,r.state=Q,r.context=M,s=Z):(typeof r.componentDidUpdate!="function"||u===e.memoizedProps&&L===e.memoizedState||(t.flags|=4),typeof r.getSnapshotBeforeUpdate!="function"||u===e.memoizedProps&&L===e.memoizedState||(t.flags|=1024),s=!1)}return r=s,hi(e,t),s=(t.flags&128)!==0,r||s?(r=t.stateNode,a=s&&typeof a.getDerivedStateFromError!="function"?null:r.render(),t.flags|=1,e!==null&&s?(t.child=Ll(t,e.child,null,n),t.child=Ll(t,null,a,n)):kt(e,t,a,n),t.memoizedState=r.state,e=t.child):e=Za(e,t,n),e}function kd(e,t,a,s){return zl(),t.flags|=256,kt(e,t,a,s),t.child}var sc={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function nc(e){return{baseLanes:e,cachePool:ju()}}function ic(e,t,a){return e=e!==null?e.childLanes&~a:0,t&&(e|=ia),e}function zd(e,t,a){var s=t.pendingProps,n=!1,r=(t.flags&128)!==0,u;if((u=r)||(u=e!==null&&e.memoizedState===null?!1:(ht.current&2)!==0),u&&(n=!0,t.flags&=-129),u=(t.flags&32)!==0,t.flags&=-33,e===null){if(Le){if(n?fl(t):hl(),(e=nt)?(e=Ym(e,xa),e=e!==null&&e.data!=="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:il!==null?{id:Ea,overflow:Aa}:null,retryLane:536870912,hydrationErrors:null},a=fu(e),a.return=t,t.child=a,Ct=t,nt=null)):e=null,e===null)throw cl(t);return Yc(e)?t.lanes=32:t.lanes=536870912,null}var y=s.children;return s=s.fallback,n?(hl(),n=t.mode,y=gi({mode:"hidden",children:y},n),s=kl(s,n,a,null),y.return=t,s.return=t,y.sibling=s,t.child=y,s=t.child,s.memoizedState=nc(a),s.childLanes=ic(e,u,a),t.memoizedState=sc,on(null,s)):(fl(t),rc(t,y))}var M=e.memoizedState;if(M!==null&&(y=M.dehydrated,y!==null)){if(r)t.flags&256?(fl(t),t.flags&=-257,t=cc(e,t,a)):t.memoizedState!==null?(hl(),t.child=e.child,t.flags|=128,t=null):(hl(),y=s.fallback,n=t.mode,s=gi({mode:"visible",children:s.children},n),y=kl(y,n,a,null),y.flags|=2,s.return=t,y.return=t,s.sibling=y,t.child=s,Ll(t,e.child,null,a),s=t.child,s.memoizedState=nc(a),s.childLanes=ic(e,u,a),t.memoizedState=sc,t=on(null,s));else if(fl(t),Yc(y)){if(u=y.nextSibling&&y.nextSibling.dataset,u)var U=u.dgst;u=U,s=Error(c(419)),s.stack="",s.digest=u,Fs({value:s,source:null,stack:null}),t=cc(e,t,a)}else if(St||fs(e,t,a,!1),u=(a&e.childLanes)!==0,St||u){if(u=st,u!==null&&(s=Fe(u,a),s!==0&&s!==M.retryLane))throw M.retryLane=s,Ol(e,s),Jt(u,e,s),ac;Gc(y)||wi(),t=cc(e,t,a)}else Gc(y)?(t.flags|=192,t.child=e.child,t=null):(e=M.treeContext,nt=ya(y.nextSibling),Ct=t,Le=!0,rl=null,xa=!1,e!==null&&xu(t,e),t=rc(t,s.children),t.flags|=4096);return t}return n?(hl(),y=s.fallback,n=t.mode,M=e.child,U=M.sibling,s=La(M,{mode:"hidden",children:s.children}),s.subtreeFlags=M.subtreeFlags&65011712,U!==null?y=La(U,y):(y=kl(y,n,a,null),y.flags|=2),y.return=t,s.return=t,s.sibling=y,t.child=s,on(null,s),s=t.child,y=e.child.memoizedState,y===null?y=nc(a):(n=y.cachePool,n!==null?(M=Nt._currentValue,n=n.parent!==M?{parent:M,pool:M}:n):n=ju(),y={baseLanes:y.baseLanes|a,cachePool:n}),s.memoizedState=y,s.childLanes=ic(e,u,a),t.memoizedState=sc,on(e.child,s)):(fl(t),a=e.child,e=a.sibling,a=La(a,{mode:"visible",children:s.children}),a.return=t,a.sibling=null,e!==null&&(u=t.deletions,u===null?(t.deletions=[e],t.flags|=16):u.push(e)),t.child=a,t.memoizedState=null,a)}function rc(e,t){return t=gi({mode:"visible",children:t},e.mode),t.return=e,e.child=t}function gi(e,t){return e=aa(22,e,null,t),e.lanes=0,e}function cc(e,t,a){return Ll(t,e.child,null,a),e=rc(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Dd(e,t,a){e.lanes|=t;var s=e.alternate;s!==null&&(s.lanes|=t),Sr(e.return,t,a)}function oc(e,t,a,s,n,r){var u=e.memoizedState;u===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:s,tail:a,tailMode:n,treeForkCount:r}:(u.isBackwards=t,u.rendering=null,u.renderingStartTime=0,u.last=s,u.tail=a,u.tailMode=n,u.treeForkCount=r)}function _d(e,t,a){var s=t.pendingProps,n=s.revealOrder,r=s.tail;s=s.children;var u=ht.current,y=(u&2)!==0;if(y?(u=u&1|2,t.flags|=128):u&=1,de(ht,u),kt(e,t,s,a),s=Le?Is:0,!y&&e!==null&&(e.flags&128)!==0)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Dd(e,a,t);else if(e.tag===19)Dd(e,a,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(n){case"forwards":for(a=t.child,n=null;a!==null;)e=a.alternate,e!==null&&li(e)===null&&(n=a),a=a.sibling;a=n,a===null?(n=t.child,t.child=null):(n=a.sibling,a.sibling=null),oc(t,!1,n,a,r,s);break;case"backwards":case"unstable_legacy-backwards":for(a=null,n=t.child,t.child=null;n!==null;){if(e=n.alternate,e!==null&&li(e)===null){t.child=n;break}e=n.sibling,n.sibling=a,a=n,n=e}oc(t,!0,a,null,r,s);break;case"together":oc(t,!1,null,null,void 0,s);break;default:t.memoizedState=null}return t.child}function Za(e,t,a){if(e!==null&&(t.dependencies=e.dependencies),bl|=t.lanes,(a&t.childLanes)===0)if(e!==null){if(fs(e,t,a,!1),(a&t.childLanes)===0)return null}else return null;if(e!==null&&t.child!==e.child)throw Error(c(153));if(t.child!==null){for(e=t.child,a=La(e,e.pendingProps),t.child=a,a.return=t;e.sibling!==null;)e=e.sibling,a=a.sibling=La(e,e.pendingProps),a.return=t;a.sibling=null}return t.child}function uc(e,t){return(e.lanes&t)!==0?!0:(e=e.dependencies,!!(e!==null&&In(e)))}function mh(e,t,a){switch(t.tag){case 3:lt(t,t.stateNode.containerInfo),ol(t,Nt,e.memoizedState.cache),zl();break;case 27:case 5:Zt(t);break;case 4:lt(t,t.stateNode.containerInfo);break;case 10:ol(t,t.type,t.memoizedProps.value);break;case 31:if(t.memoizedState!==null)return t.flags|=128,Dr(t),null;break;case 13:var s=t.memoizedState;if(s!==null)return s.dehydrated!==null?(fl(t),t.flags|=128,null):(a&t.child.childLanes)!==0?zd(e,t,a):(fl(t),e=Za(e,t,a),e!==null?e.sibling:null);fl(t);break;case 19:var n=(e.flags&128)!==0;if(s=(a&t.childLanes)!==0,s||(fs(e,t,a,!1),s=(a&t.childLanes)!==0),n){if(s)return _d(e,t,a);t.flags|=128}if(n=t.memoizedState,n!==null&&(n.rendering=null,n.tail=null,n.lastEffect=null),de(ht,ht.current),s)break;return null;case 22:return t.lanes=0,Ad(e,t,a,t.pendingProps);case 24:ol(t,Nt,e.memoizedState.cache)}return Za(e,t,a)}function qd(e,t,a){if(e!==null)if(e.memoizedProps!==t.pendingProps)St=!0;else{if(!uc(e,a)&&(t.flags&128)===0)return St=!1,mh(e,t,a);St=(e.flags&131072)!==0}else St=!1,Le&&(t.flags&1048576)!==0&&gu(t,Is,t.index);switch(t.lanes=0,t.tag){case 16:e:{var s=t.pendingProps;if(e=Ul(t.elementType),t.type=e,typeof e=="function")gr(e)?(s=Yl(e,s),t.tag=1,t=Od(null,t,e,s,a)):(t.tag=0,t=lc(null,t,e,s,a));else{if(e!=null){var n=e.$$typeof;if(n===W){t.tag=11,t=Td(null,t,e,s,a);break e}else if(n===B){t.tag=14,t=Md(null,t,e,s,a);break e}}throw t=fe(e)||e,Error(c(306,t,""))}}return t;case 0:return lc(e,t,t.type,t.pendingProps,a);case 1:return s=t.type,n=Yl(s,t.pendingProps),Od(e,t,s,n,a);case 3:e:{if(lt(t,t.stateNode.containerInfo),e===null)throw Error(c(387));s=t.pendingProps;var r=t.memoizedState;n=r.element,Rr(e,t),ln(t,s,null,a);var u=t.memoizedState;if(s=u.cache,ol(t,Nt,s),s!==r.cache&&wr(t,[Nt],a,!0),an(),s=u.element,r.isDehydrated)if(r={element:s,isDehydrated:!1,cache:u.cache},t.updateQueue.baseState=r,t.memoizedState=r,t.flags&256){t=kd(e,t,s,a);break e}else if(s!==n){n=fa(Error(c(424)),t),Fs(n),t=kd(e,t,s,a);break e}else for(e=t.stateNode.containerInfo,e.nodeType===9?e=e.body:e=e.nodeName==="HTML"?e.ownerDocument.body:e,nt=ya(e.firstChild),Ct=t,Le=!0,rl=null,xa=!0,a=Au(t,null,s,a),t.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling;else{if(zl(),s===n){t=Za(e,t,a);break e}kt(e,t,s,a)}t=t.child}return t;case 26:return hi(e,t),e===null?(a=Pm(t.type,null,t.pendingProps,null))?t.memoizedState=a:Le||(a=t.type,e=t.pendingProps,s=Ci(Ae.current).createElement(a),s[He]=t,s[pt]=e,zt(s,a,e),ft(s),t.stateNode=s):t.memoizedState=Pm(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return Zt(t),e===null&&Le&&(s=t.stateNode=Vm(t.type,t.pendingProps,Ae.current),Ct=t,xa=!0,n=nt,jl(t.type)?(Xc=n,nt=ya(s.firstChild)):nt=n),kt(e,t,t.pendingProps.children,a),hi(e,t),e===null&&(t.flags|=4194304),t.child;case 5:return e===null&&Le&&((n=s=nt)&&(s=Yh(s,t.type,t.pendingProps,xa),s!==null?(t.stateNode=s,Ct=t,nt=ya(s.firstChild),xa=!1,n=!0):n=!1),n||cl(t)),Zt(t),n=t.type,r=t.pendingProps,u=e!==null?e.memoizedProps:null,s=r.children,Uc(n,r)?s=null:u!==null&&Uc(n,u)&&(t.flags|=32),t.memoizedState!==null&&(n=qr(e,t,lh,null,null,a),wn._currentValue=n),hi(e,t),kt(e,t,s,a),t.child;case 6:return e===null&&Le&&((e=a=nt)&&(a=Xh(a,t.pendingProps,xa),a!==null?(t.stateNode=a,Ct=t,nt=null,e=!0):e=!1),e||cl(t)),null;case 13:return zd(e,t,a);case 4:return lt(t,t.stateNode.containerInfo),s=t.pendingProps,e===null?t.child=Ll(t,null,s,a):kt(e,t,s,a),t.child;case 11:return Td(e,t,t.type,t.pendingProps,a);case 7:return kt(e,t,t.pendingProps,a),t.child;case 8:return kt(e,t,t.pendingProps.children,a),t.child;case 12:return kt(e,t,t.pendingProps.children,a),t.child;case 10:return s=t.pendingProps,ol(t,t.type,s.value),kt(e,t,s.children,a),t.child;case 9:return n=t.type._context,s=t.pendingProps.children,_l(t),n=Ot(n),s=s(n),t.flags|=1,kt(e,t,s,a),t.child;case 14:return Md(e,t,t.type,t.pendingProps,a);case 15:return Ed(e,t,t.type,t.pendingProps,a);case 19:return _d(e,t,a);case 31:return dh(e,t,a);case 22:return Ad(e,t,a,t.pendingProps);case 24:return _l(t),s=Ot(Nt),e===null?(n=Er(),n===null&&(n=st,r=Tr(),n.pooledCache=r,r.refCount++,r!==null&&(n.pooledCacheLanes|=a),n=r),t.memoizedState={parent:s,cache:n},Br(t),ol(t,Nt,n)):((e.lanes&a)!==0&&(Rr(e,t),ln(t,null,null,a),an()),n=e.memoizedState,r=t.memoizedState,n.parent!==s?(n={parent:s,cache:s},t.memoizedState=n,t.lanes===0&&(t.memoizedState=t.updateQueue.baseState=n),ol(t,Nt,s)):(s=r.cache,ol(t,Nt,s),s!==n.cache&&wr(t,[Nt],a,!0))),kt(e,t,t.pendingProps.children,a),t.child;case 29:throw t.pendingProps}throw Error(c(156,t.tag))}function $a(e){e.flags|=4}function dc(e,t,a,s,n){if((t=(e.mode&32)!==0)&&(t=!1),t){if(e.flags|=16777216,(n&335544128)===n)if(e.stateNode.complete)e.flags|=8192;else if(um())e.flags|=8192;else throw Hl=Wn,Ar}else e.flags&=-16777217}function Ud(e,t){if(t.type!=="stylesheet"||(t.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!Wm(t))if(um())e.flags|=8192;else throw Hl=Wn,Ar}function xi(e,t){t!==null&&(e.flags|=4),e.flags&16384&&(t=e.tag!==22?me():536870912,e.lanes|=t,Ts|=t)}function un(e,t){if(!Le)switch(e.tailMode){case"hidden":t=e.tail;for(var a=null;t!==null;)t.alternate!==null&&(a=t),t=t.sibling;a===null?e.tail=null:a.sibling=null;break;case"collapsed":a=e.tail;for(var s=null;a!==null;)a.alternate!==null&&(s=a),a=a.sibling;s===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:s.sibling=null}}function it(e){var t=e.alternate!==null&&e.alternate.child===e.child,a=0,s=0;if(t)for(var n=e.child;n!==null;)a|=n.lanes|n.childLanes,s|=n.subtreeFlags&65011712,s|=n.flags&65011712,n.return=e,n=n.sibling;else for(n=e.child;n!==null;)a|=n.lanes|n.childLanes,s|=n.subtreeFlags,s|=n.flags,n.return=e,n=n.sibling;return e.subtreeFlags|=s,e.childLanes=a,t}function fh(e,t,a){var s=t.pendingProps;switch(pr(t),t.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return it(t),null;case 1:return it(t),null;case 3:return a=t.stateNode,s=null,e!==null&&(s=e.memoizedState.cache),t.memoizedState.cache!==s&&(t.flags|=2048),Xa(Nt),ot(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(e===null||e.child===null)&&(ms(t)?$a(t):e===null||e.memoizedState.isDehydrated&&(t.flags&256)===0||(t.flags|=1024,Nr())),it(t),null;case 26:var n=t.type,r=t.memoizedState;return e===null?($a(t),r!==null?(it(t),Ud(t,r)):(it(t),dc(t,n,null,s,a))):r?r!==e.memoizedState?($a(t),it(t),Ud(t,r)):(it(t),t.flags&=-16777217):(e=e.memoizedProps,e!==s&&$a(t),it(t),dc(t,n,e,s,a)),null;case 27:if(Ie(t),a=Ae.current,n=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==s&&$a(t);else{if(!s){if(t.stateNode===null)throw Error(c(166));return it(t),null}e=re.current,ms(t)?bu(t):(e=Vm(n,s,a),t.stateNode=e,$a(t))}return it(t),null;case 5:if(Ie(t),n=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==s&&$a(t);else{if(!s){if(t.stateNode===null)throw Error(c(166));return it(t),null}if(r=re.current,ms(t))bu(t);else{var u=Ci(Ae.current);switch(r){case 1:r=u.createElementNS("http://www.w3.org/2000/svg",n);break;case 2:r=u.createElementNS("http://www.w3.org/1998/Math/MathML",n);break;default:switch(n){case"svg":r=u.createElementNS("http://www.w3.org/2000/svg",n);break;case"math":r=u.createElementNS("http://www.w3.org/1998/Math/MathML",n);break;case"script":r=u.createElement("div"),r.innerHTML="<script><\/script>",r=r.removeChild(r.firstChild);break;case"select":r=typeof s.is=="string"?u.createElement("select",{is:s.is}):u.createElement("select"),s.multiple?r.multiple=!0:s.size&&(r.size=s.size);break;default:r=typeof s.is=="string"?u.createElement(n,{is:s.is}):u.createElement(n)}}r[He]=t,r[pt]=s;e:for(u=t.child;u!==null;){if(u.tag===5||u.tag===6)r.appendChild(u.stateNode);else if(u.tag!==4&&u.tag!==27&&u.child!==null){u.child.return=u,u=u.child;continue}if(u===t)break e;for(;u.sibling===null;){if(u.return===null||u.return===t)break e;u=u.return}u.sibling.return=u.return,u=u.sibling}t.stateNode=r;e:switch(zt(r,n,s),n){case"button":case"input":case"select":case"textarea":s=!!s.autoFocus;break e;case"img":s=!0;break e;default:s=!1}s&&$a(t)}}return it(t),dc(t,t.type,e===null?null:e.memoizedProps,t.pendingProps,a),null;case 6:if(e&&t.stateNode!=null)e.memoizedProps!==s&&$a(t);else{if(typeof s!="string"&&t.stateNode===null)throw Error(c(166));if(e=Ae.current,ms(t)){if(e=t.stateNode,a=t.memoizedProps,s=null,n=Ct,n!==null)switch(n.tag){case 27:case 5:s=n.memoizedProps}e[He]=t,e=!!(e.nodeValue===a||s!==null&&s.suppressHydrationWarning===!0||zm(e.nodeValue,a)),e||cl(t,!0)}else e=Ci(e).createTextNode(s),e[He]=t,t.stateNode=e}return it(t),null;case 31:if(a=t.memoizedState,e===null||e.memoizedState!==null){if(s=ms(t),a!==null){if(e===null){if(!s)throw Error(c(318));if(e=t.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(c(557));e[He]=t}else zl(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;it(t),e=!1}else a=Nr(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=a),e=!0;if(!e)return t.flags&256?(sa(t),t):(sa(t),null);if((t.flags&128)!==0)throw Error(c(558))}return it(t),null;case 13:if(s=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(n=ms(t),s!==null&&s.dehydrated!==null){if(e===null){if(!n)throw Error(c(318));if(n=t.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(c(317));n[He]=t}else zl(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;it(t),n=!1}else n=Nr(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=n),n=!0;if(!n)return t.flags&256?(sa(t),t):(sa(t),null)}return sa(t),(t.flags&128)!==0?(t.lanes=a,t):(a=s!==null,e=e!==null&&e.memoizedState!==null,a&&(s=t.child,n=null,s.alternate!==null&&s.alternate.memoizedState!==null&&s.alternate.memoizedState.cachePool!==null&&(n=s.alternate.memoizedState.cachePool.pool),r=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(r=s.memoizedState.cachePool.pool),r!==n&&(s.flags|=2048)),a!==e&&a&&(t.child.flags|=8192),xi(t,t.updateQueue),it(t),null);case 4:return ot(),e===null&&kc(t.stateNode.containerInfo),it(t),null;case 10:return Xa(t.type),it(t),null;case 19:if(F(ht),s=t.memoizedState,s===null)return it(t),null;if(n=(t.flags&128)!==0,r=s.rendering,r===null)if(n)un(s,!1);else{if(dt!==0||e!==null&&(e.flags&128)!==0)for(e=t.child;e!==null;){if(r=li(e),r!==null){for(t.flags|=128,un(s,!1),e=r.updateQueue,t.updateQueue=e,xi(t,e),t.subtreeFlags=0,e=a,a=t.child;a!==null;)mu(a,e),a=a.sibling;return de(ht,ht.current&1|2),Le&&Ga(t,s.treeForkCount),t.child}e=e.sibling}s.tail!==null&&Oe()>Ni&&(t.flags|=128,n=!0,un(s,!1),t.lanes=4194304)}else{if(!n)if(e=li(r),e!==null){if(t.flags|=128,n=!0,e=e.updateQueue,t.updateQueue=e,xi(t,e),un(s,!0),s.tail===null&&s.tailMode==="hidden"&&!r.alternate&&!Le)return it(t),null}else 2*Oe()-s.renderingStartTime>Ni&&a!==536870912&&(t.flags|=128,n=!0,un(s,!1),t.lanes=4194304);s.isBackwards?(r.sibling=t.child,t.child=r):(e=s.last,e!==null?e.sibling=r:t.child=r,s.last=r)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=Oe(),e.sibling=null,a=ht.current,de(ht,n?a&1|2:a&1),Le&&Ga(t,s.treeForkCount),e):(it(t),null);case 22:case 23:return sa(t),zr(),s=t.memoizedState!==null,e!==null?e.memoizedState!==null!==s&&(t.flags|=8192):s&&(t.flags|=8192),s?(a&536870912)!==0&&(t.flags&128)===0&&(it(t),t.subtreeFlags&6&&(t.flags|=8192)):it(t),a=t.updateQueue,a!==null&&xi(t,a.retryQueue),a=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),s=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(s=t.memoizedState.cachePool.pool),s!==a&&(t.flags|=2048),e!==null&&F(ql),null;case 24:return a=null,e!==null&&(a=e.memoizedState.cache),t.memoizedState.cache!==a&&(t.flags|=2048),Xa(Nt),it(t),null;case 25:return null;case 30:return null}throw Error(c(156,t.tag))}function hh(e,t){switch(pr(t),t.tag){case 1:return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Xa(Nt),ot(),e=t.flags,(e&65536)!==0&&(e&128)===0?(t.flags=e&-65537|128,t):null;case 26:case 27:case 5:return Ie(t),null;case 31:if(t.memoizedState!==null){if(sa(t),t.alternate===null)throw Error(c(340));zl()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 13:if(sa(t),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(c(340));zl()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return F(ht),null;case 4:return ot(),null;case 10:return Xa(t.type),null;case 22:case 23:return sa(t),zr(),e!==null&&F(ql),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 24:return Xa(Nt),null;case 25:return null;default:return null}}function Hd(e,t){switch(pr(t),t.tag){case 3:Xa(Nt),ot();break;case 26:case 27:case 5:Ie(t);break;case 4:ot();break;case 31:t.memoizedState!==null&&sa(t);break;case 13:sa(t);break;case 19:F(ht);break;case 10:Xa(t.type);break;case 22:case 23:sa(t),zr(),e!==null&&F(ql);break;case 24:Xa(Nt)}}function dn(e,t){try{var a=t.updateQueue,s=a!==null?a.lastEffect:null;if(s!==null){var n=s.next;a=n;do{if((a.tag&e)===e){s=void 0;var r=a.create,u=a.inst;s=r(),u.destroy=s}a=a.next}while(a!==n)}}catch(y){Je(t,t.return,y)}}function gl(e,t,a){try{var s=t.updateQueue,n=s!==null?s.lastEffect:null;if(n!==null){var r=n.next;s=r;do{if((s.tag&e)===e){var u=s.inst,y=u.destroy;if(y!==void 0){u.destroy=void 0,n=t;var M=a,U=y;try{U()}catch(Z){Je(n,M,Z)}}}s=s.next}while(s!==r)}}catch(Z){Je(t,t.return,Z)}}function Ld(e){var t=e.updateQueue;if(t!==null){var a=e.stateNode;try{Ru(t,a)}catch(s){Je(e,e.return,s)}}}function Gd(e,t,a){a.props=Yl(e.type,e.memoizedProps),a.state=e.memoizedState;try{a.componentWillUnmount()}catch(s){Je(e,t,s)}}function mn(e,t){try{var a=e.ref;if(a!==null){switch(e.tag){case 26:case 27:case 5:var s=e.stateNode;break;case 30:s=e.stateNode;break;default:s=e.stateNode}typeof a=="function"?e.refCleanup=a(s):a.current=s}}catch(n){Je(e,t,n)}}function Ba(e,t){var a=e.ref,s=e.refCleanup;if(a!==null)if(typeof s=="function")try{s()}catch(n){Je(e,t,n)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(n){Je(e,t,n)}else a.current=null}function Yd(e){var t=e.type,a=e.memoizedProps,s=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":a.autoFocus&&s.focus();break e;case"img":a.src?s.src=a.src:a.srcSet&&(s.srcset=a.srcSet)}}catch(n){Je(e,e.return,n)}}function mc(e,t,a){try{var s=e.stateNode;_h(s,e.type,a,t),s[pt]=t}catch(n){Je(e,e.return,n)}}function Xd(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&jl(e.type)||e.tag===4}function fc(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Xd(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&jl(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function hc(e,t,a){var s=e.tag;if(s===5||s===6)e=e.stateNode,t?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(e,t):(t=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,t.appendChild(e),a=a._reactRootContainer,a!=null||t.onclick!==null||(t.onclick=Ua));else if(s!==4&&(s===27&&jl(e.type)&&(a=e.stateNode,t=null),e=e.child,e!==null))for(hc(e,t,a),e=e.sibling;e!==null;)hc(e,t,a),e=e.sibling}function bi(e,t,a){var s=e.tag;if(s===5||s===6)e=e.stateNode,t?a.insertBefore(e,t):a.appendChild(e);else if(s!==4&&(s===27&&jl(e.type)&&(a=e.stateNode),e=e.child,e!==null))for(bi(e,t,a),e=e.sibling;e!==null;)bi(e,t,a),e=e.sibling}function Qd(e){var t=e.stateNode,a=e.memoizedProps;try{for(var s=e.type,n=t.attributes;n.length;)t.removeAttributeNode(n[0]);zt(t,s,a),t[He]=e,t[pt]=a}catch(r){Je(e,e.return,r)}}var Pa=!1,wt=!1,gc=!1,Vd=typeof WeakSet=="function"?WeakSet:Set,Et=null;function gh(e,t){if(e=e.containerInfo,_c=Ui,e=lu(e),cr(e)){if("selectionStart"in e)var a={start:e.selectionStart,end:e.selectionEnd};else e:{a=(a=e.ownerDocument)&&a.defaultView||window;var s=a.getSelection&&a.getSelection();if(s&&s.rangeCount!==0){a=s.anchorNode;var n=s.anchorOffset,r=s.focusNode;s=s.focusOffset;try{a.nodeType,r.nodeType}catch{a=null;break e}var u=0,y=-1,M=-1,U=0,Z=0,ee=e,L=null;t:for(;;){for(var Q;ee!==a||n!==0&&ee.nodeType!==3||(y=u+n),ee!==r||s!==0&&ee.nodeType!==3||(M=u+s),ee.nodeType===3&&(u+=ee.nodeValue.length),(Q=ee.firstChild)!==null;)L=ee,ee=Q;for(;;){if(ee===e)break t;if(L===a&&++U===n&&(y=u),L===r&&++Z===s&&(M=u),(Q=ee.nextSibling)!==null)break;ee=L,L=ee.parentNode}ee=Q}a=y===-1||M===-1?null:{start:y,end:M}}else a=null}a=a||{start:0,end:0}}else a=null;for(qc={focusedElem:e,selectionRange:a},Ui=!1,Et=t;Et!==null;)if(t=Et,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,Et=e;else for(;Et!==null;){switch(t=Et,r=t.alternate,e=t.flags,t.tag){case 0:if((e&4)!==0&&(e=t.updateQueue,e=e!==null?e.events:null,e!==null))for(a=0;a<e.length;a++)n=e[a],n.ref.impl=n.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&r!==null){e=void 0,a=t,n=r.memoizedProps,r=r.memoizedState,s=a.stateNode;try{var be=Yl(a.type,n);e=s.getSnapshotBeforeUpdate(be,r),s.__reactInternalSnapshotBeforeUpdate=e}catch(we){Je(a,a.return,we)}}break;case 3:if((e&1024)!==0){if(e=t.stateNode.containerInfo,a=e.nodeType,a===9)Lc(e);else if(a===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":Lc(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(c(163))}if(e=t.sibling,e!==null){e.return=t.return,Et=e;break}Et=t.return}}function Zd(e,t,a){var s=a.flags;switch(a.tag){case 0:case 11:case 15:Fa(e,a),s&4&&dn(5,a);break;case 1:if(Fa(e,a),s&4)if(e=a.stateNode,t===null)try{e.componentDidMount()}catch(u){Je(a,a.return,u)}else{var n=Yl(a.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(n,t,e.__reactInternalSnapshotBeforeUpdate)}catch(u){Je(a,a.return,u)}}s&64&&Ld(a),s&512&&mn(a,a.return);break;case 3:if(Fa(e,a),s&64&&(e=a.updateQueue,e!==null)){if(t=null,a.child!==null)switch(a.child.tag){case 27:case 5:t=a.child.stateNode;break;case 1:t=a.child.stateNode}try{Ru(e,t)}catch(u){Je(a,a.return,u)}}break;case 27:t===null&&s&4&&Qd(a);case 26:case 5:Fa(e,a),t===null&&s&4&&Yd(a),s&512&&mn(a,a.return);break;case 12:Fa(e,a);break;case 31:Fa(e,a),s&4&&Id(e,a);break;case 13:Fa(e,a),s&4&&Fd(e,a),s&64&&(e=a.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(a=wh.bind(null,a),Qh(e,a))));break;case 22:if(s=a.memoizedState!==null||Pa,!s){t=t!==null&&t.memoizedState!==null||wt,n=Pa;var r=wt;Pa=s,(wt=t)&&!r?Ka(e,a,(a.subtreeFlags&8772)!==0):Fa(e,a),Pa=n,wt=r}break;case 30:break;default:Fa(e,a)}}function $d(e){var t=e.alternate;t!==null&&(e.alternate=null,$d(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&Hs(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var rt=null,Pt=!1;function Ia(e,t,a){for(a=a.child;a!==null;)Pd(e,t,a),a=a.sibling}function Pd(e,t,a){if(yt&&typeof yt.onCommitFiberUnmount=="function")try{yt.onCommitFiberUnmount(ka,a)}catch{}switch(a.tag){case 26:wt||Ba(a,t),Ia(e,t,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:wt||Ba(a,t);var s=rt,n=Pt;jl(a.type)&&(rt=a.stateNode,Pt=!1),Ia(e,t,a),Nn(a.stateNode),rt=s,Pt=n;break;case 5:wt||Ba(a,t);case 6:if(s=rt,n=Pt,rt=null,Ia(e,t,a),rt=s,Pt=n,rt!==null)if(Pt)try{(rt.nodeType===9?rt.body:rt.nodeName==="HTML"?rt.ownerDocument.body:rt).removeChild(a.stateNode)}catch(r){Je(a,t,r)}else try{rt.removeChild(a.stateNode)}catch(r){Je(a,t,r)}break;case 18:rt!==null&&(Pt?(e=rt,Lm(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,a.stateNode),ks(e)):Lm(rt,a.stateNode));break;case 4:s=rt,n=Pt,rt=a.stateNode.containerInfo,Pt=!0,Ia(e,t,a),rt=s,Pt=n;break;case 0:case 11:case 14:case 15:gl(2,a,t),wt||gl(4,a,t),Ia(e,t,a);break;case 1:wt||(Ba(a,t),s=a.stateNode,typeof s.componentWillUnmount=="function"&&Gd(a,t,s)),Ia(e,t,a);break;case 21:Ia(e,t,a);break;case 22:wt=(s=wt)||a.memoizedState!==null,Ia(e,t,a),wt=s;break;default:Ia(e,t,a)}}function Id(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{ks(e)}catch(a){Je(t,t.return,a)}}}function Fd(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{ks(e)}catch(a){Je(t,t.return,a)}}function xh(e){switch(e.tag){case 31:case 13:case 19:var t=e.stateNode;return t===null&&(t=e.stateNode=new Vd),t;case 22:return e=e.stateNode,t=e._retryCache,t===null&&(t=e._retryCache=new Vd),t;default:throw Error(c(435,e.tag))}}function yi(e,t){var a=xh(e);t.forEach(function(s){if(!a.has(s)){a.add(s);var n=Th.bind(null,e,s);s.then(n,n)}})}function It(e,t){var a=t.deletions;if(a!==null)for(var s=0;s<a.length;s++){var n=a[s],r=e,u=t,y=u;e:for(;y!==null;){switch(y.tag){case 27:if(jl(y.type)){rt=y.stateNode,Pt=!1;break e}break;case 5:rt=y.stateNode,Pt=!1;break e;case 3:case 4:rt=y.stateNode.containerInfo,Pt=!0;break e}y=y.return}if(rt===null)throw Error(c(160));Pd(r,u,n),rt=null,Pt=!1,r=n.alternate,r!==null&&(r.return=null),n.return=null}if(t.subtreeFlags&13886)for(t=t.child;t!==null;)Kd(t,e),t=t.sibling}var Sa=null;function Kd(e,t){var a=e.alternate,s=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:It(t,e),Ft(e),s&4&&(gl(3,e,e.return),dn(3,e),gl(5,e,e.return));break;case 1:It(t,e),Ft(e),s&512&&(wt||a===null||Ba(a,a.return)),s&64&&Pa&&(e=e.updateQueue,e!==null&&(s=e.callbacks,s!==null&&(a=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=a===null?s:a.concat(s))));break;case 26:var n=Sa;if(It(t,e),Ft(e),s&512&&(wt||a===null||Ba(a,a.return)),s&4){var r=a!==null?a.memoizedState:null;if(s=e.memoizedState,a===null)if(s===null)if(e.stateNode===null){e:{s=e.type,a=e.memoizedProps,n=n.ownerDocument||n;t:switch(s){case"title":r=n.getElementsByTagName("title")[0],(!r||r[Mt]||r[He]||r.namespaceURI==="http://www.w3.org/2000/svg"||r.hasAttribute("itemprop"))&&(r=n.createElement(s),n.head.insertBefore(r,n.querySelector("head > title"))),zt(r,s,a),r[He]=e,ft(r),s=r;break e;case"link":var u=Km("link","href",n).get(s+(a.href||""));if(u){for(var y=0;y<u.length;y++)if(r=u[y],r.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&r.getAttribute("rel")===(a.rel==null?null:a.rel)&&r.getAttribute("title")===(a.title==null?null:a.title)&&r.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){u.splice(y,1);break t}}r=n.createElement(s),zt(r,s,a),n.head.appendChild(r);break;case"meta":if(u=Km("meta","content",n).get(s+(a.content||""))){for(y=0;y<u.length;y++)if(r=u[y],r.getAttribute("content")===(a.content==null?null:""+a.content)&&r.getAttribute("name")===(a.name==null?null:a.name)&&r.getAttribute("property")===(a.property==null?null:a.property)&&r.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&r.getAttribute("charset")===(a.charSet==null?null:a.charSet)){u.splice(y,1);break t}}r=n.createElement(s),zt(r,s,a),n.head.appendChild(r);break;default:throw Error(c(468,s))}r[He]=e,ft(r),s=r}e.stateNode=s}else Jm(n,e.type,e.stateNode);else e.stateNode=Fm(n,s,e.memoizedProps);else r!==s?(r===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):r.count--,s===null?Jm(n,e.type,e.stateNode):Fm(n,s,e.memoizedProps)):s===null&&e.stateNode!==null&&mc(e,e.memoizedProps,a.memoizedProps)}break;case 27:It(t,e),Ft(e),s&512&&(wt||a===null||Ba(a,a.return)),a!==null&&s&4&&mc(e,e.memoizedProps,a.memoizedProps);break;case 5:if(It(t,e),Ft(e),s&512&&(wt||a===null||Ba(a,a.return)),e.flags&32){n=e.stateNode;try{as(n,"")}catch(be){Je(e,e.return,be)}}s&4&&e.stateNode!=null&&(n=e.memoizedProps,mc(e,n,a!==null?a.memoizedProps:n)),s&1024&&(gc=!0);break;case 6:if(It(t,e),Ft(e),s&4){if(e.stateNode===null)throw Error(c(162));s=e.memoizedProps,a=e.stateNode;try{a.nodeValue=s}catch(be){Je(e,e.return,be)}}break;case 3:if(zi=null,n=Sa,Sa=Oi(t.containerInfo),It(t,e),Sa=n,Ft(e),s&4&&a!==null&&a.memoizedState.isDehydrated)try{ks(t.containerInfo)}catch(be){Je(e,e.return,be)}gc&&(gc=!1,Jd(e));break;case 4:s=Sa,Sa=Oi(e.stateNode.containerInfo),It(t,e),Ft(e),Sa=s;break;case 12:It(t,e),Ft(e);break;case 31:It(t,e),Ft(e),s&4&&(s=e.updateQueue,s!==null&&(e.updateQueue=null,yi(e,s)));break;case 13:It(t,e),Ft(e),e.child.flags&8192&&e.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(vi=Oe()),s&4&&(s=e.updateQueue,s!==null&&(e.updateQueue=null,yi(e,s)));break;case 22:n=e.memoizedState!==null;var M=a!==null&&a.memoizedState!==null,U=Pa,Z=wt;if(Pa=U||n,wt=Z||M,It(t,e),wt=Z,Pa=U,Ft(e),s&8192)e:for(t=e.stateNode,t._visibility=n?t._visibility&-2:t._visibility|1,n&&(a===null||M||Pa||wt||Xl(e)),a=null,t=e;;){if(t.tag===5||t.tag===26){if(a===null){M=a=t;try{if(r=M.stateNode,n)u=r.style,typeof u.setProperty=="function"?u.setProperty("display","none","important"):u.display="none";else{y=M.stateNode;var ee=M.memoizedProps.style,L=ee!=null&&ee.hasOwnProperty("display")?ee.display:null;y.style.display=L==null||typeof L=="boolean"?"":(""+L).trim()}}catch(be){Je(M,M.return,be)}}}else if(t.tag===6){if(a===null){M=t;try{M.stateNode.nodeValue=n?"":M.memoizedProps}catch(be){Je(M,M.return,be)}}}else if(t.tag===18){if(a===null){M=t;try{var Q=M.stateNode;n?Gm(Q,!0):Gm(M.stateNode,!1)}catch(be){Je(M,M.return,be)}}}else if((t.tag!==22&&t.tag!==23||t.memoizedState===null||t===e)&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;a===t&&(a=null),t=t.return}a===t&&(a=null),t.sibling.return=t.return,t=t.sibling}s&4&&(s=e.updateQueue,s!==null&&(a=s.retryQueue,a!==null&&(s.retryQueue=null,yi(e,a))));break;case 19:It(t,e),Ft(e),s&4&&(s=e.updateQueue,s!==null&&(e.updateQueue=null,yi(e,s)));break;case 30:break;case 21:break;default:It(t,e),Ft(e)}}function Ft(e){var t=e.flags;if(t&2){try{for(var a,s=e.return;s!==null;){if(Xd(s)){a=s;break}s=s.return}if(a==null)throw Error(c(160));switch(a.tag){case 27:var n=a.stateNode,r=fc(e);bi(e,r,n);break;case 5:var u=a.stateNode;a.flags&32&&(as(u,""),a.flags&=-33);var y=fc(e);bi(e,y,u);break;case 3:case 4:var M=a.stateNode.containerInfo,U=fc(e);hc(e,U,M);break;default:throw Error(c(161))}}catch(Z){Je(e,e.return,Z)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function Jd(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var t=e;Jd(t),t.tag===5&&t.flags&1024&&t.stateNode.reset(),e=e.sibling}}function Fa(e,t){if(t.subtreeFlags&8772)for(t=t.child;t!==null;)Zd(e,t.alternate,t),t=t.sibling}function Xl(e){for(e=e.child;e!==null;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:gl(4,t,t.return),Xl(t);break;case 1:Ba(t,t.return);var a=t.stateNode;typeof a.componentWillUnmount=="function"&&Gd(t,t.return,a),Xl(t);break;case 27:Nn(t.stateNode);case 26:case 5:Ba(t,t.return),Xl(t);break;case 22:t.memoizedState===null&&Xl(t);break;case 30:Xl(t);break;default:Xl(t)}e=e.sibling}}function Ka(e,t,a){for(a=a&&(t.subtreeFlags&8772)!==0,t=t.child;t!==null;){var s=t.alternate,n=e,r=t,u=r.flags;switch(r.tag){case 0:case 11:case 15:Ka(n,r,a),dn(4,r);break;case 1:if(Ka(n,r,a),s=r,n=s.stateNode,typeof n.componentDidMount=="function")try{n.componentDidMount()}catch(U){Je(s,s.return,U)}if(s=r,n=s.updateQueue,n!==null){var y=s.stateNode;try{var M=n.shared.hiddenCallbacks;if(M!==null)for(n.shared.hiddenCallbacks=null,n=0;n<M.length;n++)Bu(M[n],y)}catch(U){Je(s,s.return,U)}}a&&u&64&&Ld(r),mn(r,r.return);break;case 27:Qd(r);case 26:case 5:Ka(n,r,a),a&&s===null&&u&4&&Yd(r),mn(r,r.return);break;case 12:Ka(n,r,a);break;case 31:Ka(n,r,a),a&&u&4&&Id(n,r);break;case 13:Ka(n,r,a),a&&u&4&&Fd(n,r);break;case 22:r.memoizedState===null&&Ka(n,r,a),mn(r,r.return);break;case 30:break;default:Ka(n,r,a)}t=t.sibling}}function xc(e,t){var a=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),e=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(e=t.memoizedState.cachePool.pool),e!==a&&(e!=null&&e.refCount++,a!=null&&Ks(a))}function bc(e,t){e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&Ks(e))}function wa(e,t,a,s){if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Wd(e,t,a,s),t=t.sibling}function Wd(e,t,a,s){var n=t.flags;switch(t.tag){case 0:case 11:case 15:wa(e,t,a,s),n&2048&&dn(9,t);break;case 1:wa(e,t,a,s);break;case 3:wa(e,t,a,s),n&2048&&(e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&Ks(e)));break;case 12:if(n&2048){wa(e,t,a,s),e=t.stateNode;try{var r=t.memoizedProps,u=r.id,y=r.onPostCommit;typeof y=="function"&&y(u,t.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(M){Je(t,t.return,M)}}else wa(e,t,a,s);break;case 31:wa(e,t,a,s);break;case 13:wa(e,t,a,s);break;case 23:break;case 22:r=t.stateNode,u=t.alternate,t.memoizedState!==null?r._visibility&2?wa(e,t,a,s):fn(e,t):r._visibility&2?wa(e,t,a,s):(r._visibility|=2,js(e,t,a,s,(t.subtreeFlags&10256)!==0||!1)),n&2048&&xc(u,t);break;case 24:wa(e,t,a,s),n&2048&&bc(t.alternate,t);break;default:wa(e,t,a,s)}}function js(e,t,a,s,n){for(n=n&&((t.subtreeFlags&10256)!==0||!1),t=t.child;t!==null;){var r=e,u=t,y=a,M=s,U=u.flags;switch(u.tag){case 0:case 11:case 15:js(r,u,y,M,n),dn(8,u);break;case 23:break;case 22:var Z=u.stateNode;u.memoizedState!==null?Z._visibility&2?js(r,u,y,M,n):fn(r,u):(Z._visibility|=2,js(r,u,y,M,n)),n&&U&2048&&xc(u.alternate,u);break;case 24:js(r,u,y,M,n),n&&U&2048&&bc(u.alternate,u);break;default:js(r,u,y,M,n)}t=t.sibling}}function fn(e,t){if(t.subtreeFlags&10256)for(t=t.child;t!==null;){var a=e,s=t,n=s.flags;switch(s.tag){case 22:fn(a,s),n&2048&&xc(s.alternate,s);break;case 24:fn(a,s),n&2048&&bc(s.alternate,s);break;default:fn(a,s)}t=t.sibling}}var hn=8192;function Ss(e,t,a){if(e.subtreeFlags&hn)for(e=e.child;e!==null;)em(e,t,a),e=e.sibling}function em(e,t,a){switch(e.tag){case 26:Ss(e,t,a),e.flags&hn&&e.memoizedState!==null&&ag(a,Sa,e.memoizedState,e.memoizedProps);break;case 5:Ss(e,t,a);break;case 3:case 4:var s=Sa;Sa=Oi(e.stateNode.containerInfo),Ss(e,t,a),Sa=s;break;case 22:e.memoizedState===null&&(s=e.alternate,s!==null&&s.memoizedState!==null?(s=hn,hn=16777216,Ss(e,t,a),hn=s):Ss(e,t,a));break;default:Ss(e,t,a)}}function tm(e){var t=e.alternate;if(t!==null&&(e=t.child,e!==null)){t.child=null;do t=e.sibling,e.sibling=null,e=t;while(e!==null)}}function gn(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var a=0;a<t.length;a++){var s=t[a];Et=s,lm(s,e)}tm(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)am(e),e=e.sibling}function am(e){switch(e.tag){case 0:case 11:case 15:gn(e),e.flags&2048&&gl(9,e,e.return);break;case 3:gn(e);break;case 12:gn(e);break;case 22:var t=e.stateNode;e.memoizedState!==null&&t._visibility&2&&(e.return===null||e.return.tag!==13)?(t._visibility&=-3,pi(e)):gn(e);break;default:gn(e)}}function pi(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var a=0;a<t.length;a++){var s=t[a];Et=s,lm(s,e)}tm(e)}for(e=e.child;e!==null;){switch(t=e,t.tag){case 0:case 11:case 15:gl(8,t,t.return),pi(t);break;case 22:a=t.stateNode,a._visibility&2&&(a._visibility&=-3,pi(t));break;default:pi(t)}e=e.sibling}}function lm(e,t){for(;Et!==null;){var a=Et;switch(a.tag){case 0:case 11:case 15:gl(8,a,t);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var s=a.memoizedState.cachePool.pool;s!=null&&s.refCount++}break;case 24:Ks(a.memoizedState.cache)}if(s=a.child,s!==null)s.return=a,Et=s;else e:for(a=e;Et!==null;){s=Et;var n=s.sibling,r=s.return;if($d(s),s===a){Et=null;break e}if(n!==null){n.return=r,Et=n;break e}Et=r}}}var bh={getCacheForType:function(e){var t=Ot(Nt),a=t.data.get(e);return a===void 0&&(a=e(),t.data.set(e,a)),a},cacheSignal:function(){return Ot(Nt).controller.signal}},yh=typeof WeakMap=="function"?WeakMap:Map,Pe=0,st=null,ke=null,De=0,Ke=0,na=null,xl=!1,ws=!1,yc=!1,Ja=0,dt=0,bl=0,Ql=0,pc=0,ia=0,Ts=0,xn=null,Kt=null,vc=!1,vi=0,sm=0,Ni=1/0,ji=null,yl=null,Tt=0,pl=null,Ms=null,Wa=0,Nc=0,jc=null,nm=null,bn=0,Sc=null;function ra(){return(Pe&2)!==0&&De!==0?De&-De:z.T!==null?Bc():Bt()}function im(){if(ia===0)if((De&536870912)===0||Le){var e=Se;Se<<=1,(Se&3932160)===0&&(Se=262144),ia=e}else ia=536870912;return e=la.current,e!==null&&(e.flags|=32),ia}function Jt(e,t,a){(e===st&&(Ke===2||Ke===9)||e.cancelPendingCommit!==null)&&(Es(e,0),vl(e,De,ia,!1)),Xe(e,a),((Pe&2)===0||e!==st)&&(e===st&&((Pe&2)===0&&(Ql|=a),dt===4&&vl(e,De,ia,!1)),Ra(e))}function rm(e,t,a){if((Pe&6)!==0)throw Error(c(327));var s=!a&&(t&127)===0&&(t&e.expiredLanes)===0||ie(e,t),n=s?Nh(e,t):Tc(e,t,!0),r=s;do{if(n===0){ws&&!s&&vl(e,t,0,!1);break}else{if(a=e.current.alternate,r&&!ph(a)){n=Tc(e,t,!1),r=!1;continue}if(n===2){if(r=t,e.errorRecoveryDisabledLanes&r)var u=0;else u=e.pendingLanes&-536870913,u=u!==0?u:u&536870912?536870912:0;if(u!==0){t=u;e:{var y=e;n=xn;var M=y.current.memoizedState.isDehydrated;if(M&&(Es(y,u).flags|=256),u=Tc(y,u,!1),u!==2){if(yc&&!M){y.errorRecoveryDisabledLanes|=r,Ql|=r,n=4;break e}r=Kt,Kt=n,r!==null&&(Kt===null?Kt=r:Kt.push.apply(Kt,r))}n=u}if(r=!1,n!==2)continue}}if(n===1){Es(e,0),vl(e,t,0,!0);break}e:{switch(s=e,r=n,r){case 0:case 1:throw Error(c(345));case 4:if((t&4194048)!==t)break;case 6:vl(s,t,ia,!xl);break e;case 2:Kt=null;break;case 3:case 5:break;default:throw Error(c(329))}if((t&62914560)===t&&(n=vi+300-Oe(),10<n)){if(vl(s,t,ia,!xl),$(s,0,!0)!==0)break e;Wa=t,s.timeoutHandle=Um(cm.bind(null,s,a,Kt,ji,vc,t,ia,Ql,Ts,xl,r,"Throttled",-0,0),n);break e}cm(s,a,Kt,ji,vc,t,ia,Ql,Ts,xl,r,null,-0,0)}}break}while(!0);Ra(e)}function cm(e,t,a,s,n,r,u,y,M,U,Z,ee,L,Q){if(e.timeoutHandle=-1,ee=t.subtreeFlags,ee&8192||(ee&16785408)===16785408){ee={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Ua},em(t,r,ee);var be=(r&62914560)===r?vi-Oe():(r&4194048)===r?sm-Oe():0;if(be=lg(ee,be),be!==null){Wa=r,e.cancelPendingCommit=be(xm.bind(null,e,t,r,a,s,n,u,y,M,Z,ee,null,L,Q)),vl(e,r,u,!U);return}}xm(e,t,r,a,s,n,u,y,M)}function ph(e){for(var t=e;;){var a=t.tag;if((a===0||a===11||a===15)&&t.flags&16384&&(a=t.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var s=0;s<a.length;s++){var n=a[s],r=n.getSnapshot;n=n.value;try{if(!ta(r(),n))return!1}catch{return!1}}if(a=t.child,t.subtreeFlags&16384&&a!==null)a.return=t,t=a;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function vl(e,t,a,s){t&=~pc,t&=~Ql,e.suspendedLanes|=t,e.pingedLanes&=~t,s&&(e.warmLanes|=t),s=e.expirationTimes;for(var n=t;0<n;){var r=31-I(n),u=1<<r;s[r]=-1,n&=~u}a!==0&&oa(e,a,t)}function Si(){return(Pe&6)===0?(yn(0),!1):!0}function wc(){if(ke!==null){if(Ke===0)var e=ke.return;else e=ke,Ya=Dl=null,Lr(e),bs=null,Ws=0,e=ke;for(;e!==null;)Hd(e.alternate,e),e=e.return;ke=null}}function Es(e,t){var a=e.timeoutHandle;a!==-1&&(e.timeoutHandle=-1,Hh(a)),a=e.cancelPendingCommit,a!==null&&(e.cancelPendingCommit=null,a()),Wa=0,wc(),st=e,ke=a=La(e.current,null),De=t,Ke=0,na=null,xl=!1,ws=ie(e,t),yc=!1,Ts=ia=pc=Ql=bl=dt=0,Kt=xn=null,vc=!1,(t&8)!==0&&(t|=t&32);var s=e.entangledLanes;if(s!==0)for(e=e.entanglements,s&=t;0<s;){var n=31-I(s),r=1<<n;t|=e[n],s&=~r}return Ja=t,Qn(),a}function om(e,t){Be=null,z.H=cn,t===xs||t===Jn?(t=Tu(),Ke=3):t===Ar?(t=Tu(),Ke=4):Ke=t===ac?8:t!==null&&typeof t=="object"&&typeof t.then=="function"?6:1,na=t,ke===null&&(dt=1,mi(e,fa(t,e.current)))}function um(){var e=la.current;return e===null?!0:(De&4194048)===De?ba===null:(De&62914560)===De||(De&536870912)!==0?e===ba:!1}function dm(){var e=z.H;return z.H=cn,e===null?cn:e}function mm(){var e=z.A;return z.A=bh,e}function wi(){dt=4,xl||(De&4194048)!==De&&la.current!==null||(ws=!0),(bl&134217727)===0&&(Ql&134217727)===0||st===null||vl(st,De,ia,!1)}function Tc(e,t,a){var s=Pe;Pe|=2;var n=dm(),r=mm();(st!==e||De!==t)&&(ji=null,Es(e,t)),t=!1;var u=dt;e:do try{if(Ke!==0&&ke!==null){var y=ke,M=na;switch(Ke){case 8:wc(),u=6;break e;case 3:case 2:case 9:case 6:la.current===null&&(t=!0);var U=Ke;if(Ke=0,na=null,As(e,y,M,U),a&&ws){u=0;break e}break;default:U=Ke,Ke=0,na=null,As(e,y,M,U)}}vh(),u=dt;break}catch(Z){om(e,Z)}while(!0);return t&&e.shellSuspendCounter++,Ya=Dl=null,Pe=s,z.H=n,z.A=r,ke===null&&(st=null,De=0,Qn()),u}function vh(){for(;ke!==null;)fm(ke)}function Nh(e,t){var a=Pe;Pe|=2;var s=dm(),n=mm();st!==e||De!==t?(ji=null,Ni=Oe()+500,Es(e,t)):ws=ie(e,t);e:do try{if(Ke!==0&&ke!==null){t=ke;var r=na;t:switch(Ke){case 1:Ke=0,na=null,As(e,t,r,1);break;case 2:case 9:if(Su(r)){Ke=0,na=null,hm(t);break}t=function(){Ke!==2&&Ke!==9||st!==e||(Ke=7),Ra(e)},r.then(t,t);break e;case 3:Ke=7;break e;case 4:Ke=5;break e;case 7:Su(r)?(Ke=0,na=null,hm(t)):(Ke=0,na=null,As(e,t,r,7));break;case 5:var u=null;switch(ke.tag){case 26:u=ke.memoizedState;case 5:case 27:var y=ke;if(u?Wm(u):y.stateNode.complete){Ke=0,na=null;var M=y.sibling;if(M!==null)ke=M;else{var U=y.return;U!==null?(ke=U,Ti(U)):ke=null}break t}}Ke=0,na=null,As(e,t,r,5);break;case 6:Ke=0,na=null,As(e,t,r,6);break;case 8:wc(),dt=6;break e;default:throw Error(c(462))}}jh();break}catch(Z){om(e,Z)}while(!0);return Ya=Dl=null,z.H=s,z.A=n,Pe=a,ke!==null?0:(st=null,De=0,Qn(),dt)}function jh(){for(;ke!==null&&!Ht();)fm(ke)}function fm(e){var t=qd(e.alternate,e,Ja);e.memoizedProps=e.pendingProps,t===null?Ti(e):ke=t}function hm(e){var t=e,a=t.alternate;switch(t.tag){case 15:case 0:t=Cd(a,t,t.pendingProps,t.type,void 0,De);break;case 11:t=Cd(a,t,t.pendingProps,t.type.render,t.ref,De);break;case 5:Lr(t);default:Hd(a,t),t=ke=mu(t,Ja),t=qd(a,t,Ja)}e.memoizedProps=e.pendingProps,t===null?Ti(e):ke=t}function As(e,t,a,s){Ya=Dl=null,Lr(t),bs=null,Ws=0;var n=t.return;try{if(uh(e,n,t,a,De)){dt=1,mi(e,fa(a,e.current)),ke=null;return}}catch(r){if(n!==null)throw ke=n,r;dt=1,mi(e,fa(a,e.current)),ke=null;return}t.flags&32768?(Le||s===1?e=!0:ws||(De&536870912)!==0?e=!1:(xl=e=!0,(s===2||s===9||s===3||s===6)&&(s=la.current,s!==null&&s.tag===13&&(s.flags|=16384))),gm(t,e)):Ti(t)}function Ti(e){var t=e;do{if((t.flags&32768)!==0){gm(t,xl);return}e=t.return;var a=fh(t.alternate,t,Ja);if(a!==null){ke=a;return}if(t=t.sibling,t!==null){ke=t;return}ke=t=e}while(t!==null);dt===0&&(dt=5)}function gm(e,t){do{var a=hh(e.alternate,e);if(a!==null){a.flags&=32767,ke=a;return}if(a=e.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!t&&(e=e.sibling,e!==null)){ke=e;return}ke=e=a}while(e!==null);dt=6,ke=null}function xm(e,t,a,s,n,r,u,y,M){e.cancelPendingCommit=null;do Mi();while(Tt!==0);if((Pe&6)!==0)throw Error(c(327));if(t!==null){if(t===e.current)throw Error(c(177));if(r=t.lanes|t.childLanes,r|=fr,Ye(e,a,r,u,y,M),e===st&&(ke=st=null,De=0),Ms=t,pl=e,Wa=a,Nc=r,jc=n,nm=s,(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,Mh(Ma,function(){return Nm(),null})):(e.callbackNode=null,e.callbackPriority=0),s=(t.flags&13878)!==0,(t.subtreeFlags&13878)!==0||s){s=z.T,z.T=null,n=P.p,P.p=2,u=Pe,Pe|=4;try{gh(e,t,a)}finally{Pe=u,P.p=n,z.T=s}}Tt=1,bm(),ym(),pm()}}function bm(){if(Tt===1){Tt=0;var e=pl,t=Ms,a=(t.flags&13878)!==0;if((t.subtreeFlags&13878)!==0||a){a=z.T,z.T=null;var s=P.p;P.p=2;var n=Pe;Pe|=4;try{Kd(t,e);var r=qc,u=lu(e.containerInfo),y=r.focusedElem,M=r.selectionRange;if(u!==y&&y&&y.ownerDocument&&au(y.ownerDocument.documentElement,y)){if(M!==null&&cr(y)){var U=M.start,Z=M.end;if(Z===void 0&&(Z=U),"selectionStart"in y)y.selectionStart=U,y.selectionEnd=Math.min(Z,y.value.length);else{var ee=y.ownerDocument||document,L=ee&&ee.defaultView||window;if(L.getSelection){var Q=L.getSelection(),be=y.textContent.length,we=Math.min(M.start,be),at=M.end===void 0?we:Math.min(M.end,be);!Q.extend&&we>at&&(u=at,at=we,we=u);var D=tu(y,we),R=tu(y,at);if(D&&R&&(Q.rangeCount!==1||Q.anchorNode!==D.node||Q.anchorOffset!==D.offset||Q.focusNode!==R.node||Q.focusOffset!==R.offset)){var q=ee.createRange();q.setStart(D.node,D.offset),Q.removeAllRanges(),we>at?(Q.addRange(q),Q.extend(R.node,R.offset)):(q.setEnd(R.node,R.offset),Q.addRange(q))}}}}for(ee=[],Q=y;Q=Q.parentNode;)Q.nodeType===1&&ee.push({element:Q,left:Q.scrollLeft,top:Q.scrollTop});for(typeof y.focus=="function"&&y.focus(),y=0;y<ee.length;y++){var K=ee[y];K.element.scrollLeft=K.left,K.element.scrollTop=K.top}}Ui=!!_c,qc=_c=null}finally{Pe=n,P.p=s,z.T=a}}e.current=t,Tt=2}}function ym(){if(Tt===2){Tt=0;var e=pl,t=Ms,a=(t.flags&8772)!==0;if((t.subtreeFlags&8772)!==0||a){a=z.T,z.T=null;var s=P.p;P.p=2;var n=Pe;Pe|=4;try{Zd(e,t.alternate,t)}finally{Pe=n,P.p=s,z.T=a}}Tt=3}}function pm(){if(Tt===4||Tt===3){Tt=0,ve();var e=pl,t=Ms,a=Wa,s=nm;(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?Tt=5:(Tt=0,Ms=pl=null,vm(e,e.pendingLanes));var n=e.pendingLanes;if(n===0&&(yl=null),mt(a),t=t.stateNode,yt&&typeof yt.onCommitFiberRoot=="function")try{yt.onCommitFiberRoot(ka,t,void 0,(t.current.flags&128)===128)}catch{}if(s!==null){t=z.T,n=P.p,P.p=2,z.T=null;try{for(var r=e.onRecoverableError,u=0;u<s.length;u++){var y=s[u];r(y.value,{componentStack:y.stack})}}finally{z.T=t,P.p=n}}(Wa&3)!==0&&Mi(),Ra(e),n=e.pendingLanes,(a&261930)!==0&&(n&42)!==0?e===Sc?bn++:(bn=0,Sc=e):bn=0,yn(0)}}function vm(e,t){(e.pooledCacheLanes&=t)===0&&(t=e.pooledCache,t!=null&&(e.pooledCache=null,Ks(t)))}function Mi(){return bm(),ym(),pm(),Nm()}function Nm(){if(Tt!==5)return!1;var e=pl,t=Nc;Nc=0;var a=mt(Wa),s=z.T,n=P.p;try{P.p=32>a?32:a,z.T=null,a=jc,jc=null;var r=pl,u=Wa;if(Tt=0,Ms=pl=null,Wa=0,(Pe&6)!==0)throw Error(c(331));var y=Pe;if(Pe|=4,am(r.current),Wd(r,r.current,u,a),Pe=y,yn(0,!1),yt&&typeof yt.onPostCommitFiberRoot=="function")try{yt.onPostCommitFiberRoot(ka,r)}catch{}return!0}finally{P.p=n,z.T=s,vm(e,t)}}function jm(e,t,a){t=fa(a,t),t=tc(e.stateNode,t,2),e=ml(e,t,2),e!==null&&(Xe(e,2),Ra(e))}function Je(e,t,a){if(e.tag===3)jm(e,e,a);else for(;t!==null;){if(t.tag===3){jm(t,e,a);break}else if(t.tag===1){var s=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof s.componentDidCatch=="function"&&(yl===null||!yl.has(s))){e=fa(a,e),a=Sd(2),s=ml(t,a,2),s!==null&&(wd(a,s,t,e),Xe(s,2),Ra(s));break}}t=t.return}}function Mc(e,t,a){var s=e.pingCache;if(s===null){s=e.pingCache=new yh;var n=new Set;s.set(t,n)}else n=s.get(t),n===void 0&&(n=new Set,s.set(t,n));n.has(a)||(yc=!0,n.add(a),e=Sh.bind(null,e,t,a),t.then(e,e))}function Sh(e,t,a){var s=e.pingCache;s!==null&&s.delete(t),e.pingedLanes|=e.suspendedLanes&a,e.warmLanes&=~a,st===e&&(De&a)===a&&(dt===4||dt===3&&(De&62914560)===De&&300>Oe()-vi?(Pe&2)===0&&Es(e,0):pc|=a,Ts===De&&(Ts=0)),Ra(e)}function Sm(e,t){t===0&&(t=me()),e=Ol(e,t),e!==null&&(Xe(e,t),Ra(e))}function wh(e){var t=e.memoizedState,a=0;t!==null&&(a=t.retryLane),Sm(e,a)}function Th(e,t){var a=0;switch(e.tag){case 31:case 13:var s=e.stateNode,n=e.memoizedState;n!==null&&(a=n.retryLane);break;case 19:s=e.stateNode;break;case 22:s=e.stateNode._retryCache;break;default:throw Error(c(314))}s!==null&&s.delete(t),Sm(e,a)}function Mh(e,t){return Ca(e,t)}var Ei=null,Bs=null,Ec=!1,Ai=!1,Ac=!1,Nl=0;function Ra(e){e!==Bs&&e.next===null&&(Bs===null?Ei=Bs=e:Bs=Bs.next=e),Ai=!0,Ec||(Ec=!0,Ah())}function yn(e,t){if(!Ac&&Ai){Ac=!0;do for(var a=!1,s=Ei;s!==null;){if(e!==0){var n=s.pendingLanes;if(n===0)var r=0;else{var u=s.suspendedLanes,y=s.pingedLanes;r=(1<<31-I(42|e)+1)-1,r&=n&~(u&~y),r=r&201326741?r&201326741|1:r?r|2:0}r!==0&&(a=!0,Em(s,r))}else r=De,r=$(s,s===st?r:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),(r&3)===0||ie(s,r)||(a=!0,Em(s,r));s=s.next}while(a);Ac=!1}}function Eh(){wm()}function wm(){Ai=Ec=!1;var e=0;Nl!==0&&Uh()&&(e=Nl);for(var t=Oe(),a=null,s=Ei;s!==null;){var n=s.next,r=Tm(s,t);r===0?(s.next=null,a===null?Ei=n:a.next=n,n===null&&(Bs=a)):(a=s,(e!==0||(r&3)!==0)&&(Ai=!0)),s=n}Tt!==0&&Tt!==5||yn(e),Nl!==0&&(Nl=0)}function Tm(e,t){for(var a=e.suspendedLanes,s=e.pingedLanes,n=e.expirationTimes,r=e.pendingLanes&-62914561;0<r;){var u=31-I(r),y=1<<u,M=n[u];M===-1?((y&a)===0||(y&s)!==0)&&(n[u]=ce(y,t)):M<=t&&(e.expiredLanes|=y),r&=~y}if(t=st,a=De,a=$(e,e===t?a:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),s=e.callbackNode,a===0||e===t&&(Ke===2||Ke===9)||e.cancelPendingCommit!==null)return s!==null&&s!==null&&Oa(s),e.callbackNode=null,e.callbackPriority=0;if((a&3)===0||ie(e,a)){if(t=a&-a,t===e.callbackPriority)return t;switch(s!==null&&Oa(s),mt(a)){case 2:case 8:a=bt;break;case 32:a=Ma;break;case 268435456:a=al;break;default:a=Ma}return s=Mm.bind(null,e),a=Ca(a,s),e.callbackPriority=t,e.callbackNode=a,t}return s!==null&&s!==null&&Oa(s),e.callbackPriority=2,e.callbackNode=null,2}function Mm(e,t){if(Tt!==0&&Tt!==5)return e.callbackNode=null,e.callbackPriority=0,null;var a=e.callbackNode;if(Mi()&&e.callbackNode!==a)return null;var s=De;return s=$(e,e===st?s:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),s===0?null:(rm(e,s,t),Tm(e,Oe()),e.callbackNode!=null&&e.callbackNode===a?Mm.bind(null,e):null)}function Em(e,t){if(Mi())return null;rm(e,t,!0)}function Ah(){Lh(function(){(Pe&6)!==0?Ca(Jl,Eh):wm()})}function Bc(){if(Nl===0){var e=hs;e===0&&(e=oe,oe<<=1,(oe&261888)===0&&(oe=256)),Nl=e}return Nl}function Am(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:_n(""+e)}function Bm(e,t){var a=t.ownerDocument.createElement("input");return a.name=t.name,a.value=t.value,e.id&&a.setAttribute("form",e.id),t.parentNode.insertBefore(a,t),e=new FormData(e),a.parentNode.removeChild(a),e}function Bh(e,t,a,s,n){if(t==="submit"&&a&&a.stateNode===n){var r=Am((n[pt]||null).action),u=s.submitter;u&&(t=(t=u[pt]||null)?Am(t.formAction):u.getAttribute("formAction"),t!==null&&(r=t,u=null));var y=new Ln("action","action",null,s,n);e.push({event:y,listeners:[{instance:null,listener:function(){if(s.defaultPrevented){if(Nl!==0){var M=u?Bm(n,u):new FormData(n);Ir(a,{pending:!0,data:M,method:n.method,action:r},null,M)}}else typeof r=="function"&&(y.preventDefault(),M=u?Bm(n,u):new FormData(n),Ir(a,{pending:!0,data:M,method:n.method,action:r},r,M))},currentTarget:n}]})}}for(var Rc=0;Rc<mr.length;Rc++){var Cc=mr[Rc],Rh=Cc.toLowerCase(),Ch=Cc[0].toUpperCase()+Cc.slice(1);ja(Rh,"on"+Ch)}ja(iu,"onAnimationEnd"),ja(ru,"onAnimationIteration"),ja(cu,"onAnimationStart"),ja("dblclick","onDoubleClick"),ja("focusin","onFocus"),ja("focusout","onBlur"),ja($f,"onTransitionRun"),ja(Pf,"onTransitionStart"),ja(If,"onTransitionCancel"),ja(ou,"onTransitionEnd"),es("onMouseEnter",["mouseout","mouseover"]),es("onMouseLeave",["mouseout","mouseover"]),es("onPointerEnter",["pointerout","pointerover"]),es("onPointerLeave",["pointerout","pointerover"]),Xt("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Xt("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Xt("onBeforeInput",["compositionend","keypress","textInput","paste"]),Xt("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Xt("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Xt("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var pn="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Oh=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(pn));function Rm(e,t){t=(t&4)!==0;for(var a=0;a<e.length;a++){var s=e[a],n=s.event;s=s.listeners;e:{var r=void 0;if(t)for(var u=s.length-1;0<=u;u--){var y=s[u],M=y.instance,U=y.currentTarget;if(y=y.listener,M!==r&&n.isPropagationStopped())break e;r=y,n.currentTarget=U;try{r(n)}catch(Z){Xn(Z)}n.currentTarget=null,r=M}else for(u=0;u<s.length;u++){if(y=s[u],M=y.instance,U=y.currentTarget,y=y.listener,M!==r&&n.isPropagationStopped())break e;r=y,n.currentTarget=U;try{r(n)}catch(Z){Xn(Z)}n.currentTarget=null,r=M}}}}function ze(e,t){var a=t[Rt];a===void 0&&(a=t[Rt]=new Set);var s=e+"__bubble";a.has(s)||(Cm(t,e,2,!1),a.add(s))}function Oc(e,t,a){var s=0;t&&(s|=4),Cm(a,e,s,t)}var Bi="_reactListening"+Math.random().toString(36).slice(2);function kc(e){if(!e[Bi]){e[Bi]=!0,va.forEach(function(a){a!=="selectionchange"&&(Oh.has(a)||Oc(a,!1,e),Oc(a,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Bi]||(t[Bi]=!0,Oc("selectionchange",!1,t))}}function Cm(e,t,a,s){switch(i0(t)){case 2:var n=ig;break;case 8:n=rg;break;default:n=Pc}a=n.bind(null,t,a,e),n=void 0,!Wi||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(n=!0),s?n!==void 0?e.addEventListener(t,a,{capture:!0,passive:n}):e.addEventListener(t,a,!0):n!==void 0?e.addEventListener(t,a,{passive:n}):e.addEventListener(t,a,!1)}function zc(e,t,a,s,n){var r=s;if((t&1)===0&&(t&2)===0&&s!==null)e:for(;;){if(s===null)return;var u=s.tag;if(u===3||u===4){var y=s.stateNode.containerInfo;if(y===n)break;if(u===4)for(u=s.return;u!==null;){var M=u.tag;if((M===3||M===4)&&u.stateNode.containerInfo===n)return;u=u.return}for(;y!==null;){if(u=Da(y),u===null)return;if(M=u.tag,M===5||M===6||M===26||M===27){s=r=u;continue e}y=y.parentNode}}s=s.return}_o(function(){var U=r,Z=Ki(a),ee=[];e:{var L=uu.get(e);if(L!==void 0){var Q=Ln,be=e;switch(e){case"keypress":if(Un(a)===0)break e;case"keydown":case"keyup":Q=Tf;break;case"focusin":be="focus",Q=lr;break;case"focusout":be="blur",Q=lr;break;case"beforeblur":case"afterblur":Q=lr;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Q=Ho;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Q=ff;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Q=Af;break;case iu:case ru:case cu:Q=xf;break;case ou:Q=Rf;break;case"scroll":case"scrollend":Q=df;break;case"wheel":Q=Of;break;case"copy":case"cut":case"paste":Q=yf;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Q=Go;break;case"toggle":case"beforetoggle":Q=zf}var we=(t&4)!==0,at=!we&&(e==="scroll"||e==="scrollend"),D=we?L!==null?L+"Capture":null:L;we=[];for(var R=U,q;R!==null;){var K=R;if(q=K.stateNode,K=K.tag,K!==5&&K!==26&&K!==27||q===null||D===null||(K=Ls(R,D),K!=null&&we.push(vn(R,K,q))),at)break;R=R.return}0<we.length&&(L=new Q(L,be,null,a,Z),ee.push({event:L,listeners:we}))}}if((t&7)===0){e:{if(L=e==="mouseover"||e==="pointerover",Q=e==="mouseout"||e==="pointerout",L&&a!==Fi&&(be=a.relatedTarget||a.fromElement)&&(Da(be)||be[vt]))break e;if((Q||L)&&(L=Z.window===Z?Z:(L=Z.ownerDocument)?L.defaultView||L.parentWindow:window,Q?(be=a.relatedTarget||a.toElement,Q=U,be=be?Da(be):null,be!==null&&(at=f(be),we=be.tag,be!==at||we!==5&&we!==27&&we!==6)&&(be=null)):(Q=null,be=U),Q!==be)){if(we=Ho,K="onMouseLeave",D="onMouseEnter",R="mouse",(e==="pointerout"||e==="pointerover")&&(we=Go,K="onPointerLeave",D="onPointerEnter",R="pointer"),at=Q==null?L:sl(Q),q=be==null?L:sl(be),L=new we(K,R+"leave",Q,a,Z),L.target=at,L.relatedTarget=q,K=null,Da(Z)===U&&(we=new we(D,R+"enter",be,a,Z),we.target=q,we.relatedTarget=at,K=we),at=K,Q&&be)t:{for(we=kh,D=Q,R=be,q=0,K=D;K;K=we(K))q++;K=0;for(var je=R;je;je=we(je))K++;for(;0<q-K;)D=we(D),q--;for(;0<K-q;)R=we(R),K--;for(;q--;){if(D===R||R!==null&&D===R.alternate){we=D;break t}D=we(D),R=we(R)}we=null}else we=null;Q!==null&&Om(ee,L,Q,we,!1),be!==null&&at!==null&&Om(ee,at,be,we,!0)}}e:{if(L=U?sl(U):window,Q=L.nodeName&&L.nodeName.toLowerCase(),Q==="select"||Q==="input"&&L.type==="file")var Qe=Io;else if($o(L))if(Fo)Qe=Qf;else{Qe=Yf;var pe=Gf}else Q=L.nodeName,!Q||Q.toLowerCase()!=="input"||L.type!=="checkbox"&&L.type!=="radio"?U&&Ii(U.elementType)&&(Qe=Io):Qe=Xf;if(Qe&&(Qe=Qe(e,U))){Po(ee,Qe,a,Z);break e}pe&&pe(e,L,U),e==="focusout"&&U&&L.type==="number"&&U.memoizedProps.value!=null&&Pi(L,"number",L.value)}switch(pe=U?sl(U):window,e){case"focusin":($o(pe)||pe.contentEditable==="true")&&(is=pe,or=U,Ps=null);break;case"focusout":Ps=or=is=null;break;case"mousedown":ur=!0;break;case"contextmenu":case"mouseup":case"dragend":ur=!1,su(ee,a,Z);break;case"selectionchange":if(Zf)break;case"keydown":case"keyup":su(ee,a,Z)}var Re;if(nr)e:{switch(e){case"compositionstart":var _e="onCompositionStart";break e;case"compositionend":_e="onCompositionEnd";break e;case"compositionupdate":_e="onCompositionUpdate";break e}_e=void 0}else ns?Vo(e,a)&&(_e="onCompositionEnd"):e==="keydown"&&a.keyCode===229&&(_e="onCompositionStart");_e&&(Yo&&a.locale!=="ko"&&(ns||_e!=="onCompositionStart"?_e==="onCompositionEnd"&&ns&&(Re=qo()):(nl=Z,er="value"in nl?nl.value:nl.textContent,ns=!0)),pe=Ri(U,_e),0<pe.length&&(_e=new Lo(_e,e,null,a,Z),ee.push({event:_e,listeners:pe}),Re?_e.data=Re:(Re=Zo(a),Re!==null&&(_e.data=Re)))),(Re=_f?qf(e,a):Uf(e,a))&&(_e=Ri(U,"onBeforeInput"),0<_e.length&&(pe=new Lo("onBeforeInput","beforeinput",null,a,Z),ee.push({event:pe,listeners:_e}),pe.data=Re)),Bh(ee,e,U,a,Z)}Rm(ee,t)})}function vn(e,t,a){return{instance:e,listener:t,currentTarget:a}}function Ri(e,t){for(var a=t+"Capture",s=[];e!==null;){var n=e,r=n.stateNode;if(n=n.tag,n!==5&&n!==26&&n!==27||r===null||(n=Ls(e,a),n!=null&&s.unshift(vn(e,n,r)),n=Ls(e,t),n!=null&&s.push(vn(e,n,r))),e.tag===3)return s;e=e.return}return[]}function kh(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function Om(e,t,a,s,n){for(var r=t._reactName,u=[];a!==null&&a!==s;){var y=a,M=y.alternate,U=y.stateNode;if(y=y.tag,M!==null&&M===s)break;y!==5&&y!==26&&y!==27||U===null||(M=U,n?(U=Ls(a,r),U!=null&&u.unshift(vn(a,U,M))):n||(U=Ls(a,r),U!=null&&u.push(vn(a,U,M)))),a=a.return}u.length!==0&&e.push({event:t,listeners:u})}var zh=/\r\n?/g,Dh=/\u0000|\uFFFD/g;function km(e){return(typeof e=="string"?e:""+e).replace(zh,`
`).replace(Dh,"")}function zm(e,t){return t=km(t),km(e)===t}function tt(e,t,a,s,n,r){switch(a){case"children":typeof s=="string"?t==="body"||t==="textarea"&&s===""||as(e,s):(typeof s=="number"||typeof s=="bigint")&&t!=="body"&&as(e,""+s);break;case"className":zn(e,"class",s);break;case"tabIndex":zn(e,"tabindex",s);break;case"dir":case"role":case"viewBox":case"width":case"height":zn(e,a,s);break;case"style":zo(e,s,r);break;case"data":if(t!=="object"){zn(e,"data",s);break}case"src":case"href":if(s===""&&(t!=="a"||a!=="href")){e.removeAttribute(a);break}if(s==null||typeof s=="function"||typeof s=="symbol"||typeof s=="boolean"){e.removeAttribute(a);break}s=_n(""+s),e.setAttribute(a,s);break;case"action":case"formAction":if(typeof s=="function"){e.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof r=="function"&&(a==="formAction"?(t!=="input"&&tt(e,t,"name",n.name,n,null),tt(e,t,"formEncType",n.formEncType,n,null),tt(e,t,"formMethod",n.formMethod,n,null),tt(e,t,"formTarget",n.formTarget,n,null)):(tt(e,t,"encType",n.encType,n,null),tt(e,t,"method",n.method,n,null),tt(e,t,"target",n.target,n,null)));if(s==null||typeof s=="symbol"||typeof s=="boolean"){e.removeAttribute(a);break}s=_n(""+s),e.setAttribute(a,s);break;case"onClick":s!=null&&(e.onclick=Ua);break;case"onScroll":s!=null&&ze("scroll",e);break;case"onScrollEnd":s!=null&&ze("scrollend",e);break;case"dangerouslySetInnerHTML":if(s!=null){if(typeof s!="object"||!("__html"in s))throw Error(c(61));if(a=s.__html,a!=null){if(n.children!=null)throw Error(c(60));e.innerHTML=a}}break;case"multiple":e.multiple=s&&typeof s!="function"&&typeof s!="symbol";break;case"muted":e.muted=s&&typeof s!="function"&&typeof s!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(s==null||typeof s=="function"||typeof s=="boolean"||typeof s=="symbol"){e.removeAttribute("xlink:href");break}a=_n(""+s),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":s!=null&&typeof s!="function"&&typeof s!="symbol"?e.setAttribute(a,""+s):e.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":s&&typeof s!="function"&&typeof s!="symbol"?e.setAttribute(a,""):e.removeAttribute(a);break;case"capture":case"download":s===!0?e.setAttribute(a,""):s!==!1&&s!=null&&typeof s!="function"&&typeof s!="symbol"?e.setAttribute(a,s):e.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":s!=null&&typeof s!="function"&&typeof s!="symbol"&&!isNaN(s)&&1<=s?e.setAttribute(a,s):e.removeAttribute(a);break;case"rowSpan":case"start":s==null||typeof s=="function"||typeof s=="symbol"||isNaN(s)?e.removeAttribute(a):e.setAttribute(a,s);break;case"popover":ze("beforetoggle",e),ze("toggle",e),kn(e,"popover",s);break;case"xlinkActuate":qa(e,"http://www.w3.org/1999/xlink","xlink:actuate",s);break;case"xlinkArcrole":qa(e,"http://www.w3.org/1999/xlink","xlink:arcrole",s);break;case"xlinkRole":qa(e,"http://www.w3.org/1999/xlink","xlink:role",s);break;case"xlinkShow":qa(e,"http://www.w3.org/1999/xlink","xlink:show",s);break;case"xlinkTitle":qa(e,"http://www.w3.org/1999/xlink","xlink:title",s);break;case"xlinkType":qa(e,"http://www.w3.org/1999/xlink","xlink:type",s);break;case"xmlBase":qa(e,"http://www.w3.org/XML/1998/namespace","xml:base",s);break;case"xmlLang":qa(e,"http://www.w3.org/XML/1998/namespace","xml:lang",s);break;case"xmlSpace":qa(e,"http://www.w3.org/XML/1998/namespace","xml:space",s);break;case"is":kn(e,"is",s);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=of.get(a)||a,kn(e,a,s))}}function Dc(e,t,a,s,n,r){switch(a){case"style":zo(e,s,r);break;case"dangerouslySetInnerHTML":if(s!=null){if(typeof s!="object"||!("__html"in s))throw Error(c(61));if(a=s.__html,a!=null){if(n.children!=null)throw Error(c(60));e.innerHTML=a}}break;case"children":typeof s=="string"?as(e,s):(typeof s=="number"||typeof s=="bigint")&&as(e,""+s);break;case"onScroll":s!=null&&ze("scroll",e);break;case"onScrollEnd":s!=null&&ze("scrollend",e);break;case"onClick":s!=null&&(e.onclick=Ua);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Na.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(n=a.endsWith("Capture"),t=a.slice(2,n?a.length-7:void 0),r=e[pt]||null,r=r!=null?r[a]:null,typeof r=="function"&&e.removeEventListener(t,r,n),typeof s=="function")){typeof r!="function"&&r!==null&&(a in e?e[a]=null:e.hasAttribute(a)&&e.removeAttribute(a)),e.addEventListener(t,s,n);break e}a in e?e[a]=s:s===!0?e.setAttribute(a,""):kn(e,a,s)}}}function zt(e,t,a){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":ze("error",e),ze("load",e);var s=!1,n=!1,r;for(r in a)if(a.hasOwnProperty(r)){var u=a[r];if(u!=null)switch(r){case"src":s=!0;break;case"srcSet":n=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(c(137,t));default:tt(e,t,r,u,a,null)}}n&&tt(e,t,"srcSet",a.srcSet,a,null),s&&tt(e,t,"src",a.src,a,null);return;case"input":ze("invalid",e);var y=r=u=n=null,M=null,U=null;for(s in a)if(a.hasOwnProperty(s)){var Z=a[s];if(Z!=null)switch(s){case"name":n=Z;break;case"type":u=Z;break;case"checked":M=Z;break;case"defaultChecked":U=Z;break;case"value":r=Z;break;case"defaultValue":y=Z;break;case"children":case"dangerouslySetInnerHTML":if(Z!=null)throw Error(c(137,t));break;default:tt(e,t,s,Z,a,null)}}Ro(e,r,y,M,U,u,n,!1);return;case"select":ze("invalid",e),s=u=r=null;for(n in a)if(a.hasOwnProperty(n)&&(y=a[n],y!=null))switch(n){case"value":r=y;break;case"defaultValue":u=y;break;case"multiple":s=y;default:tt(e,t,n,y,a,null)}t=r,a=u,e.multiple=!!s,t!=null?ts(e,!!s,t,!1):a!=null&&ts(e,!!s,a,!0);return;case"textarea":ze("invalid",e),r=n=s=null;for(u in a)if(a.hasOwnProperty(u)&&(y=a[u],y!=null))switch(u){case"value":s=y;break;case"defaultValue":n=y;break;case"children":r=y;break;case"dangerouslySetInnerHTML":if(y!=null)throw Error(c(91));break;default:tt(e,t,u,y,a,null)}Oo(e,s,n,r);return;case"option":for(M in a)a.hasOwnProperty(M)&&(s=a[M],s!=null)&&(M==="selected"?e.selected=s&&typeof s!="function"&&typeof s!="symbol":tt(e,t,M,s,a,null));return;case"dialog":ze("beforetoggle",e),ze("toggle",e),ze("cancel",e),ze("close",e);break;case"iframe":case"object":ze("load",e);break;case"video":case"audio":for(s=0;s<pn.length;s++)ze(pn[s],e);break;case"image":ze("error",e),ze("load",e);break;case"details":ze("toggle",e);break;case"embed":case"source":case"link":ze("error",e),ze("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(U in a)if(a.hasOwnProperty(U)&&(s=a[U],s!=null))switch(U){case"children":case"dangerouslySetInnerHTML":throw Error(c(137,t));default:tt(e,t,U,s,a,null)}return;default:if(Ii(t)){for(Z in a)a.hasOwnProperty(Z)&&(s=a[Z],s!==void 0&&Dc(e,t,Z,s,a,void 0));return}}for(y in a)a.hasOwnProperty(y)&&(s=a[y],s!=null&&tt(e,t,y,s,a,null))}function _h(e,t,a,s){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var n=null,r=null,u=null,y=null,M=null,U=null,Z=null;for(Q in a){var ee=a[Q];if(a.hasOwnProperty(Q)&&ee!=null)switch(Q){case"checked":break;case"value":break;case"defaultValue":M=ee;default:s.hasOwnProperty(Q)||tt(e,t,Q,null,s,ee)}}for(var L in s){var Q=s[L];if(ee=a[L],s.hasOwnProperty(L)&&(Q!=null||ee!=null))switch(L){case"type":r=Q;break;case"name":n=Q;break;case"checked":U=Q;break;case"defaultChecked":Z=Q;break;case"value":u=Q;break;case"defaultValue":y=Q;break;case"children":case"dangerouslySetInnerHTML":if(Q!=null)throw Error(c(137,t));break;default:Q!==ee&&tt(e,t,L,Q,s,ee)}}$i(e,u,y,M,U,Z,r,n);return;case"select":Q=u=y=L=null;for(r in a)if(M=a[r],a.hasOwnProperty(r)&&M!=null)switch(r){case"value":break;case"multiple":Q=M;default:s.hasOwnProperty(r)||tt(e,t,r,null,s,M)}for(n in s)if(r=s[n],M=a[n],s.hasOwnProperty(n)&&(r!=null||M!=null))switch(n){case"value":L=r;break;case"defaultValue":y=r;break;case"multiple":u=r;default:r!==M&&tt(e,t,n,r,s,M)}t=y,a=u,s=Q,L!=null?ts(e,!!a,L,!1):!!s!=!!a&&(t!=null?ts(e,!!a,t,!0):ts(e,!!a,a?[]:"",!1));return;case"textarea":Q=L=null;for(y in a)if(n=a[y],a.hasOwnProperty(y)&&n!=null&&!s.hasOwnProperty(y))switch(y){case"value":break;case"children":break;default:tt(e,t,y,null,s,n)}for(u in s)if(n=s[u],r=a[u],s.hasOwnProperty(u)&&(n!=null||r!=null))switch(u){case"value":L=n;break;case"defaultValue":Q=n;break;case"children":break;case"dangerouslySetInnerHTML":if(n!=null)throw Error(c(91));break;default:n!==r&&tt(e,t,u,n,s,r)}Co(e,L,Q);return;case"option":for(var be in a)L=a[be],a.hasOwnProperty(be)&&L!=null&&!s.hasOwnProperty(be)&&(be==="selected"?e.selected=!1:tt(e,t,be,null,s,L));for(M in s)L=s[M],Q=a[M],s.hasOwnProperty(M)&&L!==Q&&(L!=null||Q!=null)&&(M==="selected"?e.selected=L&&typeof L!="function"&&typeof L!="symbol":tt(e,t,M,L,s,Q));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var we in a)L=a[we],a.hasOwnProperty(we)&&L!=null&&!s.hasOwnProperty(we)&&tt(e,t,we,null,s,L);for(U in s)if(L=s[U],Q=a[U],s.hasOwnProperty(U)&&L!==Q&&(L!=null||Q!=null))switch(U){case"children":case"dangerouslySetInnerHTML":if(L!=null)throw Error(c(137,t));break;default:tt(e,t,U,L,s,Q)}return;default:if(Ii(t)){for(var at in a)L=a[at],a.hasOwnProperty(at)&&L!==void 0&&!s.hasOwnProperty(at)&&Dc(e,t,at,void 0,s,L);for(Z in s)L=s[Z],Q=a[Z],!s.hasOwnProperty(Z)||L===Q||L===void 0&&Q===void 0||Dc(e,t,Z,L,s,Q);return}}for(var D in a)L=a[D],a.hasOwnProperty(D)&&L!=null&&!s.hasOwnProperty(D)&&tt(e,t,D,null,s,L);for(ee in s)L=s[ee],Q=a[ee],!s.hasOwnProperty(ee)||L===Q||L==null&&Q==null||tt(e,t,ee,L,s,Q)}function Dm(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function qh(){if(typeof performance.getEntriesByType=="function"){for(var e=0,t=0,a=performance.getEntriesByType("resource"),s=0;s<a.length;s++){var n=a[s],r=n.transferSize,u=n.initiatorType,y=n.duration;if(r&&y&&Dm(u)){for(u=0,y=n.responseEnd,s+=1;s<a.length;s++){var M=a[s],U=M.startTime;if(U>y)break;var Z=M.transferSize,ee=M.initiatorType;Z&&Dm(ee)&&(M=M.responseEnd,u+=Z*(M<y?1:(y-U)/(M-U)))}if(--s,t+=8*(r+u)/(n.duration/1e3),e++,10<e)break}}if(0<e)return t/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var _c=null,qc=null;function Ci(e){return e.nodeType===9?e:e.ownerDocument}function _m(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function qm(e,t){if(e===0)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&t==="foreignObject"?0:e}function Uc(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.children=="bigint"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Hc=null;function Uh(){var e=window.event;return e&&e.type==="popstate"?e===Hc?!1:(Hc=e,!0):(Hc=null,!1)}var Um=typeof setTimeout=="function"?setTimeout:void 0,Hh=typeof clearTimeout=="function"?clearTimeout:void 0,Hm=typeof Promise=="function"?Promise:void 0,Lh=typeof queueMicrotask=="function"?queueMicrotask:typeof Hm<"u"?function(e){return Hm.resolve(null).then(e).catch(Gh)}:Um;function Gh(e){setTimeout(function(){throw e})}function jl(e){return e==="head"}function Lm(e,t){var a=t,s=0;do{var n=a.nextSibling;if(e.removeChild(a),n&&n.nodeType===8)if(a=n.data,a==="/$"||a==="/&"){if(s===0){e.removeChild(n),ks(t);return}s--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")s++;else if(a==="html")Nn(e.ownerDocument.documentElement);else if(a==="head"){a=e.ownerDocument.head,Nn(a);for(var r=a.firstChild;r;){var u=r.nextSibling,y=r.nodeName;r[Mt]||y==="SCRIPT"||y==="STYLE"||y==="LINK"&&r.rel.toLowerCase()==="stylesheet"||a.removeChild(r),r=u}}else a==="body"&&Nn(e.ownerDocument.body);a=n}while(a);ks(t)}function Gm(e,t){var a=e;e=0;do{var s=a.nextSibling;if(a.nodeType===1?t?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(t?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),s&&s.nodeType===8)if(a=s.data,a==="/$"){if(e===0)break;e--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||e++;a=s}while(a)}function Lc(e){var t=e.firstChild;for(t&&t.nodeType===10&&(t=t.nextSibling);t;){var a=t;switch(t=t.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":Lc(a),Hs(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}e.removeChild(a)}}function Yh(e,t,a,s){for(;e.nodeType===1;){var n=a;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!s&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(s){if(!e[Mt])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(r=e.getAttribute("rel"),r==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(r!==n.rel||e.getAttribute("href")!==(n.href==null||n.href===""?null:n.href)||e.getAttribute("crossorigin")!==(n.crossOrigin==null?null:n.crossOrigin)||e.getAttribute("title")!==(n.title==null?null:n.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(r=e.getAttribute("src"),(r!==(n.src==null?null:n.src)||e.getAttribute("type")!==(n.type==null?null:n.type)||e.getAttribute("crossorigin")!==(n.crossOrigin==null?null:n.crossOrigin))&&r&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(t==="input"&&e.type==="hidden"){var r=n.name==null?null:""+n.name;if(n.type==="hidden"&&e.getAttribute("name")===r)return e}else return e;if(e=ya(e.nextSibling),e===null)break}return null}function Xh(e,t,a){if(t==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!a||(e=ya(e.nextSibling),e===null))return null;return e}function Ym(e,t){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!t||(e=ya(e.nextSibling),e===null))return null;return e}function Gc(e){return e.data==="$?"||e.data==="$~"}function Yc(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function Qh(e,t){var a=e.ownerDocument;if(e.data==="$~")e._reactRetry=t;else if(e.data!=="$?"||a.readyState!=="loading")t();else{var s=function(){t(),a.removeEventListener("DOMContentLoaded",s)};a.addEventListener("DOMContentLoaded",s),e._reactRetry=s}}function ya(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?"||t==="$~"||t==="&"||t==="F!"||t==="F")break;if(t==="/$"||t==="/&")return null}}return e}var Xc=null;function Xm(e){e=e.nextSibling;for(var t=0;e;){if(e.nodeType===8){var a=e.data;if(a==="/$"||a==="/&"){if(t===0)return ya(e.nextSibling);t--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||t++}e=e.nextSibling}return null}function Qm(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var a=e.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(t===0)return e;t--}else a!=="/$"&&a!=="/&"||t++}e=e.previousSibling}return null}function Vm(e,t,a){switch(t=Ci(a),e){case"html":if(e=t.documentElement,!e)throw Error(c(452));return e;case"head":if(e=t.head,!e)throw Error(c(453));return e;case"body":if(e=t.body,!e)throw Error(c(454));return e;default:throw Error(c(451))}}function Nn(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);Hs(e)}var pa=new Map,Zm=new Set;function Oi(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var el=P.d;P.d={f:Vh,r:Zh,D:$h,C:Ph,L:Ih,m:Fh,X:Jh,S:Kh,M:Wh};function Vh(){var e=el.f(),t=Si();return e||t}function Zh(e){var t=ll(e);t!==null&&t.tag===5&&t.type==="form"?od(t):el.r(e)}var Rs=typeof document>"u"?null:document;function $m(e,t,a){var s=Rs;if(s&&typeof t=="string"&&t){var n=da(t);n='link[rel="'+e+'"][href="'+n+'"]',typeof a=="string"&&(n+='[crossorigin="'+a+'"]'),Zm.has(n)||(Zm.add(n),e={rel:e,crossOrigin:a,href:t},s.querySelector(n)===null&&(t=s.createElement("link"),zt(t,"link",e),ft(t),s.head.appendChild(t)))}}function $h(e){el.D(e),$m("dns-prefetch",e,null)}function Ph(e,t){el.C(e,t),$m("preconnect",e,t)}function Ih(e,t,a){el.L(e,t,a);var s=Rs;if(s&&e&&t){var n='link[rel="preload"][as="'+da(t)+'"]';t==="image"&&a&&a.imageSrcSet?(n+='[imagesrcset="'+da(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(n+='[imagesizes="'+da(a.imageSizes)+'"]')):n+='[href="'+da(e)+'"]';var r=n;switch(t){case"style":r=Cs(e);break;case"script":r=Os(e)}pa.has(r)||(e=p({rel:"preload",href:t==="image"&&a&&a.imageSrcSet?void 0:e,as:t},a),pa.set(r,e),s.querySelector(n)!==null||t==="style"&&s.querySelector(jn(r))||t==="script"&&s.querySelector(Sn(r))||(t=s.createElement("link"),zt(t,"link",e),ft(t),s.head.appendChild(t)))}}function Fh(e,t){el.m(e,t);var a=Rs;if(a&&e){var s=t&&typeof t.as=="string"?t.as:"script",n='link[rel="modulepreload"][as="'+da(s)+'"][href="'+da(e)+'"]',r=n;switch(s){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":r=Os(e)}if(!pa.has(r)&&(e=p({rel:"modulepreload",href:e},t),pa.set(r,e),a.querySelector(n)===null)){switch(s){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(Sn(r)))return}s=a.createElement("link"),zt(s,"link",e),ft(s),a.head.appendChild(s)}}}function Kh(e,t,a){el.S(e,t,a);var s=Rs;if(s&&e){var n=_a(s).hoistableStyles,r=Cs(e);t=t||"default";var u=n.get(r);if(!u){var y={loading:0,preload:null};if(u=s.querySelector(jn(r)))y.loading=5;else{e=p({rel:"stylesheet",href:e,"data-precedence":t},a),(a=pa.get(r))&&Qc(e,a);var M=u=s.createElement("link");ft(M),zt(M,"link",e),M._p=new Promise(function(U,Z){M.onload=U,M.onerror=Z}),M.addEventListener("load",function(){y.loading|=1}),M.addEventListener("error",function(){y.loading|=2}),y.loading|=4,ki(u,t,s)}u={type:"stylesheet",instance:u,count:1,state:y},n.set(r,u)}}}function Jh(e,t){el.X(e,t);var a=Rs;if(a&&e){var s=_a(a).hoistableScripts,n=Os(e),r=s.get(n);r||(r=a.querySelector(Sn(n)),r||(e=p({src:e,async:!0},t),(t=pa.get(n))&&Vc(e,t),r=a.createElement("script"),ft(r),zt(r,"link",e),a.head.appendChild(r)),r={type:"script",instance:r,count:1,state:null},s.set(n,r))}}function Wh(e,t){el.M(e,t);var a=Rs;if(a&&e){var s=_a(a).hoistableScripts,n=Os(e),r=s.get(n);r||(r=a.querySelector(Sn(n)),r||(e=p({src:e,async:!0,type:"module"},t),(t=pa.get(n))&&Vc(e,t),r=a.createElement("script"),ft(r),zt(r,"link",e),a.head.appendChild(r)),r={type:"script",instance:r,count:1,state:null},s.set(n,r))}}function Pm(e,t,a,s){var n=(n=Ae.current)?Oi(n):null;if(!n)throw Error(c(446));switch(e){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(t=Cs(a.href),a=_a(n).hoistableStyles,s=a.get(t),s||(s={type:"style",instance:null,count:0,state:null},a.set(t,s)),s):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){e=Cs(a.href);var r=_a(n).hoistableStyles,u=r.get(e);if(u||(n=n.ownerDocument||n,u={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},r.set(e,u),(r=n.querySelector(jn(e)))&&!r._p&&(u.instance=r,u.state.loading=5),pa.has(e)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},pa.set(e,a),r||eg(n,e,a,u.state))),t&&s===null)throw Error(c(528,""));return u}if(t&&s!==null)throw Error(c(529,""));return null;case"script":return t=a.async,a=a.src,typeof a=="string"&&t&&typeof t!="function"&&typeof t!="symbol"?(t=Os(a),a=_a(n).hoistableScripts,s=a.get(t),s||(s={type:"script",instance:null,count:0,state:null},a.set(t,s)),s):{type:"void",instance:null,count:0,state:null};default:throw Error(c(444,e))}}function Cs(e){return'href="'+da(e)+'"'}function jn(e){return'link[rel="stylesheet"]['+e+"]"}function Im(e){return p({},e,{"data-precedence":e.precedence,precedence:null})}function eg(e,t,a,s){e.querySelector('link[rel="preload"][as="style"]['+t+"]")?s.loading=1:(t=e.createElement("link"),s.preload=t,t.addEventListener("load",function(){return s.loading|=1}),t.addEventListener("error",function(){return s.loading|=2}),zt(t,"link",a),ft(t),e.head.appendChild(t))}function Os(e){return'[src="'+da(e)+'"]'}function Sn(e){return"script[async]"+e}function Fm(e,t,a){if(t.count++,t.instance===null)switch(t.type){case"style":var s=e.querySelector('style[data-href~="'+da(a.href)+'"]');if(s)return t.instance=s,ft(s),s;var n=p({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return s=(e.ownerDocument||e).createElement("style"),ft(s),zt(s,"style",n),ki(s,a.precedence,e),t.instance=s;case"stylesheet":n=Cs(a.href);var r=e.querySelector(jn(n));if(r)return t.state.loading|=4,t.instance=r,ft(r),r;s=Im(a),(n=pa.get(n))&&Qc(s,n),r=(e.ownerDocument||e).createElement("link"),ft(r);var u=r;return u._p=new Promise(function(y,M){u.onload=y,u.onerror=M}),zt(r,"link",s),t.state.loading|=4,ki(r,a.precedence,e),t.instance=r;case"script":return r=Os(a.src),(n=e.querySelector(Sn(r)))?(t.instance=n,ft(n),n):(s=a,(n=pa.get(r))&&(s=p({},a),Vc(s,n)),e=e.ownerDocument||e,n=e.createElement("script"),ft(n),zt(n,"link",s),e.head.appendChild(n),t.instance=n);case"void":return null;default:throw Error(c(443,t.type))}else t.type==="stylesheet"&&(t.state.loading&4)===0&&(s=t.instance,t.state.loading|=4,ki(s,a.precedence,e));return t.instance}function ki(e,t,a){for(var s=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),n=s.length?s[s.length-1]:null,r=n,u=0;u<s.length;u++){var y=s[u];if(y.dataset.precedence===t)r=y;else if(r!==n)break}r?r.parentNode.insertBefore(e,r.nextSibling):(t=a.nodeType===9?a.head:a,t.insertBefore(e,t.firstChild))}function Qc(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.title==null&&(e.title=t.title)}function Vc(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.integrity==null&&(e.integrity=t.integrity)}var zi=null;function Km(e,t,a){if(zi===null){var s=new Map,n=zi=new Map;n.set(a,s)}else n=zi,s=n.get(a),s||(s=new Map,n.set(a,s));if(s.has(e))return s;for(s.set(e,null),a=a.getElementsByTagName(e),n=0;n<a.length;n++){var r=a[n];if(!(r[Mt]||r[He]||e==="link"&&r.getAttribute("rel")==="stylesheet")&&r.namespaceURI!=="http://www.w3.org/2000/svg"){var u=r.getAttribute(t)||"";u=e+u;var y=s.get(u);y?y.push(r):s.set(u,[r])}}return s}function Jm(e,t,a){e=e.ownerDocument||e,e.head.insertBefore(a,t==="title"?e.querySelector("head > title"):null)}function tg(e,t,a){if(a===1||t.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof t.precedence!="string"||typeof t.href!="string"||t.href==="")break;return!0;case"link":if(typeof t.rel!="string"||typeof t.href!="string"||t.href===""||t.onLoad||t.onError)break;return t.rel==="stylesheet"?(e=t.disabled,typeof t.precedence=="string"&&e==null):!0;case"script":if(t.async&&typeof t.async!="function"&&typeof t.async!="symbol"&&!t.onLoad&&!t.onError&&t.src&&typeof t.src=="string")return!0}return!1}function Wm(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function ag(e,t,a,s){if(a.type==="stylesheet"&&(typeof s.media!="string"||matchMedia(s.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var n=Cs(s.href),r=t.querySelector(jn(n));if(r){t=r._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(e.count++,e=Di.bind(e),t.then(e,e)),a.state.loading|=4,a.instance=r,ft(r);return}r=t.ownerDocument||t,s=Im(s),(n=pa.get(n))&&Qc(s,n),r=r.createElement("link"),ft(r);var u=r;u._p=new Promise(function(y,M){u.onload=y,u.onerror=M}),zt(r,"link",s),a.instance=r}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(a,t),(t=a.state.preload)&&(a.state.loading&3)===0&&(e.count++,a=Di.bind(e),t.addEventListener("load",a),t.addEventListener("error",a))}}var Zc=0;function lg(e,t){return e.stylesheets&&e.count===0&&qi(e,e.stylesheets),0<e.count||0<e.imgCount?function(a){var s=setTimeout(function(){if(e.stylesheets&&qi(e,e.stylesheets),e.unsuspend){var r=e.unsuspend;e.unsuspend=null,r()}},6e4+t);0<e.imgBytes&&Zc===0&&(Zc=62500*qh());var n=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&qi(e,e.stylesheets),e.unsuspend)){var r=e.unsuspend;e.unsuspend=null,r()}},(e.imgBytes>Zc?50:800)+t);return e.unsuspend=a,function(){e.unsuspend=null,clearTimeout(s),clearTimeout(n)}}:null}function Di(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)qi(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var _i=null;function qi(e,t){e.stylesheets=null,e.unsuspend!==null&&(e.count++,_i=new Map,t.forEach(sg,e),_i=null,Di.call(e))}function sg(e,t){if(!(t.state.loading&4)){var a=_i.get(e);if(a)var s=a.get(null);else{a=new Map,_i.set(e,a);for(var n=e.querySelectorAll("link[data-precedence],style[data-precedence]"),r=0;r<n.length;r++){var u=n[r];(u.nodeName==="LINK"||u.getAttribute("media")!=="not all")&&(a.set(u.dataset.precedence,u),s=u)}s&&a.set(null,s)}n=t.instance,u=n.getAttribute("data-precedence"),r=a.get(u)||s,r===s&&a.set(null,n),a.set(u,n),this.count++,s=Di.bind(this),n.addEventListener("load",s),n.addEventListener("error",s),r?r.parentNode.insertBefore(n,r.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(n,e.firstChild)),t.state.loading|=4}}var wn={$$typeof:O,Provider:null,Consumer:null,_currentValue:te,_currentValue2:te,_threadCount:0};function ng(e,t,a,s,n,r,u,y,M){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Ue(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ue(0),this.hiddenUpdates=Ue(null),this.identifierPrefix=s,this.onUncaughtError=n,this.onCaughtError=r,this.onRecoverableError=u,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=M,this.incompleteTransitions=new Map}function e0(e,t,a,s,n,r,u,y,M,U,Z,ee){return e=new ng(e,t,a,u,M,U,Z,ee,y),t=1,r===!0&&(t|=24),r=aa(3,null,null,t),e.current=r,r.stateNode=e,t=Tr(),t.refCount++,e.pooledCache=t,t.refCount++,r.memoizedState={element:s,isDehydrated:a,cache:t},Br(r),e}function t0(e){return e?(e=os,e):os}function a0(e,t,a,s,n,r){n=t0(n),s.context===null?s.context=n:s.pendingContext=n,s=dl(t),s.payload={element:a},r=r===void 0?null:r,r!==null&&(s.callback=r),a=ml(e,s,t),a!==null&&(Jt(a,e,t),tn(a,e,t))}function l0(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var a=e.retryLane;e.retryLane=a!==0&&a<t?a:t}}function $c(e,t){l0(e,t),(e=e.alternate)&&l0(e,t)}function s0(e){if(e.tag===13||e.tag===31){var t=Ol(e,67108864);t!==null&&Jt(t,e,67108864),$c(e,67108864)}}function n0(e){if(e.tag===13||e.tag===31){var t=ra();t=$e(t);var a=Ol(e,t);a!==null&&Jt(a,e,t),$c(e,t)}}var Ui=!0;function ig(e,t,a,s){var n=z.T;z.T=null;var r=P.p;try{P.p=2,Pc(e,t,a,s)}finally{P.p=r,z.T=n}}function rg(e,t,a,s){var n=z.T;z.T=null;var r=P.p;try{P.p=8,Pc(e,t,a,s)}finally{P.p=r,z.T=n}}function Pc(e,t,a,s){if(Ui){var n=Ic(s);if(n===null)zc(e,t,s,Hi,a),r0(e,s);else if(og(n,e,t,a,s))s.stopPropagation();else if(r0(e,s),t&4&&-1<cg.indexOf(e)){for(;n!==null;){var r=ll(n);if(r!==null)switch(r.tag){case 3:if(r=r.stateNode,r.current.memoizedState.isDehydrated){var u=H(r.pendingLanes);if(u!==0){var y=r;for(y.pendingLanes|=2,y.entangledLanes|=2;u;){var M=1<<31-I(u);y.entanglements[1]|=M,u&=~M}Ra(r),(Pe&6)===0&&(Ni=Oe()+500,yn(0))}}break;case 31:case 13:y=Ol(r,2),y!==null&&Jt(y,r,2),Si(),$c(r,2)}if(r=Ic(s),r===null&&zc(e,t,s,Hi,a),r===n)break;n=r}n!==null&&s.stopPropagation()}else zc(e,t,s,null,a)}}function Ic(e){return e=Ki(e),Fc(e)}var Hi=null;function Fc(e){if(Hi=null,e=Da(e),e!==null){var t=f(e);if(t===null)e=null;else{var a=t.tag;if(a===13){if(e=b(t),e!==null)return e;e=null}else if(a===31){if(e=x(t),e!==null)return e;e=null}else if(a===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return Hi=e,null}function i0(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Ee()){case Jl:return 2;case bt:return 8;case Ma:case Al:return 32;case al:return 268435456;default:return 32}default:return 32}}var Kc=!1,Sl=null,wl=null,Tl=null,Tn=new Map,Mn=new Map,Ml=[],cg="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function r0(e,t){switch(e){case"focusin":case"focusout":Sl=null;break;case"dragenter":case"dragleave":wl=null;break;case"mouseover":case"mouseout":Tl=null;break;case"pointerover":case"pointerout":Tn.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Mn.delete(t.pointerId)}}function En(e,t,a,s,n,r){return e===null||e.nativeEvent!==r?(e={blockedOn:t,domEventName:a,eventSystemFlags:s,nativeEvent:r,targetContainers:[n]},t!==null&&(t=ll(t),t!==null&&s0(t)),e):(e.eventSystemFlags|=s,t=e.targetContainers,n!==null&&t.indexOf(n)===-1&&t.push(n),e)}function og(e,t,a,s,n){switch(t){case"focusin":return Sl=En(Sl,e,t,a,s,n),!0;case"dragenter":return wl=En(wl,e,t,a,s,n),!0;case"mouseover":return Tl=En(Tl,e,t,a,s,n),!0;case"pointerover":var r=n.pointerId;return Tn.set(r,En(Tn.get(r)||null,e,t,a,s,n)),!0;case"gotpointercapture":return r=n.pointerId,Mn.set(r,En(Mn.get(r)||null,e,t,a,s,n)),!0}return!1}function c0(e){var t=Da(e.target);if(t!==null){var a=f(t);if(a!==null){if(t=a.tag,t===13){if(t=b(a),t!==null){e.blockedOn=t,Us(e.priority,function(){n0(a)});return}}else if(t===31){if(t=x(a),t!==null){e.blockedOn=t,Us(e.priority,function(){n0(a)});return}}else if(t===3&&a.stateNode.current.memoizedState.isDehydrated){e.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Li(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var a=Ic(e.nativeEvent);if(a===null){a=e.nativeEvent;var s=new a.constructor(a.type,a);Fi=s,a.target.dispatchEvent(s),Fi=null}else return t=ll(a),t!==null&&s0(t),e.blockedOn=a,!1;t.shift()}return!0}function o0(e,t,a){Li(e)&&a.delete(t)}function ug(){Kc=!1,Sl!==null&&Li(Sl)&&(Sl=null),wl!==null&&Li(wl)&&(wl=null),Tl!==null&&Li(Tl)&&(Tl=null),Tn.forEach(o0),Mn.forEach(o0)}function Gi(e,t){e.blockedOn===t&&(e.blockedOn=null,Kc||(Kc=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,ug)))}var Yi=null;function u0(e){Yi!==e&&(Yi=e,i.unstable_scheduleCallback(i.unstable_NormalPriority,function(){Yi===e&&(Yi=null);for(var t=0;t<e.length;t+=3){var a=e[t],s=e[t+1],n=e[t+2];if(typeof s!="function"){if(Fc(s||a)===null)continue;break}var r=ll(a);r!==null&&(e.splice(t,3),t-=3,Ir(r,{pending:!0,data:n,method:a.method,action:s},s,n))}}))}function ks(e){function t(M){return Gi(M,e)}Sl!==null&&Gi(Sl,e),wl!==null&&Gi(wl,e),Tl!==null&&Gi(Tl,e),Tn.forEach(t),Mn.forEach(t);for(var a=0;a<Ml.length;a++){var s=Ml[a];s.blockedOn===e&&(s.blockedOn=null)}for(;0<Ml.length&&(a=Ml[0],a.blockedOn===null);)c0(a),a.blockedOn===null&&Ml.shift();if(a=(e.ownerDocument||e).$$reactFormReplay,a!=null)for(s=0;s<a.length;s+=3){var n=a[s],r=a[s+1],u=n[pt]||null;if(typeof r=="function")u||u0(a);else if(u){var y=null;if(r&&r.hasAttribute("formAction")){if(n=r,u=r[pt]||null)y=u.formAction;else if(Fc(n)!==null)continue}else y=u.action;typeof y=="function"?a[s+1]=y:(a.splice(s,3),s-=3),u0(a)}}}function d0(){function e(r){r.canIntercept&&r.info==="react-transition"&&r.intercept({handler:function(){return new Promise(function(u){return n=u})},focusReset:"manual",scroll:"manual"})}function t(){n!==null&&(n(),n=null),s||setTimeout(a,20)}function a(){if(!s&&!navigation.transition){var r=navigation.currentEntry;r&&r.url!=null&&navigation.navigate(r.url,{state:r.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var s=!1,n=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",t),navigation.addEventListener("navigateerror",t),setTimeout(a,100),function(){s=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",t),navigation.removeEventListener("navigateerror",t),n!==null&&(n(),n=null)}}}function Jc(e){this._internalRoot=e}Xi.prototype.render=Jc.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(c(409));var a=t.current,s=ra();a0(a,s,e,t,null,null)},Xi.prototype.unmount=Jc.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;a0(e.current,2,null,e,null,null),Si(),t[vt]=null}};function Xi(e){this._internalRoot=e}Xi.prototype.unstable_scheduleHydration=function(e){if(e){var t=Bt();e={blockedOn:null,target:e,priority:t};for(var a=0;a<Ml.length&&t!==0&&t<Ml[a].priority;a++);Ml.splice(a,0,e),a===0&&c0(e)}};var m0=d.version;if(m0!=="19.2.3")throw Error(c(527,m0,"19.2.3"));P.findDOMNode=function(e){var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(c(188)):(e=Object.keys(e).join(","),Error(c(268,e)));return e=h(t),e=e!==null?v(e):null,e=e===null?null:e.stateNode,e};var dg={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:z,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Qi=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Qi.isDisabled&&Qi.supportsFiber)try{ka=Qi.inject(dg),yt=Qi}catch{}}return Bn.createRoot=function(e,t){if(!m(e))throw Error(c(299));var a=!1,s="",n=pd,r=vd,u=Nd;return t!=null&&(t.unstable_strictMode===!0&&(a=!0),t.identifierPrefix!==void 0&&(s=t.identifierPrefix),t.onUncaughtError!==void 0&&(n=t.onUncaughtError),t.onCaughtError!==void 0&&(r=t.onCaughtError),t.onRecoverableError!==void 0&&(u=t.onRecoverableError)),t=e0(e,1,!1,null,null,a,s,null,n,r,u,d0),e[vt]=t.current,kc(e),new Jc(t)},Bn.hydrateRoot=function(e,t,a){if(!m(e))throw Error(c(299));var s=!1,n="",r=pd,u=vd,y=Nd,M=null;return a!=null&&(a.unstable_strictMode===!0&&(s=!0),a.identifierPrefix!==void 0&&(n=a.identifierPrefix),a.onUncaughtError!==void 0&&(r=a.onUncaughtError),a.onCaughtError!==void 0&&(u=a.onCaughtError),a.onRecoverableError!==void 0&&(y=a.onRecoverableError),a.formState!==void 0&&(M=a.formState)),t=e0(e,1,!0,t,a??null,s,n,M,r,u,y,d0),t.context=t0(null),a=t.current,s=ra(),s=$e(s),n=dl(s),n.callback=null,ml(a,n,s),a=s,t.current.lanes=a,Xe(t,a),Ra(t),e[vt]=t.current,kc(e),new Xi(t)},Bn.version="19.2.3",Bn}var y0;function jg(){if(y0)return eo.exports;y0=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(d){console.error(d)}}return i(),eo.exports=Ng(),eo.exports}var Sg=jg();const wg="modulepreload",Tg=function(i){return"/cricket-management/"+i},p0={},Mg=function(d,o,c){let m=Promise.resolve();if(o&&o.length>0){let g=function(h){return Promise.all(h.map(v=>Promise.resolve(v).then(p=>({status:"fulfilled",value:p}),p=>({status:"rejected",reason:p}))))};document.getElementsByTagName("link");const b=document.querySelector("meta[property=csp-nonce]"),x=b?.nonce||b?.getAttribute("nonce");m=g(o.map(h=>{if(h=Tg(h),h in p0)return;p0[h]=!0;const v=h.endsWith(".css"),p=v?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${h}"]${p}`))return;const T=document.createElement("link");if(T.rel=v?"stylesheet":wg,v||(T.as="script"),T.crossOrigin="",T.href=h,x&&T.setAttribute("nonce",x),document.head.appendChild(T),v)return new Promise((w,j)=>{T.addEventListener("load",w),T.addEventListener("error",()=>j(new Error(`Unable to preload CSS for ${h}`)))})}))}function f(b){const x=new Event("vite:preloadError",{cancelable:!0});if(x.payload=b,window.dispatchEvent(x),!x.defaultPrevented)throw b}return m.then(b=>{for(const x of b||[])x.status==="rejected"&&f(x.reason);return d().catch(f)})};function Eg(i,d){let o;try{o=i()}catch{return}return{getItem:m=>{var f;const b=g=>g===null?null:JSON.parse(g,void 0),x=(f=o.getItem(m))!=null?f:null;return x instanceof Promise?x.then(b):b(x)},setItem:(m,f)=>o.setItem(m,JSON.stringify(f,void 0)),removeItem:m=>o.removeItem(m)}}const no=i=>d=>{try{const o=i(d);return o instanceof Promise?o:{then(c){return no(c)(o)},catch(c){return this}}}catch(o){return{then(c){return this},catch(c){return no(c)(o)}}}},Ag=(i,d)=>(o,c,m)=>{let f={storage:Eg(()=>localStorage),partialize:N=>N,version:0,merge:(N,S)=>({...S,...N}),...d},b=!1;const x=new Set,g=new Set;let h=f.storage;if(!h)return i((...N)=>{console.warn(`[zustand persist middleware] Unable to update item '${f.name}', the given storage is currently unavailable.`),o(...N)},c,m);const v=()=>{const N=f.partialize({...c()});return h.setItem(f.name,{state:N,version:f.version})},p=m.setState;m.setState=(N,S)=>(p(N,S),v());const T=i((...N)=>(o(...N),v()),c,m);m.getInitialState=()=>T;let w;const j=()=>{var N,S;if(!h)return;b=!1,x.forEach(k=>{var O;return k((O=c())!=null?O:T)});const E=((S=f.onRehydrateStorage)==null?void 0:S.call(f,(N=c())!=null?N:T))||void 0;return no(h.getItem.bind(h))(f.name).then(k=>{if(k)if(typeof k.version=="number"&&k.version!==f.version){if(f.migrate){const O=f.migrate(k.state,k.version);return O instanceof Promise?O.then(W=>[!0,W]):[!0,O]}console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return[!1,k.state];return[!1,void 0]}).then(k=>{var O;const[W,_]=k;if(w=f.merge(_,(O=c())!=null?O:T),o(w,!0),W)return v()}).then(()=>{E?.(w,void 0),w=c(),b=!0,g.forEach(k=>k(w))}).catch(k=>{E?.(void 0,k)})};return m.persist={setOptions:N=>{f={...f,...N},N.storage&&(h=N.storage)},clearStorage:()=>{h?.removeItem(f.name)},getOptions:()=>f,rehydrate:()=>j(),hasHydrated:()=>b,onHydrate:N=>(x.add(N),()=>{x.delete(N)}),onFinishHydration:N=>(g.add(N),()=>{g.delete(N)})},f.skipHydration||j(),w||T},Bg=Ag,bo="cricket-manager-slot-",yo="cricket-manager-slots";function po(){try{const i=localStorage.getItem(yo);return i?JSON.parse(i):[]}catch{return[]}}function Rg(i,d,o,c,m,f){try{const b={id:i,name:d||`Save ${i}`,teamId:o.playerTeamId,teamName:f,season:o.season,matchDay:o.matchDay,phase:o.phase,savedAt:new Date().toISOString()},x={slot:b,gameState:o,auctionState:c,liveMatchState:m};localStorage.setItem(`${bo}${i}`,JSON.stringify(x));const g=po().filter(h=>h.id!==i);return g.push(b),g.sort((h,v)=>h.id-v.id),localStorage.setItem(yo,JSON.stringify(g)),!0}catch(b){return console.error("Failed to save game:",b),!1}}function Cg(i){try{const d=localStorage.getItem(`${bo}${i}`);return d?JSON.parse(d):null}catch(d){return console.error("Failed to load game:",d),null}}function Og(i){try{localStorage.removeItem(`${bo}${i}`);const d=po().filter(o=>o.id!==i);return localStorage.setItem(yo,JSON.stringify(d)),!0}catch(d){return console.error("Failed to delete save:",d),!1}}function vo(i){return new Date(i).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric",hour:"2-digit",minute:"2-digit"})}const _t=[];for(let i=0;i<256;++i)_t.push((i+256).toString(16).slice(1));function kg(i,d=0){return(_t[i[d+0]]+_t[i[d+1]]+_t[i[d+2]]+_t[i[d+3]]+"-"+_t[i[d+4]]+_t[i[d+5]]+"-"+_t[i[d+6]]+_t[i[d+7]]+"-"+_t[i[d+8]]+_t[i[d+9]]+"-"+_t[i[d+10]]+_t[i[d+11]]+_t[i[d+12]]+_t[i[d+13]]+_t[i[d+14]]+_t[i[d+15]]).toLowerCase()}let lo;const zg=new Uint8Array(16);function Dg(){if(!lo){if(typeof crypto>"u"||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");lo=crypto.getRandomValues.bind(crypto)}return lo(zg)}const _g=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),v0={randomUUID:_g};function qg(i,d,o){i=i||{};const c=i.random??i.rng?.()??Dg();if(c.length<16)throw new Error("Random bytes length must be >= 16");return c[6]=c[6]&15|64,c[8]=c[8]&63|128,kg(c)}function No(i,d,o){return v0.randomUUID&&!i?v0.randomUUID():qg(i)}const G0=i=>{const o={"Wankhede Stadium":{pace:70,spin:45,bounce:75,deterioration:30},"MA Chidambaram Stadium":{pace:40,spin:85,bounce:55,deterioration:50},"M. Chinnaswamy Stadium":{pace:65,spin:50,bounce:70,deterioration:25},"Eden Gardens":{pace:55,spin:70,bounce:60,deterioration:40},"Arun Jaitley Stadium":{pace:60,spin:60,bounce:65,deterioration:35},"Sawai Mansingh Stadium":{pace:50,spin:75,bounce:55,deterioration:45},"Punjab Cricket Association Stadium":{pace:75,spin:40,bounce:80,deterioration:20},"Narendra Modi Stadium":{pace:60,spin:55,bounce:65,deterioration:30},"Rajiv Gandhi International Stadium":{pace:65,spin:55,bounce:70,deterioration:35},"BRSABV Ekana Cricket Stadium":{pace:55,spin:65,bounce:60,deterioration:40}}[i]||{pace:60,spin:55,bounce:65,deterioration:30};return{pace:Math.max(30,Math.min(90,o.pace+Math.floor(Math.random()*11)-5)),spin:Math.max(30,Math.min(90,o.spin+Math.floor(Math.random()*11)-5)),bounce:Math.max(30,Math.min(90,o.bounce+Math.floor(Math.random()*11)-5)),deterioration:Math.max(10,Math.min(60,o.deterioration+Math.floor(Math.random()*11)-5))}},Vl=["mi","csk","rcb","kkr","dc","rr","pk","gt","srh","lsg"],Ug={mi:"Wankhede Stadium",csk:"MA Chidambaram Stadium",rcb:"M. Chinnaswamy Stadium",kkr:"Eden Gardens",dc:"Arun Jaitley Stadium",rr:"Sawai Mansingh Stadium",pk:"Punjab Cricket Association Stadium",gt:"Narendra Modi Stadium",srh:"Rajiv Gandhi International Stadium",lsg:"BRSABV Ekana Cricket Stadium"},jo=i=>{const d=[],o=[];for(let w=0;w<Vl.length;w++)for(let j=w+1;j<Vl.length;j++){const N=Math.random()<.5;o.push({home:N?Vl[w]:Vl[j],away:N?Vl[j]:Vl[w]})}const c={};Vl.forEach(w=>c[w]=0);const m=[],f=[...o].sort(()=>Math.random()-.5);for(const w of f)c[w.home]<5&&c[w.away]<5&&(m.push({home:w.away,away:w.home}),c[w.home]++,c[w.away]++);const x=[...o,...m].sort(()=>Math.random()-.5),g=x.filter(w=>w.home===i||w.away===i),h=x.filter(w=>w.home!==i&&w.away!==i),v=[];let p=0,T=0;for(;p<g.length||T<h.length;){p<g.length&&v.push(g[p++]);const w=3+Math.floor(Math.random()*2);for(let j=0;j<w&&T<h.length;j++)v.push(h[T++])}return v.forEach((w,j)=>{const N=Ug[w.home]||"Wankhede Stadium";d.push({id:No(),homeTeam:w.home,awayTeam:w.away,venue:N,matchNumber:j+1,matchType:"league",pitch:G0(N),weather:["clear","cloudy","humid"][Math.floor(Math.random()*3)],homeTactics:null,awayTactics:null,status:"upcoming",tossWinner:null,tossDecision:null,currentInnings:null,innings1:null,innings2:null,result:null})}),d},Zl=(i,d,o,c)=>{const m=["Narendra Modi Stadium","MA Chidambaram Stadium","Wankhede Stadium"],f=m[Math.floor(Math.random()*m.length)];return{id:No(),homeTeam:i,awayTeam:d,venue:f,matchNumber:c,matchType:o,pitch:G0(f),weather:["clear","cloudy","humid"][Math.floor(Math.random()*3)],homeTactics:null,awayTactics:null,status:"upcoming",tossWinner:null,tossDecision:null,currentInnings:null,innings1:null,innings2:null,result:null}};jo("mi");const Hg=Object.freeze(Object.defineProperty({__proto__:null,generateFixtures:jo,generatePlayoffMatch:Zl},Symbol.toStringTag,{value:"Module"})),Lg=[{id:"player-unhappy-playtime",category:"player",title:"Playing Time Complaint",description:i=>`${i.player?.name} has approached you expressing frustration about lack of playing time. "I didn't join this team to sit on the bench," he says.`,condition:i=>i.player!==void 0&&i.player.morale<70,options:[{id:"promise-chances",label:"Promise more chances",description:"Assure him he'll get more opportunities soon",effects:i=>[{target:"player",targetId:i.player?.id,attribute:"morale",change:15}]},{id:"explain-competition",label:"Explain the competition",description:"Tell him he needs to earn his spot in training",effects:i=>[{target:"player",targetId:i.player?.id,attribute:"morale",change:-5},{target:"player",targetId:i.player?.id,attribute:"form",change:3}]},{id:"dismiss-concerns",label:"Dismiss his concerns",description:"Tell him to focus on being ready when called upon",effects:i=>[{target:"player",targetId:i.player?.id,attribute:"morale",change:-15}]}]},{id:"player-form-slump",category:"player",title:"Crisis of Confidence",description:i=>`${i.player?.name} is struggling with form and seems to have lost confidence. He's been seen practicing alone late into the night.`,condition:i=>i.player!==void 0&&i.player.form<-5,options:[{id:"personal-coaching",label:"Arrange personal coaching",description:"Get specialist coaches to work with him",effects:i=>[{target:"player",targetId:i.player?.id,attribute:"form",change:8},{target:"player",targetId:i.player?.id,attribute:"morale",change:10}]},{id:"rest-player",label:"Give him a break",description:"Rest him for a match to clear his head",effects:i=>[{target:"player",targetId:i.player?.id,attribute:"fatigue",change:-20},{target:"player",targetId:i.player?.id,attribute:"morale",change:5}]},{id:"tough-love",label:"Tough love approach",description:"Tell him to figure it out - he's a professional",effects:i=>[{target:"player",targetId:i.player?.id,attribute:"morale",change:-10},{target:"player",targetId:i.player?.id,attribute:"form",change:-3}]}]},{id:"player-nightlife",category:"player",title:"Late Night Controversy",description:i=>`Photos of ${i.player?.name} partying late before a match day have surfaced on social media. The press is asking questions.`,options:[{id:"fine-player",label:"Fine the player",description:"Issue a formal fine and warning",effects:i=>[{target:"player",targetId:i.player?.id,attribute:"morale",change:-20},{target:"team",attribute:"pressHeat",change:-10}]},{id:"defend-publicly",label:"Defend him publicly",description:"Tell the press players have personal lives too",effects:i=>[{target:"player",targetId:i.player?.id,attribute:"morale",change:10},{target:"team",attribute:"pressHeat",change:15}]},{id:"no-comment",label:"No comment",description:"Decline to address it publicly, handle internally",effects:i=>[{target:"player",targetId:i.player?.id,attribute:"morale",change:-5},{target:"team",attribute:"pressHeat",change:5}]}]},{id:"media-losing-streak",category:"media",title:"Press Conference: Losing Streak",description:()=>`"You've lost your last few matches. Are you concerned about the team's direction?" The press room falls silent awaiting your response.`,condition:i=>{const d=i.recentResults||[];return d.length<2?!1:d.slice(-2).every(c=>c==="loss")},options:[{id:"accept-responsibility",label:"Accept responsibility",description:`"The buck stops with me. We'll work harder."`,effects:()=>[{target:"team",attribute:"pressHeat",change:-15},{target:"team",attribute:"morale",change:5}]},{id:"deflect-luck",label:"Blame bad luck",description:`"Cricket is a game of margins. Luck hasn't been with us."`,effects:()=>[{target:"team",attribute:"pressHeat",change:10}]},{id:"attack-press",label:"Attack the question",description:`"We're three matches in. Let's not overreact."`,effects:()=>[{target:"team",attribute:"pressHeat",change:20},{target:"team",attribute:"morale",change:-5}]}]},{id:"media-star-player",category:"media",title:"Star Player Speculation",description:i=>`Reporters are asking about ${i.player?.name}'s future. "There are rumors other franchises are interested. Any comment?"`,options:[{id:"commit-player",label:"Publicly commit to player",description:`"He's central to our plans. Not going anywhere."`,effects:i=>[{target:"player",targetId:i.player?.id,attribute:"morale",change:15},{target:"team",attribute:"pressHeat",change:-5}]},{id:"diplomatic",label:"Diplomatic response",description:`"We don't discuss contracts in public."`,effects:i=>[{target:"player",targetId:i.player?.id,attribute:"morale",change:-5}]},{id:"open-door",label:"Leave door open",description:`"In cricket, anything can happen. We'll see."`,effects:i=>[{target:"player",targetId:i.player?.id,attribute:"morale",change:-20},{target:"team",attribute:"pressHeat",change:10}]}]},{id:"board-expectations",category:"board",title:"Board Meeting: Expectations",description:()=>'The franchise owners have called a meeting. "We need to discuss expectations for this season. The sponsors are watching."',options:[{id:"promise-playoffs",label:"Promise playoff qualification",description:"Commit to making the top 4",effects:()=>[{target:"manager",attribute:"boardExpectations",change:1},{target:"team",attribute:"boardPatience",change:10}]},{id:"building-phase",label:"Emphasize building phase",description:`"We're building something special. Need time."`,effects:()=>[{target:"team",attribute:"boardPatience",change:20},{target:"team",attribute:"pressHeat",change:-10}]},{id:"no-promises",label:"Make no promises",description:`"We'll compete hard. That's all I can guarantee."`,effects:()=>[{target:"team",attribute:"boardPatience",change:5}]}]},{id:"board-sponsor-concern",category:"board",title:"Sponsor Concerns",description:()=>"The title sponsor has expressed concerns about the team's performance. The board wants to know your plan.",condition:i=>{const d=i.recentResults||[];return d.length<2?!1:d.slice(-2).every(c=>c==="loss")},options:[{id:"tactical-changes",label:"Promise tactical changes",description:`"We're adjusting our approach. Results will come."`,effects:()=>[{target:"team",attribute:"boardPatience",change:10},{target:"team",attribute:"pressHeat",change:-5}]},{id:"back-players",label:"Back your players",description:'"The squad is good enough. We need time to gel."',effects:()=>[{target:"team",attribute:"morale",change:10},{target:"team",attribute:"boardPatience",change:-5}]},{id:"request-patience",label:"Request patience",description:`"Rome wasn't built in a day. Trust the process."`,effects:()=>[{target:"team",attribute:"boardPatience",change:15}]}]}],Gg=(i,d,o,c,m)=>{if(Math.random()>.35)return null;const f={recentResults:d,teamMorale:o,boardPatience:c,pressHeat:m},b=Lg.filter(p=>!(p.condition&&!p.condition(f)));if(b.length===0)return null;const x=b[Math.floor(Math.random()*b.length)];let g;if(x.category==="player"||x.id==="media-star-player"){if(x.id==="player-unhappy-playtime"){const p=i.filter(T=>T.morale<70);p.length>0&&(g=p[Math.floor(Math.random()*p.length)])}else if(x.id==="player-form-slump"){const p=i.filter(T=>T.form<-5);p.length>0&&(g=p[Math.floor(Math.random()*p.length)])}else g=i[Math.floor(Math.random()*i.length)];if(!g&&(x.category==="player"||x.id==="media-star-player"))return null}const h={...f,player:g};return{id:No(),type:"random",category:x.category,title:x.title,description:x.description(h),involvedPlayers:g?[g.id]:[],urgency:"end-of-day",options:x.options.map(p=>({id:p.id,label:p.label,description:p.description,effects:p.effects(h)})),createdAt:new Date().toISOString(),resolved:!1}},ct={TOTAL_PURSE:14e3,MIN_SQUAD_SIZE:18,MAX_SQUAD_SIZE:25,MAX_OVERSEAS:8,MAX_RETENTIONS:4,RTM_CARDS_PER_TEAM:2,RETENTION_COSTS:{1:1800,2:1400,3:1100,4:1800},BID_INCREMENTS:[{upTo:100,increment:5},{upTo:200,increment:10},{upTo:500,increment:20},{upTo:1e3,increment:25},{upTo:1/0,increment:50}],MIN_RESERVE_PER_SLOT:50,MEGA_AUCTION_POOL_SIZE:250,MINI_AUCTION_POOL_SIZE:100},Vt={roleMultipliers:{batsman:1,bowler:.95,allrounder:1.15,keeper:.7},overseasMultiplier:2.2,ageFactors:{under23:1.3,age23to26:1.1,age26to30:1,age30to34:.9,over35:.75},basePriceMultipliers:{tier50:{median:1.5,p75:3,p90:8},tier75:{median:2,p75:4,p90:10},tier100:{median:2.5,p75:5,p90:12},tier150:{median:3,p75:6,p90:15},tier200:{median:4,p75:8,p90:20}},teamProfiles:{mi:{aggression:75,overseasPref:.85,marqueeBonus:1.3},csk:{aggression:55,overseasPref:.65,marqueeBonus:1.1},rcb:{aggression:90,overseasPref:.9,marqueeBonus:1.5},kkr:{aggression:70,overseasPref:.8,marqueeBonus:1.2},dc:{aggression:65,overseasPref:.75,marqueeBonus:1.15},rr:{aggression:60,overseasPref:.7,marqueeBonus:1.1},pbks:{aggression:80,overseasPref:.8,marqueeBonus:1.25},gt:{aggression:65,overseasPref:.75,marqueeBonus:1.15},srh:{aggression:70,overseasPref:.85,marqueeBonus:1.2},lsg:{aggression:75,overseasPref:.8,marqueeBonus:1.2}}};function Kl(i){const d=(i.batting.technique+i.batting.power+i.batting.timing+i.batting.temperament)/4,o=(i.bowling.speed+i.bowling.accuracy+i.bowling.variation+i.bowling.stamina)/4,c=(i.fielding.catching+i.fielding.ground+i.fielding.throwing+i.fielding.athleticism)/4;let m=0;switch(i.role){case"batsman":m=d*.85+o*.05+c*.1;break;case"bowler":m=o*.85+d*.05+c*.1;break;case"allrounder":m=(d+o)/2*.9+c*.1;break;case"keeper":m=d*.7+c*.3;break}let f=1;i.age<23?f=1.3:i.age<26?f=1.2:i.age<30?f=1:i.age<34?f=.85:f=.7;const b=1+i.form/50,x=i.contract.isOverseas?1.1:1;return m*f*b*x}function Pl(i){const d=Kl(i);return d>=85?200:d>=70?150:d>=55?100:d>=40?75:50}const Cn=ct.RETENTION_COSTS;function Yg(i){let d=0;for(let o=1;o<=Math.min(i,4);o++)d+=Cn[o];return d}function N0(i,d,o,c=[],m=[]){const f=o.flatMap(g=>g.squad);let b;if(i==="mega"){const g=d.filter(v=>!c.includes(v.id)),h=ct.MEGA_AUCTION_POOL_SIZE;b=g.map(v=>({player:v,value:Kl(v)})).sort((v,p)=>p.value-v.value).slice(0,h).map(v=>v.player)}else{const g=d.filter(v=>!!(m.includes(v.id)||v.contract.yearsRemaining===0&&!f.includes(v.id))),h=ct.MINI_AUCTION_POOL_SIZE;b=g.map(v=>({player:v,value:Kl(v)})).sort((v,p)=>p.value-v.value).slice(0,h).map(v=>v.player)}return b.map(g=>{const h=o.find(v=>v.squad.includes(g.id));return{playerId:g.id,basePrice:Pl(g),currentBid:Pl(g),currentBidder:null,status:"available",bidHistory:[],setNumber:Xg(g),previousTeamId:h?.id||null}}).sort((g,h)=>g.setNumber!==h.setNumber?g.setNumber-h.setNumber:h.basePrice-g.basePrice)}function Xg(i){if(Kl(i)>=75)return 1;switch(i.role){case"batsman":return 2;case"bowler":return 3;case"allrounder":case"keeper":return 4;default:return 5}}const Y0=ct.BID_INCREMENTS;function Qg(i){return{auctionType:i,totalPurse:ct.TOTAL_PURSE,minSquadSize:ct.MIN_SQUAD_SIZE,maxSquadSize:ct.MAX_SQUAD_SIZE,maxOverseas:ct.MAX_OVERSEAS,maxRetentions:i==="mega"?ct.MAX_RETENTIONS:0,rtmCardsPerTeam:i==="mega"?ct.RTM_CARDS_PER_TEAM:0,bidIncrements:Y0}}function Vg(i){return Y0.find(o=>i<o.upTo)?.increment||50}function Il(i){return i+Vg(i)}function Zg(i,d,o,c=0){const m=o==="mega"?[]:d.filter(g=>i.squad.includes(g.id)),f=o==="mega"?0:m.filter(g=>g.contract.isOverseas).length,b=g=>o==="mega"?0:m.filter(h=>h.role===g).length,x=o==="mini"?m.reduce((g,h)=>g+h.contract.salary,0):0;return{teamId:i.id,remainingPurse:ct.TOTAL_PURSE-c-x,squadSize:o==="mega"?0:m.length,overseasCount:f,retentions:[{playerId:null,cost:Cn[1],slotNumber:1},{playerId:null,cost:Cn[2],slotNumber:2},{playerId:null,cost:Cn[3],slotNumber:3},{playerId:null,cost:Cn[4],slotNumber:4}],rtmCardsRemaining:o==="mega"?ct.RTM_CARDS_PER_TEAM:0,batsmen:b("batsman"),bowlers:b("bowler"),allrounders:b("allrounder"),keepers:b("keeper"),hasPassedCurrentPlayer:!1}}function $g(i){const d={},o={mi:{priorities:{batsmen:80,bowlers:75,allrounders:90,keepers:60,overseas:85},aggression:Vt.teamProfiles.mi.aggression,budgetConservation:35},csk:{priorities:{batsmen:85,bowlers:70,allrounders:80,keepers:75,overseas:65},aggression:Vt.teamProfiles.csk.aggression,budgetConservation:50},rcb:{priorities:{batsmen:95,bowlers:60,allrounders:70,keepers:55,overseas:90},aggression:Vt.teamProfiles.rcb.aggression,budgetConservation:20},kkr:{priorities:{batsmen:75,bowlers:80,allrounders:85,keepers:60,overseas:80},aggression:Vt.teamProfiles.kkr.aggression,budgetConservation:40},dc:{priorities:{batsmen:80,bowlers:75,allrounders:80,keepers:70,overseas:75},aggression:Vt.teamProfiles.dc.aggression,budgetConservation:45},rr:{priorities:{batsmen:75,bowlers:80,allrounders:85,keepers:65,overseas:70},aggression:Vt.teamProfiles.rr.aggression,budgetConservation:50},pbks:{priorities:{batsmen:85,bowlers:70,allrounders:75,keepers:60,overseas:80},aggression:Vt.teamProfiles.pbks.aggression,budgetConservation:30},gt:{priorities:{batsmen:70,bowlers:85,allrounders:90,keepers:60,overseas:75},aggression:Vt.teamProfiles.gt.aggression,budgetConservation:45},srh:{priorities:{batsmen:70,bowlers:90,allrounders:75,keepers:60,overseas:85},aggression:Vt.teamProfiles.srh.aggression,budgetConservation:40},lsg:{priorities:{batsmen:80,bowlers:80,allrounders:85,keepers:70,overseas:80},aggression:Vt.teamProfiles.lsg.aggression,budgetConservation:35}};return i.forEach(c=>{const m=o[c.id]||{priorities:{batsmen:70,bowlers:70,allrounders:70,keepers:70,overseas:70},aggression:65,budgetConservation:45};d[c.id]={teamId:c.id,priorities:m.priorities,aggression:m.aggression,budgetConservation:m.budgetConservation,targetPlayers:[]}}),d}function io(i,d,o){if(i.remainingPurse<d)return!1;const m=(o.minSquadSize-i.squadSize-1)*ct.MIN_RESERVE_PER_SLOT;return!(i.remainingPurse-d<m)}function X0(i,d){return i.overseasCount<d.maxOverseas}function Q0(i,d){return i.squadSize>=d.maxSquadSize}function Pg(i,d){return i.squadSize>=d.minSquadSize}function ro(i,d,o){const c=d.flatMap(m=>m.squad);return i.filter(m=>!c.includes(m.id)).map(m=>({player:m,isUnsold:o.includes(m.id),basePrice:Pl(m)})).sort((m,f)=>m.isUnsold!==f.isUnsold?m.isUnsold?-1:1:m.basePrice-f.basePrice)}function co(i,d,o,c){if(i.squadSize>=c.maxSquadSize)return{canPick:!1,reason:"Squad is full (25 players)"};if(d.contract.isOverseas&&i.overseasCount>=ct.MAX_OVERSEAS)return{canPick:!1,reason:"Overseas limit reached (8 players)"};if(i.remainingPurse<ct.MIN_RESERVE_PER_SLOT&&i.squadSize<c.minSquadSize)return{canPick:!0,isFreePickup:!0};const b=Math.max(0,c.minSquadSize-i.squadSize-1)*ct.MIN_RESERVE_PER_SLOT;return i.remainingPurse<o+b?{canPick:!1,reason:"Insufficient budget"}:{canPick:!0}}function j0(i,d,o){const c=[];let m=i.squadSize,f=i.remainingPurse,b=i.overseasCount;const x=[...d].sort((g,h)=>g.basePrice-h.basePrice);for(const{player:g,basePrice:h}of x){if(m>=o.minSquadSize)break;if(g.contract.isOverseas&&b>=ct.MAX_OVERSEAS)continue;if(f<ct.MIN_RESERVE_PER_SLOT){c.push(g.id),m++,g.contract.isOverseas&&b++;continue}const T=Math.max(0,o.minSquadSize-m-1)*ct.MIN_RESERVE_PER_SLOT;f>=h+T&&(c.push(g.id),m++,f-=h,g.contract.isOverseas&&b++)}return c}function Dt(i){if(i>=100){const d=i/100;return`${d.toFixed(d%1===0?0:2)} Cr`}return`${i}L`}function zs(i){return i>=100?`${(i/100).toFixed(1)}Cr`:`${i}L`}const $l={CORE_PLAYER_THRESHOLD:75,YOUNG_TALENT_AGE:24,YOUNG_TALENT_VALUE:50,POOR_VALUE_THRESHOLD:40,POOR_VALUE_AGE:30,MAX_RELEASES:8,ROLE_TARGETS:{batsman:5,bowler:5,allrounder:3,keeper:2}},Ig={csk:{retentionStyle:"Experience-first",retentionCount:{min:3,max:4},releaseCount:{min:2,max:3},preferences:{experienceBonus:.25,youthBonus:-.1,starBonus:.1,allrounderBonus:.1,paceBonus:0,spinBonus:.1,overseasBonus:0,variance:.05}},rcb:{retentionStyle:"Star-focused",retentionCount:{min:1,max:2},releaseCount:{min:5,max:7},preferences:{experienceBonus:0,youthBonus:.1,starBonus:.3,allrounderBonus:0,paceBonus:.1,spinBonus:0,overseasBonus:.15,variance:.1}},mi:{retentionStyle:"Core-builder",retentionCount:{min:2,max:3},releaseCount:{min:3,max:5},preferences:{experienceBonus:.1,youthBonus:.1,starBonus:.15,allrounderBonus:.2,paceBonus:.1,spinBonus:0,overseasBonus:.1,variance:.05}},pbks:{retentionStyle:"Unpredictable",retentionCount:{min:1,max:3},releaseCount:{min:5,max:6},preferences:{experienceBonus:0,youthBonus:.15,starBonus:.2,allrounderBonus:.1,paceBonus:.1,spinBonus:0,overseasBonus:.1,variance:.25}},kkr:{retentionStyle:"Spin-focused",retentionCount:{min:2,max:3},releaseCount:{min:3,max:4},preferences:{experienceBonus:.1,youthBonus:.1,starBonus:.1,allrounderBonus:.15,paceBonus:0,spinBonus:.2,overseasBonus:.1,variance:.1}},srh:{retentionStyle:"Pace-focused",retentionCount:{min:2,max:3},releaseCount:{min:3,max:4},preferences:{experienceBonus:0,youthBonus:.15,starBonus:.15,allrounderBonus:.1,paceBonus:.25,spinBonus:-.1,overseasBonus:.15,variance:.1}},dc:{retentionStyle:"Youth-focused",retentionCount:{min:1,max:2},releaseCount:{min:4,max:5},preferences:{experienceBonus:-.15,youthBonus:.25,starBonus:.1,allrounderBonus:.1,paceBonus:.1,spinBonus:.1,overseasBonus:.1,variance:.1}},gt:{retentionStyle:"Value-focused",retentionCount:{min:2,max:3},releaseCount:{min:3,max:4},preferences:{experienceBonus:.05,youthBonus:.1,starBonus:.1,allrounderBonus:.15,paceBonus:.15,spinBonus:0,overseasBonus:.05,variance:.05}},rr:{retentionStyle:"Analytics-driven",retentionCount:{min:3,max:4},releaseCount:{min:3,max:4},preferences:{experienceBonus:0,youthBonus:.1,starBonus:.05,allrounderBonus:.15,paceBonus:.05,spinBonus:.1,overseasBonus:.05,variance:.02}},lsg:{retentionStyle:"Star + depth",retentionCount:{min:2,max:3},releaseCount:{min:3,max:5},preferences:{experienceBonus:.05,youthBonus:.1,starBonus:.2,allrounderBonus:.1,paceBonus:.1,spinBonus:.05,overseasBonus:.1,variance:.1}}},Fg={retentionStyle:"Balanced",retentionCount:{min:2,max:3},releaseCount:{min:3,max:5},preferences:{experienceBonus:0,youthBonus:.1,starBonus:.1,allrounderBonus:.1,paceBonus:.05,spinBonus:.05,overseasBonus:.05,variance:.1}};function V0(i){return Ig[i]||Fg}function Kg(i){return i.role==="bowler"&&(i.bowlingStyle==="right-arm-fast"||i.bowlingStyle==="left-arm-fast"||i.bowlingStyle==="right-arm-medium"||i.bowlingStyle==="left-arm-medium")}function Jg(i){return i.role==="bowler"&&(i.bowlingStyle==="off-spin"||i.bowlingStyle==="left-arm-spin"||i.bowlingStyle==="leg-spin")}function Wg(i,d,o){const c=Kl(i);let m=c*.4,f=1;i.age<23?f=1.3:i.age<26?f=1.15:i.age<30?f=1:i.age<34?f=.85:f=.7,m+=c*.2*f;let b=1;i.role==="keeper"?b=1.2:i.role==="allrounder"&&c>60&&(b=1.25),m+=c*.15*b;const x=1+i.form/50,g=i.fitness/100;m+=c*.1*x*g,i.contract.isOverseas?m+=c*.15*(1+o.preferences.overseasBonus):m+=c*.15;const h=o.preferences;i.age>=30&&(m*=1+h.experienceBonus),i.age<26&&(m*=1+h.youthBonus),c>80&&(m*=1+h.starBonus),i.role==="allrounder"&&(m*=1+h.allrounderBonus),Kg(i)&&(m*=1+h.paceBonus),Jg(i)&&(m*=1+h.spinBonus),(d.captain===i.id||d.viceCaptain===i.id)&&(m*=1.3);const v=(Math.random()-.5)*2*h.variance;return m*=1+v,m}function ex(i,d,o,c){const m=Kl(i);let f=0;if(i.contract.yearsRemaining<=0)return 1e3;m>=$l.CORE_PLAYER_THRESHOLD&&(f-=50),i.age<$l.YOUNG_TALENT_AGE&&m>=$l.YOUNG_TALENT_VALUE&&(f-=40),(d.captain===i.id||d.viceCaptain===i.id)&&(f-=60),m<$l.POOR_VALUE_THRESHOLD&&i.age>=$l.POOR_VALUE_AGE&&(f+=40);const b=$l.ROLE_TARGETS[i.role]||4;(c[i.role]||0)>b+1&&(f+=20),i.form<-10&&(f+=15);const g=o.preferences;i.age>=30&&g.experienceBonus<0&&(f+=25),i.age>=34&&(f+=20),f+=Math.max(0,70-m);const h=(Math.random()-.5)*2*g.variance*20;return f+=h,f}function tx(i,d,o){const c={};for(const m of i){if(m.id===o)continue;const f=V0(m.id),x=d.filter(T=>m.squad.includes(T.id)).map(T=>({player:T,score:Wg(T,m,f)})).sort((T,w)=>w.score-T.score),{min:g,max:h}=f.retentionCount,v=g+Math.floor(Math.random()*(h-g+1)),p=[];for(let T=0;T<4;T++){const w=T+1,j=ct.RETENTION_COSTS[w];T<v&&T<x.length?p.push({playerId:x[T].player.id,cost:j,slotNumber:w}):p.push({playerId:null,cost:j,slotNumber:w})}c[m.id]=p}return c}function ax(i,d,o){const c={};for(const m of i){if(m.id===o)continue;const f=V0(m.id),b=d.filter(S=>m.squad.includes(S.id)),x={};for(const S of b)x[S.role]=(x[S.role]||0)+1;const g=b.map(S=>({player:S,score:ex(S,m,f,x)})).sort((S,E)=>E.score-S.score),{min:h,max:v}=f.releaseCount,T=g.filter(S=>S.score>=1e3).length;let w=h+Math.floor(Math.random()*(v-h+1));w=Math.max(w,T),w=Math.min(w,$l.MAX_RELEASES);const j=Math.max(0,b.length-ct.MIN_SQUAD_SIZE+5);w=Math.min(w,j);const N=g.slice(0,w).map(S=>S.player.id);c[m.id]=N}return c}function lx(i){return Object.values(i).flat()}function sx(i){return i<23?"under23":i<26?"age23to26":i<30?"age26to30":i<35?"age30to34":"over35"}function Z0(i){const d=sx(i);return Vt.ageFactors[d]}function nx(i){const d=i;return Vt.roleMultipliers[d]??1}function ix(i){return i>=85?200:i>=75?150:i>=65?100:i>=55?75:i>=45?50:30}function rx(i){return i>=200?"tier200":i>=150?"tier150":i>=100?"tier100":i>=75?"tier75":"tier50"}function cx(i,d,o,c){let m=Math.min(60,i*.6);d==="allrounder"&&(m+=15),d==="bowler"&&(m+=10),d==="batsman"&&(m+=5);const f=Z0(c);return m*=f,o&&i>=70&&(m+=10),Math.min(100,Math.max(0,m))}function ox(i){const d=Kl(i),o=ix(d),c=nx(i.role),m=i.contract.isOverseas?Vt.overseasMultiplier:1,f=Z0(i.age),b=rx(o),x=Vt.basePriceMultipliers[b],g=c*m*f,h=o*x.median*g,v=o,p=o*x.p90*g,T=cx(d,i.role,i.contract.isOverseas,i.age);return{baseValue:d,basePrice:o,marketValue:Math.round(h),priceRange:{floor:v,expected:Math.round(o*x.median*g),ceiling:Math.round(p)},demandScore:T,multipliers:{role:c,overseas:m,age:f,tier:x.median}}}function $0(i){const d=i.toLowerCase();return Vt.teamProfiles[d]??{aggression:70,overseasPref:.75,marqueeBonus:1.15}}function ux(i){return .05+i/100*.9}function dx(i,d,o,c,m){const f=m.settings;if(!fx(i,o,c,f))return{shouldBid:!1,maxBid:0,urgency:0,reason:"Cannot bid - constraints"};const b=ox(o),x=ux(b.demandScore),g=hx(i,o,d),h=$0(i.teamId),v=o.contract.isOverseas?i.overseasCount>=6?.3+h.overseasPref*.2:i.overseasCount>=4?.6+h.overseasPref*.3:1:1,p=mx(b,i,d,g,f);if(Il(c.currentBid)>p)return{shouldBid:!1,maxBid:p,urgency:0,reason:"Price exceeds max bid"};if(d.targetPlayers.includes(o.id))return{shouldBid:!0,maxBid:p*h.marqueeBonus,urgency:95,reason:"Target player"};const w=c.currentBid/Math.max(p,1),j=Math.max(.3,1-w*.7),N=Math.max(.5,1-c.bidHistory.length*.05),S=1+(h.aggression-50)/200,E=Math.min(.95,x*g*v*j*N*S),k=Math.random()<E,O=xx(i,o,d,f,b.baseValue);return{shouldBid:k,maxBid:p,urgency:O,reason:k?`Value: ${b.baseValue.toFixed(0)}, Market: ${b.marketValue}L`:"Passing"}}function mx(i,d,o,c,m){let f=i.priceRange.ceiling;const b=$0(d.teamId),x=.85+b.aggression/100*.3,g=1.15-o.budgetConservation/100*.3,h=1+(c-1)*.2,v=i.baseValue>=80?b.marqueeBonus:1;m.minSquadSize-d.squadSize;const p=gx(d,m),T=d.remainingPurse*p,w=f*x*g*h*v;return Math.min(w,T)}function fx(i,d,o,c){if(i.hasPassedCurrentPlayer||Q0(i,c)||d.contract.isOverseas&&!X0(i,c))return!1;const m=Il(o.currentBid);return!!io(i,m,c)}function hx(i,d,o){const c={batsman:6,bowler:6,allrounder:4,keeper:2},m={batsman:Math.max(0,c.batsman-i.batsmen),bowler:Math.max(0,c.bowler-i.bowlers),allrounder:Math.max(0,c.allrounder-i.allrounders),keeper:Math.max(0,c.keeper-i.keepers)};let f=1;const b=o.priorities[d.role==="keeper"?"keepers":`${d.role}s`]/100;switch(d.role){case"batsman":f=1+m.batsman/c.batsman*b;break;case"bowler":f=1+m.bowler/c.bowler*b;break;case"allrounder":f=1.2+m.allrounder/c.allrounder*b;break;case"keeper":f=i.keepers===0?2:1+m.keeper/c.keeper*b;break}const x=18-i.squadSize;return x<=5&&x>0&&(f*=1+(5-x)*.1),Math.min(2.5,f)}function gx(i,d){const o=d.minSquadSize-i.squadSize;return o<=1?.9:o<=3?.7:o<=6?.5:o<=10?.35:.25}function xx(i,d,o,c,m){let f=30+m*.4;o.targetPlayers.includes(d.id)&&(f+=25),{batsman:i.batsmen<4,bowler:i.bowlers<4,allrounder:i.allrounders<2,keeper:i.keepers<1}[d.role]&&(f+=15);const x=c.minSquadSize-i.squadSize;return x<=5&&(f+=(5-x)*4),f+=(o.aggression-50)*.2,Math.min(100,Math.max(0,f))}function P0(i,d,o){const c=i.currentPlayer;if(!c)return[];const m=d.find(b=>b.id===c.playerId);if(!m)return[];const f=[];return Object.entries(i.teamStates).forEach(([b,x])=>{if(b===o||b===c.currentBidder)return;const g=i.aiStrategies[b];if(!g)return;const h=dx(x,g,m,c,i);h.shouldBid&&f.push({teamId:b,decision:h})}),f.sort((b,x)=>x.decision.urgency-b.decision.urgency)}function I0(i){if(i.length===0)return null;const d=i.reduce((c,m)=>c+m.decision.urgency,0);if(d===0)return i[Math.floor(Math.random()*i.length)].teamId;let o=Math.random()*d;for(const c of i)if(o-=c.decision.urgency,o<=0)return c.teamId;return i[0].teamId}function bx(i,d,o){const c=i.currentPlayer;if(!c)return{soldTo:null,finalBid:0,bidHistory:null};let m=0;const f=100;for(;m<f;){const b=P0(i,d,o);if(b.length===0)break;const x=I0(b);if(!x)break;const g=Il(c.currentBid);c.currentBid=g,c.currentBidder=x,c.bidHistory.push({teamId:x,amount:g,timestamp:Date.now(),isRTM:!1}),i.teamStates[x]&&Object.keys(i.teamStates).forEach(v=>{v!==x&&(i.teamStates[v].hasPassedCurrentPlayer=!1)}),m++}return{soldTo:c.currentBidder,finalBid:c.currentBid,bidHistory:c}}const S0=()=>{const i="ABCDEFGHJKLMNPQRSTUVWXYZ23456789";let d="";for(let o=0;o<4;o++)d+=i.charAt(Math.floor(Math.random()*i.length));return`BETA-${d}`},so={initialized:!1,testerId:"",startMode:"real-squads",currentDate:new Date().toISOString().split("T")[0],season:1,phase:"season",matchDay:1,manager:{name:"",reputation:50,identity:{tacticalStyle:"balanced",youthFocus:50,manManagement:50},history:{seasonsManaged:0,titlesWon:0,playoffAppearances:0}},playerTeamId:"",teams:[],players:[],fixtures:[],pointsTable:[],activeEvents:[],pressHeat:30,lastMeetingMatchDay:0,releasedPlayers:[],unsoldPlayers:[]},w0={currentScreen:"home",selectedPlayerId:null,selectedMatchId:null,selectedEventId:null,simulationSpeed:"over-by-over",modalStack:[]},yx=null,px=null,Ze=gg()(Bg((i,d)=>({...so,...w0,auctionState:yx,liveMatchState:px,initializeGame:(o,c,m)=>{const f=m==="real-squads"?"season":"auction";i({initialized:!0,testerId:S0(),startMode:m,playerTeamId:o,manager:{...so.manager,name:c},currentDate:"2025-03-22",season:1,phase:f,matchDay:1,liveMatchState:null,auctionState:null,selectedMatchId:null});const x=d().teams.map(g=>({teamId:g.id,played:0,won:0,lost:0,noResult:0,points:0,netRunRate:0}));if(i({pointsTable:x}),m==="mini-auction"||m==="mega-auction"){const g=m==="mini-auction"?"mini":"mega";d().initializeAuction(g)}},resetGame:()=>{i({...so,...w0})},navigateTo:o=>{i({currentScreen:o})},selectPlayer:o=>{i({selectedPlayerId:o,currentScreen:o?"player-detail":d().currentScreen})},selectMatch:o=>{i({selectedMatchId:o})},selectEvent:o=>{i({selectedEventId:o,currentScreen:o?"event":d().currentScreen})},setSimulationSpeed:o=>{i({simulationSpeed:o})},openPlayerModal:(o,c=!1)=>{i(m=>({modalStack:c?[...m.modalStack,{type:"player",id:o}]:[{type:"player",id:o}]}))},openTeamModal:(o,c=!1)=>{i(m=>({modalStack:c?[...m.modalStack,{type:"team",id:o}]:[{type:"team",id:o}]}))},closeModal:()=>{i(o=>({modalStack:o.modalStack.slice(0,-1)}))},closeAllModals:()=>{i({modalStack:[]})},updatePlayer:(o,c)=>{i(m=>({players:m.players.map(f=>f.id===o?{...f,...c}:f)}))},updatePlayerState:(o,c)=>{i(m=>({players:m.players.map(f=>f.id!==o?f:{...f,form:Math.max(-20,Math.min(20,c.form??f.form)),fitness:Math.max(0,Math.min(100,c.fitness??f.fitness)),morale:Math.max(0,Math.min(100,c.morale??f.morale)),fatigue:Math.max(0,Math.min(100,c.fatigue??f.fatigue))})}))},updateTeam:(o,c)=>{i(m=>({teams:m.teams.map(f=>f.id===o?{...f,...c}:f)}))},setCaptain:(o,c)=>{i(m=>({teams:m.teams.map(f=>f.id===o?{...f,captain:c}:f)}))},setViceCaptain:(o,c)=>{i(m=>({teams:m.teams.map(f=>f.id===o?{...f,viceCaptain:c}:f)}))},setMatchTactics:(o,c,m)=>{i(f=>({fixtures:f.fixtures.map(b=>b.id!==o?b:b.homeTeam===c?{...b,homeTactics:m}:b.awayTeam===c?{...b,awayTactics:m}:b)}))},updateMatch:(o,c)=>{i(m=>({fixtures:m.fixtures.map(f=>f.id===o?{...f,...c}:f)}))},updatePointsTable:o=>{i({pointsTable:o})},simulateBackgroundMatches:()=>{const{teams:o,playerTeamId:c,pointsTable:m,fixtures:f,players:b}=d(),x=(w,j,N,S)=>{const E=o.find(C=>C.id===w);if(!E)return{batterStats:new Map,fallOfWickets:[]};const k=b.filter(C=>E.squad.includes(C.id)).slice(0,11),O=new Map,W=[],_=Math.min(N+2,11),ne=k.slice(0,_);let B=j,G=S*6,ue=0;return ne.forEach((C,ae)=>{const J=ae===ne.length-1,V=ae>=N,fe=J?B:Math.floor(B*(.3-ae*.02)*(.8+Math.random()*.4)),se=Math.max(0,Math.min(fe,B));B-=se;const z=J?G:Math.floor(G*(.25-ae*.015)*(.8+Math.random()*.4)),P=Math.max(1,Math.min(z,G));G-=P;const ge=(P>0?se/P*100:0)>150?Math.floor(se/30):Math.floor(se/50),Y=Math.floor((se-ge*6)/10);if(O.set(C.id,{runs:se,balls:P,fours:Y,sixes:ge}),!V&&ae<N){ue+=se;const A=Math.round(S*(ae+1)/_*10)/10;W.push({player:C.id,runs:ue,overs:Math.min(A,S)})}}),{batterStats:O,fallOfWickets:W}},g=(w,j,N,S)=>{const E=o.find(G=>G.id===w);if(!E)return new Map;const O=b.filter(G=>E.squad.includes(G.id)).filter(G=>G.role==="bowler"||G.role==="allrounder").slice(0,5),W=new Map;let _=S,ne=j,B=N;return O.forEach((G,ue)=>{const C=ue===O.length-1,ae=C?Math.min(_,4):Math.min(3+Math.floor(Math.random()*2),_,4);_-=ae;const J=C?ne:Math.floor(ne*(ae/S)*(.8+Math.random()*.4));ne-=J;const V=C?B:Math.floor(B*(.3+Math.random()*.2));B=Math.max(0,B-V);const fe=ae>0?J/ae:8,se=Math.floor(ae*6*(fe<7?.4:fe<9?.3:.2));ae>0&&W.set(G.id,{overs:ae,runs:J,wickets:V,dots:se})}),W},v=f.filter(w=>w.status==="upcoming"&&w.matchType==="league"&&w.homeTeam!==c&&w.awayTeam!==c).slice(0,4);if(v.length===0)return;const p=[...m],T=[...f];for(const w of v){const j=o.find(re=>re.id===w.homeTeam),N=o.find(re=>re.id===w.awayTeam);if(!j||!N)continue;const S=j.reputation+Math.random()*30+5,E=N.reputation+Math.random()*30,k=S>E,O=140+Math.floor(Math.random()*60),W=4+Math.floor(Math.random()*5),_=W>=10?17+Math.floor(Math.random()*3):20;let ne,B,G;k?(ne=O+1,B=2+Math.floor(Math.random()*6),G=16+Math.floor(Math.random()*4)):(ne=O-5-Math.floor(Math.random()*35),B=7+Math.floor(Math.random()*4),G=B>=10?15+Math.floor(Math.random()*5):20);const ue=x(w.awayTeam,O,W,_),C=g(w.homeTeam,O,W,_),ae=x(w.homeTeam,ne,B,G),J=g(w.awayTeam,ne,B,G),V={battingTeam:w.awayTeam,bowlingTeam:w.homeTeam,runs:O,wickets:W,overs:_,balls:_*6,currentBatters:["",""],currentBowler:"",overSummaries:[],fallOfWickets:ue.fallOfWickets,batterStats:ue.batterStats,bowlerStats:C},fe={battingTeam:w.homeTeam,bowlingTeam:w.awayTeam,runs:ne,wickets:B,overs:G,balls:G*6,currentBatters:["",""],currentBowler:"",overSummaries:[],fallOfWickets:ae.fallOfWickets,batterStats:ae.batterStats,bowlerStats:J},se=T.findIndex(re=>re.id===w.id);se!==-1&&(T[se]={...T[se],status:"completed",innings1:V,innings2:fe,tossWinner:w.awayTeam,tossDecision:"bat"});const z=k?w.homeTeam:w.awayTeam,P=k?w.awayTeam:w.homeTeam,te=p.find(re=>re.teamId===z),ge=p.find(re=>re.teamId===P),Y=k?G:_,A=k?ne:O,F=k?_:G,de=k?O:ne;if(te){te.played+=1,te.won+=1,te.points+=2;const re=A/Y-de/F;te.netRunRate+=re*.1}if(ge){ge.played+=1,ge.lost+=1;const re=de/F-A/Y;ge.netRunRate+=re*.1}}p.forEach(w=>{w.netRunRate=Math.round(w.netRunRate*1e3)/1e3}),i({fixtures:T,pointsTable:p})},checkAndStartPlayoffs:()=>{const{fixtures:o,pointsTable:c,playerTeamId:m,phase:f}=d();if(f!=="season"||!o.filter(j=>j.matchType==="league").filter(j=>j.homeTeam===m||j.awayTeam===m).every(j=>j.status==="completed"))return!1;const h=[...c].sort((j,N)=>N.points!==j.points?N.points-j.points:N.netRunRate-j.netRunRate),v=h.slice(0,4).map(j=>j.teamId);if(h.findIndex(j=>j.teamId===m)+1>4)return i({phase:"off-season"}),!1;const T=Zl(v[0],v[1],"qualifier1",6),w=Zl(v[2],v[3],"eliminator",7);return i({phase:"playoffs",fixtures:[...o,T,w]}),!0},progressPlayoffs:(o,c,m)=>{const{fixtures:f,playerTeamId:b,teams:x}=d(),g=f.find(j=>j.id===o);if(!g)return;let h=[...f];const v=new Set(h.map(j=>j.matchType)),p=j=>{const N=x.find(_=>_.id===j.homeTeam),S=x.find(_=>_.id===j.awayTeam),E=(N?.reputation||50)+Math.random()*30,k=(S?.reputation||50)+Math.random()*30,O=E>k?j.homeTeam:j.awayTeam,W=O===j.homeTeam?j.awayTeam:j.homeTeam;return h=h.map(_=>_.id===j.id?{..._,status:"completed"}:_),{winner:O,loser:W}},T=j=>j.homeTeam!==b&&j.awayTeam!==b,w=j=>!j.innings1||!j.innings2?null:j.innings2.runs>=j.innings1.runs+1?j.innings2.battingTeam:j.innings1.battingTeam;if(g.matchType==="qualifier1"){const j=h.find(N=>N.matchType==="eliminator"&&N.status==="upcoming");if(j&&T(j)){const N=p(j);if(!v.has("qualifier2")){const S=Zl(m,N.winner,"qualifier2",8);if(T(S)){h=[...h,{...S,status:"upcoming"}];const E=h.find(k=>k.matchType==="qualifier2");if(E){const k=p(E),O=Zl(c,k.winner,"final",9);h=[...h,O]}}else h=[...h,S]}}else if(j){i({fixtures:h});return}}else if(g.matchType==="eliminator"){if(m===b){i({fixtures:h,phase:"off-season"});return}const j=h.find(N=>N.matchType==="qualifier1"&&N.status==="completed");if(j){const S=w(j)===j.homeTeam?j.awayTeam:j.homeTeam;if(!v.has("qualifier2")){const E=Zl(S,c,"qualifier2",8);h=[...h,E]}}}else if(g.matchType==="qualifier2"){if(m===b){i({fixtures:h,phase:"off-season"});return}const j=h.find(N=>N.matchType==="qualifier1"&&N.status==="completed");if(j&&!v.has("final")){const N=w(j)||j.homeTeam,S=Zl(N,c,"final",9);h=[...h,S]}}else if(g.matchType==="final"){i({fixtures:h,phase:"off-season"});return}i({fixtures:h})},isSeasonComplete:()=>{const{phase:o,fixtures:c}=d();return o==="off-season"?!0:c.find(f=>f.matchType==="final")?.status==="completed"},getSeasonResult:()=>{const{fixtures:o,pointsTable:c,playerTeamId:m,phase:f}=d(),x=[...c].sort((h,v)=>v.points!==h.points?v.points-h.points:v.netRunRate-h.netRunRate).findIndex(h=>h.teamId===m)+1,g=o.find(h=>h.matchType==="final"&&h.status==="completed");if(g){const h=g.innings2&&g.innings1?g.innings2.runs>=g.innings1.runs+1?g.innings2.battingTeam:g.innings1.battingTeam:null,v=h===g.homeTeam?g.awayTeam:g.homeTeam;return{champion:h,runnerUp:v,playerFinish:h===m?1:v===m?2:x}}if(f==="off-season"){const h=o.find(p=>p.matchType==="eliminator"&&p.status==="completed"&&(p.homeTeam===m||p.awayTeam===m));if(h&&h.innings1&&h.innings2&&(h.innings2.runs>=h.innings1.runs+1?h.innings2.battingTeam:h.innings1.battingTeam)!==m)return{champion:null,runnerUp:null,playerFinish:4};const v=o.find(p=>p.matchType==="qualifier2"&&p.status==="completed"&&(p.homeTeam===m||p.awayTeam===m));return v&&v.innings1&&v.innings2&&(v.innings2.runs>=v.innings1.runs+1?v.innings2.battingTeam:v.innings1.battingTeam)!==m?{champion:null,runnerUp:null,playerFinish:3}:{champion:null,runnerUp:null,playerFinish:x}}return null},isMegaAuctionYear:o=>o%3===1,processSeasonEnd:()=>{const{players:o,teams:c,playerTeamId:m,getSeasonResult:f,manager:b}=d(),x=f(),g={...b.history};g.seasonsManaged+=1,x?.champion===m&&(g.titlesWon+=1),x&&x.playerFinish<=4&&(g.playoffAppearances+=1);const h=o.map(w=>({...w,age:w.age+1,contract:{...w.contract,yearsRemaining:Math.max(0,w.contract.yearsRemaining-1)},form:Math.round(w.form*.3),fitness:70+Math.floor(Math.random()*10),morale:60+Math.floor(Math.random()*10),fatigue:0,lastTalkedMatchDay:0})),v=o.filter(w=>w.contract.yearsRemaining===1).map(w=>w.id),p=c.flatMap(w=>w.squad),T=o.filter(w=>!p.includes(w.id)).map(w=>w.id);i({players:h,manager:{...b,history:g},phase:"off-season",releasedPlayers:v,unsoldPlayers:[...d().unsoldPlayers,...T]})},startNextSeason:()=>{const{season:o,processSeasonEnd:c,isMegaAuctionYear:m,navigateTo:f}=d();c();const b=o+1,x=m(b);i({season:b}),f(x?"auction":"release-phase")},releasePlayer:o=>{const{releasedPlayers:c}=d();c.includes(o)||i({releasedPlayers:[...c,o]})},confirmReleases:()=>{const{releasedPlayers:o,teams:c,players:m,playerTeamId:f,unsoldPlayers:b}=d(),x=ax(c,m,f),g=lx(x),h=[...new Set([...o,...g])],v=c.map(w=>({...w,squad:w.squad.filter(j=>!h.includes(j))})),p=m.map(w=>h.includes(w.id)?{...w,contract:{...w.contract,yearsRemaining:0}}:w),T=[...new Set([...h,...b])];i({teams:v,players:p,unsoldPlayers:T}),d().initializeAuction("mini","bidding"),d().navigateTo("auction")},resetForNewSeason:()=>{const{teams:o,players:c,season:m,playerTeamId:f}=d();Mg(async()=>{const{generateFixtures:b}=await Promise.resolve().then(()=>Hg);return{generateFixtures:b}},void 0).then(({generateFixtures:b})=>{const x=b(f),g=o.map(h=>({teamId:h.id,played:0,won:0,lost:0,noResult:0,points:0,netRunRate:0}));i({fixtures:x,pointsTable:g,matchDay:1,phase:"season",activeEvents:[],pressHeat:30,lastMeetingMatchDay:0,releasedPlayers:[]})})},addEvent:o=>{i(c=>({activeEvents:[...c.activeEvents,o]}))},resolveEvent:(o,c)=>{const m=d().activeEvents.find(b=>b.id===o);if(!m)return;const f=m.options.find(b=>b.id===c);f&&(d().applyEventEffects(f),i(b=>({activeEvents:b.activeEvents.map(x=>x.id===o?{...x,resolved:!0,chosenOption:c}:x)})))},applyEventEffects:o=>{o.effects.forEach(c=>{if(c.target==="player"&&c.targetId){const m=d().getPlayer(c.targetId);if(m){const f=m[c.attribute];d().updatePlayerState(c.targetId,{[c.attribute]:Math.max(0,Math.min(100,f+c.change))})}}else if(c.target==="team"){if(c.attribute==="pressHeat")i(m=>({pressHeat:Math.max(0,Math.min(100,m.pressHeat+c.change))}));else if(c.attribute==="boardPatience"){const{playerTeamId:m}=d();i(f=>({teams:f.teams.map(b=>b.id===m?{...b,boardPatience:Math.max(0,Math.min(100,(b.boardPatience||50)+c.change))}:b)}))}else if(c.attribute==="morale"){const{playerTeamId:m,teams:f}=d(),b=f.find(x=>x.id===m);b&&i(x=>({players:x.players.map(g=>b.squad.includes(g.id)?{...g,morale:Math.max(0,Math.min(100,g.morale+c.change))}:g)}))}}})},generatePostMatchEvent:o=>{const{players:c,playerTeamId:m,teams:f,fixtures:b,pressHeat:x}=d(),g=f.find(j=>j.id===m);if(!g)return;const h=c.filter(j=>g.squad.includes(j.id)),p=b.filter(j=>j.status==="completed"&&(j.homeTeam===m||j.awayTeam===m)).slice(-5).map(j=>{if(!j.innings1||!j.innings2)return"loss";const N=j.innings1.battingTeam;return j.innings2.runs>=j.innings1.runs+1?j.innings2.battingTeam===m?"win":"loss":N===m?"win":"loss"});p.push(o?"win":"loss");const T=Math.round(h.reduce((j,N)=>j+N.morale,0)/h.length),w=Gg(h,p,T,g.boardPatience||50,x);w&&i(j=>({activeEvents:[...j.activeEvents,w]}))},advanceDay:()=>{i(o=>{const c=new Date(o.currentDate);c.setDate(c.getDate()+1);const m=o.players.map(f=>{let b=f.form;return f.form>0?b=Math.max(0,f.form-.5):f.form<0&&(b=Math.min(0,f.form+.5)),{...f,fatigue:Math.max(0,f.fatigue-8),fitness:Math.min(100,f.fitness+3),form:Math.round(b*10)/10}});return{currentDate:c.toISOString().split("T")[0],players:m}})},advanceToNextMatch:()=>{i(o=>({matchDay:o.matchDay+1})),d().advanceDay(),d().advanceDay(),d().advanceDay()},canHoldTeamMeeting:()=>{const{matchDay:o,lastMeetingMatchDay:c}=d();return o-c>=3},getTeamMeetingOptions:()=>{const{fixtures:o,playerTeamId:c,matchDay:m}=d(),f=o.filter(v=>v.status==="completed"&&(v.homeTeam===c||v.awayTeam===c)).slice(-3),b=o.some(v=>v.status==="upcoming"&&(v.homeTeam===c||v.awayTeam===c)),x=f.filter(v=>!v.innings1||!v.innings2?!1:(v.innings2.runs>=v.innings1.runs+1?v.innings2.battingTeam:v.innings1.battingTeam)===c).length,g=f.length-x,h=[];return b&&(h.push({id:"rally",type:"pre-match",label:`"Let's go out there and win this!"`,description:"Fire up the squad before the next match",baseMoraleDelta:6}),h.push({id:"focus",type:"pre-match",label:'"Stay focused, stick to the plan"',description:"Calm, tactical approach to the upcoming match",baseMoraleDelta:3})),x>0&&h.push({id:"celebrate",type:"post-win",label:'"Great work, but stay hungry"',description:"Acknowledge success while maintaining focus",baseMoraleDelta:5}),g>=2?(h.push({id:"crisis-calm",type:"crisis",label:`"We've been through rough patches before"`,description:"Reassure the squad, reduce panic",baseMoraleDelta:4}),h.push({id:"crisis-demand",type:"crisis",label:'"This is not good enough!"',description:"Demand better from everyone (risky with some players)",baseMoraleDelta:-2})):g>0&&h.push({id:"bounce-back",type:"post-loss",label:'"Forget that loss, we go again"',description:"Move on quickly from the setback",baseMoraleDelta:4}),h.push({id:"general",type:"pre-match",label:'"I believe in every one of you"',description:"General motivational address",baseMoraleDelta:4}),h},holdTeamMeeting:o=>{const{playerTeamId:c,teams:m,players:f,matchDay:b}=d(),x=m.find(w=>w.id===c);if(!x)return{success:!1,message:"Team not found",avgMoraleChange:0,notableReactions:[]};const g=f.filter(w=>x.squad.includes(w.id)),h=[];let v=0;g.forEach(w=>{let j=o.baseMoraleDelta;o.type==="crisis"&&o.id==="crisis-demand"?w.personality.temperament==="fiery"?Math.random()<.3?(j=-8,h.push({playerName:w.shortName,reaction:"Looked angry. May have taken it personally."})):(j=3,h.push({playerName:w.shortName,reaction:"Fired up! Ready to prove you wrong."})):w.personality.temperament==="calm"?j=2:j=Math.random()<.5?-4:4:(o.type==="post-win"||o.type==="pre-match")&&(w.personality.professionalism>70?j=Math.round(j*.7):w.personality.ambition>70&&(j=Math.round(j*1.2))),j=Math.max(-10,Math.min(10,j)),v+=j,d().updatePlayerState(w.id,{morale:Math.max(0,Math.min(100,w.morale+j))})});const p=g.length>0?Math.round(v/g.length):0;i({lastMeetingMatchDay:b});let T="";return p>3?T="The squad is fired up and ready to go!":p>0?T="The team seems motivated after your address.":p<-2?T="Some players didn't take that well...":T="The team listened but reactions were mixed.",{success:p>=0,message:T,avgMoraleChange:p,notableReactions:h.slice(0,3)}},initializeAuction:(o,c)=>{const{teams:m,players:f,playerTeamId:b,unsoldPlayers:x,releasedPlayers:g}=d(),h=Qg(o),v={};m.forEach(S=>{v[S.id]=Zg(S,f,o,0)});const p=o==="mini"?[...new Set([...x,...g])]:[],T=N0(o,f,m,[],p),w=$g(m);let j;c?j=c:o==="mega"?j="retention_phase":j="release_phase",i({auctionState:{status:j,settings:h,auctionType:o,currentPlayer:null,auctionPool:T,soldPlayers:[],unsoldPlayers:[],teamStates:v,aiStrategies:w,bidTimer:15,bidTimerDefault:15,currentSet:1,playersInCurrentSet:0,totalPlayersAuctioned:0,playerMode:"active",rtmPhase:!1,rtmTeamId:null},phase:"auction"})},setRetention:(o,c)=>{const{auctionState:m,playerTeamId:f}=d();if(!m||m.status!=="retention_phase")return;const b=m.teamStates[f];if(!b)return;const x=b.retentions.map(h=>h.slotNumber===c?{...h,playerId:o}:h),g={...b,retentions:x};i({auctionState:{...m,teamStates:{...m.teamStates,[f]:g}}})},removeRetention:o=>{const{auctionState:c,playerTeamId:m}=d();if(!c||c.status!=="retention_phase")return;const f=c.teamStates[m];if(!f)return;const b=f.retentions.map(x=>x.slotNumber===o?{...x,playerId:null}:x);i({auctionState:{...c,teamStates:{...c.teamStates,[m]:{...f,retentions:b}}}})},confirmRetentions:()=>{const{auctionState:o,playerTeamId:c,players:m,teams:f}=d();if(!o||o.status!=="retention_phase")return;const b=tx(f,m,c),x={...o.teamStates};Object.entries(b).forEach(([v,p])=>{x[v]&&(x[v]={...x[v],retentions:p})});const g=[];Object.entries(x).forEach(([v,p])=>{const T=p.retentions.filter(S=>S.playerId!==null).map(S=>S.playerId);g.push(...T);const w=T.length,j=Yg(w),N=m.filter(S=>T.includes(S.id));x[v]={...p,remainingPurse:ct.TOTAL_PURSE-j,squadSize:T.length,overseasCount:N.filter(S=>S.contract.isOverseas).length,batsmen:N.filter(S=>S.role==="batsman").length,bowlers:N.filter(S=>S.role==="bowler").length,allrounders:N.filter(S=>S.role==="allrounder").length,keepers:N.filter(S=>S.role==="keeper").length}});const h=N0(o.auctionType,m,f,g);i({auctionState:{...o,status:"bidding",auctionPool:h,teamStates:x}})},startBidding:()=>{const{auctionState:o}=d();o&&d().nextPlayer()},placeBid:()=>{const{auctionState:o,playerTeamId:c}=d();if(!o||!o.currentPlayer)return;const m=o.teamStates[c];if(!m)return;const f=Il(o.currentPlayer.currentBid);if(!io(m,f,o.settings))return;const b={...o.currentPlayer,currentBid:f,currentBidder:c,bidHistory:[...o.currentPlayer.bidHistory,{teamId:c,amount:f,timestamp:Date.now(),isRTM:!1}]},x={...o.teamStates};Object.keys(x).forEach(g=>{g!==c&&(x[g]={...x[g],hasPassedCurrentPlayer:!1})}),i({auctionState:{...o,currentPlayer:b,teamStates:x,bidTimer:o.bidTimerDefault}})},passBid:()=>{const{auctionState:o,playerTeamId:c}=d();if(!o||!o.currentPlayer)return;const m=o.teamStates[c];m&&i({auctionState:{...o,teamStates:{...o.teamStates,[c]:{...m,hasPassedCurrentPlayer:!0}}}})},processAIBidRound:()=>{const{auctionState:o,players:c,playerTeamId:m}=d();if(!o||!o.currentPlayer)return!1;const f=o.playerMode==="active"?m:void 0,b=P0(o,c,f);if(b.length===0)return!1;const x=I0(b);if(!x)return!1;const g=Il(o.currentPlayer.currentBid),h={...o.currentPlayer,currentBid:g,currentBidder:x,bidHistory:[...o.currentPlayer.bidHistory,{teamId:x,amount:g,timestamp:Date.now(),isRTM:!1}]},v={...o.teamStates};return Object.keys(v).forEach(p=>{p!==x&&(v[p]={...v[p],hasPassedCurrentPlayer:!1})}),i({auctionState:{...o,currentPlayer:h,teamStates:v,bidTimer:o.bidTimerDefault}}),!0},nextPlayer:()=>{const{auctionState:o}=d();if(!o)return;const c=o.auctionPool.find(b=>b.status==="available");if(!c){d().completeAuction();return}const m=o.auctionPool.map(b=>b.playerId===c.playerId?{...b,status:"current"}:b),f={...o.teamStates};Object.keys(f).forEach(b=>{f[b]={...f[b],hasPassedCurrentPlayer:!1}}),i({auctionState:{...o,currentPlayer:{...c,status:"current"},auctionPool:m,teamStates:f,bidTimer:o.bidTimerDefault,totalPlayersAuctioned:o.totalPlayersAuctioned+1}})},markPlayerSold:()=>{const{auctionState:o,players:c}=d();if(!o||!o.currentPlayer||!o.currentPlayer.currentBidder)return;const m=o.currentPlayer.currentBidder,f={...o.currentPlayer,status:"sold"},b=c.find(v=>v.id===f.playerId),x=o.teamStates[m],g={...x,remainingPurse:x.remainingPurse-f.currentBid,squadSize:x.squadSize+1,overseasCount:x.overseasCount+(b?.contract.isOverseas?1:0),batsmen:x.batsmen+(b?.role==="batsman"?1:0),bowlers:x.bowlers+(b?.role==="bowler"?1:0),allrounders:x.allrounders+(b?.role==="allrounder"?1:0),keepers:x.keepers+(b?.role==="keeper"?1:0)},h=o.auctionPool.map(v=>v.playerId===f.playerId?f:v);i({auctionState:{...o,currentPlayer:null,auctionPool:h,soldPlayers:[...o.soldPlayers,f],teamStates:{...o.teamStates,[m]:g}}})},markPlayerUnsold:()=>{const{auctionState:o}=d();if(!o||!o.currentPlayer)return;const c={...o.currentPlayer,status:"unsold"},m=o.auctionPool.map(f=>f.playerId===c.playerId?c:f);i({auctionState:{...o,currentPlayer:null,auctionPool:m,unsoldPlayers:[...o.unsoldPlayers,c]}})},setAuctionMode:o=>{const{auctionState:c}=d();c&&i({auctionState:{...c,playerMode:o}})},simRestOfAuction:()=>{const{auctionState:o,players:c,playerTeamId:m}=d();if(!o)return;let f={...o};for(;;){const b=f.auctionPool.find(v=>v.status==="available");if(!b)break;const x={...b,status:"current"};f={...f,currentPlayer:x};const g=bx(f,c,m),h={...x,currentBid:g.finalBid,currentBidder:g.soldTo,status:g.soldTo?"sold":"unsold"};if(f.auctionPool=f.auctionPool.map(v=>v.playerId===h.playerId?h:v),g.soldTo){f.soldPlayers=[...f.soldPlayers,h];const v=c.find(T=>T.id===h.playerId),p=f.teamStates[g.soldTo];f.teamStates={...f.teamStates,[g.soldTo]:{...p,remainingPurse:p.remainingPurse-h.currentBid,squadSize:p.squadSize+1,overseasCount:p.overseasCount+(v?.contract.isOverseas?1:0),batsmen:p.batsmen+(v?.role==="batsman"?1:0),bowlers:p.bowlers+(v?.role==="bowler"?1:0),allrounders:p.allrounders+(v?.role==="allrounder"?1:0),keepers:p.keepers+(v?.role==="keeper"?1:0)}}}else f.unsoldPlayers=[...f.unsoldPlayers,h];f.totalPlayersAuctioned++}f.status="completed",f.currentPlayer=null,i({auctionState:f})},completeAuction:()=>{const{auctionState:o,teams:c,players:m,playerTeamId:f}=d();if(!o)return;let b=c.map(j=>{const N=o.teamStates[j.id],S=o.soldPlayers.filter(k=>k.currentBidder===j.id).map(k=>k.playerId);let E;return o.auctionType==="mega"?E=[...N.retentions.filter(O=>O.playerId!==null).map(O=>O.playerId),...S]:E=[...j.squad,...S],{...j,squad:E,budget:N.remainingPurse/100}}),x=m.map(j=>{const N=o.soldPlayers.find(S=>S.playerId===j.id);return N?{...j,contract:{...j.contract,salary:N.currentBid,yearsRemaining:3}}:j});const g=o.unsoldPlayers.map(j=>j.playerId),v=b.filter(j=>j.squad.length<o.settings.minSquadSize).filter(j=>j.id!==f),p={...o.teamStates};for(const j of v){const N=ro(x,b,g),S=p[j.id],E=j0(S,N,o.settings);if(E.length>0){const k=b.findIndex(W=>W.id===j.id);b[k]={...b[k],squad:[...b[k].squad,...E]},x=x.map(W=>{if(E.includes(W.id)){const _=Pl(W);return{...W,contract:{...W.contract,salary:_,yearsRemaining:3}}}return W});const O=E.reduce((W,_)=>{const ne=x.find(B=>B.id===_);return W+(ne?Pl(ne):0)},0);p[j.id]={...S,squadSize:S.squadSize+E.length,remainingPurse:S.remainingPurse-O,overseasCount:S.overseasCount+E.filter(W=>x.find(_=>_.id===W)?.contract.isOverseas).length}}}const T=b.find(j=>j.id===f);T&&T.squad.length<o.settings.minSquadSize?i({teams:b,players:x,auctionState:{...o,status:"squad_fill",teamStates:p},unsoldPlayers:g}):(i({teams:b,players:x,auctionState:{...o,status:"completed",teamStates:p},unsoldPlayers:g}),d().resetForNewSeason())},pickSquadFillPlayer:o=>{const{auctionState:c,teams:m,players:f,playerTeamId:b,unsoldPlayers:x}=d();if(!c||c.status!=="squad_fill")return;const g=f.find(E=>E.id===o);if(!g)return;const h=c.teamStates[b],v=Pl(g),{canPick:p,isFreePickup:T}=co(h,g,v,c.settings);if(!p)return;const w=T?0:v,j=m.map(E=>E.id===b?{...E,squad:[...E.squad,o]}:E),N=f.map(E=>E.id===o?{...E,contract:{...E.contract,salary:w,yearsRemaining:3}}:E),S={...h,squadSize:h.squadSize+1,remainingPurse:h.remainingPurse-w,overseasCount:h.overseasCount+(g.contract.isOverseas?1:0),batsmen:h.batsmen+(g.role==="batsman"?1:0),bowlers:h.bowlers+(g.role==="bowler"?1:0),allrounders:h.allrounders+(g.role==="allrounder"?1:0),keepers:h.keepers+(g.role==="keeper"?1:0)};i({teams:j,players:N,auctionState:{...c,teamStates:{...c.teamStates,[b]:S}}})},autoFillPlayerSquad:()=>{const{auctionState:o,teams:c,players:m,playerTeamId:f,unsoldPlayers:b}=d();if(!o||o.status!=="squad_fill")return;const x=o.teamStates[f],g=ro(m,c,b),h=j0(x,g,o.settings);if(h.length===0)return;const v=c.map(_=>_.id===f?{..._,squad:[..._.squad,...h]}:_);let p=x.remainingPurse;const T={};for(const _ of h){const ne=m.find(B=>B.id===_);if(ne){const B=Pl(ne),G=p<ct.MIN_RESERVE_PER_SLOT?0:B;T[_]=G,p-=G}}const w=m.map(_=>h.includes(_.id)?{..._,contract:{..._.contract,salary:T[_.id]??0,yearsRemaining:3}}:_);let j=x.squadSize,N=x.remainingPurse,S=x.overseasCount,E=x.batsmen,k=x.bowlers,O=x.allrounders,W=x.keepers;for(const _ of h){const ne=m.find(B=>B.id===_);ne&&(j++,N-=T[_]??0,ne.contract.isOverseas&&S++,ne.role==="batsman"&&E++,ne.role==="bowler"&&k++,ne.role==="allrounder"&&O++,ne.role==="keeper"&&W++)}i({teams:v,players:w,auctionState:{...o,teamStates:{...o.teamStates,[f]:{...x,squadSize:j,remainingPurse:N,overseasCount:S,batsmen:E,bowlers:k,allrounders:O,keepers:W}}}})},completeSquadFill:()=>{const{auctionState:o,resetForNewSeason:c}=d();!o||o.status!=="squad_fill"||(i({auctionState:{...o,status:"completed"}}),c())},canPlayerBid:()=>{const{auctionState:o,playerTeamId:c,players:m}=d();if(!o||!o.currentPlayer)return!1;const f=o.teamStates[c];if(!f||f.hasPassedCurrentPlayer||o.currentPlayer.currentBidder===c||Q0(f,o.settings)||m.find(g=>g.id===o.currentPlayer?.playerId)?.contract.isOverseas&&!X0(f,o.settings))return!1;const x=Il(o.currentPlayer.currentBid);return!!io(f,x,o.settings)},getNextBidAmountForPlayer:()=>{const{auctionState:o}=d();return!o||!o.currentPlayer?0:Il(o.currentPlayer.currentBid)},shouldTriggerAuction:()=>{const{season:o,phase:c,startMode:m}=d();if(o===1&&c==="auction"){if(m==="mini-auction")return{trigger:!0,type:"mini"};if(m==="mega-auction")return{trigger:!0,type:"mega"}}return c==="off-season"?{trigger:!0,type:(o-1)%3===0&&o>1?"mega":"mini"}:{trigger:!1,type:"mini"}},loadInitialData:(o,c,m)=>{i({players:o,teams:c,fixtures:m})},canTalkToPlayer:o=>{const{matchDay:c}=d(),m=d().getPlayer(o);if(!m)return!1;const f=m.lastTalkedMatchDay??0;return c-f>=2},getInteractionOptions:o=>{if(!d().getPlayer(o))return[];const m=[];return m.push({id:"praise-performance",category:"praise",label:'"Great job out there"',description:"Acknowledge their recent efforts",baseEffects:{morale:8,form:1}}),m.push({id:"praise-key-player",category:"praise",label:`"You're key to our plans"`,description:"Express how important they are to the team",baseEffects:{morale:12,form:0}}),m.push({id:"correct-improve",category:"correct",label:'"I need more from you"',description:"Push them to do better (risky with some personalities)",baseEffects:{morale:-5,form:3}}),m.push({id:"correct-warning",category:"correct",label:'"This is your last chance"',description:"Issue a warning (high risk, high reward)",baseEffects:{morale:-10,form:5}}),m.push({id:"motivate-big-match",category:"motivate",label:'"Big match coming up, I need you"',description:"Fire them up for an important game",baseEffects:{morale:5,form:2}}),m.push({id:"motivate-patience",category:"motivate",label:'"Your time will come"',description:"Reassure them about future opportunities",baseEffects:{morale:6,form:0}}),m},talkToPlayer:(o,c)=>{const{matchDay:m,pressHeat:f}=d(),b=d().getPlayer(o);if(!b)return{success:!1,message:"Player not found",playerResponse:"",effects:{morale:0,form:0}};let x=c.baseEffects.morale,g=c.baseEffects.form,h=0,v="",p=!0;const{temperament:T,professionalism:w,ambition:j}=b.personality;return c.category==="praise"?w>70?(x=Math.round(x*.7),v=`${b.shortName} nods professionally. "Thanks, but there's still work to do."`):j>70?(x=Math.round(x*1.3),v=`${b.shortName}'s eyes light up. "I knew you noticed! I'm ready to do even more."`):v=`${b.shortName} smiles. "Appreciate the support, boss."`:c.category==="correct"?T==="fiery"?Math.random()<.4?(x=-15,g=-2,h=10,p=!1,v=`${b.shortName} doesn't take it well. "Maybe look at your own decisions first!" The exchange might leak to the press.`):v=`${b.shortName} takes it on the chin, barely. "Fine. I'll show you."`:T==="calm"?(g=Math.round(g*1.5),x=Math.round(x*.5),v=`${b.shortName} listens carefully. "You're right. I'll work on it."`):T==="moody"&&(Math.random()<.3?(x=-12,v=`${b.shortName} walks away silently. Not a good sign.`):v=`${b.shortName} seems to accept the feedback. "Okay."`):c.category==="motivate"&&(j>70&&c.id==="motivate-patience"?(x=Math.round(x*.3),v=`${b.shortName} frowns slightly. "I've been patient long enough..."`):T==="fiery"?(x=Math.round(x*1.3),g=Math.round(g*1.3),v=`${b.shortName} is fired up! "I'm ready. Let's do this!"`):v=`${b.shortName} nods confidently. "Count on me."`),d().updatePlayerState(o,{morale:b.morale+x,form:b.form+g}),i(N=>({players:N.players.map(S=>S.id===o?{...S,lastTalkedMatchDay:m}:S)})),h>0&&i(N=>({pressHeat:Math.min(100,N.pressHeat+h)})),{success:p,message:p?"Conversation completed":"The conversation didn't go well",playerResponse:v,effects:{morale:x,form:g,pressHeat:h>0?h:void 0}}},getPlayer:o=>d().players.find(c=>c.id===o),getTeam:o=>d().teams.find(c=>c.id===o),getMatch:o=>d().fixtures.find(c=>c.id===o),getPlayerTeam:()=>d().teams.find(o=>o.id===d().playerTeamId),getNextMatch:()=>{const{fixtures:o,playerTeamId:c,matchDay:m}=d();return o.find(f=>f.status==="upcoming"&&(f.homeTeam===c||f.awayTeam===c))},getTeamPlayers:o=>{const c=d().getTeam(o);return c?d().players.filter(m=>c.squad.includes(m.id)):[]},getSaveSlots:()=>po(),saveToSlot:(o,c)=>{const m=d(),b=m.teams.find(h=>h.id===m.playerTeamId)?.name||"Unknown Team",x={initialized:m.initialized,testerId:m.testerId,startMode:m.startMode,currentDate:m.currentDate,season:m.season,phase:m.phase,matchDay:m.matchDay,manager:m.manager,playerTeamId:m.playerTeamId,teams:m.teams,players:m.players,fixtures:m.fixtures,pointsTable:m.pointsTable,activeEvents:m.activeEvents,pressHeat:m.pressHeat,lastMeetingMatchDay:m.lastMeetingMatchDay,releasedPlayers:m.releasedPlayers,unsoldPlayers:m.unsoldPlayers},g=c||`${b} - S${m.season} M${m.matchDay}`;return Rg(o,g,x,m.auctionState,m.liveMatchState,b)},loadFromSlot:o=>{const c=Cg(o);if(!c)return!1;let m="home";return c.liveMatchState?m="match-live":c.gameState.phase==="auction"&&(m="auction"),i({...c.gameState,auctionState:c.auctionState,liveMatchState:c.liveMatchState||null,currentScreen:m,selectedPlayerId:null,selectedMatchId:c.liveMatchState?.matchId||null,selectedEventId:null}),!0},deleteSlot:o=>Og(o),exportForBugReport:()=>{const o=d(),c={version:"0.8",testerId:o.testerId,timestamp:new Date().toISOString(),gameState:{initialized:o.initialized,testerId:o.testerId,startMode:o.startMode,currentDate:o.currentDate,season:o.season,phase:o.phase,matchDay:o.matchDay,manager:o.manager,playerTeamId:o.playerTeamId,teams:o.teams,players:o.players,fixtures:o.fixtures,pointsTable:o.pointsTable,activeEvents:o.activeEvents,pressHeat:o.pressHeat,lastMeetingMatchDay:o.lastMeetingMatchDay,releasedPlayers:o.releasedPlayers,unsoldPlayers:o.unsoldPlayers},auctionState:o.auctionState,liveMatchState:o.liveMatchState,uiState:{currentScreen:o.currentScreen,selectedMatchId:o.selectedMatchId,selectedPlayerId:o.selectedPlayerId,selectedEventId:o.selectedEventId}};return JSON.stringify(c)},saveLiveMatchState:o=>{i({liveMatchState:o})},clearLiveMatchState:()=>{i({liveMatchState:null})}}),{name:"cricket-manager-save",partialize:i=>({initialized:i.initialized,testerId:i.testerId,startMode:i.startMode,currentDate:i.currentDate,season:i.season,phase:i.phase,matchDay:i.matchDay,manager:i.manager,playerTeamId:i.playerTeamId,teams:i.teams,players:i.players,fixtures:i.fixtures,pointsTable:i.pointsTable,activeEvents:i.activeEvents,pressHeat:i.pressHeat,lastMeetingMatchDay:i.lastMeetingMatchDay,releasedPlayers:i.releasedPlayers,unsoldPlayers:i.unsoldPlayers,auctionState:i.auctionState,liveMatchState:i.liveMatchState}),onRehydrateStorage:()=>i=>{if(i){i.initialized&&!i.testerId&&Ze.setState({testerId:S0()});try{Array.isArray(i.modalStack)||Ze.setState({modalStack:[]}),i.auctionState&&typeof i.auctionState.status!="string"&&(console.warn("Invalid auctionState.status, resetting auction"),Ze.setState({auctionState:null})),i.liveMatchState&&(!i.liveMatchState.matchId||!i.liveMatchState.inningsState)&&(console.warn("Invalid liveMatchState, clearing"),Ze.setState({liveMatchState:null})),Array.isArray(i.pointsTable)||console.warn("Invalid pointsTable, regenerating"),Array.isArray(i.fixtures)||console.warn("Invalid fixtures, this may cause issues")}catch(d){console.error("State migration error:",d)}}}})),vx=[{screen:"home",label:"Home",icon:""},{screen:"squad",label:"Squad",icon:""},{screen:"stats",label:"Stats",icon:""},{screen:"schedule",label:"Schedule",icon:""},{screen:"club",label:"Club",icon:""}],Nx=()=>{const{currentScreen:i,navigateTo:d}=Ze();return l.jsx("nav",{className:"fixed bottom-0 left-0 right-0 bg-gray-900 border-t border-gray-800 px-2 py-2 z-50",children:l.jsx("div",{className:"max-w-lg mx-auto flex justify-around",children:vx.map(({screen:o,label:c,icon:m})=>l.jsxs("button",{onClick:()=>d(o),className:`flex flex-col items-center py-2 px-2 rounded-lg transition-all min-w-0
              ${i===o?"text-blue-400 bg-blue-900/30":"text-gray-400 hover:text-gray-200"}`,children:[l.jsx("span",{className:"text-lg",children:m}),l.jsx("span",{className:"text-[10px] mt-1",children:c})]},o))})})},F0="http://localhost:8000",jx=1e4;let _s=!1,oo=0;async function T0(){try{const i=new AbortController,d=setTimeout(()=>i.abort(),3e3),o=await fetch(`${F0}/health`,{signal:i.signal});return clearTimeout(d),_s=o.ok,oo=Date.now(),_s}catch{return _s=!1,oo=Date.now(),!1}}function M0(){return{connected:_s,lastCheck:oo}}async function Sx(i,d){const o=`${F0}${i}`;try{const c=new AbortController,m=setTimeout(()=>c.abort(),jx),f=await fetch(o,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(d),signal:c.signal});if(clearTimeout(m),!f.ok){const x=await f.text();return{ok:!1,error:{code:f.status>=500?"SERVER_ERROR":"VALIDATION_ERROR",message:x||`HTTP ${f.status}`,status:f.status}}}const b=await f.json();return _s=!0,{ok:!0,data:b}}catch(c){return _s=!1,c instanceof Error&&c.name==="AbortError"?{ok:!1,error:{code:"TIMEOUT",message:"Request timed out"}}:{ok:!1,error:{code:"NETWORK_ERROR",message:c instanceof Error?c.message:"Network error"}}}}const wx=()=>{const[i,d]=le.useState(!1),[o,c]=le.useState(""),[m,f]=le.useState(null),[b,x]=le.useState(null),[g,h]=le.useState(!1),[v,p]=le.useState(!1),[T,w]=le.useState(!1),[j,N]=le.useState(!1),[S,E]=le.useState(null);le.useEffect(()=>{const A=async()=>{await T0();const de=M0();N(de.connected),E(new Date)};A();const F=setInterval(A,3e4);return()=>clearInterval(F)},[]);const{initialized:k,testerId:O,getSaveSlots:W,saveToSlot:_,loadFromSlot:ne,deleteSlot:B,resetGame:G,season:ue,matchDay:C,phase:ae}=Ze(),J=async()=>{try{await navigator.clipboard.writeText(O),p(!0),setTimeout(()=>p(!1),1500)}catch{const A=document.createElement("textarea");A.value=O,document.body.appendChild(A),A.select(),document.execCommand("copy"),document.body.removeChild(A),p(!0),setTimeout(()=>p(!1),1500)}};if(!k)return null;const V=W(),fe=A=>V.find(F=>F.id===A),se=A=>{fe(A)?(f(A),c(`Save ${A}`)):(f(A),c(`Save ${A}`))},z=()=>{m&&(_(m,o||`Save ${m}`)&&(h(!0),setTimeout(()=>h(!1),1500)),f(null),c(""))},P=A=>{ne(A),d(!1)},te=A=>{b===A?(B(A),x(null)):(x(A),setTimeout(()=>x(null),3e3))},ge=()=>{T?(G(),d(!1),w(!1)):(w(!0),setTimeout(()=>w(!1),3e3))},Y=A=>{switch(A){case"auction":return"Auction";case"season":return"Season";case"playoffs":return"Playoffs";case"off-season":return"Off-Season";default:return A}};return l.jsxs(l.Fragment,{children:[l.jsxs("div",{className:"fixed top-4 right-4 z-50 flex items-center gap-2",children:[l.jsxs("div",{className:`flex items-center gap-1.5 px-2 py-1.5 rounded-lg text-xs font-medium transition-colors ${j?"bg-green-900/80 text-green-400 border border-green-700/50":"bg-amber-900/80 text-amber-400 border border-amber-700/50"}`,title:j?"Connected to backend server":"Using offline simulation",children:[l.jsx("span",{className:`w-2 h-2 rounded-full ${j?"bg-green-400 animate-pulse":"bg-amber-400"}`}),l.jsx("span",{className:"hidden sm:inline",children:j?"Online":"Offline"})]}),l.jsx("button",{onClick:()=>d(!0),className:`w-10 h-10 rounded-lg bg-gray-800 border border-gray-700
            flex items-center justify-center hover:bg-gray-700 transition-colors shadow-lg`,title:"Menu",children:l.jsx("span",{className:"text-xl text-gray-300",children:""})})]}),i&&l.jsxs("div",{className:"fixed inset-0 z-[100]",children:[l.jsx("div",{className:"absolute inset-0 bg-black/60",onClick:()=>{d(!1),f(null),x(null)}}),l.jsxs("div",{className:"absolute right-0 top-0 h-full w-80 max-w-[90vw] bg-gray-900 border-l border-gray-700 shadow-2xl overflow-y-auto",children:[l.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-gray-700",children:[l.jsx("h2",{className:"text-lg font-semibold text-white",children:"Save & Load"}),l.jsx("button",{onClick:()=>{d(!1),f(null),x(null)},className:"text-gray-400 hover:text-white text-xl",children:""})]}),l.jsxs("div",{className:`px-4 py-3 text-sm border-b ${j?"bg-green-900/30 border-green-800/50":"bg-amber-900/30 border-amber-800/50"}`,children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("span",{className:`w-2.5 h-2.5 rounded-full ${j?"bg-green-400 animate-pulse":"bg-amber-400"}`}),l.jsx("span",{className:j?"text-green-400":"text-amber-400",children:j?"Backend Connected":"Offline Mode"})]}),l.jsx("button",{onClick:async()=>{await T0();const A=M0();N(A.connected),E(new Date)},className:"text-xs text-gray-500 hover:text-gray-300 px-2 py-1 rounded bg-gray-800/50",children:"Refresh"})]}),l.jsx("p",{className:"text-xs text-gray-500 mt-1",children:j?"Using server for match & event simulation":"Using local engine (start backend for full features)"})]}),l.jsxs("div",{className:"px-4 py-3 bg-gray-800/50 text-sm text-gray-400",children:[l.jsx("div",{className:"flex items-center justify-between mb-1",children:l.jsxs("span",{children:["Season ",ue,"  Match ",C,"  ",Y(ae)]})}),l.jsxs("button",{onClick:J,className:`flex items-center gap-2 text-xs px-2 py-1 rounded transition-colors ${v?"bg-green-900/50 text-green-400":"bg-gray-700/50 text-gray-500 hover:text-gray-300"}`,title:"Click to copy Tester ID",children:[l.jsx("span",{className:"font-mono",children:O||"No ID"}),l.jsx("span",{children:v?" Copied":""})]})]}),g&&l.jsx("div",{className:"mx-4 mt-4 p-3 bg-green-900/50 border border-green-700 rounded-lg text-green-400 text-sm text-center",children:"Game saved successfully!"}),l.jsxs("div",{className:"p-4 border-b border-gray-800",children:[l.jsx("h3",{className:"text-sm font-semibold text-gray-400 mb-3",children:"SAVE GAME"}),l.jsx("div",{className:"space-y-2",children:[1,2,3].map(A=>{const F=fe(A);return m===A?l.jsxs("div",{className:"bg-gray-800 rounded-lg p-3 border border-blue-600",children:[l.jsx("input",{type:"text",value:o,onChange:re=>c(re.target.value),placeholder:`Save ${A}`,className:"w-full bg-gray-700 border border-gray-600 rounded px-3 py-2 text-white text-sm mb-2",autoFocus:!0}),l.jsxs("div",{className:"flex gap-2",children:[l.jsx("button",{onClick:z,className:"flex-1 bg-blue-600 hover:bg-blue-700 text-white py-2 rounded text-sm font-medium",children:F?"Overwrite":"Save"}),l.jsx("button",{onClick:()=>{f(null),c("")},className:"px-3 bg-gray-700 hover:bg-gray-600 text-gray-300 py-2 rounded text-sm",children:"Cancel"})]})]},A):l.jsxs("button",{onClick:()=>se(A),className:"w-full text-left bg-gray-800 hover:bg-gray-750 rounded-lg p-3 transition-colors",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("span",{className:"text-white font-medium",children:["Slot ",A]}),F?l.jsx("span",{className:"text-xs text-gray-500",children:"Overwrite"}):l.jsx("span",{className:"text-xs text-green-500",children:"Empty"})]}),F&&l.jsxs("div",{className:"text-xs text-gray-500 mt-1",children:[F.name,"  ",F.teamName]})]},A)})})]}),l.jsxs("div",{className:"p-4 border-b border-gray-800",children:[l.jsx("h3",{className:"text-sm font-semibold text-gray-400 mb-3",children:"LOAD GAME"}),V.length===0?l.jsx("p",{className:"text-sm text-gray-500 text-center py-4",children:"No saved games"}):l.jsx("div",{className:"space-y-2",children:V.map(A=>l.jsxs("div",{className:"bg-gray-800 rounded-lg p-3",children:[l.jsxs("div",{className:"flex items-center justify-between mb-1",children:[l.jsx("span",{className:"text-white font-medium",children:A.name}),l.jsxs("span",{className:"text-xs text-gray-500",children:["Slot ",A.id]})]}),l.jsxs("div",{className:"text-xs text-gray-400 mb-2",children:[A.teamName,"  S",A.season," M",A.matchDay,"  ",Y(A.phase)]}),l.jsx("div",{className:"text-xs text-gray-500 mb-3",children:vo(A.savedAt)}),l.jsxs("div",{className:"flex gap-2",children:[l.jsx("button",{onClick:()=>P(A.id),className:"flex-1 bg-blue-600 hover:bg-blue-700 text-white py-2 rounded text-sm font-medium",children:"Load"}),l.jsx("button",{onClick:()=>te(A.id),className:`px-3 py-2 rounded text-sm font-medium transition-colors ${b===A.id?"bg-red-600 hover:bg-red-700 text-white":"bg-gray-700 hover:bg-gray-600 text-gray-300"}`,children:b===A.id?"Confirm?":"Delete"})]})]},A.id))})]}),l.jsx("div",{className:"p-4",children:l.jsx("button",{onClick:ge,className:`w-full py-3 rounded-lg text-sm font-medium transition-colors ${T?"bg-red-600 hover:bg-red-700 text-white":"bg-gray-800 hover:bg-gray-700 text-gray-300 border border-gray-700"}`,children:T?"Confirm? Current progress will be lost":"New Game"})})]})]})]})},So=20,uo=6,E0=4,Tx={dot:.326,single:.382,two:.065,three:.003,four:.119,six:.053,wicket:.051},Mx={powerplay:{boundaryMod:1.08,wicketMod:.76,runRate:7.5},middle:{boundaryMod:.85,wicketMod:.89,runRate:7.8},death:{boundaryMod:1.23,wicketMod:1.78,runRate:9.8}},Ex={aggressive:{boundaryMod:1.25,wicketMod:1.1},balanced:{boundaryMod:1,wicketMod:1},cautious:{boundaryMod:.75,wicketMod:.9}},K0={"good-length":{boundaryMod:1,wicketMod:1,dotMod:1,skillType:"accuracy",minSkill:0},short:{boundaryMod:1.3,wicketMod:1.08,dotMod:.85,skillType:"speed",minSkill:65},yorkers:{boundaryMod:.7,wicketMod:1.05,dotMod:1.3,skillType:"accuracy",minSkill:70},"full-pitched":{boundaryMod:1.15,wicketMod:1.1,dotMod:.95,skillType:"accuracy",minSkill:50}},J0={attacking:{boundaryMod:1.25,wicketMod:1.1,catchMod:1.15,runOutMod:.9},balanced:{boundaryMod:1,wicketMod:1,catchMod:1,runOutMod:1},defensive:{boundaryMod:.7,wicketMod:.9,catchMod:.85,runOutMod:1.1},"death-field":{boundaryMod:.6,wicketMod:.95,catchMod:1.05,runOutMod:1.15}},Ds=60,A0={new:6,settling:15},Ax={new:{boundaryMod:.78,wicketMod:.9,dotMod:1.3,singleMod:.88},settling:{boundaryMod:1.12,wicketMod:1.01,dotMod:.97,singleMod:.98},set:{boundaryMod:1.11,wicketMod:1.08,dotMod:.74,singleMod:1.13}},B0={pace:{powerplay:.495,middle:.274,death:.231},spin:{powerplay:.228,middle:.659,death:.113}},Bx=i=>{let d=1,o=1,c=1;return i.recentWickets>=3?(d*=.738,o*=1.38,c*=1.096):i.recentWickets===2?(d*=.834,o*=1.12,c*=1.054):i.recentWickets===1?(d*=.935,o*=1.026,c*=.967):(d*=1.058,o*=.958,c*=1.008),i.bowlerWickets>=3?(d*=.92,o*=1.1):i.bowlerWickets>=2&&(d*=.96,o*=1.05),i.partnershipRuns>=100?(d*=1.424,o*=1.233,c*=.572):i.partnershipRuns>=75?(d*=1.21,o*=1.178,c*=.624):i.partnershipRuns>=50?(d*=1.143,o*=1.111,c*=.732):i.partnershipRuns>=30?(d*=1.188,o*=1.056,c*=.811):i.partnershipRuns>=20?(d*=1.13,o*=1.037,c*=.87):i.partnershipRuns>=10?(d*=1.071,o*=1.017,c*=.957):(d*=.816,o*=.925,c*=1.202),i.recentRuns>=15?(d*=1.345,o*=1.227):i.recentRuns>=8?(d*=1.08,o*=1.049):i.recentRuns>=3?(d*=.911,o*=.959):(d*=.819,o*=.831),i.recentBoundaries>=3?(d*=1.334,o*=1.128):i.recentBoundaries===2?(d*=1.143,o*=1.018):i.recentBoundaries===1?(d*=1.001,o*=1.018):(d*=.858,o*=.947),i.recentDots>=5?(d*=.865,o*=.889):i.recentDots===4?(d*=.917,o*=.894):i.recentDots===3?(d*=.95,o*=.971):i.recentDots===2?(d*=1.016,o*=1.005):i.recentDots===1?(d*=1.068,o*=1.069):(d*=1.08,o*=1.078),{boundaryMod:d,wicketMod:o,dotMod:c}},Rx=i=>i<A0.new?"new":i<A0.settling?"settling":"set",wo=i=>i<6?"powerplay":i<16?"middle":"death",W0=(i,d)=>{const o=i.overs,c=i.fallOfWickets.filter(E=>E.overs>=o-3).length,f=i.bowlerStats.get(d)?.wickets??0,b=i.overSummaries.slice(-3),x=b.reduce((E,k)=>E+k.runs,0),g=b.length||1,h=x/g*6/6,v=i.fallOfWickets[i.fallOfWickets.length-1],p=v?i.runs-v.runs:i.runs,T=[];for(const E of i.overSummaries)T.push(...E.balls);const w=T.slice(-6);let j=0,N=0,S=0;for(const E of w){const k=E.outcome;k.type==="runs"?(j+=k.runs,k.runs===0?S++:(k.runs===4||k.runs===6)&&N++):(k.type==="wicket"||k.type==="extra")&&(j+=k.runs)}return{recentWickets:c,bowlerWickets:f,recentRunRate:h,partnershipRuns:p,recentRuns:j,recentBoundaries:N,recentDots:S}},Cx=i=>{const{technique:d,power:o,timing:c,temperament:m}=i.batting;return d*.25+o*.25+c*.3+m*.2},ef=i=>{const{speed:d,accuracy:o,variation:c,stamina:m}=i.bowling;return d*.2+o*.35+c*.25+m*.2},R0=(i,d)=>i*(1+d/200),C0=(i,d)=>i*(1-d/200),Ox=(i,d)=>{const o=K0[d];let c;if(o.skillType==="speed"?c=i.bowling.speed:o.skillType==="variation"?c=i.bowling.variation:c=i.bowling.accuracy,d==="yorkers"&&i.bowlingStyle?.includes("spin")&&(c=i.bowling.variation),c<o.minSkill){const f=(o.minSkill-c)/100;return Math.max(.5,1-f*2)}const m=(c-o.minSkill)/100;return Math.min(1.3,1+m*.5)},kx=(i="balanced",d={catching:Ds,throwing:Ds})=>{let o=.65,c=.17,m=.06,f=.08,b=.03,x=.01;const g=J0[i];o*=g.catchMod,f*=g.runOutMod;const h=1+(d.catching-Ds)/200;o*=h;const v=1+(d.throwing-Ds)/200;f*=v;const p=o+c+m+f+b+x,T=Math.random()*p;let w=0;return T<(w+=o)?"caught":T<(w+=c)?"bowled":T<(w+=m)?"lbw":T<(w+=f)?"runout":T<(w+=b)?"stumped":"hitwicket"},zx=(i,d,o)=>{const c=d.shortName,m=o.shortName;if(i.type==="wicket"){const g={bowled:[`Clean bowled! ${m} beats ${c} all ends up!`,`TIMBER! ${m} crashes through the defense!`,`The stumps are rattled! ${c} has to go!`],caught:[`Caught! ${c} finds the fielder!`,`In the air and taken! ${m} gets the breakthrough!`,`That's a good catch! ${c} is gone!`],lbw:[`LBW! That looked plumb! ${c} departs!`,`Given out leg before! ${m} strikes!`,"Trapped in front! The umpire raises the finger!"],runout:["Run out! Brilliant work in the field!",`Direct hit! ${c} is short of the crease!`,`Terrible mix-up and ${c} has to go!`],stumped:["Stumped! Lightning quick work behind the stumps!",`${c} beaten in the flight and stumped!`,"Down the track and stumped! Great keeping!"],hitwicket:[`Hit wicket! ${c} has knocked the bails off!`,`Oh no! ${c} has hit his own stumps!`,"Unfortunate dismissal - hit wicket!"]}[i.dismissal];return g[Math.floor(Math.random()*g.length)]}if(i.type==="extra")return i.extraType==="wide"?`Wide ball from ${m}`:i.extraType==="noball"?"No ball! Free hit coming up!":`${i.runs} ${i.extraType}s`;const f=i.runs;if(f===0){const x=[`Dot ball. Good tight bowling from ${m}.`,"Defended back to the bowler.",`${c} can't get it away.`,"Good length, no run.","Beaten outside off! Great delivery!"];return x[Math.floor(Math.random()*x.length)]}if(f===1)return["Single taken.","Pushed for one.","Quick single.","Rotates the strike."][Math.floor(Math.random()*4)];if(f===2)return["Two runs.","Good running between the wickets!","Pushed into the gap for two."][Math.floor(Math.random()*3)];if(f===3)return["Three runs! Excellent running!","They come back for three!"][Math.floor(Math.random()*2)];if(f===4){const x=[`FOUR! ${c} times that beautifully!`,"Boundary! That raced away to the fence!","FOUR! Cracking shot through the covers!","Swept away for FOUR!","Cut away and that's FOUR!"];return x[Math.floor(Math.random()*x.length)]}const b=[`SIX! ${c} launches it into the stands!`,"HUGE SIX! That's gone miles!",`Maximum! ${c} clears the boundary with ease!`,`SIX! What a strike from ${c}!`,"Into the crowd! Massive hit!"];return b[Math.floor(Math.random()*b.length)]},tf=(i,d,o,c,m,f,b,x,g,h,v=0,p)=>{const T=wo(o),w=Mx[T],j=b.battingApproach[T],N=Ex[j],S=b.bowlingPlan?.bowlingApproach,E=S?.[T]?.length??"good-length",k=S?.[T]?.field??"balanced",O=K0[E],W=J0[k],_=Ox(d,E),ne=Cx(i),B=ef(d),G=(ne-B)/100,ue=R0(1,i.form),C=R0(1,-d.form),ae=C0(1,i.fatigue),J=C0(1,d.fatigue),V=Rx(v),fe=Ax[V];let se={...Tx};const z=1+G*.15,P=w.boundaryMod*N.boundaryMod*O.boundaryMod*W.boundaryMod*_*fe.boundaryMod;se.four*=z*ue*ae*P,se.six*=z*ue*ae*P;const te=w.wicketMod*N.wicketMod*O.wicketMod*W.wicketMod*_*fe.wicketMod;if(se.wicket*=1/z*C*J*te,se.dot*=O.dotMod*_*fe.dotMod,se.single*=fe.singleMod,p){const re=Bx(p);se.four*=re.boundaryMod,se.six*=re.boundaryMod,se.wicket*=re.wicketMod,se.dot*=re.dotMod}if(d.bowlingStyle?.includes("spin")?se.wicket*=1+(x.spin-50)/100:d.bowlingStyle?.includes("fast")&&(se.wicket*=1+(x.pace-50)/100),m!==null){const re=(So-o)*6,Ae=(m-f)/re*6;Ae>12?(se.six*=1.3,se.four*=1.2,se.wicket*=1.4):Ae>9&&(se.six*=1.15,se.four*=1.1,se.wicket*=1.2)}const ge=Object.values(se).reduce((re,Ce)=>re+Ce,0);Object.keys(se).forEach(re=>{se[re]/=ge});const Y=Math.random();let A=0,F;if(Y<(A+=se.dot)?F={type:"runs",runs:0}:Y<(A+=se.single)?F={type:"runs",runs:1}:Y<(A+=se.two)?F={type:"runs",runs:2}:Y<(A+=se.three)?F={type:"runs",runs:3}:Y<(A+=se.four)?F={type:"runs",runs:4}:Y<(A+=se.six)?F={type:"runs",runs:6}:F={type:"wicket",dismissal:kx(k,{catching:Ds,throwing:Ds}),runs:0},F.type==="runs"){const re=Math.random();re<.0326?F={type:"extra",extraType:"wide",runs:1}:re<.0326+.0041&&(F={type:"extra",extraType:"noball",runs:1})}const de=zx(F,i,d);return{outcome:F,narrative:de}},Dx=(i,d,o,c,m,f)=>{const b=o.overs,x=o.balls,g=0,h=i.find(J=>J.id===o.currentBatters[g]);if(!h)return{ballEvent:null,updatedInnings:o,newBatsmanNeeded:!1,inningsComplete:!0};const p=o.batterStats.get(h.id)?.balls??0,T=W0(o,d.id),{outcome:w,narrative:j}=tf(h,d,b+x/6,o.wickets,f,o.runs,c,m,void 0,void 0,p,T),N={over:b,ball:x+1,batter:h.id,bowler:d.id,outcome:w,narrative:j};let S=o.runs,E=o.wickets,k=x,O=b,W=[...o.currentBatters],_=0,ne=!1,B=!0;if(w.type==="wicket"){E++,S+=w.runs,k++,ne=E<10;const J=i.filter(V=>!W.includes(V.id)&&!o.fallOfWickets.some(fe=>fe.player===V.id));J.length>0&&E<10&&(W[_]=J[0].id)}else w.type==="extra"?(S+=w.runs,w.extraType==="wide"||w.extraType==="noball"?B=!1:k++):(S+=w.runs,k++,w.runs%2===1&&(W=[W[1],W[0]]));k>=uo&&(O++,k=0,W=[W[1],W[0]]);const G=E>=10||O>=So||f!==null&&S>=f,ue={...o,runs:S,wickets:E,overs:O,balls:k,currentBatters:W,currentBowler:d.id,overSummaries:o.overSummaries,fallOfWickets:w.type==="wicket"?[...o.fallOfWickets,{player:h.id,runs:S,overs:b+(x+1)/10}]:o.fallOfWickets,batterStats:new Map(o.batterStats),bowlerStats:new Map(o.bowlerStats)},C=ue.batterStats.get(h.id)||{runs:0,balls:0,fours:0,sixes:0};w.type==="runs"?(C.runs+=w.runs,C.balls+=1,w.runs===4&&(C.fours+=1),w.runs===6&&(C.sixes+=1)):w.type==="wicket"&&(C.runs+=w.runs,C.balls+=1),ue.batterStats.set(h.id,C);const ae=ue.bowlerStats.get(d.id)||{overs:0,runs:0,wickets:0,dots:0};return w.type==="runs"?(ae.runs+=w.runs,w.runs===0&&(ae.dots+=1)):w.type==="wicket"?(ae.wickets+=1,ae.runs+=w.runs):w.type==="extra"&&(ae.runs+=w.runs),k===0&&B&&(ae.overs+=1),ue.bowlerStats.set(d.id,ae),{ballEvent:N,updatedInnings:ue,newBatsmanNeeded:ne,inningsComplete:G}},To=(i,d,o,c,m,f)=>{const b=Math.floor(o.overs),x=[];let g=0,h=0,v=[...o.currentBatters],p=0;new Set(Array.from(o.batterStats.keys()));const T=i.filter(O=>!o.fallOfWickets.some(W=>W.player===O.id)),w=new Map;let j=W0(o,d.id),N=0;for(;N<uo;){const O=i.find(C=>C.id===v[p]);if(!O)break;const W=o.batterStats.get(O.id)?.balls??0,_=w.get(O.id)??0,ne=W+_,B={...j,recentWickets:j.recentWickets+h,partnershipRuns:j.partnershipRuns+g},{outcome:G,narrative:ue}=tf(O,d,o.overs+N/6,o.wickets+h,f,o.runs+g,c,m,void 0,void 0,ne,B);if((G.type!=="extra"||G.extraType!=="wide"&&G.extraType!=="noball")&&w.set(O.id,(w.get(O.id)??0)+1),x.push({over:b,ball:N+1,batter:O.id,bowler:d.id,outcome:G,narrative:ue}),G.type==="wicket"){h++,g+=G.runs,j={...j,partnershipRuns:0,recentWickets:j.recentWickets+1};const C=T.find(ae=>!v.includes(ae.id)&&!o.fallOfWickets.some(J=>J.player===ae.id));if(C&&o.wickets+h<10)v[p]=C.id;else break;N++}else if(G.type==="extra"){if(g+=G.runs,G.extraType==="wide"||G.extraType==="noball")continue;N++}else g+=G.runs,G.runs%2===1&&(p=1-p),N++;if(f!==null&&o.runs+g>=f)break}const S=N>=uo;S&&(p=1-p);const E={overNumber:b,bowler:d.id,runs:g,wickets:h,balls:x},k={...o,runs:o.runs+g,wickets:o.wickets+h,overs:S?b+1:b,balls:S?0:N,currentBatters:[v[p],v[1-p]],currentBowler:d.id,overSummaries:[...o.overSummaries,E],batterStats:new Map(o.batterStats),bowlerStats:new Map(o.bowlerStats)};if(x.forEach(O=>{O.outcome.type==="wicket"&&k.fallOfWickets.push({player:O.batter,runs:k.runs,overs:O.over+O.ball/10});const W=O.batter,_=k.batterStats.get(W)||{runs:0,balls:0,fours:0,sixes:0};O.outcome.type==="runs"?(_.runs+=O.outcome.runs,_.balls+=1,O.outcome.runs===4&&(_.fours+=1),O.outcome.runs===6&&(_.sixes+=1)):O.outcome.type==="wicket"&&(_.runs+=O.outcome.runs,_.balls+=1),k.batterStats.set(W,_);const ne=k.bowlerStats.get(d.id)||{overs:0,runs:0,wickets:0,dots:0};O.outcome.type==="runs"?(ne.runs+=O.outcome.runs,O.outcome.runs===0&&(ne.dots+=1)):O.outcome.type==="wicket"?(ne.wickets+=1,ne.runs+=O.outcome.runs):O.outcome.type==="extra"&&(ne.runs+=O.outcome.runs),k.bowlerStats.set(d.id,ne)}),S){const O=k.bowlerStats.get(d.id);O&&(O.overs+=1,k.bowlerStats.set(d.id,O))}return{overSummary:E,updatedInnings:k}},O0=(i,d,o,c,m=null)=>{const f=o.playingXI.map(v=>i.find(p=>p.id===v)).filter(Boolean),b=d.filter(v=>v.role==="bowler"||v.role==="allrounder"),x=new Map;b.forEach(v=>x.set(v.id,0));let g={battingTeam:f[0]?.contract.isOverseas?"overseas":"domestic",bowlingTeam:"",runs:0,wickets:0,overs:0,balls:0,currentBatters:[f[0]?.id||"",f[1]?.id||""],currentBowler:b[0]?.id||"",overSummaries:[],fallOfWickets:[],batterStats:new Map,bowlerStats:new Map},h=null;for(let v=0;v<So;v++){const p=b.filter(j=>(x.get(j.id)||0)<E0&&j.id!==h);if(p.length===0){const j=b.filter(N=>(x.get(N.id)||0)<E0);if(j.length===0)break;p.push(j[0])}let T=p[0];if(v>=16&&o.bowlingPlan.deathBowler){const j=p.find(N=>N.id===o.bowlingPlan.deathBowler);j&&(T=j)}else T=p[Math.floor(Math.random()*p.length)];h=T.id,x.set(T.id,(x.get(T.id)||0)+1);const{updatedInnings:w}=To(f,T,g,o,c,m);if(g=w,g.wickets>=10||m!==null&&g.runs>=m)break}return g},_x=(i,d,o)=>{const{homeTactics:c,awayTactics:m,pitch:f}=o;if(!c||!m)throw new Error("Both teams must have tactics set");const b=Math.random()<.5?"home":"away",x=Math.random()<.6?"bat":"bowl";let g,h,v,p;b==="home"&&x==="bat"||b==="away"&&x==="bowl"?(g=i,h=d,v=c,p=m):(g=d,h=i,v=m,p=c);const T=O0(g,h,v,f,null),w=T.runs+1,j=O0(h,g,p,f,w);let N,S;const E=g===i?o.homeTeam:o.awayTeam,k=g===i?o.awayTeam:o.homeTeam;j.runs>=w?(N=k,S={type:"wickets",value:10-j.wickets}):j.runs<T.runs?(N=E,S={type:"runs",value:T.runs-j.runs}):(N=null,S=null);const O=[...i,...d],W=O[Math.floor(Math.random()*O.length)]?.id||"";return{winner:N,winMargin:S,playerOfMatch:W,firstInnings:T,secondInnings:j}},mo=(i,d)=>{const o=i.filter(h=>h.role==="batsman"||h.role==="keeper"),c=i.filter(h=>h.role==="allrounder"),m=i.filter(h=>h.role==="bowler"),f=[...o.slice(0,4),...c.slice(0,2),...m.slice(0,4),...o.slice(4,5)].slice(0,11).map(h=>h.id),b=i.find(h=>h.role==="keeper"),x=m.filter(h=>h.bowlingStyle?.includes("fast")||h.bowlingStyle?.includes("medium")),g=[x[0]?.id||m[0]?.id||"",x[1]?.id||m[1]?.id||""];return{playingXI:f,captain:d,wicketkeeper:b?.id||f[0],battingApproach:{powerplay:"aggressive",middle:"balanced",death:"aggressive"},bowlingPlan:{openingBowlers:g,deathBowler:x[0]?.id||m[0]?.id||"",spinStrategy:"middle",bowlingApproach:{powerplay:{length:"full-pitched",field:"attacking"},middle:{length:"good-length",field:"balanced"},death:{length:"yorkers",field:"death-field"}}},playerInstructions:[]}},qx=i=>{const d=i.bowlingStyle?.includes("fast")||i.bowlingStyle?.includes("medium"),o=i.bowlingStyle?.includes("spin")||i.bowlingStyle?.includes("leg"),c=i.bowling.accuracy;return i.bowling.variation,d&&c>=70?"death":d&&i.bowling.speed>=70?"powerplay":"middle"},fo=(i,d,o,c=4)=>{const m=d.overs,f=wo(m),b=i.filter(g=>g.id===o?!1:(d.bowlerStats.get(g.id)?.overs??0)<c);if(b.length===0)return i.filter(h=>(d.bowlerStats.get(h.id)?.overs??0)<c)[0]||null;const x=b.map(g=>{const h=d.bowlerStats.get(g.id),v=h?.overs??0,p=h?.runs??0,T=h?.wickets??0,w=v>0?p/v:0,j=qx(g),N=T>=2;let S=50;const E=g.bowlingStyle?.includes("fast")||g.bowlingStyle?.includes("medium"),k=g.bowlingStyle?.includes("spin")||g.bowlingStyle?.includes("leg");if(E){const _=B0.pace[f];S+=_*50}else if(k){const _=B0.spin[f];S+=_*50}else f==="powerplay"&&j==="powerplay"&&(S+=20),f==="middle"&&j==="middle"&&(S+=20),f==="death"&&j==="death"&&(S+=25);N&&(S+=30),v>=1&&(w<6?S+=15:w<8?S+=5:w>10?S-=10:w>12&&(S-=20)),S+=T*8,v===0&&(S+=5),c-v<=1&&f!=="death"&&(S-=10);const W=ef(g);return S+=(W-55)*.3,S+=g.form*.5,{bowler:g,role:j,score:S,overs:v,economy:w,wickets:T,isHot:N}});return x.sort((g,h)=>h.score-g.score),x[0]?.bowler||null},tl={avgScore:{min:145,max:180},avgWickets:{min:5,max:8},boundaryRate:{min:.14,max:.22},dotBallRate:{min:.3,max:.45},avgRunRate:{min:7,max:9.5},chaseSuccessRate:{min:.4,max:.6},allOutRate:{min:.05,max:.15},scoresUnder100Rate:{min:0,max:.05},scoresOver200Rate:{min:.02,max:.2}},k0=i=>{let d=0,o=0,c=0,m=0;i.batterStats.forEach(b=>{d+=b.fours,o+=b.sixes,m+=b.balls}),i.bowlerStats.forEach(b=>{c+=b.dots});const f=i.overs*6+i.balls;return{runs:i.runs,wickets:i.wickets,overs:i.overs+i.balls/6,fours:d,sixes:o,dots:c,totalBalls:f||m}},Vi=i=>{const d=Fl.find(o=>o.id===i);return d?L0.filter(o=>d.squad.includes(o.id)):[]},Ux=()=>{const i=[...Fl].sort(()=>Math.random()-.5);return[i[0].id,i[1].id]},Hx=(i,d)=>{const o=Vi(i),c=Vi(d),m=Fl.find(h=>h.id===i),f=Fl.find(h=>h.id===d),b={pace:50+Math.floor(Math.random()*20)-10,spin:50+Math.floor(Math.random()*20)-10,bounce:50+Math.floor(Math.random()*20)-10,deterioration:0},x=m.captain||o[0]?.id||"",g=f.captain||c[0]?.id||"";return{id:`test-${Date.now()}-${Math.random()}`,homeTeam:i,awayTeam:d,venue:m.homeVenue,matchNumber:0,matchType:"league",weather:"clear",status:"upcoming",tossWinner:null,tossDecision:null,currentInnings:null,innings1:null,innings2:null,result:null,homeTactics:mo(o,x),awayTactics:mo(c,g),pitch:b}},ho=(i=100,d={})=>{const o=Date.now(),c=[];for(let f=0;f<i;f++){const[b,x]=d.specificTeams||Ux(),g=Vi(b),h=Vi(x);if(g.length<11||h.length<11){d.verbose&&console.log(`Skipping match ${f+1}: Not enough players`);continue}const v=Hx(b,x);try{const p=_x(g,h,v),T=k0(p.firstInnings),w=k0(p.secondInnings),j={firstInnings:T,secondInnings:w,winMarginRuns:p.winMargin?.type==="runs"?p.winMargin.value:null,winMarginWickets:p.winMargin?.type==="wickets"?p.winMargin.value:null,wasTie:p.winner===null,chaseSuccessful:p.winMargin?.type==="wickets"||!1};c.push(j),d.verbose&&console.log(`Match ${f+1}: ${T.runs}/${T.wickets} vs ${w.runs}/${w.wickets} | ${j.chaseSuccessful?"Chase won":j.wasTie?"Tie":"Defended"}`)}catch(p){d.verbose&&console.error(`Match ${f+1} failed:`,p)}}const m=Date.now()-o;return Lx(c,m)},Lx=(i,d)=>{if(i.length===0)throw new Error("No matches completed successfully");const o=i.flatMap(A=>[A.firstInnings,A.secondInnings]),c=i.map(A=>A.firstInnings),m=i.map(A=>A.secondInnings),f=o.map(A=>A.runs),b=c.reduce((A,F)=>A+F.runs,0)/c.length,x=m.reduce((A,F)=>A+F.runs,0)/m.length,g=o.reduce((A,F)=>A+F.wickets,0)/o.length,h=Math.min(...f),v=Math.max(...f),p=f.filter(A=>A<100).length,T=f.filter(A=>A>=100&&A<140).length,w=f.filter(A=>A>=140&&A<170).length,j=f.filter(A=>A>=170&&A<200).length,N=f.filter(A=>A>=200).length,S=o.reduce((A,F)=>A+F.totalBalls,0),E=o.reduce((A,F)=>A+F.fours,0),k=o.reduce((A,F)=>A+F.sixes,0),O=o.reduce((A,F)=>A+F.dots,0),W=o.reduce((A,F)=>A+F.runs,0),_=o.reduce((A,F)=>A+F.overs,0),ne=S>0?(E+k)/S:0,B=S>0?E/S:0,G=S>0?k/S:0,ue=S>0?O/S:0,C=_>0?W/_:0,ae=i.filter(A=>A.chaseSuccessful).length,J=i.filter(A=>A.wasTie).length;i.filter(A=>!A.chaseSuccessful&&!A.wasTie).length;const V=i.filter(A=>A.winMarginRuns!==null),fe=i.filter(A=>A.winMarginWickets!==null),se=V.length>0?V.reduce((A,F)=>A+(F.winMarginRuns||0),0)/V.length:0,z=fe.length>0?fe.reduce((A,F)=>A+(F.winMarginWickets||0),0)/fe.length:0,te=o.filter(A=>A.wickets>=10).length/o.length,ge=c.reduce((A,F)=>A+F.wickets,0)/c.length,Y=m.reduce((A,F)=>A+F.wickets,0)/m.length;return{matchCount:i.length,timeElapsedMs:d,avgFirstInningsScore:b,avgSecondInningsScore:x,avgWickets:g,minScore:h,maxScore:v,scoresUnder100:p,scores100to140:T,scores140to170:w,scores170to200:j,scoresOver200:N,boundaryRate:ne,fourRate:B,sixRate:G,dotBallRate:ue,avgRunRate:C,chaseSuccessRate:ae/i.length,avgWinByRuns:se,avgWinByWickets:z,tieRate:J/i.length,allOutRate:te,avgWicketsFirst:ge,avgWicketsSecond:Y}},Gx=i=>{const d=[],o=(b,x,g,h)=>{let v;return g>=h.min&&g<=h.max?v="PASS":g>=h.min*.9&&g<=h.max*1.1?v="WARN":v="FAIL",{passed:v==="PASS",category:b,metric:x,actual:g,expected:h,status:v}},c=(i.avgFirstInningsScore+i.avgSecondInningsScore)/2;d.push(o("Scoring","Average Score",c,tl.avgScore)),d.push(o("Scoring","Average Wickets",i.avgWickets,tl.avgWickets));const m=i.scoresUnder100/(i.matchCount*2);d.push(o("Scoring","Low Scores (<100) Rate",m,tl.scoresUnder100Rate));const f=i.scoresOver200/(i.matchCount*2);return d.push(o("Scoring","High Scores (>200) Rate",f,tl.scoresOver200Rate)),d.push(o("Ball-level","Boundary Rate",i.boundaryRate,tl.boundaryRate)),d.push(o("Ball-level","Dot Ball Rate",i.dotBallRate,tl.dotBallRate)),d.push(o("Ball-level","Run Rate",i.avgRunRate,tl.avgRunRate)),d.push(o("Outcomes","Chase Success Rate",i.chaseSuccessRate,tl.chaseSuccessRate)),d.push(o("Outcomes","All Out Rate",i.allOutRate,tl.allOutRate)),d},go=i=>{const d=Gx(i),o=d.filter(x=>x.status==="PASS").length,c=d.filter(x=>x.status==="WARN").length,m=d.filter(x=>x.status==="FAIL").length,f=["","           MATCH ENGINE SIMULATION REPORT                    ","","",`Matches Simulated: ${i.matchCount}`,`Time Elapsed: ${(i.timeElapsedMs/1e3).toFixed(2)}s`,`Speed: ${(i.matchCount/(i.timeElapsedMs/1e3)).toFixed(1)} matches/sec`,""," SCORE DISTRIBUTION ","",`Average 1st Innings: ${i.avgFirstInningsScore.toFixed(1)}`,`Average 2nd Innings: ${i.avgSecondInningsScore.toFixed(1)}`,`Score Range: ${i.minScore} - ${i.maxScore}`,"",`Under 100:   ${i.scoresUnder100} (${(i.scoresUnder100/(i.matchCount*2)*100).toFixed(1)}%)`,`100-140:     ${i.scores100to140} (${(i.scores100to140/(i.matchCount*2)*100).toFixed(1)}%)`,`140-170:     ${i.scores140to170} (${(i.scores140to170/(i.matchCount*2)*100).toFixed(1)}%)`,`170-200:     ${i.scores170to200} (${(i.scores170to200/(i.matchCount*2)*100).toFixed(1)}%)`,`Over 200:    ${i.scoresOver200} (${(i.scoresOver200/(i.matchCount*2)*100).toFixed(1)}%)`,""," BALL-LEVEL STATS ","",`Boundary Rate: ${(i.boundaryRate*100).toFixed(1)}% (4s: ${(i.fourRate*100).toFixed(1)}%, 6s: ${(i.sixRate*100).toFixed(1)}%)`,`Dot Ball Rate: ${(i.dotBallRate*100).toFixed(1)}%`,`Run Rate: ${i.avgRunRate.toFixed(2)} per over`,""," MATCH OUTCOMES ","",`Chase Success Rate: ${(i.chaseSuccessRate*100).toFixed(1)}%`,`Avg Win by Runs: ${i.avgWinByRuns.toFixed(1)}`,`Avg Win by Wickets: ${i.avgWinByWickets.toFixed(1)}`,`Tie Rate: ${(i.tieRate*100).toFixed(1)}%`,""," WICKET STATS ","",`Average Wickets: ${i.avgWickets.toFixed(1)}`,`1st Innings Avg: ${i.avgWicketsFirst.toFixed(1)}`,`2nd Innings Avg: ${i.avgWicketsSecond.toFixed(1)}`,`All-Out Rate: ${(i.allOutRate*100).toFixed(1)}%`,""," VALIDATION RESULTS ",""],b=[...new Set(d.map(x=>x.category))];for(const x of b){f.push(`[${x}]`);const g=d.filter(h=>h.category===x);for(const h of g){const v=h.status==="PASS"?"":h.status==="WARN"?"":"",p=typeof h.actual=="number"&&h.actual<1?`${(h.actual*100).toFixed(1)}%`:h.actual.toFixed(1),T=h.expected.max<1?`${(h.expected.min*100).toFixed(0)}-${(h.expected.max*100).toFixed(0)}%`:`${h.expected.min.toFixed(0)}-${h.expected.max.toFixed(0)}`;f.push(`  ${v} ${h.metric}: ${p} (expected: ${T})`)}f.push("")}return f.push(""),f.push(`SUMMARY: ${o} PASS, ${c} WARN, ${m} FAIL`),f.push(""),m>0?f.push("  Some validations failed. Consider adjusting match engine parameters."):c>0?f.push(" All critical validations passed. Some metrics are borderline."):f.push(" All validations passed! Match engine is producing realistic results."),f.join(`
`)};typeof window<"u"&&(window.runSimulation=(i=100)=>{console.log(`
Running ${i} match simulation...
`);const d=ho(i);return console.log(go(d)),d},window.quickTest=()=>{console.log(`
Running quick 50-match test...
`);const i=ho(50);return console.log(go(i)),i});const Yx=()=>{const[i,d]=le.useState(!1),[o,c]=le.useState(!1),[m,f]=le.useState(!1),[b,x]=le.useState(null),{exportForBugReport:g}=Ze(),h=async()=>{try{const p=g();await navigator.clipboard.writeText(p),d(!0),setTimeout(()=>d(!1),2e3)}catch{const T=document.createElement("textarea");T.value=g(),document.body.appendChild(T),T.select(),document.execCommand("copy"),document.body.removeChild(T),d(!0),setTimeout(()=>d(!1),2e3)}},v=async p=>{f(!0),x(null),setTimeout(()=>{try{const T=ho(p),w=go(T);x(w)}catch(T){x(`Error: ${T instanceof Error?T.message:"Unknown error"}`)}finally{f(!1)}},50)};return l.jsxs(l.Fragment,{children:[l.jsx("button",{onClick:h,onContextMenu:p=>{p.preventDefault(),c(!0)},className:`fixed bottom-20 right-4 z-50 w-10 h-10 rounded-full shadow-lg
          flex items-center justify-center transition-all duration-200
          ${i?"bg-green-600 scale-110":"bg-gray-700 hover:bg-gray-600"}`,title:"Click to copy state | Right-click for simulation",children:i?l.jsx("span",{className:"text-white text-sm",children:"OK"}):l.jsx("span",{className:"text-lg",children:""})}),o&&l.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center bg-black/70",children:l.jsxs("div",{className:"bg-gray-800 rounded-lg shadow-xl max-w-2xl w-full mx-4 max-h-[80vh] flex flex-col",children:[l.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-gray-700",children:[l.jsx("h2",{className:"text-lg font-bold text-white",children:"Match Engine Simulator"}),l.jsx("button",{onClick:()=>c(!1),className:"text-gray-400 hover:text-white text-xl",children:""})]}),l.jsx("div",{className:"p-4 flex-1 overflow-auto",children:b?l.jsxs("div",{className:"space-y-4",children:[l.jsx("pre",{className:"bg-gray-900 p-4 rounded text-xs text-gray-300 overflow-auto max-h-96 font-mono whitespace-pre",children:b}),l.jsxs("div",{className:"flex gap-3",children:[l.jsx("button",{onClick:()=>x(null),className:"flex-1 bg-gray-600 hover:bg-gray-500 text-white py-2 px-4 rounded-lg",children:"Run Again"}),l.jsx("button",{onClick:async()=>{await navigator.clipboard.writeText(b)},className:"flex-1 bg-blue-600 hover:bg-blue-700 text-white py-2 px-4 rounded-lg",children:"Copy Report"})]})]}):l.jsxs("div",{className:"space-y-4",children:[l.jsx("p",{className:"text-gray-300 text-sm",children:"Run batch simulations to validate the match engine produces realistic T20 statistics."}),l.jsxs("div",{className:"grid grid-cols-3 gap-3",children:[l.jsx("button",{onClick:()=>v(50),disabled:m,className:"bg-blue-600 hover:bg-blue-700 disabled:bg-gray-600 text-white py-3 px-4 rounded-lg font-medium",children:"Quick (50)"}),l.jsx("button",{onClick:()=>v(200),disabled:m,className:"bg-blue-600 hover:bg-blue-700 disabled:bg-gray-600 text-white py-3 px-4 rounded-lg font-medium",children:"Standard (200)"}),l.jsx("button",{onClick:()=>v(500),disabled:m,className:"bg-blue-600 hover:bg-blue-700 disabled:bg-gray-600 text-white py-3 px-4 rounded-lg font-medium",children:"Full (500)"})]}),m&&l.jsxs("div",{className:"text-center py-8",children:[l.jsx("div",{className:"text-4xl animate-bounce",children:""}),l.jsx("p",{className:"text-gray-400 mt-2",children:"Simulating matches..."})]}),l.jsxs("div",{className:"bg-gray-700/50 rounded p-3 text-xs text-gray-400",children:[l.jsx("p",{className:"font-medium text-gray-300 mb-1",children:"Console Access:"}),l.jsx("code",{className:"text-green-400",children:"runSimulation(100)"})," - Run N matches",l.jsx("br",{}),l.jsx("code",{className:"text-green-400",children:"quickTest()"})," - Quick 50-match test"]})]})})]})})]})},Xx={green:"bg-green-500",blue:"bg-blue-500",red:"bg-red-500",yellow:"bg-yellow-500",purple:"bg-purple-500"},qe=({value:i,max:d=100,label:o,showValue:c=!0,color:m="blue",size:f="md"})=>{const b=Math.min(100,Math.max(0,i/d*100));return l.jsxs("div",{className:"w-full",children:[o&&l.jsxs("div",{className:"flex justify-between text-sm mb-1",children:[l.jsx("span",{className:"text-gray-400",children:o}),c&&l.jsx("span",{className:"text-gray-300",children:i})]}),l.jsx("div",{className:`w-full bg-gray-700 rounded-full ${f==="sm"?"h-1.5":"h-2"}`,children:l.jsx("div",{className:`${Xx[m]} rounded-full transition-all duration-300 ${f==="sm"?"h-1.5":"h-2"}`,style:{width:`${b}%`}})})]})},On=({form:i,size:d="md"})=>{const o=()=>i>=10?"text-green-400 bg-green-900/30":i>=5?"text-green-300 bg-green-900/20":i>=0?"text-gray-300 bg-gray-700/30":i>=-5?"text-yellow-300 bg-yellow-900/20":i>=-10?"text-orange-300 bg-orange-900/20":"text-red-400 bg-red-900/30",c={sm:"text-xs px-1.5 py-0.5",md:"text-sm px-2 py-1",lg:"text-base px-3 py-1.5"};return l.jsxs("span",{className:`rounded-md font-medium ${o()} ${c[d]}`,children:[i>=0?"+":"",i]})},Qx=({playerId:i,onClose:d,allowStacking:o=!1})=>{const{players:c,teams:m,openTeamModal:f,selectPlayer:b,navigateTo:x,closeAllModals:g}=Ze(),[h,v]=le.useState("overview"),p=c.find(_=>_.id===i),T=m.find(_=>_.squad.includes(i));if(!p)return null;const w=()=>{T&&f(T.id,o)},j=()=>{g(),b(i),x("player-detail")},N=()=>{switch(p.role){case"batsman":return"bg-blue-900/50 text-blue-300";case"bowler":return"bg-green-900/50 text-green-300";case"allrounder":return"bg-purple-900/50 text-purple-300";case"keeper":return"bg-yellow-900/50 text-yellow-300";default:return"bg-gray-700 text-gray-300"}},S=_=>_>=70?"green":_>=40?"yellow":"red",E=_=>_>=100?`${(_/100).toFixed(1)} Cr`:`${_} L`,k=()=>l.jsx("div",{className:"space-y-4",children:l.jsxs("div",{className:"space-y-3",children:[l.jsx(qe,{label:"Fitness",value:p.fitness,color:S(p.fitness)}),l.jsx(qe,{label:"Morale",value:p.morale,color:S(p.morale)}),l.jsx(qe,{label:"Fatigue",value:p.fatigue,color:p.fatigue>60?"red":p.fatigue>30?"yellow":"green"})]})}),O=()=>{const _=p.role!=="bowler",ne=p.role!=="batsman"&&p.role!=="keeper";return l.jsxs("div",{className:"space-y-4",children:[_&&l.jsxs("div",{children:[l.jsx("h4",{className:"text-sm font-medium text-gray-400 mb-2",children:"Batting"}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(qe,{label:"Technique",value:p.batting.technique,color:"blue",size:"sm"}),l.jsx(qe,{label:"Power",value:p.batting.power,color:"blue",size:"sm"}),l.jsx(qe,{label:"Timing",value:p.batting.timing,color:"blue",size:"sm"}),l.jsx(qe,{label:"Temperament",value:p.batting.temperament,color:"blue",size:"sm"})]})]}),ne&&l.jsxs("div",{children:[l.jsx("h4",{className:"text-sm font-medium text-gray-400 mb-2",children:"Bowling"}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(qe,{label:"Speed/Spin",value:p.bowling.speed,color:"green",size:"sm"}),l.jsx(qe,{label:"Accuracy",value:p.bowling.accuracy,color:"green",size:"sm"}),l.jsx(qe,{label:"Variation",value:p.bowling.variation,color:"green",size:"sm"}),l.jsx(qe,{label:"Stamina",value:p.bowling.stamina,color:"green",size:"sm"})]})]}),l.jsxs("div",{children:[l.jsx("h4",{className:"text-sm font-medium text-gray-400 mb-2",children:"Fielding"}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(qe,{label:"Catching",value:p.fielding.catching,color:"purple",size:"sm"}),l.jsx(qe,{label:"Ground",value:p.fielding.ground,color:"purple",size:"sm"}),l.jsx(qe,{label:"Throwing",value:p.fielding.throwing,color:"purple",size:"sm"})]})]})]})},W=()=>l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{className:"bg-gray-700/30 rounded-lg p-3 space-y-2",children:[l.jsxs("div",{className:"flex justify-between",children:[l.jsx("span",{className:"text-gray-400",children:"Salary"}),l.jsx("span",{className:"text-white font-medium",children:E(p.contract.salary)})]}),l.jsxs("div",{className:"flex justify-between",children:[l.jsx("span",{className:"text-gray-400",children:"Years Left"}),l.jsx("span",{className:"text-white",children:p.contract.yearsRemaining})]}),p.contract.releaseClause&&l.jsxs("div",{className:"flex justify-between",children:[l.jsx("span",{className:"text-gray-400",children:"Release Clause"}),l.jsx("span",{className:"text-white",children:E(p.contract.releaseClause)})]})]}),l.jsxs("div",{children:[l.jsx("h4",{className:"text-sm font-medium text-gray-400 mb-2",children:"Personality"}),l.jsxs("div",{className:"bg-gray-700/30 rounded-lg p-3 space-y-2",children:[l.jsxs("div",{className:"flex justify-between",children:[l.jsx("span",{className:"text-gray-400",children:"Temperament"}),l.jsx("span",{className:"text-white capitalize",children:p.personality.temperament})]}),l.jsxs("div",{className:"flex justify-between",children:[l.jsx("span",{className:"text-gray-400",children:"Leadership"}),l.jsx("span",{className:"text-white",children:p.personality.leadership})]}),l.jsxs("div",{className:"flex justify-between",children:[l.jsx("span",{className:"text-gray-400",children:"Professionalism"}),l.jsx("span",{className:"text-white",children:p.personality.professionalism})]}),l.jsxs("div",{className:"flex justify-between",children:[l.jsx("span",{className:"text-gray-400",children:"Ambition"}),l.jsx("span",{className:"text-white",children:p.personality.ambition})]})]})]})]});return l.jsxs("div",{className:"bg-gray-800 rounded-xl w-[400px] max-h-[85vh] overflow-hidden flex flex-col",children:[l.jsxs("div",{className:"p-4 border-b border-gray-700",children:[l.jsxs("div",{className:"flex items-start gap-3",children:[l.jsx("div",{className:"w-12 h-12 rounded-full bg-gray-700 flex items-center justify-center text-lg font-bold shrink-0",children:p.shortName.charAt(0)}),l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsx("h2",{className:"font-bold text-lg text-white truncate",children:p.name}),l.jsxs("div",{className:"flex items-center gap-2 text-sm flex-wrap",children:[T&&l.jsx("button",{onClick:w,className:"text-blue-400 hover:text-blue-300 hover:underline",children:T.shortName}),l.jsx("span",{className:"text-gray-500",children:""}),l.jsx("span",{className:`px-1.5 py-0.5 rounded text-xs ${N()}`,children:p.role}),p.contract.isOverseas&&l.jsxs(l.Fragment,{children:[l.jsx("span",{className:"text-gray-500",children:""}),l.jsx("span",{className:"text-xs text-orange-400",children:"OS"})]})]}),l.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[l.jsxs("span",{className:"text-sm text-gray-400",children:[p.age," yrs"]}),l.jsx("span",{className:"text-gray-500",children:""}),l.jsx("span",{className:"text-sm text-gray-400",children:p.nationality})]})]}),l.jsx("button",{onClick:d,className:"text-gray-400 hover:text-white text-2xl leading-none shrink-0 w-8 h-8 flex items-center justify-center",children:""})]}),l.jsx("div",{className:"mt-3",children:l.jsx(On,{form:p.form,size:"md"})})]}),l.jsx("div",{className:"flex border-b border-gray-700",children:["overview","skills","contract"].map(_=>l.jsx("button",{onClick:()=>v(_),className:`flex-1 py-2 text-sm font-medium transition-colors ${h===_?"text-blue-400 border-b-2 border-blue-400":"text-gray-400 hover:text-gray-300"}`,children:_.charAt(0).toUpperCase()+_.slice(1)},_))}),l.jsxs("div",{className:"flex-1 overflow-y-auto p-4",children:[h==="overview"&&k(),h==="skills"&&O(),h==="contract"&&W()]}),l.jsx("div",{className:"p-3 border-t border-gray-700 text-center",children:l.jsx("button",{onClick:j,className:"text-sm text-blue-400 hover:text-blue-300 hover:underline",children:"View full profile "})})]})},Vx=({teamId:i,onClose:d,allowStacking:o=!1})=>{const{teams:c,players:m,fixtures:f,pointsTable:b,openPlayerModal:x,navigateTo:g,closeAllModals:h,selectPlayer:v}=Ze(),p=c.find(B=>B.id===i),T=b.find(B=>B.teamId===i);if(!p)return null;const j=f.filter(G=>G.status==="completed"&&(G.homeTeam===i||G.awayTeam===i)&&G.result).slice(-5).map(G=>{const ue=G.result?.winner===i,C=G.result?.winner===null;return{matchId:G.id,result:C?"T":ue?"W":"L"}}),N=p.squad.map(B=>m.find(G=>G.id===B)).filter(B=>B!==void 0).sort((B,G)=>{const ue={keeper:0,batsman:1,allrounder:2,bowler:3};return ue[B.role]-ue[G.role]}),S=B=>{o&&x(B,!0)},E=()=>{h(),p.squad.length>0&&v(p.squad[0]),g("squad")},k=B=>{switch(B){case"batsman":return"text-blue-400";case"bowler":return"text-green-400";case"allrounder":return"text-purple-400";case"keeper":return"text-yellow-400";default:return"text-gray-400"}},O=B=>{switch(B){case"batsman":return"BAT";case"bowler":return"BOWL";case"allrounder":return"AR";case"keeper":return"WK";default:return""}},W=B=>{switch(B){case"W":return"bg-green-500";case"L":return"bg-red-500";case"T":return"bg-yellow-500";default:return"bg-gray-500"}},_=B=>`${B>=0?"+":""}${B.toFixed(3)}`,ne=()=>{if(!T)return null;const B=b.findIndex(ue=>ue.teamId===i)+1;return`${B}${B===1?"st":B===2?"nd":B===3?"rd":"th"}`};return l.jsxs("div",{className:"bg-gray-800 rounded-xl w-[400px] max-h-[85vh] overflow-hidden flex flex-col",children:[l.jsxs("div",{className:"p-4 border-b border-gray-700",children:[l.jsxs("div",{className:"flex items-start gap-3",children:[l.jsx("div",{className:"w-12 h-12 rounded-lg flex items-center justify-center text-sm font-bold shrink-0",style:{backgroundColor:p.colors.primary},children:p.shortName}),l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsx("h2",{className:"font-bold text-lg text-white truncate",children:p.name}),l.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[l.jsx("span",{className:"text-gray-400",children:p.homeCity}),ne()&&l.jsxs(l.Fragment,{children:[l.jsx("span",{className:"text-gray-500",children:""}),l.jsxs("span",{className:"text-blue-400",children:[ne()," in table"]})]})]})]}),l.jsx("button",{onClick:d,className:"text-gray-400 hover:text-white text-2xl leading-none shrink-0 w-8 h-8 flex items-center justify-center",children:""})]}),j.length>0&&l.jsxs("div",{className:"mt-3 flex items-center gap-2",children:[l.jsx("span",{className:"text-xs text-gray-400",children:"Recent:"}),l.jsx("div",{className:"flex gap-1",children:j.map((B,G)=>l.jsx("div",{className:`w-6 h-6 rounded flex items-center justify-center text-xs font-bold ${W(B.result)}`,children:B.result},G))})]})]}),T&&l.jsxs("div",{className:"p-4 border-b border-gray-700",children:[l.jsxs("div",{className:"grid grid-cols-4 gap-4 text-center",children:[l.jsxs("div",{children:[l.jsx("div",{className:"text-xl font-bold",children:T.played}),l.jsx("div",{className:"text-xs text-gray-400",children:"Played"})]}),l.jsxs("div",{children:[l.jsx("div",{className:"text-xl font-bold text-green-400",children:T.won}),l.jsx("div",{className:"text-xs text-gray-400",children:"Won"})]}),l.jsxs("div",{children:[l.jsx("div",{className:"text-xl font-bold text-red-400",children:T.lost}),l.jsx("div",{className:"text-xs text-gray-400",children:"Lost"})]}),l.jsxs("div",{children:[l.jsx("div",{className:`text-xl font-bold ${T.netRunRate>=0?"text-green-400":"text-red-400"}`,children:_(T.netRunRate)}),l.jsx("div",{className:"text-xs text-gray-400",children:"NRR"})]})]}),l.jsxs("div",{className:"mt-2 text-center",children:[l.jsx("span",{className:"text-2xl font-bold text-blue-400",children:T.points}),l.jsx("span",{className:"text-sm text-gray-400 ml-1",children:"pts"})]})]}),l.jsxs("div",{className:"flex-1 overflow-y-auto p-4",children:[l.jsxs("h3",{className:"text-sm font-medium text-gray-400 mb-3",children:["Squad (",N.length,")"]}),l.jsx("div",{className:"space-y-2",children:N.map(B=>l.jsxs("button",{onClick:()=>S(B.id),disabled:!o,className:`w-full flex items-center gap-3 p-2 rounded-lg ${o?"hover:bg-gray-700/50 cursor-pointer":"cursor-default"} transition-colors`,children:[l.jsx("div",{className:"w-8 h-8 rounded-full bg-gray-700 flex items-center justify-center text-sm font-medium",children:B.shortName.charAt(0)}),l.jsxs("div",{className:"flex-1 text-left",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("span",{className:`${o?"text-blue-400":"text-white"} font-medium text-sm`,children:B.shortName}),B.contract.isOverseas&&l.jsx("span",{className:"text-xs text-orange-400",children:"OS"}),p.captain===B.id&&l.jsx("span",{className:"text-xs text-yellow-400",children:"(C)"})]}),l.jsx("span",{className:`text-xs ${k(B.role)}`,children:O(B.role)})]}),l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx(On,{form:B.form,size:"sm"}),l.jsx("div",{className:"w-16",children:l.jsx(qe,{label:"",value:B.fitness,color:B.fitness>=70?"green":B.fitness>=40?"yellow":"red",size:"sm",showValue:!1})})]})]},B.id))})]}),l.jsx("div",{className:"p-3 border-t border-gray-700 text-center",children:l.jsx("button",{onClick:E,className:"text-sm text-blue-400 hover:text-blue-300 hover:underline",children:"View full squad "})})]})},Zx=({allowStacking:i=!1})=>{const{modalStack:d,closeModal:o}=Ze(),c=le.useCallback(m=>{m.key==="Escape"&&d.length>0&&o()},[d.length,o]);return le.useEffect(()=>(window.addEventListener("keydown",c),()=>window.removeEventListener("keydown",c)),[c]),le.useEffect(()=>(d.length>0?document.body.style.overflow="hidden":document.body.style.overflow="",()=>{document.body.style.overflow=""}),[d.length]),d.length===0?null:l.jsx(l.Fragment,{children:d.map((m,f)=>{const b=f===d.length-1,x=60+f;return l.jsxs("div",{className:"fixed inset-0 flex items-center justify-center p-4",style:{zIndex:x},children:[l.jsx("div",{className:`absolute inset-0 bg-black/80 ${b?"cursor-pointer":""}`,onClick:b?o:void 0}),l.jsx("div",{className:"relative",style:{transform:`translate(${f*8}px, ${f*8}px)`},children:m.type==="player"?l.jsx(Qx,{playerId:m.id,onClose:o,allowStacking:i}):l.jsx(Vx,{teamId:m.id,onClose:o,allowStacking:i})})]},`${m.type}-${m.id}-${f}`)})})};class z0 extends le.Component{constructor(d){super(d),this.state={hasError:!1,error:null,errorInfo:null}}static getDerivedStateFromError(d){return{hasError:!0,error:d}}componentDidCatch(d,o){console.error("ErrorBoundary caught an error:",d,o),this.setState({errorInfo:o})}handleReset=()=>{this.setState({hasError:!1,error:null,errorInfo:null})};handleClearData=()=>{confirm("This will clear all saved game data. Are you sure?")&&(localStorage.removeItem("cricket-manager-save"),window.location.reload())};render(){return this.state.hasError?l.jsx("div",{className:"min-h-screen bg-gray-900 text-white flex items-center justify-center p-4",children:l.jsxs("div",{className:"max-w-lg w-full bg-gray-800 rounded-xl p-6 border border-red-700",children:[l.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[l.jsx("span",{className:"text-3xl",children:""}),l.jsx("h1",{className:"text-xl font-bold text-red-400",children:"Something went wrong"})]}),l.jsx("p",{className:"text-gray-300 mb-4",children:"The game encountered an error. This might be due to corrupted save data or a bug in the game."}),this.state.error&&l.jsxs("details",{className:"mb-4",children:[l.jsx("summary",{className:"text-sm text-gray-400 cursor-pointer hover:text-gray-300",children:"Technical details"}),l.jsxs("pre",{className:"mt-2 p-3 bg-gray-900 rounded text-xs text-red-300 overflow-auto max-h-40",children:[this.state.error.toString(),this.state.errorInfo?.componentStack]})]}),l.jsxs("div",{className:"flex flex-col gap-2",children:[l.jsx("button",{onClick:this.handleReset,className:"w-full py-2 bg-blue-600 hover:bg-blue-700 rounded-lg font-medium transition-colors",children:"Try Again"}),l.jsx("button",{onClick:()=>window.location.reload(),className:"w-full py-2 bg-gray-700 hover:bg-gray-600 rounded-lg font-medium transition-colors",children:"Reload Page"}),l.jsx("button",{onClick:this.handleClearData,className:"w-full py-2 bg-red-900/50 hover:bg-red-900 text-red-400 rounded-lg font-medium transition-colors",children:"Clear Save Data & Restart"})]}),l.jsxs("p",{className:"text-xs text-gray-500 mt-4 text-center",children:["If this keeps happening, please report it at"," ",l.jsx("a",{href:"https://github.com/anthropics/claude-code/issues",className:"text-blue-400 hover:underline",target:"_blank",rel:"noopener noreferrer",children:"GitHub Issues"})]})]})}):this.props.children}}const $x=()=>{const{loadInitialData:i,initializeGame:d,navigateTo:o,getSaveSlots:c,loadFromSlot:m,deleteSlot:f}=Ze(),[b,x]=le.useState("welcome"),[g,h]=le.useState("real-squads"),[v,p]=le.useState(""),[T,w]=le.useState("mi"),[j,N]=le.useState(null),S=c(),E=()=>{if(!v.trim())return;const _=jo(T);i(L0,Fl,_),d(T,v,g),o(g==="mini-auction"?"release-phase":g==="mega-auction"?"auction":"home")},k=_=>{m(_)},O=_=>{f(_),N(null)},W=Fl.find(_=>_.id===T);return l.jsx("div",{className:"min-h-screen bg-gray-900 text-white flex flex-col items-center justify-center p-4",children:l.jsxs("div",{className:"max-w-lg w-full space-y-6",children:[l.jsxs("div",{className:"text-center",children:[l.jsx("h1",{className:"text-4xl font-bold mb-2",children:"Cricket Manager"}),l.jsx("p",{className:"text-gray-400",children:"Build your dynasty. Make tough calls. Win trophies."})]}),b==="welcome"&&l.jsxs("div",{className:"space-y-4",children:[l.jsx("button",{onClick:()=>x("setup"),className:"w-full bg-blue-600 hover:bg-blue-700 text-white py-4 rounded-lg font-semibold text-lg transition-colors",children:"New Game"}),S.length>0&&l.jsxs("div",{className:"bg-gray-800 rounded-xl p-4 border border-gray-700",children:[l.jsx("h3",{className:"text-sm font-semibold text-gray-400 mb-3",children:"Continue"}),l.jsx("div",{className:"space-y-2",children:S.map(_=>l.jsxs("div",{className:"bg-gray-700/50 rounded-lg p-3 flex items-center justify-between",children:[l.jsxs("button",{onClick:()=>k(_.id),className:"flex-1 text-left hover:text-blue-400 transition-colors",children:[l.jsx("div",{className:"font-medium",children:_.name}),l.jsxs("div",{className:"text-xs text-gray-400",children:[_.teamName,"  Season ",_.season,"  ",_.phase==="auction"?"Auction":`Match ${_.matchDay}`]}),l.jsx("div",{className:"text-xs text-gray-500 mt-1",children:vo(_.savedAt)})]}),l.jsx("button",{onClick:()=>N(_.id),className:"ml-2 p-2 text-gray-500 hover:text-red-400 transition-colors",title:"Delete save",children:""})]},_.id))})]}),j&&l.jsx("div",{className:"fixed inset-0 bg-black/80 flex items-center justify-center z-50 p-4",children:l.jsxs("div",{className:"bg-gray-800 rounded-xl max-w-sm w-full p-6",children:[l.jsx("h3",{className:"font-bold mb-2",children:"Delete Save?"}),l.jsx("p",{className:"text-sm text-gray-400 mb-4",children:"This cannot be undone."}),l.jsxs("div",{className:"flex gap-3",children:[l.jsx("button",{onClick:()=>N(null),className:"flex-1 bg-gray-700 text-white py-2 rounded-lg",children:"Cancel"}),l.jsx("button",{onClick:()=>O(j),className:"flex-1 bg-red-600 hover:bg-red-700 text-white py-2 rounded-lg",children:"Delete"})]})]})})]}),b==="setup"&&l.jsxs("div",{className:"bg-gray-800 rounded-xl p-6 border border-gray-700 space-y-6",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("button",{onClick:()=>x("welcome"),className:"text-blue-400 hover:text-blue-300",children:""}),l.jsx("h2",{className:"text-lg font-semibold",children:"New Game Setup"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm text-gray-400 mb-2",children:"Manager Name"}),l.jsx("input",{type:"text",value:v,onChange:_=>p(_.target.value),placeholder:"Enter your name...",className:"w-full bg-gray-700 border border-gray-600 rounded-lg px-4 py-3 text-white placeholder-gray-500 focus:outline-none focus:border-blue-500",autoFocus:!0})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm text-gray-400 mb-2",children:"Select Your Franchise"}),l.jsx("div",{className:"grid grid-cols-5 gap-2",children:Fl.map(_=>l.jsxs("button",{onClick:()=>w(_.id),className:`p-2 rounded-lg border-2 transition-all ${T===_.id?"border-blue-500 bg-blue-900/30":"border-gray-700 bg-gray-700/30 hover:border-gray-500"}`,children:[l.jsx("div",{className:"w-8 h-8 rounded-full mx-auto mb-1 flex items-center justify-center text-xs font-bold",style:{backgroundColor:_.colors.primary},children:_.shortName}),l.jsx("div",{className:"text-xs text-center truncate",children:_.shortName})]},_.id))}),W&&l.jsxs("div",{className:"mt-2 text-sm text-gray-400 text-center",children:[W.name,"  ",W.homeCity]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm text-gray-400 mb-2",children:"Starting Auction"}),l.jsxs("div",{className:"grid grid-cols-3 gap-2",children:[l.jsxs("button",{onClick:()=>h("real-squads"),className:`p-3 rounded-lg border-2 text-center transition-all ${g==="real-squads"?"border-green-500 bg-green-900/30":"border-gray-700 bg-gray-700/30 hover:border-gray-500"}`,children:[l.jsx("div",{className:"font-semibold text-sm",children:"No Auction"}),l.jsx("div",{className:"text-xs text-gray-400 mt-1",children:"Real squads"})]}),l.jsxs("button",{onClick:()=>h("mini-auction"),className:`p-3 rounded-lg border-2 text-center transition-all ${g==="mini-auction"?"border-blue-500 bg-blue-900/30":"border-gray-700 bg-gray-700/30 hover:border-gray-500"}`,children:[l.jsx("div",{className:"font-semibold text-sm",children:"Mini"}),l.jsx("div",{className:"text-xs text-gray-400 mt-1",children:"Tune squad"})]}),l.jsxs("button",{onClick:()=>h("mega-auction"),className:`p-3 rounded-lg border-2 text-center transition-all ${g==="mega-auction"?"border-yellow-500 bg-yellow-900/30":"border-gray-700 bg-gray-700/30 hover:border-gray-500"}`,children:[l.jsx("div",{className:"font-semibold text-sm",children:"Mega"}),l.jsx("div",{className:"text-xs text-gray-400 mt-1",children:"Full rebuild"})]})]}),l.jsxs("div",{className:"mt-2 text-xs text-gray-500 text-center",children:[g==="real-squads"&&"Start Season 1 with current IPL rosters. First auction after the season.",g==="mini-auction"&&"Release players and bid on free agents before Season 1.",g==="mega-auction"&&"Retain up to 4 players, then rebuild your squad from scratch."]})]}),l.jsx("button",{onClick:E,disabled:!v.trim(),className:"w-full bg-blue-600 hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed text-white py-4 rounded-lg font-semibold text-lg transition-colors",children:g==="real-squads"?"Start Career":g==="mini-auction"?"Enter Mini Auction":"Enter Mega Auction"})]}),l.jsx("p",{className:"text-center text-xs text-gray-500",children:"v0.8 Beta"})]})})},Px={league:"League Match",qualifier1:"Qualifier 1",eliminator:"Eliminator",qualifier2:"Qualifier 2",final:"FINAL"},D0=()=>{const{manager:i,playerTeamId:d,teams:o,players:c,fixtures:m,pointsTable:f,activeEvents:b,phase:x,season:g,navigateTo:h,selectMatch:v,selectEvent:p,getSeasonResult:T,checkAndStartPlayoffs:w}=Ze(),j=o.find(J=>J.id===d),N=c.filter(J=>j?.squad.includes(J.id));xg.useEffect(()=>{if(x==="season"){const J=m.filter(fe=>fe.matchType==="league"&&(fe.homeTeam===d||fe.awayTeam===d));J.every(fe=>fe.status==="completed")&&J.length>0&&w()}},[m,x,d,w]);const S=m.find(J=>J.status==="upcoming"&&(J.homeTeam===d||J.awayTeam===d)),E=S?o.find(J=>J.id===(S.homeTeam===d?S.awayTeam:S.homeTeam)):null,k=T(),O=N.length?Math.round(N.reduce((J,V)=>J+V.morale,0)/N.length):0,W=N.length?Math.round(N.reduce((J,V)=>J+V.fitness,0)/N.length):0,_=N.filter(J=>J.fatigue>80||J.form<-10||J.fitness<50||J.morale<40),ne=b.filter(J=>!J.resolved),G=[...f].sort((J,V)=>V.points!==J.points?V.points-J.points:V.netRunRate-J.netRunRate).findIndex(J=>J.teamId===d)+1,ue=f.find(J=>J.teamId===d),C=()=>{S&&(v(S.id),h("match-prep"))},ae=J=>{p(J)};return l.jsxs("div",{className:"min-h-screen bg-gray-900 text-white pb-24",children:[l.jsx("header",{className:"bg-gray-800 p-4 border-b border-gray-700",children:l.jsxs("div",{className:"max-w-lg mx-auto flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx("h1",{className:"text-xl font-bold",children:j?.name||"Cricket Manager"}),l.jsxs("p",{className:"text-sm text-gray-400",children:["Season ",g,"  ",i.name]})]}),l.jsxs("div",{className:"text-right",children:[l.jsxs("div",{className:"text-2xl font-bold",children:["#",G]}),l.jsxs("div",{className:"text-xs text-gray-400",children:[ue?.won||0,"W ",ue?.lost||0,"L"]})]})]})}),l.jsxs("div",{className:"max-w-lg mx-auto p-4 space-y-4",children:[x==="off-season"&&l.jsxs("div",{className:"bg-gradient-to-r from-yellow-900/50 to-amber-900/50 rounded-xl p-6 border border-yellow-700",children:[l.jsx("h2",{className:"text-xl font-bold text-center mb-4",children:"Season Complete!"}),k&&l.jsxs("div",{className:"text-center space-y-2",children:[k.playerFinish===1?l.jsx("div",{className:"text-2xl text-yellow-400 font-bold",children:"CHAMPIONS!"}):k.playerFinish===2?l.jsx("div",{className:"text-xl text-gray-300",children:"Runners Up"}):k.playerFinish<=4?l.jsxs("div",{className:"text-lg text-gray-400",children:["Finished #",k.playerFinish," (Playoffs)"]}):l.jsxs("div",{className:"text-lg text-gray-400",children:["Finished #",k.playerFinish," (Missed Playoffs)"]}),k.champion&&l.jsxs("div",{className:"text-sm text-gray-500 mt-2",children:["Champion: ",o.find(J=>J.id===k.champion)?.name]})]}),l.jsx("button",{onClick:()=>h("season-summary"),className:"w-full mt-4 bg-yellow-600 hover:bg-yellow-700 text-white py-3 rounded-lg font-medium transition-colors",children:"View Season Summary"})]}),S&&E&&x!=="off-season"&&l.jsxs("div",{className:`rounded-xl p-4 border ${S.matchType!=="league"?"bg-gradient-to-r from-purple-900/50 to-blue-900/50 border-purple-700":"bg-gray-800 border-gray-700"}`,children:[l.jsxs("div",{className:"flex justify-between items-center mb-3",children:[l.jsx("span",{className:`text-sm font-medium ${S.matchType!=="league"?"text-purple-400":"text-gray-400"}`,children:Px[S.matchType]||"NEXT MATCH"}),S.matchType==="league"&&l.jsxs("span",{className:"text-sm text-blue-400",children:["Match ",S.matchNumber]}),S.matchType!=="league"&&l.jsx("span",{className:"text-xs bg-purple-600 px-2 py-1 rounded",children:"PLAYOFFS"})]}),l.jsxs("div",{className:"flex items-center justify-between mb-4",children:[l.jsxs("div",{className:"text-center flex-1",children:[l.jsx("div",{className:"w-14 h-14 rounded-full mx-auto mb-2 flex items-center justify-center text-lg font-bold",style:{backgroundColor:j?.colors.primary},children:j?.shortName}),l.jsx("div",{className:"text-sm font-medium",children:j?.shortName})]}),l.jsx("div",{className:"text-gray-500 text-lg px-4",children:"vs"}),l.jsxs("div",{className:"text-center flex-1",children:[l.jsx("div",{className:"w-14 h-14 rounded-full mx-auto mb-2 flex items-center justify-center text-lg font-bold",style:{backgroundColor:E.colors.primary},children:E.shortName}),l.jsx("div",{className:"text-sm",children:E.shortName})]})]}),l.jsx("div",{className:"text-center text-sm text-gray-400 mb-4",children:S.venue}),l.jsx("button",{onClick:C,className:`w-full py-3 rounded-lg font-medium transition-colors ${S.matchType!=="league"?"bg-purple-600 hover:bg-purple-700":"bg-blue-600 hover:bg-blue-700"} text-white`,children:"Prepare for Match"})]}),!S&&x==="playoffs"&&l.jsx("div",{className:"bg-gray-800 rounded-xl p-4 border border-gray-700 text-center",children:l.jsx("p",{className:"text-gray-400",children:"Waiting for other playoff matches to complete..."})}),(ne.length>0||_.length>0)&&l.jsxs("div",{className:"bg-gray-800 rounded-xl p-4 border border-red-900/50",children:[l.jsx("h2",{className:"text-sm font-semibold text-red-400 mb-3",children:"ATTENTION NEEDED"}),ne.map(J=>l.jsxs("div",{onClick:()=>ae(J.id),className:"flex items-center gap-3 p-3 bg-red-900/20 rounded-lg mb-2 cursor-pointer hover:bg-red-900/30 transition-colors",children:[l.jsx("span",{className:"text-red-400 text-lg",children:"!"}),l.jsxs("div",{children:[l.jsx("span",{className:"text-sm font-medium",children:J.title}),l.jsx("span",{className:"text-xs text-gray-500 ml-2",children:"Tap to resolve"})]})]},J.id)),_.slice(0,2).map(J=>l.jsxs("div",{onClick:()=>h("squad"),className:"flex items-center justify-between p-3 bg-yellow-900/20 rounded-lg mb-2 cursor-pointer hover:bg-yellow-900/30",children:[l.jsx("span",{className:"text-sm",children:J.shortName}),l.jsxs("div",{className:"flex gap-2 text-xs",children:[J.fatigue>80&&l.jsx("span",{className:"text-orange-400",children:"Exhausted"}),J.form<-10&&l.jsx("span",{className:"text-red-400",children:"Poor form"}),J.fitness<50&&l.jsx("span",{className:"text-yellow-400",children:"Injured"}),J.morale<40&&l.jsx("span",{className:"text-purple-400",children:"Unhappy"})]})]},J.id))]}),l.jsx("div",{className:"bg-gray-800 rounded-xl p-4 border border-gray-700",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{className:"flex items-center gap-6",children:[l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:`text-lg font-bold ${O>70?"text-green-400":O<50?"text-red-400":"text-yellow-400"}`,children:O}),l.jsx("div",{className:"text-xs text-gray-500",children:"Morale"})]}),l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:`text-lg font-bold ${W>70?"text-green-400":W<50?"text-red-400":"text-yellow-400"}`,children:W}),l.jsx("div",{className:"text-xs text-gray-500",children:"Fitness"})]}),l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:"text-lg font-bold",children:N.length}),l.jsx("div",{className:"text-xs text-gray-500",children:"Squad"})]})]}),l.jsx("button",{onClick:()=>h("club"),className:"text-sm text-blue-400 hover:text-blue-300",children:"More "})]})}),l.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[l.jsxs("button",{onClick:()=>h("schedule"),className:"bg-gray-800 rounded-xl p-4 border border-gray-700 text-left hover:bg-gray-700/50 transition-colors",children:[l.jsx("div",{className:"text-lg mb-1",children:""}),l.jsx("div",{className:"text-sm font-medium",children:"Schedule"}),l.jsx("div",{className:"text-xs text-gray-500",children:"View fixtures & standings"})]}),l.jsxs("button",{onClick:()=>h("stats"),className:"bg-gray-800 rounded-xl p-4 border border-gray-700 text-left hover:bg-gray-700/50 transition-colors",children:[l.jsx("div",{className:"text-lg mb-1",children:""}),l.jsx("div",{className:"text-sm font-medium",children:"Stats"}),l.jsx("div",{className:"text-xs text-gray-500",children:"Season leaderboards"})]})]})]})]})},_0={batsman:"bg-blue-600",bowler:"bg-green-600",allrounder:"bg-purple-600",keeper:"bg-yellow-600"},q0={batsman:"BAT",bowler:"BOWL",allrounder:"ALL",keeper:"WK"},xo=({player:i,onClick:d,selected:o,compact:c})=>c?l.jsxs("div",{onClick:d,className:`flex items-center justify-between p-3 rounded-lg cursor-pointer transition-all
          ${o?"bg-blue-600/30 border-blue-500":"bg-gray-800 hover:bg-gray-700"}
          border ${o?"border-blue-500":"border-gray-700"}`,children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("div",{className:`w-8 h-8 rounded-full ${_0[i.role]} flex items-center justify-center text-xs font-bold`,children:q0[i.role]}),l.jsxs("div",{children:[l.jsxs("div",{className:"font-medium text-white flex items-center gap-2",children:[i.shortName,i.contract.isOverseas&&l.jsx("span",{className:"text-xs text-yellow-400",children:"OS"})]}),l.jsxs("div",{className:"text-xs text-gray-400",children:[i.age,"y  ",i.battingStyle==="left"?"LHB":"RHB",i.bowlingStyle&&`  ${i.bowlingStyle.split("-")[0]}`]})]})]}),l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx(On,{form:i.form,size:"sm"}),l.jsxs("div",{className:"text-right",children:[l.jsxs("div",{className:"text-sm text-gray-300",children:[i.fitness,"%"]}),l.jsx("div",{className:"text-xs text-gray-500",children:"FIT"})]})]})]}):l.jsxs("div",{onClick:d,className:`p-4 rounded-xl cursor-pointer transition-all
        ${o?"bg-blue-600/20 border-blue-500":"bg-gray-800 hover:bg-gray-750"}
        border ${o?"border-blue-500":"border-gray-700"}`,children:[l.jsxs("div",{className:"flex justify-between items-start mb-3",children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("div",{className:`w-12 h-12 rounded-full ${_0[i.role]} flex items-center justify-center text-sm font-bold`,children:q0[i.role]}),l.jsxs("div",{children:[l.jsxs("div",{className:"font-semibold text-white flex items-center gap-2",children:[i.name,i.contract.isOverseas&&l.jsx("span",{className:"text-xs bg-yellow-600/30 text-yellow-400 px-1.5 py-0.5 rounded",children:"OS"})]}),l.jsxs("div",{className:"text-sm text-gray-400",children:[i.age,"y  ",i.nationality]})]})]}),l.jsx(On,{form:i.form})]}),l.jsxs("div",{className:"grid grid-cols-3 gap-3 mb-3",children:[l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:"text-lg font-bold text-white",children:i.fitness}),l.jsx("div",{className:"text-xs text-gray-500",children:"Fitness"})]}),l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:"text-lg font-bold text-white",children:i.morale}),l.jsx("div",{className:"text-xs text-gray-500",children:"Morale"})]}),l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:"text-lg font-bold text-white",children:i.fatigue}),l.jsx("div",{className:"text-xs text-gray-500",children:"Fatigue"})]})]}),l.jsxs("div",{className:"space-y-2",children:[(i.role==="batsman"||i.role==="allrounder"||i.role==="keeper")&&l.jsx(qe,{value:Math.round((i.batting.technique+i.batting.power+i.batting.timing+i.batting.temperament)/4),label:"Batting",color:"blue",size:"sm"}),(i.role==="bowler"||i.role==="allrounder")&&l.jsx(qe,{value:Math.round((i.bowling.speed+i.bowling.accuracy+i.bowling.variation+i.bowling.stamina)/4),label:"Bowling",color:"green",size:"sm"})]})]}),Ix=()=>{const{playerTeamId:i,teams:d,players:o,navigateTo:c,selectPlayer:m}=Ze(),[f,b]=le.useState("name"),[x,g]=le.useState("all"),h=d.find(S=>S.id===i),v=o.filter(S=>h?.squad.includes(S.id)),T=[...x==="all"?v:v.filter(S=>S.role===x)].sort((S,E)=>{switch(f){case"form":return E.form-S.form;case"fitness":return E.fitness-S.fitness;case"morale":return E.morale-S.morale;default:return S.name.localeCompare(E.name)}}),w={batsman:T.filter(S=>S.role==="batsman"),keeper:T.filter(S=>S.role==="keeper"),allrounder:T.filter(S=>S.role==="allrounder"),bowler:T.filter(S=>S.role==="bowler")},j=S=>{m(S),c("player-detail")},N=v.filter(S=>S.contract.isOverseas).length;return l.jsxs("div",{className:"min-h-screen bg-gray-900 text-white pb-24",children:[l.jsx("header",{className:"bg-gray-800 p-4 border-b border-gray-700 sticky top-0 z-10",children:l.jsxs("div",{className:"max-w-lg mx-auto",children:[l.jsx("h1",{className:"text-xl font-bold mb-2",children:"Squad"}),l.jsxs("div",{className:"flex gap-2 text-sm text-gray-400",children:[l.jsxs("span",{children:[v.length," players"]}),l.jsx("span",{children:""}),l.jsxs("span",{children:[N,"/8 overseas"]})]})]})}),l.jsxs("div",{className:"max-w-lg mx-auto p-4 sticky top-[72px] bg-gray-900 z-10",children:[l.jsx("div",{className:"flex gap-2 overflow-x-auto pb-2",children:["all","batsman","keeper","allrounder","bowler"].map(S=>l.jsxs("button",{onClick:()=>g(S),className:`px-3 py-1.5 rounded-full text-sm whitespace-nowrap transition-colors
                ${x===S?"bg-blue-600 text-white":"bg-gray-800 text-gray-400 hover:bg-gray-700"}`,children:[S==="all"?"All":S.charAt(0).toUpperCase()+S.slice(1),"s"]},S))}),l.jsx("div",{className:"flex justify-end mt-2",children:l.jsxs("select",{value:f,onChange:S=>b(S.target.value),className:"bg-gray-800 border border-gray-700 rounded-lg px-3 py-1.5 text-sm",children:[l.jsx("option",{value:"name",children:"Sort by Name"}),l.jsx("option",{value:"form",children:"Sort by Form"}),l.jsx("option",{value:"fitness",children:"Sort by Fitness"}),l.jsx("option",{value:"morale",children:"Sort by Morale"})]})})]}),l.jsx("div",{className:"max-w-lg mx-auto px-4 space-y-6",children:x==="all"?Object.entries(w).map(([S,E])=>E.length>0&&l.jsxs("div",{children:[l.jsx("h2",{className:"text-sm font-semibold text-gray-400 mb-3 uppercase",children:S==="keeper"?"Wicketkeepers":S+"s"}),l.jsx("div",{className:"space-y-2",children:E.map(k=>l.jsx(xo,{player:k,onClick:()=>j(k.id),compact:!0},k.id))})]},S)):l.jsx("div",{className:"space-y-2",children:T.map(S=>l.jsx(xo,{player:S,onClick:()=>j(S.id),compact:!0},S.id))})})]})},Fx={batsman:"bg-blue-600",bowler:"bg-green-600",allrounder:"bg-purple-600",keeper:"bg-yellow-600"},Kx=i=>i&&{"opening-batter":"Opening Batter","top-order-batter":"Top Order Batter","middle-order-batter":"Middle Order Batter",finisher:"Finisher","wicketkeeper-batter":"Wicketkeeper Batter","batting-allrounder":"Batting Allrounder","bowling-allrounder":"Bowling Allrounder","spin-bowling-allrounder":"Spin Bowling Allrounder","opening-bowler":"Opening Bowler","pace-bowler":"Pace Bowler","spin-bowler":"Spin Bowler","death-bowler":"Death Bowler"}[i]||null,Jx=()=>{const{selectedPlayerId:i,players:d,playerTeamId:o,teams:c,navigateTo:m,canTalkToPlayer:f}=Ze(),[b,x]=le.useState(!1),g=d.find(w=>w.id===i),v=c.find(w=>w.id===o)?.squad.includes(g?.id||"")||!1,p=i?f(i):!1,T=Kx(g?.playingRole);return g?l.jsxs("div",{className:"min-h-screen bg-gray-900 text-white pb-24",children:[l.jsx("header",{className:"bg-gray-800 p-4 border-b border-gray-700",children:l.jsx("button",{onClick:()=>m("squad"),className:"text-blue-400 hover:text-blue-300 mb-2",children:" Back"})}),l.jsxs("div",{className:"max-w-lg mx-auto p-4 space-y-4",children:[l.jsxs("div",{className:"bg-gray-800 rounded-xl p-4 border border-gray-700",children:[l.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[g.imageUrl&&!b?l.jsx("img",{src:g.imageUrl,alt:g.name,className:"w-16 h-16 rounded-full object-cover border-2 border-gray-600",onError:()=>x(!0)}):l.jsx("div",{className:`w-16 h-16 rounded-full ${Fx[g.role]} flex items-center justify-center text-xl font-bold`,children:g.shortName.slice(0,2).toUpperCase()}),l.jsxs("div",{className:"flex-1",children:[l.jsxs("h1",{className:"text-xl font-bold flex items-center gap-2",children:[g.name,g.contract.isOverseas&&l.jsx("span",{className:"text-xs bg-yellow-600/30 text-yellow-400 px-2 py-0.5 rounded",children:"Overseas"})]}),l.jsxs("p",{className:"text-gray-400",children:[g.age," years  ",g.nationality]}),l.jsxs("p",{className:"text-sm text-gray-500",children:[T||g.role.charAt(0).toUpperCase()+g.role.slice(1)," ",""," ",g.battingStyle==="left"?"Left-hand bat":"Right-hand bat",g.bowlingStyle&&`  ${g.bowlingStyle.replace(/-/g," ")}`]})]})]}),l.jsxs("div",{className:"flex justify-between items-center",children:[l.jsx(On,{form:g.form,size:"lg"}),l.jsxs("div",{className:"text-right",children:[l.jsx("div",{className:"text-sm text-gray-400",children:"Contract"}),l.jsxs("div",{className:"font-bold text-green-400",children:["",g.contract.salary," L"]}),l.jsxs("div",{className:"text-xs text-gray-500",children:[g.contract.yearsRemaining," yrs left"]})]})]}),v&&l.jsxs("button",{onClick:()=>m("player-talk"),className:`w-full mt-4 py-3 rounded-lg font-medium transition-colors flex items-center justify-center gap-2 ${p?"bg-blue-600 hover:bg-blue-700 text-white":"bg-gray-700 text-gray-400 cursor-not-allowed"}`,disabled:!p,children:[l.jsx("span",{children:""}),l.jsx("span",{children:p?"Talk to Player":"Recently Talked"})]})]}),l.jsxs("div",{className:"bg-gray-800 rounded-xl p-4 border border-gray-700",children:[l.jsx("h2",{className:"text-sm font-semibold text-gray-400 mb-4",children:"CURRENT STATE"}),l.jsxs("div",{className:"space-y-3",children:[l.jsx(qe,{value:g.fitness,label:"Fitness",color:g.fitness>=80?"green":g.fitness>=60?"yellow":"red"}),l.jsx(qe,{value:g.morale,label:"Morale",color:g.morale>=80?"green":g.morale>=60?"yellow":"red"}),l.jsx(qe,{value:g.fatigue,label:"Fatigue",color:g.fatigue<=30?"green":g.fatigue<=60?"yellow":"red"})]})]}),(g.role==="batsman"||g.role==="allrounder"||g.role==="keeper")&&l.jsxs("div",{className:"bg-gray-800 rounded-xl p-4 border border-gray-700",children:[l.jsxs("div",{className:"flex justify-between items-center mb-4",children:[l.jsx("h2",{className:"text-sm font-semibold text-gray-400",children:"BATTING"}),l.jsxs("span",{className:"text-sm text-blue-400",children:["Potential: ",g.potential.batting]})]}),l.jsxs("div",{className:"space-y-3",children:[l.jsx(qe,{value:g.batting.technique,label:"Technique",color:"blue"}),l.jsx(qe,{value:g.batting.power,label:"Power",color:"blue"}),l.jsx(qe,{value:g.batting.timing,label:"Timing",color:"blue"}),l.jsx(qe,{value:g.batting.temperament,label:"Temperament",color:"blue"})]})]}),(g.role==="bowler"||g.role==="allrounder")&&g.bowlingStyle&&l.jsxs("div",{className:"bg-gray-800 rounded-xl p-4 border border-gray-700",children:[l.jsxs("div",{className:"flex justify-between items-center mb-4",children:[l.jsx("h2",{className:"text-sm font-semibold text-gray-400",children:"BOWLING"}),l.jsxs("span",{className:"text-sm text-green-400",children:["Potential: ",g.potential.bowling]})]}),l.jsxs("div",{className:"space-y-3",children:[l.jsx(qe,{value:g.bowling.speed,label:"Speed/Spin",color:"green"}),l.jsx(qe,{value:g.bowling.accuracy,label:"Accuracy",color:"green"}),l.jsx(qe,{value:g.bowling.variation,label:"Variation",color:"green"}),l.jsx(qe,{value:g.bowling.stamina,label:"Stamina",color:"green"})]})]}),l.jsxs("div",{className:"bg-gray-800 rounded-xl p-4 border border-gray-700",children:[l.jsxs("div",{className:"flex justify-between items-center mb-4",children:[l.jsx("h2",{className:"text-sm font-semibold text-gray-400",children:"FIELDING"}),l.jsxs("span",{className:"text-sm text-purple-400",children:["Potential: ",g.potential.fielding]})]}),l.jsxs("div",{className:"space-y-3",children:[l.jsx(qe,{value:g.fielding.catching,label:"Catching",color:"purple"}),l.jsx(qe,{value:g.fielding.ground,label:"Ground Fielding",color:"purple"}),l.jsx(qe,{value:g.fielding.throwing,label:"Throwing",color:"purple"}),l.jsx(qe,{value:g.fielding.athleticism,label:"Athleticism",color:"purple"})]})]}),l.jsxs("div",{className:"bg-gray-800 rounded-xl p-4 border border-gray-700",children:[l.jsx("h2",{className:"text-sm font-semibold text-gray-400 mb-4",children:"PERSONALITY"}),l.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsx("div",{className:"text-sm text-gray-400",children:"Temperament"}),l.jsx("div",{className:"font-medium capitalize",children:g.personality.temperament})]}),l.jsxs("div",{children:[l.jsx("div",{className:"text-sm text-gray-400",children:"Leadership"}),l.jsx("div",{className:"font-medium",children:g.personality.leadership})]}),l.jsxs("div",{children:[l.jsx("div",{className:"text-sm text-gray-400",children:"Professionalism"}),l.jsx("div",{className:"font-medium",children:g.personality.professionalism})]}),l.jsxs("div",{children:[l.jsx("div",{className:"text-sm text-gray-400",children:"Ambition"}),l.jsx("div",{className:"font-medium",children:g.personality.ambition})]})]})]})]})]}):l.jsx("div",{className:"min-h-screen bg-gray-900 text-white flex items-center justify-center",children:l.jsx("p",{children:"Player not found"})})},Wx={batsman:"bg-blue-600",bowler:"bg-green-600",allrounder:"bg-purple-600",keeper:"bg-yellow-600"},U0={praise:{label:"Praise",color:"text-green-400",icon:""},correct:{label:"Correct",color:"text-orange-400",icon:""},motivate:{label:"Motivate",color:"text-blue-400",icon:""}},eb=()=>{const{selectedPlayerId:i,players:d,navigateTo:o,canTalkToPlayer:c,getInteractionOptions:m,talkToPlayer:f}=Ze(),[b,x]=le.useState(null),[g,h]=le.useState(null),v=d.find(E=>E.id===i),p=i?m(i):[],T=i?c(i):!1;if(!v)return l.jsx("div",{className:"min-h-screen bg-gray-900 text-white flex items-center justify-center",children:l.jsx("p",{children:"Player not found"})});const w=E=>{if(!i)return;const k=f(i,E);x(k)},j=()=>{o("player-detail")},N=()=>{o("player-detail")};p.reduce((E,k)=>(E[k.category]||(E[k.category]=[]),E[k.category].push(k),E),{});const S=g?p.filter(E=>E.category===g):p;return l.jsxs("div",{className:"min-h-screen bg-gray-900 text-white pb-24",children:[l.jsxs("header",{className:"bg-gray-800 p-4 border-b border-gray-700",children:[l.jsx("button",{onClick:j,className:"text-blue-400 hover:text-blue-300 mb-2",children:" Back"}),l.jsx("h1",{className:"text-lg font-bold",children:"Talk to Player"})]}),l.jsxs("div",{className:"max-w-lg mx-auto p-4 space-y-4",children:[l.jsxs("div",{className:"bg-gray-800 rounded-xl p-4 border border-gray-700",children:[l.jsxs("div",{className:"flex items-center gap-4",children:[l.jsx("div",{className:`w-14 h-14 rounded-full ${Wx[v.role]} flex items-center justify-center text-lg font-bold`,children:v.shortName.slice(0,2).toUpperCase()}),l.jsxs("div",{className:"flex-1",children:[l.jsx("h2",{className:"text-lg font-bold",children:v.name}),l.jsx("p",{className:"text-sm text-gray-400",children:v.role.charAt(0).toUpperCase()+v.role.slice(1)})]})]}),l.jsxs("div",{className:"mt-4 grid grid-cols-2 gap-3",children:[l.jsxs("div",{children:[l.jsx("div",{className:"text-xs text-gray-500 mb-1",children:"Morale"}),l.jsx(qe,{value:v.morale,label:"",color:v.morale>=70?"green":v.morale>=50?"yellow":"red"})]}),l.jsxs("div",{children:[l.jsx("div",{className:"text-xs text-gray-500 mb-1",children:"Form"}),l.jsxs("div",{className:`text-lg font-bold ${v.form>5?"text-green-400":v.form<-5?"text-red-400":"text-gray-400"}`,children:[v.form>0?"+":"",v.form]})]})]}),l.jsxs("div",{className:"mt-4 p-3 bg-gray-700/50 rounded-lg",children:[l.jsx("div",{className:"text-xs text-gray-500 mb-1",children:"Personality"}),l.jsxs("div",{className:"flex flex-wrap gap-2 text-xs",children:[l.jsx("span",{className:`px-2 py-1 rounded ${v.personality.temperament==="fiery"?"bg-red-900/50 text-red-400":v.personality.temperament==="calm"?"bg-green-900/50 text-green-400":"bg-purple-900/50 text-purple-400"}`,children:v.personality.temperament.charAt(0).toUpperCase()+v.personality.temperament.slice(1)}),v.personality.professionalism>70&&l.jsx("span",{className:"px-2 py-1 rounded bg-blue-900/50 text-blue-400",children:"Professional"}),v.personality.ambition>70&&l.jsx("span",{className:"px-2 py-1 rounded bg-yellow-900/50 text-yellow-400",children:"Ambitious"}),v.personality.leadership>70&&l.jsx("span",{className:"px-2 py-1 rounded bg-cyan-900/50 text-cyan-400",children:"Leader"})]})]})]}),b&&l.jsxs("div",{className:`rounded-xl p-4 border ${b.success?"bg-gray-800 border-gray-700":"bg-red-900/30 border-red-700"}`,children:[l.jsx("h3",{className:"font-semibold mb-2",children:b.success?"Conversation Complete":"That didn't go well..."}),l.jsxs("div",{className:"bg-gray-700/50 rounded-lg p-3 mb-4 italic text-gray-300",children:['"',b.playerResponse,'"']}),l.jsxs("div",{className:"flex flex-wrap gap-3 text-sm",children:[b.effects.morale!==0&&l.jsxs("div",{className:`flex items-center gap-1 ${b.effects.morale>0?"text-green-400":"text-red-400"}`,children:[l.jsx("span",{children:"Morale"}),l.jsxs("span",{className:"font-bold",children:[b.effects.morale>0?"+":"",b.effects.morale]})]}),b.effects.form!==0&&l.jsxs("div",{className:`flex items-center gap-1 ${b.effects.form>0?"text-green-400":"text-red-400"}`,children:[l.jsx("span",{children:"Form"}),l.jsxs("span",{className:"font-bold",children:[b.effects.form>0?"+":"",b.effects.form]})]}),b.effects.pressHeat&&l.jsxs("div",{className:"flex items-center gap-1 text-orange-400",children:[l.jsx("span",{children:"Press Heat"}),l.jsxs("span",{className:"font-bold",children:["+",b.effects.pressHeat]})]})]}),l.jsx("button",{onClick:N,className:"w-full mt-4 bg-blue-600 hover:bg-blue-700 text-white py-3 rounded-lg font-medium transition-colors",children:"Done"})]}),!b&&T&&l.jsxs(l.Fragment,{children:[l.jsxs("div",{className:"flex gap-2",children:[l.jsx("button",{onClick:()=>h(null),className:`flex-1 py-2 px-3 rounded-lg text-sm font-medium transition-colors ${g===null?"bg-gray-600 text-white":"bg-gray-800 text-gray-400 hover:bg-gray-700"}`,children:"All"}),Object.entries(U0).map(([E,{label:k,icon:O}])=>l.jsxs("button",{onClick:()=>h(E),className:`flex-1 py-2 px-3 rounded-lg text-sm font-medium transition-colors ${g===E?"bg-gray-600 text-white":"bg-gray-800 text-gray-400 hover:bg-gray-700"}`,children:[O," ",k]},E))]}),l.jsx("div",{className:"space-y-3",children:S.map(E=>{const k=U0[E.category];return l.jsx("button",{onClick:()=>w(E),className:"w-full bg-gray-800 rounded-xl p-4 border border-gray-700 text-left hover:bg-gray-700/50 transition-colors",children:l.jsxs("div",{className:"flex items-start gap-3",children:[l.jsx("span",{className:"text-xl",children:k.icon}),l.jsxs("div",{className:"flex-1",children:[l.jsx("div",{className:"font-medium mb-1",children:E.label}),l.jsx("div",{className:"text-sm text-gray-400",children:E.description}),l.jsxs("div",{className:"flex gap-3 mt-2 text-xs",children:[E.baseEffects.morale!==0&&l.jsxs("span",{className:E.baseEffects.morale>0?"text-green-500":"text-red-500",children:["Morale ",E.baseEffects.morale>0?"+":"",E.baseEffects.morale]}),E.baseEffects.form!==0&&l.jsxs("span",{className:E.baseEffects.form>0?"text-blue-500":"text-orange-500",children:["Form ",E.baseEffects.form>0?"+":"",E.baseEffects.form]})]})]})]})},E.id)})})]}),!b&&!T&&l.jsxs("div",{className:"bg-gray-800 rounded-xl p-6 border border-gray-700 text-center",children:[l.jsx("div",{className:"text-4xl mb-3",children:""}),l.jsx("h3",{className:"font-semibold mb-2",children:"Recently Talked"}),l.jsxs("p",{className:"text-gray-400 text-sm",children:["You've already spoken to ",v.shortName," recently. Give them some time before your next conversation."]}),l.jsx("button",{onClick:j,className:"mt-4 text-blue-400 hover:text-blue-300",children:"Go Back"})]})]})]})},tb={"pre-match":{label:"Pre-Match",color:"text-blue-400",icon:""},"post-win":{label:"After Victory",color:"text-green-400",icon:""},"post-loss":{label:"After Defeat",color:"text-orange-400",icon:""},crisis:{label:"Crisis Meeting",color:"text-red-400",icon:""}},ab=()=>{const{playerTeamId:i,teams:d,players:o,navigateTo:c,canHoldTeamMeeting:m,getTeamMeetingOptions:f,holdTeamMeeting:b}=Ze(),[x,g]=le.useState(null),h=d.find(O=>O.id===i),v=o.filter(O=>h?.squad.includes(O.id)),p=f(),T=m(),w=v.length?Math.round(v.reduce((O,W)=>O+W.morale,0)/v.length):0,j=v.filter(O=>O.morale<50).length,N=v.filter(O=>O.morale>=70).length,S=O=>{const W=b(O);g(W)},E=()=>{c("club")},k=()=>{c("home")};return l.jsxs("div",{className:"min-h-screen bg-gray-900 text-white pb-24",children:[l.jsxs("header",{className:"bg-gray-800 p-4 border-b border-gray-700",children:[l.jsx("button",{onClick:E,className:"text-blue-400 hover:text-blue-300 mb-2",children:" Back"}),l.jsx("h1",{className:"text-lg font-bold",children:"Team Meeting"})]}),l.jsxs("div",{className:"max-w-lg mx-auto p-4 space-y-4",children:[l.jsxs("div",{className:"bg-gray-800 rounded-xl p-4 border border-gray-700",children:[l.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[l.jsx("div",{className:"w-14 h-14 rounded-full flex items-center justify-center text-lg font-bold",style:{backgroundColor:h?.colors.primary},children:h?.shortName}),l.jsxs("div",{className:"flex-1",children:[l.jsx("h2",{className:"text-lg font-bold",children:h?.name}),l.jsxs("p",{className:"text-sm text-gray-400",children:[v.length," players in squad"]})]})]}),l.jsxs("div",{className:"mb-4",children:[l.jsx("div",{className:"text-xs text-gray-500 mb-1",children:"Team Morale"}),l.jsx(qe,{value:w,label:"",color:w>=70?"green":w>=50?"yellow":"red"})]}),l.jsxs("div",{className:"grid grid-cols-2 gap-3 text-sm",children:[l.jsx("div",{className:"bg-gray-700/50 rounded-lg p-3",children:l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("span",{className:"text-red-400 text-lg",children:""}),l.jsxs("div",{children:[l.jsx("div",{className:"font-bold text-red-400",children:j}),l.jsx("div",{className:"text-xs text-gray-500",children:"Low morale"})]})]})}),l.jsx("div",{className:"bg-gray-700/50 rounded-lg p-3",children:l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("span",{className:"text-green-400 text-lg",children:""}),l.jsxs("div",{children:[l.jsx("div",{className:"font-bold text-green-400",children:N}),l.jsx("div",{className:"text-xs text-gray-500",children:"High morale"})]})]})})]})]}),x&&l.jsxs("div",{className:`rounded-xl p-4 border ${x.success?"bg-gray-800 border-gray-700":"bg-red-900/30 border-red-700"}`,children:[l.jsx("h3",{className:"font-semibold mb-2",children:x.success?"Meeting Complete":"That didn't go well..."}),l.jsx("div",{className:"bg-gray-700/50 rounded-lg p-3 mb-4 text-gray-300",children:x.message}),x.notableReactions.length>0&&l.jsxs("div",{className:"mb-4",children:[l.jsx("div",{className:"text-xs text-gray-500 mb-2",children:"Notable Reactions"}),l.jsx("div",{className:"space-y-2",children:x.notableReactions.map((O,W)=>l.jsxs("div",{className:"bg-gray-700/30 rounded-lg p-2 text-sm",children:[l.jsxs("span",{className:"font-medium text-blue-400",children:[O.playerName,":"]})," ",l.jsxs("span",{className:"text-gray-300 italic",children:['"',O.reaction,'"']})]},W))})]}),l.jsx("div",{className:"flex items-center gap-4 text-sm",children:l.jsxs("div",{className:`flex items-center gap-1 ${x.avgMoraleChange>0?"text-green-400":"text-red-400"}`,children:[l.jsx("span",{children:"Avg Morale"}),l.jsxs("span",{className:"font-bold",children:[x.avgMoraleChange>0?"+":"",x.avgMoraleChange]})]})}),l.jsx("button",{onClick:k,className:"w-full mt-4 bg-blue-600 hover:bg-blue-700 text-white py-3 rounded-lg font-medium transition-colors",children:"Done"})]}),!x&&T&&l.jsxs("div",{className:"space-y-3",children:[l.jsx("h3",{className:"text-sm font-semibold text-gray-400",children:"CHOOSE YOUR MESSAGE"}),p.map(O=>{const W=tb[O.type]||{label:O.type,icon:""};return l.jsx("button",{onClick:()=>S(O),className:"w-full bg-gray-800 rounded-xl p-4 border border-gray-700 text-left hover:bg-gray-700/50 transition-colors",children:l.jsxs("div",{className:"flex items-start gap-3",children:[l.jsx("span",{className:"text-xl",children:W.icon}),l.jsxs("div",{className:"flex-1",children:[l.jsx("div",{className:"font-medium mb-1",children:O.label}),l.jsx("div",{className:"text-sm text-gray-400",children:O.description}),l.jsx("div",{className:"flex gap-3 mt-2 text-xs",children:l.jsxs("span",{className:O.baseMoraleDelta>0?"text-green-500":O.baseMoraleDelta<0?"text-red-500":"text-gray-500",children:["Morale"," ",O.baseMoraleDelta>0?"+":"",O.baseMoraleDelta]})})]})]})},O.id)})]}),!x&&!T&&l.jsxs("div",{className:"bg-gray-800 rounded-xl p-6 border border-gray-700 text-center",children:[l.jsx("div",{className:"text-4xl mb-3",children:""}),l.jsx("h3",{className:"font-semibold mb-2",children:"Recent Meeting"}),l.jsx("p",{className:"text-gray-400 text-sm",children:"You've already held a team meeting recently. Give the players some time to absorb your message before calling another meeting."}),l.jsx("button",{onClick:E,className:"mt-4 text-blue-400 hover:text-blue-300",children:"Go Back"})]})]})]})},lb=()=>{const{fixtures:i,players:d,teams:o,playerTeamId:c}=Ze(),[m,f]=le.useState("batting"),b=o.find(N=>N.id===c),x=le.useMemo(()=>{const N=new Map;return d.forEach(S=>{const E=o.find(k=>k.squad.includes(S.id));N.set(S.id,{playerId:S.id,name:S.name,shortName:S.shortName,teamId:E?.id||"",teamShortName:E?.shortName||"",runs:0,balls:0,fours:0,sixes:0,fifties:0,wickets:0,oversBowled:0,runsConceded:0,dots:0,fourWickets:0,matches:0})}),i.filter(S=>S.status==="completed").forEach(S=>{const E=k=>{if(!k)return;const O=k.batterStats;O&&(O instanceof Map?Array.from(O.entries()):Object.entries(O)).forEach(([ne,B])=>{const G=N.get(ne);G&&B&&(G.runs+=B.runs||0,G.balls+=B.balls||0,G.fours+=B.fours||0,G.sixes+=B.sixes||0,(B.runs||0)>=50&&(G.fifties+=1))});const W=k.bowlerStats;W&&(W instanceof Map?Array.from(W.entries()):Object.entries(W)).forEach(([ne,B])=>{const G=N.get(ne);G&&B&&(G.wickets+=B.wickets||0,G.oversBowled+=B.overs||0,G.runsConceded+=B.runs||0,G.dots+=B.dots||0,(B.wickets||0)>=4&&(G.fourWickets+=1))})};E(S.innings1),E(S.innings2),o.find(k=>k.id===S.homeTeam),o.find(k=>k.id===S.awayTeam),S.homeTactics?.playingXI.forEach(k=>{const O=N.get(k);O&&(O.matches+=1)}),S.awayTactics?.playingXI.forEach(k=>{const O=N.get(k);O&&(O.matches+=1)})}),Array.from(N.values())},[i,d,o]),g=le.useMemo(()=>[...x].filter(N=>N.runs>0).sort((N,S)=>S.runs-N.runs).slice(0,10),[x]),h=le.useMemo(()=>[...x].filter(N=>N.wickets>0).sort((N,S)=>S.wickets-N.wickets).slice(0,10),[x]),v=le.useMemo(()=>[...x].filter(N=>N.balls>=30).map(N=>({...N,strikeRate:N.runs/N.balls*100})).sort((N,S)=>S.strikeRate-N.strikeRate).slice(0,10),[x]),p=le.useMemo(()=>[...x].filter(N=>N.oversBowled>=6).map(N=>({...N,economy:N.runsConceded/N.oversBowled})).sort((N,S)=>N.economy-S.economy).slice(0,10),[x]),T=le.useMemo(()=>x.filter(N=>N.teamId===c),[x,c]),w=le.useMemo(()=>[...T].sort((N,S)=>S.runs-N.runs)[0],[T]),j=le.useMemo(()=>[...T].sort((N,S)=>S.wickets-N.wickets)[0],[T]);return l.jsxs("div",{className:"min-h-screen bg-gray-900 text-white pb-24",children:[l.jsx("header",{className:"bg-gray-800 p-4 border-b border-gray-700",children:l.jsxs("div",{className:"max-w-lg mx-auto",children:[l.jsx("h1",{className:"text-xl font-bold",children:"Season Stats"}),l.jsx("p",{className:"text-sm text-gray-400",children:"Leaderboards & Records"})]})}),l.jsxs("div",{className:"max-w-lg mx-auto p-4 space-y-4",children:[l.jsx("div",{className:"flex gap-2",children:["batting","bowling","team"].map(N=>l.jsx("button",{onClick:()=>f(N),className:`flex-1 py-2 rounded-lg text-sm font-medium transition-colors ${m===N?"bg-blue-600 text-white":"bg-gray-700 text-gray-300 hover:bg-gray-600"}`,children:N.charAt(0).toUpperCase()+N.slice(1)},N))}),m==="batting"&&l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{className:"bg-gray-800 rounded-xl p-4 border border-gray-700",children:[l.jsx("h3",{className:"text-sm font-semibold text-orange-400 mb-3",children:"TOP RUN SCORERS"}),g.length===0?l.jsx("p",{className:"text-gray-500 text-sm",children:"No data yet"}):l.jsxs("div",{className:"space-y-2",children:[l.jsxs("div",{className:"grid grid-cols-12 gap-1 text-xs text-gray-500 border-b border-gray-700 pb-1",children:[l.jsx("div",{className:"col-span-1",children:"#"}),l.jsx("div",{className:"col-span-5",children:"Player"}),l.jsx("div",{className:"col-span-2 text-right",children:"Runs"}),l.jsx("div",{className:"col-span-2 text-right",children:"SR"}),l.jsx("div",{className:"col-span-2 text-right",children:"50s"})]}),g.map((N,S)=>{const E=N.balls>0?(N.runs/N.balls*100).toFixed(1):"-",k=N.teamId===c;return l.jsxs("div",{className:`grid grid-cols-12 gap-1 text-sm ${k?"text-blue-400":""}`,children:[l.jsx("div",{className:"col-span-1 text-gray-500",children:S+1}),l.jsxs("div",{className:"col-span-5 truncate",children:[N.shortName,l.jsxs("span",{className:"text-xs text-gray-500 ml-1",children:["(",N.teamShortName,")"]})]}),l.jsx("div",{className:"col-span-2 text-right font-medium",children:N.runs}),l.jsx("div",{className:"col-span-2 text-right text-gray-400",children:E}),l.jsx("div",{className:"col-span-2 text-right text-yellow-400",children:N.fifties||"-"})]},N.playerId)})]})]}),l.jsxs("div",{className:"bg-gray-800 rounded-xl p-4 border border-gray-700",children:[l.jsx("h3",{className:"text-sm font-semibold text-green-400 mb-3",children:"BEST STRIKE RATES (min 30 balls)"}),v.length===0?l.jsx("p",{className:"text-gray-500 text-sm",children:"No data yet"}):l.jsxs("div",{className:"space-y-2",children:[l.jsxs("div",{className:"grid grid-cols-12 gap-1 text-xs text-gray-500 border-b border-gray-700 pb-1",children:[l.jsx("div",{className:"col-span-1",children:"#"}),l.jsx("div",{className:"col-span-5",children:"Player"}),l.jsx("div",{className:"col-span-2 text-right",children:"SR"}),l.jsx("div",{className:"col-span-2 text-right",children:"Runs"}),l.jsx("div",{className:"col-span-2 text-right",children:"6s"})]}),v.slice(0,5).map((N,S)=>{const E=N.teamId===c;return l.jsxs("div",{className:`grid grid-cols-12 gap-1 text-sm ${E?"text-blue-400":""}`,children:[l.jsx("div",{className:"col-span-1 text-gray-500",children:S+1}),l.jsxs("div",{className:"col-span-5 truncate",children:[N.shortName,l.jsxs("span",{className:"text-xs text-gray-500 ml-1",children:["(",N.teamShortName,")"]})]}),l.jsx("div",{className:"col-span-2 text-right font-medium text-green-400",children:N.strikeRate.toFixed(1)}),l.jsx("div",{className:"col-span-2 text-right text-gray-400",children:N.runs}),l.jsx("div",{className:"col-span-2 text-right text-purple-400",children:N.sixes||"-"})]},N.playerId)})]})]})]}),m==="bowling"&&l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{className:"bg-gray-800 rounded-xl p-4 border border-gray-700",children:[l.jsx("h3",{className:"text-sm font-semibold text-purple-400 mb-3",children:"TOP WICKET TAKERS"}),h.length===0?l.jsx("p",{className:"text-gray-500 text-sm",children:"No data yet"}):l.jsxs("div",{className:"space-y-2",children:[l.jsxs("div",{className:"grid grid-cols-12 gap-1 text-xs text-gray-500 border-b border-gray-700 pb-1",children:[l.jsx("div",{className:"col-span-1",children:"#"}),l.jsx("div",{className:"col-span-5",children:"Player"}),l.jsx("div",{className:"col-span-2 text-right",children:"Wkts"}),l.jsx("div",{className:"col-span-2 text-right",children:"Econ"}),l.jsx("div",{className:"col-span-2 text-right",children:"4W"})]}),h.map((N,S)=>{const E=N.oversBowled>0?(N.runsConceded/N.oversBowled).toFixed(1):"-",k=N.teamId===c;return l.jsxs("div",{className:`grid grid-cols-12 gap-1 text-sm ${k?"text-blue-400":""}`,children:[l.jsx("div",{className:"col-span-1 text-gray-500",children:S+1}),l.jsxs("div",{className:"col-span-5 truncate",children:[N.shortName,l.jsxs("span",{className:"text-xs text-gray-500 ml-1",children:["(",N.teamShortName,")"]})]}),l.jsx("div",{className:"col-span-2 text-right font-medium",children:N.wickets}),l.jsx("div",{className:"col-span-2 text-right text-gray-400",children:E}),l.jsx("div",{className:"col-span-2 text-right text-yellow-400",children:N.fourWickets||"-"})]},N.playerId)})]})]}),l.jsxs("div",{className:"bg-gray-800 rounded-xl p-4 border border-gray-700",children:[l.jsx("h3",{className:"text-sm font-semibold text-green-400 mb-3",children:"BEST ECONOMY (min 6 overs)"}),p.length===0?l.jsx("p",{className:"text-gray-500 text-sm",children:"No data yet"}):l.jsxs("div",{className:"space-y-2",children:[l.jsxs("div",{className:"grid grid-cols-12 gap-1 text-xs text-gray-500 border-b border-gray-700 pb-1",children:[l.jsx("div",{className:"col-span-1",children:"#"}),l.jsx("div",{className:"col-span-5",children:"Player"}),l.jsx("div",{className:"col-span-2 text-right",children:"Econ"}),l.jsx("div",{className:"col-span-2 text-right",children:"Overs"}),l.jsx("div",{className:"col-span-2 text-right",children:"Wkts"})]}),p.slice(0,5).map((N,S)=>{const E=N.teamId===c;return l.jsxs("div",{className:`grid grid-cols-12 gap-1 text-sm ${E?"text-blue-400":""}`,children:[l.jsx("div",{className:"col-span-1 text-gray-500",children:S+1}),l.jsxs("div",{className:"col-span-5 truncate",children:[N.shortName,l.jsxs("span",{className:"text-xs text-gray-500 ml-1",children:["(",N.teamShortName,")"]})]}),l.jsx("div",{className:"col-span-2 text-right font-medium text-green-400",children:N.economy.toFixed(2)}),l.jsx("div",{className:"col-span-2 text-right text-gray-400",children:N.oversBowled}),l.jsx("div",{className:"col-span-2 text-right text-purple-400",children:N.wickets})]},N.playerId)})]})]})]}),m==="team"&&l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{className:"bg-blue-900/30 rounded-xl p-4 border border-blue-700",children:[l.jsxs("h3",{className:"text-sm font-semibold text-blue-400 mb-3",children:[b?.name," TOP PERFORMERS"]}),l.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[l.jsxs("div",{className:"bg-gray-800/50 rounded-lg p-3",children:[l.jsx("div",{className:"text-xs text-gray-400 mb-1",children:"Top Scorer"}),w&&w.runs>0?l.jsxs(l.Fragment,{children:[l.jsx("div",{className:"font-medium",children:w.shortName}),l.jsxs("div",{className:"text-orange-400 text-lg font-bold",children:[w.runs," runs"]}),l.jsxs("div",{className:"text-xs text-gray-500",children:["SR: ",w.balls>0?(w.runs/w.balls*100).toFixed(1):"-"]})]}):l.jsx("div",{className:"text-gray-500 text-sm",children:"No data yet"})]}),l.jsxs("div",{className:"bg-gray-800/50 rounded-lg p-3",children:[l.jsx("div",{className:"text-xs text-gray-400 mb-1",children:"Top Wicket Taker"}),j&&j.wickets>0?l.jsxs(l.Fragment,{children:[l.jsx("div",{className:"font-medium",children:j.shortName}),l.jsxs("div",{className:"text-purple-400 text-lg font-bold",children:[j.wickets," wickets"]}),l.jsxs("div",{className:"text-xs text-gray-500",children:["Econ: ",j.oversBowled>0?(j.runsConceded/j.oversBowled).toFixed(2):"-"]})]}):l.jsx("div",{className:"text-gray-500 text-sm",children:"No data yet"})]})]})]}),l.jsxs("div",{className:"bg-gray-800 rounded-xl p-4 border border-gray-700",children:[l.jsx("h3",{className:"text-sm font-semibold text-gray-400 mb-3",children:"YOUR SQUAD STATS"}),l.jsxs("div",{className:"space-y-2",children:[l.jsxs("div",{className:"grid grid-cols-12 gap-1 text-xs text-gray-500 border-b border-gray-700 pb-1",children:[l.jsx("div",{className:"col-span-4",children:"Player"}),l.jsx("div",{className:"col-span-2 text-right",children:"Runs"}),l.jsx("div",{className:"col-span-2 text-right",children:"SR"}),l.jsx("div",{className:"col-span-2 text-right",children:"Wkts"}),l.jsx("div",{className:"col-span-2 text-right",children:"Econ"})]}),T.filter(N=>N.runs>0||N.wickets>0).sort((N,S)=>S.runs+S.wickets*20-(N.runs+N.wickets*20)).map(N=>{const S=N.balls>0?(N.runs/N.balls*100).toFixed(0):"-",E=N.oversBowled>0?(N.runsConceded/N.oversBowled).toFixed(1):"-";return l.jsxs("div",{className:"grid grid-cols-12 gap-1 text-sm",children:[l.jsx("div",{className:"col-span-4 truncate",children:N.shortName}),l.jsx("div",{className:"col-span-2 text-right text-orange-400",children:N.runs||"-"}),l.jsx("div",{className:"col-span-2 text-right text-gray-400",children:S}),l.jsx("div",{className:"col-span-2 text-right text-purple-400",children:N.wickets||"-"}),l.jsx("div",{className:"col-span-2 text-right text-gray-400",children:E})]},N.playerId)})]})]})]})]})]})},sb=()=>{const{fixtures:i,teams:d,players:o,playerTeamId:c,pointsTable:m,navigateTo:f,selectMatch:b,openPlayerModal:x,openTeamModal:g}=Ze(),[h,v]=le.useState("your"),[p,T]=le.useState(null),[w,j]=le.useState(null),N=d.find(C=>C.id===c),S=C=>C?.batterStats?C.batterStats instanceof Map?Array.from(C.batterStats.entries()):Object.entries(C.batterStats):[],E=C=>C?.bowlerStats?C.bowlerStats instanceof Map?Array.from(C.bowlerStats.entries()):Object.entries(C.bowlerStats):[],O=[...i.filter(C=>h==="your"?C.homeTeam===c||C.awayTeam===c:h==="upcoming"?C.status==="upcoming":h==="completed"?C.status==="completed":!0)].sort((C,ae)=>C.matchNumber-ae.matchNumber),W=C=>{const ae=d.find(te=>te.id===C);if(!ae)return null;const J=o.filter(te=>ae.squad.includes(te.id)),fe=i.filter(te=>te.status==="completed"&&(te.homeTeam===C||te.awayTeam===C)).slice(-3).map(te=>!te.innings1||!te.innings2?"unknown":te.innings2.runs>=te.innings1.runs+1?te.innings2.battingTeam===C?"W":"L":te.innings1.battingTeam===C?"W":"L"),se=J.filter(te=>te.role==="batsman"||te.role==="allrounder"||te.role==="keeper").sort((te,ge)=>ge.form-te.form)[0],z=J.filter(te=>te.role==="bowler"||te.role==="allrounder").sort((te,ge)=>ge.form-te.form)[0],P=m.find(te=>te.teamId===C);return{team:ae,recentResults:fe,topBatter:se,topBowler:z,tableEntry:P,avgMorale:Math.round(J.reduce((te,ge)=>te+ge.morale,0)/J.length)}},_=C=>{T(p===C?null:C)},ne=C=>{b(C),f("match-prep")},B=C=>({league:"League",qualifier1:"Qualifier 1",eliminator:"Eliminator",qualifier2:"Qualifier 2",final:"Final"})[C]||C,G=C=>{if(C.status!=="completed"||!C.innings1||!C.innings2)return null;const ae=C.innings2.runs>=C.innings1.runs+1,J=ae?C.innings2.battingTeam:C.innings1.battingTeam,V=d.find(fe=>fe.id===J);if(ae){const fe=10-C.innings2.wickets;return`${V?.shortName} won by ${fe} wickets`}else{const fe=C.innings1.runs-C.innings2.runs;return`${V?.shortName} won by ${fe} runs`}},ue=[...m].sort((C,ae)=>ae.points!==C.points?ae.points-C.points:ae.netRunRate-C.netRunRate);return l.jsxs("div",{className:"min-h-screen bg-gray-900 text-white pb-24",children:[l.jsx("header",{className:"bg-gray-800 p-4 border-b border-gray-700",children:l.jsxs("div",{className:"max-w-lg mx-auto",children:[l.jsx("h1",{className:"text-xl font-bold",children:"Schedule"}),l.jsx("p",{className:"text-sm text-gray-400",children:N?.name})]})}),l.jsxs("div",{className:"max-w-lg mx-auto p-4 space-y-4",children:[l.jsx("div",{className:"flex gap-2 overflow-x-auto pb-2",children:["your","all","upcoming","completed"].map(C=>l.jsx("button",{onClick:()=>v(C),className:`px-4 py-2 rounded-full text-sm whitespace-nowrap transition-colors ${h===C?"bg-blue-600 text-white":"bg-gray-700 text-gray-300 hover:bg-gray-600"}`,children:C==="your"?"Your Matches":C.charAt(0).toUpperCase()+C.slice(1)},C))}),l.jsxs("details",{className:"bg-gray-800 rounded-xl border border-gray-700",children:[l.jsx("summary",{className:"p-4 cursor-pointer text-sm font-semibold text-gray-400 hover:text-gray-200",children:"POINTS TABLE"}),l.jsxs("div",{className:"px-4 pb-4",children:[l.jsxs("div",{className:"flex items-center justify-between px-2 py-1 text-xs text-gray-500 border-b border-gray-700 mb-2",children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("span",{className:"w-4",children:"#"}),l.jsx("span",{className:"w-12",children:"Team"})]}),l.jsxs("div",{className:"flex items-center gap-2 text-right",children:[l.jsx("span",{className:"w-6",children:"P"}),l.jsx("span",{className:"w-6",children:"W"}),l.jsx("span",{className:"w-6",children:"L"}),l.jsx("span",{className:"w-12",children:"NRR"}),l.jsx("span",{className:"w-8",children:"Pts"})]})]}),l.jsx("div",{className:"space-y-1",children:ue.map((C,ae)=>{const J=d.find(z=>z.id===C.teamId),V=C.teamId===c,fe=C.netRunRate>=0?`+${C.netRunRate.toFixed(2)}`:C.netRunRate.toFixed(2),se=C.netRunRate>=0?"text-green-400":"text-red-400";return l.jsxs("div",{className:`flex items-center justify-between px-2 py-2 rounded-lg ${V?"bg-blue-900/30 border border-blue-800/50":"bg-gray-700/30"} ${ae===3?"border-b-2 border-dashed border-gray-600":""}`,children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("span",{className:`w-4 text-sm ${ae<4?"text-green-400 font-bold":"text-gray-500"}`,children:ae+1}),l.jsx("span",{className:`w-12 text-sm ${V?"text-blue-400 font-bold":ae<4?"font-semibold":""}`,children:J?.shortName})]}),l.jsxs("div",{className:`flex items-center gap-2 text-sm text-right ${ae<4?"font-medium":""}`,children:[l.jsx("span",{className:"w-6 text-gray-400",children:C.played}),l.jsx("span",{className:"w-6 text-green-400",children:C.won}),l.jsx("span",{className:"w-6 text-red-400",children:C.lost}),l.jsx("span",{className:`w-12 text-xs ${se}`,children:fe}),l.jsx("span",{className:`w-8 ${ae<4?"font-bold text-green-400":"font-bold"}`,children:C.points})]})]},C.teamId)})})]})]}),l.jsx("div",{className:"space-y-3",children:O.length===0?l.jsx("div",{className:"text-center text-gray-500 py-8",children:"No matches found"}):O.map(C=>{const ae=d.find(te=>te.id===C.homeTeam),J=d.find(te=>te.id===C.awayTeam),V=C.homeTeam===c||C.awayTeam===c,fe=p===C.id,se=C.homeTeam===c?C.awayTeam:C.homeTeam,z=V&&fe?W(se):null,P=C.matchType!=="league";return l.jsxs("div",{className:`rounded-xl border overflow-hidden ${P?"bg-purple-900/20 border-purple-700":V?"bg-gray-800 border-blue-700/50":"bg-gray-800 border-gray-700"}`,children:[l.jsxs("button",{onClick:()=>_(C.id),className:"w-full p-4 text-left",children:[l.jsxs("div",{className:"flex justify-between items-center mb-2",children:[l.jsxs("span",{className:`text-xs ${P?"text-purple-400":"text-gray-400"}`,children:[B(C.matchType)," #",C.matchNumber]}),l.jsx("span",{className:`text-xs px-2 py-0.5 rounded ${C.status==="completed"?"bg-green-900/50 text-green-400":"bg-blue-900/50 text-blue-400"}`,children:C.status==="completed"?"Completed":"Upcoming"})]}),l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("div",{className:"w-8 h-8 rounded-full flex items-center justify-center text-xs font-bold",style:{backgroundColor:ae?.colors.primary},children:ae?.shortName}),l.jsx("span",{className:`text-sm ${C.homeTeam===c?"text-blue-400 font-medium":""}`,children:ae?.shortName})]}),l.jsx("span",{className:"text-gray-500 text-sm",children:"vs"}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("span",{className:`text-sm ${C.awayTeam===c?"text-blue-400 font-medium":""}`,children:J?.shortName}),l.jsx("div",{className:"w-8 h-8 rounded-full flex items-center justify-center text-xs font-bold",style:{backgroundColor:J?.colors.primary},children:J?.shortName})]})]}),C.status==="completed"&&l.jsx("div",{className:"text-center text-sm text-gray-400 mt-2",children:G(C)}),C.status==="completed"&&C.innings1&&C.innings2&&l.jsxs("div",{className:"flex justify-between text-sm mt-2 text-gray-300",children:[l.jsx("span",{children:C.innings1.battingTeam===C.homeTeam?`${C.innings1.runs}/${C.innings1.wickets}`:`${C.innings2.runs}/${C.innings2.wickets}`}),l.jsx("span",{children:C.innings1.battingTeam===C.awayTeam?`${C.innings1.runs}/${C.innings1.wickets}`:`${C.innings2.runs}/${C.innings2.wickets}`})]})]}),C.status==="completed"&&C.innings1&&C.innings2&&l.jsx("div",{className:"px-4 pb-3",children:l.jsx("button",{onClick:te=>{te.stopPropagation(),j(C.id)},className:"w-full py-2 bg-gray-700 hover:bg-gray-600 rounded-lg text-sm text-gray-300 transition-colors",children:"View Scorecard"})}),fe&&V&&z&&C.status==="upcoming"&&l.jsxs("div",{className:"px-4 pb-4 border-t border-gray-700",children:[l.jsx("h4",{className:"text-xs text-gray-400 mt-3 mb-2",children:"OPPONENT SCOUTING"}),l.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[l.jsx("span",{className:"text-xs text-gray-500",children:"Recent:"}),l.jsx("div",{className:"flex gap-1",children:z.recentResults.length>0?z.recentResults.map((te,ge)=>l.jsx("span",{className:`w-6 h-6 rounded flex items-center justify-center text-xs font-bold ${te==="W"?"bg-green-900 text-green-400":"bg-red-900 text-red-400"}`,children:te},ge)):l.jsx("span",{className:"text-xs text-gray-500",children:"No matches yet"})}),z.tableEntry&&l.jsxs("span",{className:"text-xs text-gray-500 ml-auto",children:[z.tableEntry.won,"W ",z.tableEntry.lost,"L"]})]}),l.jsxs("div",{className:"grid grid-cols-2 gap-2 mb-3",children:[z.topBatter&&l.jsxs("button",{onClick:()=>x(z.topBatter.id,!0),className:"bg-gray-700/50 rounded p-2 text-left hover:bg-gray-700 transition-colors",children:[l.jsx("div",{className:"text-xs text-gray-400",children:"Top Batter"}),l.jsx("div",{className:"text-sm text-blue-400 hover:text-blue-300",children:z.topBatter.shortName}),l.jsxs("div",{className:`text-xs ${z.topBatter.form>5?"text-green-400":z.topBatter.form<-5?"text-red-400":"text-gray-400"}`,children:["Form: ",z.topBatter.form>0?"+":"",z.topBatter.form]})]}),z.topBowler&&l.jsxs("button",{onClick:()=>x(z.topBowler.id,!0),className:"bg-gray-700/50 rounded p-2 text-left hover:bg-gray-700 transition-colors",children:[l.jsx("div",{className:"text-xs text-gray-400",children:"Top Bowler"}),l.jsx("div",{className:"text-sm text-blue-400 hover:text-blue-300",children:z.topBowler.shortName}),l.jsxs("div",{className:`text-xs ${z.topBowler.form>5?"text-green-400":z.topBowler.form<-5?"text-red-400":"text-gray-400"}`,children:["Form: ",z.topBowler.form>0?"+":"",z.topBowler.form]})]})]}),l.jsxs("div",{className:"flex gap-2",children:[l.jsx("button",{onClick:()=>g(se,!0),className:"flex-1 py-2 bg-gray-700 hover:bg-gray-600 rounded-lg text-sm font-medium transition-colors",children:"View Squad"}),l.jsx("button",{onClick:()=>ne(C.id),className:"flex-1 py-2 bg-blue-600 hover:bg-blue-700 rounded-lg text-sm font-medium transition-colors",children:"Prepare for Match"})]})]}),!fe&&V&&C.status==="upcoming"&&l.jsx("div",{className:"px-4 pb-2 text-center",children:l.jsx("span",{className:"text-xs text-gray-500",children:"Tap to scout opponent"})})]},C.id)})}),w&&(()=>{const C=i.find(se=>se.id===w);if(!C||!C.innings1||!C.innings2)return null;const ae=d.find(se=>se.id===C.homeTeam),J=d.find(se=>se.id===C.awayTeam),V=d.find(se=>se.id===C.innings1?.battingTeam),fe=d.find(se=>se.id===C.innings2?.battingTeam);return l.jsx("div",{className:"fixed inset-0 bg-black/80 z-50 flex items-center justify-center p-4",children:l.jsxs("div",{className:"bg-gray-800 rounded-xl max-w-lg w-full max-h-[90vh] overflow-y-auto",children:[l.jsxs("div",{className:"sticky top-0 bg-gray-800 p-4 border-b border-gray-700 flex justify-between items-center",children:[l.jsxs("div",{children:[l.jsxs("h2",{className:"font-bold",children:[ae?.shortName," vs ",J?.shortName]}),l.jsx("p",{className:"text-sm text-gray-400",children:G(C)})]}),l.jsx("button",{onClick:()=>j(null),className:"text-gray-400 hover:text-white text-2xl",children:""})]}),l.jsxs("div",{className:"p-4 space-y-6",children:[l.jsxs("div",{children:[l.jsxs("h3",{className:"font-semibold mb-2 flex items-center gap-2",children:[l.jsx("div",{className:"w-6 h-6 rounded-full flex items-center justify-center text-xs font-bold",style:{backgroundColor:V?.colors.primary},children:V?.shortName?.charAt(0)}),V?.shortName," - ",C.innings1.runs,"/",C.innings1.wickets,l.jsxs("span",{className:"text-sm text-gray-400",children:["(",C.innings1.overs," ov)"]})]}),l.jsxs("div",{className:"bg-gray-700/50 rounded-lg p-3 mb-2",children:[l.jsx("div",{className:"text-xs text-gray-400 mb-2",children:"BATTING"}),l.jsx("div",{className:"space-y-1 text-sm",children:(()=>{const se=S(C.innings1),z=new Set(se.map(([ye])=>ye)),P=C.innings1?.battingTeam,Y=(P===C.homeTeam?C.homeTactics:C.awayTactics)?.playingXI||[],A=d.find(ye=>ye.id===P),F=Y.length>0?Y:A?.squad.slice(0,11)||[],de=C.innings1?.fallOfWickets||[],re=new Set(de.map(ye=>ye.player)),Ce=new Set([...z,...re]),Ae=F.filter(ye=>!Ce.has(ye));return l.jsxs(l.Fragment,{children:[se.map(([ye,lt])=>{const ot=o.find(Ie=>Ie.id===ye),Zt=lt.balls>0?(lt.runs/lt.balls*100).toFixed(0):"0";return l.jsxs("div",{className:"flex justify-between",children:[l.jsx("button",{onClick:()=>x(ye,!1),className:"text-blue-400 hover:text-blue-300 hover:underline text-left",children:ot?.shortName||"Unknown"}),l.jsxs("span",{children:[lt.runs," (",lt.balls,")",l.jsxs("span",{className:"text-gray-500 text-xs ml-1",children:["SR ",Zt]})]})]},ye)}),Ae.map(ye=>{const lt=o.find(ot=>ot.id===ye);return l.jsxs("div",{className:"flex justify-between text-gray-600",children:[l.jsx("span",{children:lt?.shortName||"Unknown"}),l.jsx("span",{className:"text-xs italic",children:"did not bat"})]},ye)})]})})()})]}),l.jsxs("div",{className:"bg-gray-700/50 rounded-lg p-3",children:[l.jsx("div",{className:"text-xs text-gray-400 mb-2",children:"BOWLING"}),l.jsx("div",{className:"space-y-1 text-sm",children:E(C.innings1).map(([se,z])=>{const P=o.find(ge=>ge.id===se),te=z.overs>0?(z.runs/z.overs).toFixed(1):"0.0";return l.jsxs("div",{className:"flex justify-between",children:[l.jsx("button",{onClick:()=>x(se,!1),className:"text-blue-400 hover:text-blue-300 hover:underline text-left",children:P?.shortName||"Unknown"}),l.jsxs("span",{children:[z.wickets,"/",z.runs," (",z.overs," ov)",l.jsxs("span",{className:"text-gray-500 text-xs ml-1",children:["Econ ",te]})]})]},se)})})]})]}),l.jsxs("div",{children:[l.jsxs("h3",{className:"font-semibold mb-2 flex items-center gap-2",children:[l.jsx("div",{className:"w-6 h-6 rounded-full flex items-center justify-center text-xs font-bold",style:{backgroundColor:fe?.colors.primary},children:fe?.shortName?.charAt(0)}),fe?.shortName," - ",C.innings2.runs,"/",C.innings2.wickets,l.jsxs("span",{className:"text-sm text-gray-400",children:["(",C.innings2.overs,C.innings2.balls>0?`.${C.innings2.balls}`:""," ov)"]})]}),l.jsxs("div",{className:"bg-gray-700/50 rounded-lg p-3 mb-2",children:[l.jsx("div",{className:"text-xs text-gray-400 mb-2",children:"BATTING"}),l.jsx("div",{className:"space-y-1 text-sm",children:(()=>{const se=S(C.innings2),z=new Set(se.map(([ye])=>ye)),P=C.innings2?.battingTeam,Y=(P===C.homeTeam?C.homeTactics:C.awayTactics)?.playingXI||[],A=d.find(ye=>ye.id===P),F=Y.length>0?Y:A?.squad.slice(0,11)||[],de=C.innings2?.fallOfWickets||[],re=new Set(de.map(ye=>ye.player)),Ce=new Set([...z,...re]),Ae=F.filter(ye=>!Ce.has(ye));return l.jsxs(l.Fragment,{children:[se.map(([ye,lt])=>{const ot=o.find(Ie=>Ie.id===ye),Zt=lt.balls>0?(lt.runs/lt.balls*100).toFixed(0):"0";return l.jsxs("div",{className:"flex justify-between",children:[l.jsx("button",{onClick:()=>x(ye,!1),className:"text-blue-400 hover:text-blue-300 hover:underline text-left",children:ot?.shortName||"Unknown"}),l.jsxs("span",{children:[lt.runs," (",lt.balls,")",l.jsxs("span",{className:"text-gray-500 text-xs ml-1",children:["SR ",Zt]})]})]},ye)}),Ae.map(ye=>{const lt=o.find(ot=>ot.id===ye);return l.jsxs("div",{className:"flex justify-between text-gray-600",children:[l.jsx("span",{children:lt?.shortName||"Unknown"}),l.jsx("span",{className:"text-xs italic",children:"did not bat"})]},ye)})]})})()})]}),l.jsxs("div",{className:"bg-gray-700/50 rounded-lg p-3",children:[l.jsx("div",{className:"text-xs text-gray-400 mb-2",children:"BOWLING"}),l.jsx("div",{className:"space-y-1 text-sm",children:E(C.innings2).map(([se,z])=>{const P=o.find(ge=>ge.id===se),te=z.overs>0?(z.runs/z.overs).toFixed(1):"0.0";return l.jsxs("div",{className:"flex justify-between",children:[l.jsx("button",{onClick:()=>x(se,!1),className:"text-blue-400 hover:text-blue-300 hover:underline text-left",children:P?.shortName||"Unknown"}),l.jsxs("span",{children:[z.wickets,"/",z.runs," (",z.overs," ov)",l.jsxs("span",{className:"text-gray-500 text-xs ml-1",children:["Econ ",te]})]})]},se)})})]})]})]}),l.jsx("div",{className:"p-4 border-t border-gray-700",children:l.jsx("button",{onClick:()=>j(null),className:"w-full py-2 bg-gray-700 hover:bg-gray-600 rounded-lg font-medium transition-colors",children:"Close"})})]})})})()]})]})},nb=()=>{const{playerTeamId:i,teams:d,players:o,manager:c,pressHeat:m,fixtures:f,pointsTable:b,navigateTo:x,canHoldTeamMeeting:g}=Ze(),h=g(),v=d.find(V=>V.id===i),p=o.filter(V=>v?.squad.includes(V.id)),T=p.length?Math.round(p.reduce((V,fe)=>V+fe.morale,0)/p.length):0,w=p.length?Math.round(p.reduce((V,fe)=>V+fe.fitness,0)/p.length):0;p.length&&Math.round(p.reduce((V,fe)=>V+fe.form,0)/p.length);const j=v?.boardPatience??50,S=f.filter(V=>V.status==="completed"&&(V.homeTeam===i||V.awayTeam===i)).slice(-5),E=S.filter(V=>!V.innings1||!V.innings2?!1:V.innings2.runs>=V.innings1.runs+1?V.innings2.battingTeam===i:V.innings1.battingTeam===i).length,k=S.length>0?Math.round(E/S.length*100):50,W=[...b].sort((V,fe)=>fe.points!==V.points?fe.points-V.points:fe.netRunRate-V.netRunRate).findIndex(V=>V.teamId===i)+1,_=b.find(V=>V.teamId===i),ne=p.filter(V=>V.contract.isOverseas).length,B=p.length-ne,G=p.filter(V=>V.role==="batsman").length,ue=p.filter(V=>V.role==="bowler").length,C=p.filter(V=>V.role==="allrounder").length,ae=p.filter(V=>V.role==="keeper").length,J=p.reduce((V,fe)=>V+fe.contract.salary,0);return l.jsxs("div",{className:"min-h-screen bg-gray-900 text-white pb-24",children:[l.jsx("header",{className:"bg-gray-800 p-4 border-b border-gray-700",children:l.jsxs("div",{className:"max-w-lg mx-auto flex items-center gap-4",children:[l.jsx("div",{className:"w-16 h-16 rounded-full flex items-center justify-center text-xl font-bold",style:{backgroundColor:v?.colors.primary},children:v?.shortName}),l.jsxs("div",{children:[l.jsx("h1",{className:"text-xl font-bold",children:v?.name}),l.jsxs("p",{className:"text-sm text-gray-400",children:["Manager: ",c.name]})]})]})}),l.jsxs("div",{className:"max-w-lg mx-auto p-4 space-y-4",children:[l.jsxs("div",{className:"bg-gray-800 rounded-xl p-4 border border-gray-700",children:[l.jsx("h2",{className:"text-sm font-semibold text-gray-400 mb-3",children:"SEASON PERFORMANCE"}),l.jsxs("div",{className:"flex items-center justify-between mb-4",children:[l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:"text-3xl font-bold",children:W}),l.jsx("div",{className:"text-xs text-gray-400",children:"Position"})]}),l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:"text-3xl font-bold text-green-400",children:_?.won||0}),l.jsx("div",{className:"text-xs text-gray-400",children:"Wins"})]}),l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:"text-3xl font-bold text-red-400",children:_?.lost||0}),l.jsx("div",{className:"text-xs text-gray-400",children:"Losses"})]}),l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:`text-xl font-bold ${(_?.netRunRate||0)>=0?"text-green-400":"text-red-400"}`,children:_?.netRunRate!==void 0?(_.netRunRate>=0?"+":"")+_.netRunRate.toFixed(2):"-"}),l.jsx("div",{className:"text-xs text-gray-400",children:"NRR"})]})]}),W<=4?l.jsx("div",{className:"bg-green-900/30 rounded-lg p-2 text-center",children:l.jsx("span",{className:"text-green-400 text-sm",children:"Playoff Position"})}):l.jsx("div",{className:"bg-red-900/30 rounded-lg p-2 text-center",children:l.jsxs("span",{className:"text-red-400 text-sm",children:[5-W," more wins needed for playoffs"]})})]}),l.jsxs("div",{className:"bg-gray-800 rounded-xl p-4 border border-gray-700",children:[l.jsx("h2",{className:"text-sm font-semibold text-gray-400 mb-3",children:"CLUB HEALTH"}),l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{children:[l.jsxs("div",{className:"flex justify-between text-sm mb-1",children:[l.jsx("span",{children:"Board Confidence"}),l.jsxs("span",{className:j>60?"text-green-400":j<40?"text-red-400":"text-yellow-400",children:[j,"%"]})]}),l.jsx("div",{className:"h-2 bg-gray-700 rounded-full overflow-hidden",children:l.jsx("div",{className:`h-full transition-all ${j>60?"bg-green-500":j<40?"bg-red-500":"bg-yellow-500"}`,style:{width:`${j}%`}})})]}),l.jsxs("div",{children:[l.jsxs("div",{className:"flex justify-between text-sm mb-1",children:[l.jsx("span",{children:"Fan Support"}),l.jsxs("span",{className:k>60?"text-green-400":k<40?"text-red-400":"text-yellow-400",children:[k,"%"]})]}),l.jsx("div",{className:"h-2 bg-gray-700 rounded-full overflow-hidden",children:l.jsx("div",{className:`h-full transition-all ${k>60?"bg-green-500":k<40?"bg-red-500":"bg-yellow-500"}`,style:{width:`${k}%`}})})]}),l.jsxs("div",{children:[l.jsxs("div",{className:"flex justify-between text-sm mb-1",children:[l.jsx("span",{children:"Press Heat"}),l.jsxs("span",{className:m<40?"text-green-400":m>60?"text-red-400":"text-yellow-400",children:[m,"%"]})]}),l.jsx("div",{className:"h-2 bg-gray-700 rounded-full overflow-hidden",children:l.jsx("div",{className:`h-full transition-all ${m<40?"bg-green-500":m>60?"bg-red-500":"bg-yellow-500"}`,style:{width:`${m}%`}})})]})]})]}),l.jsxs("div",{className:"bg-gray-800 rounded-xl p-4 border border-gray-700",children:[l.jsx("h2",{className:"text-sm font-semibold text-gray-400 mb-3",children:"SQUAD OVERVIEW"}),l.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-4",children:[l.jsx("div",{children:l.jsx(qe,{value:T,label:"Team Morale",color:"purple"})}),l.jsx("div",{children:l.jsx(qe,{value:w,label:"Team Fitness",color:"green"})})]}),l.jsxs("div",{className:"grid grid-cols-3 gap-2 text-center text-sm",children:[l.jsxs("div",{className:"bg-gray-700/50 rounded-lg p-2",children:[l.jsx("div",{className:"font-bold",children:p.length}),l.jsx("div",{className:"text-xs text-gray-400",children:"Squad Size"})]}),l.jsxs("div",{className:"bg-gray-700/50 rounded-lg p-2",children:[l.jsx("div",{className:"font-bold",children:B}),l.jsx("div",{className:"text-xs text-gray-400",children:"Domestic"})]}),l.jsxs("div",{className:"bg-gray-700/50 rounded-lg p-2",children:[l.jsx("div",{className:"font-bold text-blue-400",children:ne}),l.jsx("div",{className:"text-xs text-gray-400",children:"Overseas"})]})]}),l.jsxs("div",{className:"mt-4 grid grid-cols-4 gap-2 text-center text-xs",children:[l.jsxs("div",{className:"bg-orange-900/30 rounded p-2",children:[l.jsx("div",{className:"font-bold text-orange-400",children:G}),l.jsx("div",{className:"text-gray-500",children:"BAT"})]}),l.jsxs("div",{className:"bg-purple-900/30 rounded p-2",children:[l.jsx("div",{className:"font-bold text-purple-400",children:ue}),l.jsx("div",{className:"text-gray-500",children:"BOWL"})]}),l.jsxs("div",{className:"bg-green-900/30 rounded p-2",children:[l.jsx("div",{className:"font-bold text-green-400",children:C}),l.jsx("div",{className:"text-gray-500",children:"AR"})]}),l.jsxs("div",{className:"bg-blue-900/30 rounded p-2",children:[l.jsx("div",{className:"font-bold text-blue-400",children:ae}),l.jsx("div",{className:"text-gray-500",children:"WK"})]})]})]}),l.jsxs("div",{className:"bg-gray-800 rounded-xl p-4 border border-gray-700",children:[l.jsx("h2",{className:"text-sm font-semibold text-gray-400 mb-3",children:"FINANCES"}),l.jsxs("div",{className:"space-y-3",children:[l.jsxs("div",{className:"flex justify-between items-center",children:[l.jsx("span",{className:"text-gray-400",children:"Budget"}),l.jsxs("span",{className:"font-bold text-green-400",children:["",(v?.budget||0).toFixed(1)," Cr"]})]}),l.jsxs("div",{className:"flex justify-between items-center",children:[l.jsx("span",{className:"text-gray-400",children:"Total Salary"}),l.jsxs("span",{className:"font-bold",children:["",(J/100).toFixed(1)," Cr"]})]}),l.jsxs("div",{className:"flex justify-between items-center",children:[l.jsx("span",{className:"text-gray-400",children:"Salary Cap"}),l.jsxs("span",{className:"text-gray-500",children:["",(v?.salaryCap||0).toFixed(1)," Cr"]})]}),l.jsxs("div",{className:"pt-2 border-t border-gray-700",children:[l.jsxs("div",{className:"flex justify-between text-sm mb-1",children:[l.jsx("span",{className:"text-gray-400",children:"Cap Usage"}),l.jsxs("span",{children:[(J/100/(v?.salaryCap||100)*100).toFixed(0),"%"]})]}),l.jsx("div",{className:"h-2 bg-gray-700 rounded-full overflow-hidden",children:l.jsx("div",{className:"h-full bg-blue-500",style:{width:`${Math.min(100,J/100/(v?.salaryCap||100)*100)}%`}})})]})]})]}),l.jsxs("div",{className:"bg-gray-800 rounded-xl p-4 border border-gray-700",children:[l.jsx("h2",{className:"text-sm font-semibold text-gray-400 mb-3",children:"MANAGER"}),l.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[l.jsx("div",{className:"w-12 h-12 rounded-full bg-gray-700 flex items-center justify-center text-xl",children:""}),l.jsxs("div",{children:[l.jsx("div",{className:"font-bold",children:c.name}),l.jsxs("div",{className:"text-sm text-gray-400",children:["Reputation: ",c.reputation]})]})]}),l.jsxs("div",{className:"grid grid-cols-3 gap-2 text-center text-sm",children:[l.jsxs("div",{className:"bg-gray-700/50 rounded-lg p-2",children:[l.jsx("div",{className:"font-bold",children:c.history.seasonsManaged}),l.jsx("div",{className:"text-xs text-gray-400",children:"Seasons"})]}),l.jsxs("div",{className:"bg-gray-700/50 rounded-lg p-2",children:[l.jsx("div",{className:"font-bold text-yellow-400",children:c.history.titlesWon}),l.jsx("div",{className:"text-xs text-gray-400",children:"Titles"})]}),l.jsxs("div",{className:"bg-gray-700/50 rounded-lg p-2",children:[l.jsx("div",{className:"font-bold",children:c.history.playoffAppearances}),l.jsx("div",{className:"text-xs text-gray-400",children:"Playoffs"})]})]})]}),l.jsxs("div",{className:"bg-gray-800 rounded-xl p-4 border border-gray-700",children:[l.jsx("h2",{className:"text-sm font-semibold text-gray-400 mb-3",children:"TEAM ACTIONS"}),l.jsxs("button",{onClick:()=>x("team-meeting"),className:`w-full p-4 rounded-lg flex items-center gap-3 transition-colors ${h?"bg-purple-900/30 hover:bg-purple-900/50 border border-purple-700":"bg-gray-700/30 border border-gray-600 opacity-50"}`,children:[l.jsx("span",{className:"text-2xl",children:""}),l.jsxs("div",{className:"text-left flex-1",children:[l.jsx("div",{className:"font-medium",children:"Team Meeting"}),l.jsx("div",{className:"text-xs text-gray-400",children:h?"Motivate or address the squad":"Recently held a meeting"})]}),h&&l.jsx("span",{className:"text-purple-400",children:""})]})]}),l.jsxs("div",{className:"bg-gray-700/30 rounded-xl p-4 border border-dashed border-gray-600 text-center",children:[l.jsx("div",{className:"text-gray-500 text-sm",children:"Staff Management"}),l.jsx("div",{className:"text-gray-600 text-xs mt-1",children:"Coming Soon"})]})]})]})},ib=[{value:"default",label:"Default",desc:"Bat in assigned order"},{value:"promote",label:"Promote",desc:"Send up the order when needed"},{value:"finisher",label:"Finisher",desc:"Save for death overs"},{value:"anchor",label:"Anchor",desc:"Play steady, rotate strike"}],rb=[{value:"default",label:"Default",desc:"Bowl full quota if needed"},{value:"max-2-overs",label:"Max 2 Overs",desc:"Limit to 2 overs"},{value:"max-3-overs",label:"Max 3 Overs",desc:"Limit to 3 overs"},{value:"death-specialist",label:"Death Overs",desc:"Save for overs 16-20"},{value:"powerplay-only",label:"Powerplay Only",desc:"Bowl in overs 1-6"}],cb=[{value:"good-length",label:"Good Length",desc:"Balanced, default approach"},{value:"short",label:"Short",desc:"Bouncers, needs pace"},{value:"yorkers",label:"Yorkers",desc:"Death specialty, needs accuracy"},{value:"full-pitched",label:"Full",desc:"Swing bowling, wicket-taking"}],ob=[{value:"attacking",label:"Attacking",desc:"More catchers, wicket-focused"},{value:"balanced",label:"Balanced",desc:"Standard field"},{value:"defensive",label:"Defensive",desc:"Boundary protection"},{value:"death-field",label:"Death Field",desc:"Long boundaries covered"}],ub=()=>{const{selectedMatchId:i,playerTeamId:d,teams:o,players:c,fixtures:m,setMatchTactics:f,navigateTo:b}=Ze(),[x,g]=le.useState("select"),[h,v]=le.useState([]),[p,T]=le.useState({powerplay:"aggressive",middle:"balanced",death:"aggressive"}),[w,j]=le.useState({powerplay:{length:"full-pitched",field:"attacking"},middle:{length:"good-length",field:"balanced"},death:{length:"yorkers",field:"death-field"}}),[N,S]=le.useState("batting"),[E,k]=le.useState([]),[O,W]=le.useState(null),_=m.find(Y=>Y.id===i),ne=o.find(Y=>Y.id===d),B=c.filter(Y=>ne?.squad.includes(Y.id)),G=_?o.find(Y=>Y.id===(_.homeTeam===d?_.awayTeam:_.homeTeam)):null;le.useEffect(()=>{_&&_.status!=="upcoming"&&b("home")},[_,b]);const ue=le.useMemo(()=>h.filter(Y=>c.find(A=>A.id===Y)?.contract.isOverseas).length,[h,c]),C=le.useMemo(()=>h.some(Y=>c.find(A=>A.id===Y)?.role==="keeper"),[h,c]),ae=le.useMemo(()=>h.filter(Y=>{const A=c.find(F=>F.id===Y);return A?.role==="bowler"||A?.role==="allrounder"}).length,[h,c]),J=Y=>E.find(A=>A.playerId===Y)||{playerId:Y},V=(Y,A)=>{k(F=>F.find(re=>re.playerId===Y)?F.map(re=>re.playerId===Y?{...re,...A}:re):[...F,{playerId:Y,...A}])},fe=Y=>{const A=E.find(F=>F.playerId===Y);return!!(A&&(A.batting!=="default"||A.bowling!=="default"))},se=()=>{const Y=[...B],A=[];let F=0;const de=he=>!(he.contract.isOverseas&&F>=4),re=he=>{A.push(he),he.contract.isOverseas&&F++;const We=Y.findIndex(X=>X.id===he.id);We!==-1&&Y.splice(We,1)},Ce=he=>{let We=100;return We-=he.fatigue*.5,We+=he.form*2,We+=he.fitness*.3,he.role==="batsman"&&(We+=(he.batting.technique+he.batting.power)/4),he.role==="bowler"&&(We+=(he.bowling.accuracy+he.bowling.variation)/4),he.role==="allrounder"&&(We+=(he.batting.technique+he.bowling.accuracy)/4),he.role==="keeper"&&(We+=(he.batting.technique+he.fielding.catching)/4),We};Y.sort((he,We)=>Ce(We)-Ce(he));const Ae=Y.filter(he=>he.role==="keeper"&&de(he));Ae.length>0&&(Ae.sort((he,We)=>Ce(We)-Ce(he)),re(Ae[0]));const ye=Y.filter(he=>he.role==="bowler"&&de(he));ye.sort((he,We)=>Ce(We)-Ce(he));let lt=0;for(const he of ye){if(lt>=4)break;de(he)&&(re(he),lt++)}const ot=Y.filter(he=>he.role==="allrounder"&&de(he));ot.sort((he,We)=>Ce(We)-Ce(he));let Zt=0;for(const he of ot){if(Zt>=2)break;de(he)&&(re(he),Zt++)}const Ie=Y.filter(he=>he.role==="batsman"&&de(he));Ie.sort((he,We)=>Ce(We)-Ce(he));for(const he of Ie){if(A.length>=11)break;de(he)&&re(he)}for(const he of Y){if(A.length>=11)break;de(he)&&re(he)}const xt=[],qt=A.filter(he=>he.role==="batsman"),Wt=A.filter(he=>he.role==="keeper"),Ut=A.filter(he=>he.role==="allrounder"),ca=A.filter(he=>he.role==="bowler");xt.push(...qt.slice(0,3)),xt.push(...Wt),xt.push(...qt.slice(3)),xt.push(...Ut),xt.push(...ca),v(xt.map(he=>he.id))},z=Y=>{const A=c.find(F=>F.id===Y);if(A)if(h.includes(Y))v(h.filter(F=>F!==Y));else{if(h.length>=11||A.contract.isOverseas&&ue>=4)return;v([...h,Y])}},P=(Y,A)=>{const F=h.indexOf(Y);if(F===-1)return;const de=[...h],re=A==="up"?F-1:F+1;re<0||re>=h.length||([de[F],de[re]]=[de[re],de[F]],v(de))},te=()=>{if(!_||h.length!==11)return;const Y=h.map(Ae=>c.find(ye=>ye.id===Ae)).filter(Boolean),A=Y.reduce((Ae,ye)=>ye.personality.leadership>(Ae?.personality.leadership||0)?ye:Ae),F=Y.find(Ae=>Ae.role==="keeper"),de=Y.filter(Ae=>Ae.role==="bowler"||Ae.role==="allrounder"),re=de.filter(Ae=>Ae.bowlingStyle?.includes("fast")||Ae.bowlingStyle?.includes("medium")),Ce={playingXI:h,captain:A?.id||h[0],wicketkeeper:F?.id||h[0],battingApproach:p,bowlingPlan:{openingBowlers:[re[0]?.id||de[0]?.id||h[0],re[1]?.id||de[1]?.id||h[1]],deathBowler:re[0]?.id||de[0]?.id||h[0],spinStrategy:"middle",bowlingApproach:w},playerInstructions:E.filter(Ae=>h.includes(Ae.playerId))};f(_.id,d,Ce),b("match-live")};if(!_||!ne||!G)return l.jsx("div",{className:"min-h-screen bg-gray-900 text-white flex items-center justify-center",children:l.jsx("p",{children:"No match selected"})});const ge=[];return h.length>0&&!C&&ge.push("No wicketkeeper selected"),h.length>0&&ae<5&&ge.push(`Only ${ae} bowling options`),h.forEach(Y=>{const A=c.find(F=>F.id===Y);A&&A.fatigue>70&&ge.push(`${A.shortName} is fatigued (${A.fatigue}%)`),A&&A.form<-8&&ge.push(`${A.shortName} is in poor form (${A.form})`)}),l.jsxs("div",{className:"min-h-screen bg-gray-900 text-white pb-24",children:[l.jsx("header",{className:"bg-gray-800 p-4 border-b border-gray-700 sticky top-0 z-20",children:l.jsxs("div",{className:"max-w-lg mx-auto",children:[l.jsxs("div",{className:"flex justify-between items-center mb-2",children:[l.jsx("button",{onClick:()=>b("home"),className:"text-blue-400",children:" Back"}),l.jsxs("span",{className:"text-sm text-gray-400",children:["vs ",G.shortName]})]}),l.jsx("div",{className:"flex gap-2",children:["select","tactics","review"].map((Y,A)=>l.jsxs("button",{onClick:()=>Y==="select"||Y==="tactics"&&h.length===11?g(Y):null,className:`flex-1 py-2 px-3 rounded-lg text-sm font-medium transition-colors
                  ${x===Y?"bg-blue-600 text-white":"bg-gray-700 text-gray-400"}
                  ${Y!=="select"&&h.length<11?"opacity-50 cursor-not-allowed":""}`,children:[A+1,". ",Y.charAt(0).toUpperCase()+Y.slice(1)]},Y))})]})}),l.jsxs("div",{className:"max-w-lg mx-auto p-4",children:[x==="select"&&l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{className:"flex justify-between items-center",children:[l.jsxs("h2",{className:"text-lg font-semibold",children:["Playing XI (",h.length,"/11)"]}),l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("button",{onClick:se,className:"text-sm bg-gray-700 hover:bg-gray-600 px-3 py-1 rounded-lg transition-colors",children:"Auto-Select"}),l.jsxs("span",{className:`text-sm ${ue>4?"text-red-400":"text-gray-400"}`,children:["Overseas: ",ue,"/4"]})]})]}),h.length>0&&l.jsxs("div",{className:"bg-gray-800 rounded-xl p-3 border border-gray-700",children:[l.jsx("h3",{className:"text-sm text-gray-400 mb-2",children:"Batting Order (tap player for instructions)"}),l.jsx("div",{className:"space-y-2",children:h.map((Y,A)=>{const F=c.find(ye=>ye.id===Y);if(!F)return null;const de=F.role==="bowler"||F.role==="allrounder",re=J(Y),Ce=fe(Y),Ae=O===Y;return l.jsxs("div",{className:"space-y-1",children:[l.jsxs("div",{className:`flex items-center gap-2 p-2 rounded-lg cursor-pointer transition-colors
                            ${Ae?"bg-blue-900/50 border border-blue-700":"bg-gray-700/50 hover:bg-gray-700"}`,onClick:()=>W(Ae?null:Y),children:[l.jsxs("span",{className:"text-gray-500 w-6",children:[A+1,"."]}),l.jsxs("span",{className:"flex-1",children:[F.shortName,Ce&&l.jsx("span",{className:"ml-2 text-xs text-blue-400",children:"*"})]}),l.jsxs("div",{className:"flex gap-1",onClick:ye=>ye.stopPropagation(),children:[l.jsx("button",{onClick:()=>P(Y,"up"),className:"px-2 py-1 text-xs bg-gray-600 rounded hover:bg-gray-500",disabled:A===0,children:""}),l.jsx("button",{onClick:()=>P(Y,"down"),className:"px-2 py-1 text-xs bg-gray-600 rounded hover:bg-gray-500",disabled:A===h.length-1,children:""}),l.jsx("button",{onClick:()=>z(Y),className:"px-2 py-1 text-xs bg-red-600 rounded hover:bg-red-500",children:""})]})]}),Ae&&l.jsxs("div",{className:"ml-6 p-3 bg-gray-900 rounded-lg border border-gray-700 space-y-3",children:[l.jsxs("div",{children:[l.jsx("label",{className:"text-xs text-gray-400 block mb-1",children:"Batting"}),l.jsx("div",{className:"flex flex-wrap gap-1",children:ib.map(ye=>l.jsx("button",{onClick:()=>V(Y,{batting:ye.value}),className:`px-2 py-1 text-xs rounded transition-colors
                                      ${(re.batting||"default")===ye.value?"bg-blue-600 text-white":"bg-gray-700 text-gray-300 hover:bg-gray-600"}`,children:ye.label},ye.value))})]}),de&&l.jsxs("div",{children:[l.jsx("label",{className:"text-xs text-gray-400 block mb-1",children:"Bowling"}),l.jsx("div",{className:"flex flex-wrap gap-1",children:rb.map(ye=>l.jsx("button",{onClick:()=>V(Y,{bowling:ye.value}),className:`px-2 py-1 text-xs rounded transition-colors
                                        ${(re.bowling||"default")===ye.value?"bg-blue-600 text-white":"bg-gray-700 text-gray-300 hover:bg-gray-600"}`,children:ye.label},ye.value))})]})]})]},Y)})})]}),ge.length>0&&l.jsxs("div",{className:"bg-yellow-900/20 border border-yellow-700 rounded-lg p-3",children:[l.jsx("h3",{className:"text-sm font-semibold text-yellow-400 mb-2",children:"Warnings"}),l.jsx("ul",{className:"text-sm text-yellow-300 space-y-1",children:ge.map((Y,A)=>l.jsxs("li",{children:[" ",Y]},A))})]}),l.jsxs("div",{children:[l.jsx("h3",{className:"text-sm text-gray-400 mb-2",children:"Available Players"}),l.jsx("div",{className:"space-y-2",children:B.filter(Y=>!h.includes(Y.id)).map(Y=>l.jsx(xo,{player:Y,onClick:()=>z(Y.id),compact:!0,selected:!1},Y.id))})]}),h.length===11&&l.jsx("button",{onClick:()=>g("tactics"),className:"w-full bg-blue-600 hover:bg-blue-700 text-white py-3 rounded-lg font-medium",children:"Continue to Tactics "})]}),x==="tactics"&&l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{className:"flex gap-2 bg-gray-800 rounded-lg p-1",children:[l.jsx("button",{onClick:()=>S("batting"),className:`flex-1 py-2 rounded-lg text-sm font-medium transition-colors
                  ${N==="batting"?"bg-blue-600 text-white":"text-gray-400 hover:text-white"}`,children:"Batting Tactics"}),l.jsx("button",{onClick:()=>S("bowling"),className:`flex-1 py-2 rounded-lg text-sm font-medium transition-colors
                  ${N==="bowling"?"bg-purple-600 text-white":"text-gray-400 hover:text-white"}`,children:"Bowling Tactics"})]}),N==="batting"&&l.jsxs(l.Fragment,{children:[l.jsx("h2",{className:"text-lg font-semibold",children:"Batting Approach"}),["powerplay","middle","death"].map(Y=>l.jsxs("div",{className:"bg-gray-800 rounded-xl p-4 border border-gray-700",children:[l.jsx("h3",{className:"text-sm text-gray-400 mb-3 capitalize",children:Y==="powerplay"?"Powerplay (1-6)":Y==="middle"?"Middle Overs (7-15)":"Death (16-20)"}),l.jsx("div",{className:"flex gap-2",children:["aggressive","balanced","cautious"].map(A=>l.jsx("button",{onClick:()=>T({...p,[Y]:A}),className:`flex-1 py-2 px-3 rounded-lg text-sm font-medium transition-colors
                            ${p[Y]===A?"bg-blue-600 text-white":"bg-gray-700 text-gray-400 hover:bg-gray-600"}`,children:A.charAt(0).toUpperCase()+A.slice(1)},A))})]},Y))]}),N==="bowling"&&l.jsxs(l.Fragment,{children:[l.jsx("h2",{className:"text-lg font-semibold",children:"Bowling Tactics"}),["powerplay","middle","death"].map(Y=>l.jsxs("div",{className:"bg-gray-800 rounded-xl p-4 border border-gray-700",children:[l.jsx("h3",{className:"text-sm text-gray-400 mb-3",children:Y==="powerplay"?"Powerplay (1-6)":Y==="middle"?"Middle Overs (7-15)":"Death (16-20)"}),l.jsxs("div",{className:"mb-3",children:[l.jsx("label",{className:"text-xs text-gray-500 mb-1 block",children:"Bowling Length"}),l.jsx("div",{className:"flex gap-1",children:cb.map(A=>l.jsx("button",{onClick:()=>j({...w,[Y]:{...w[Y],length:A.value}}),className:`flex-1 py-2 px-1 rounded-lg text-xs font-medium transition-colors
                              ${w[Y].length===A.value?"bg-purple-600 text-white":"bg-gray-700 text-gray-400 hover:bg-gray-600"}`,children:A.label},A.value))})]}),l.jsxs("div",{children:[l.jsx("label",{className:"text-xs text-gray-500 mb-1 block",children:"Field Setting"}),l.jsx("div",{className:"flex gap-1",children:ob.map(A=>l.jsx("button",{onClick:()=>j({...w,[Y]:{...w[Y],field:A.value}}),className:`flex-1 py-2 px-1 rounded-lg text-xs font-medium transition-colors
                              ${w[Y].field===A.value?"bg-green-600 text-white":"bg-gray-700 text-gray-400 hover:bg-gray-600"}`,children:A.label},A.value))})]})]},Y))]}),l.jsxs("div",{className:"flex gap-2",children:[l.jsx("button",{onClick:()=>g("select"),className:"flex-1 bg-gray-700 hover:bg-gray-600 text-white py-3 rounded-lg font-medium",children:" Back"}),l.jsx("button",{onClick:te,className:"flex-1 bg-green-600 hover:bg-green-700 text-white py-3 rounded-lg font-medium",children:"Start Match"})]})]})]})]})};function At(i){return Math.max(0,Math.min(100,Math.round(i)))}function db(i){return Math.max(-20,Math.min(20,Math.round(i)))}function H0(i){return{id:i.id,name:i.name,short_name:i.shortName,role:i.role,playing_role:i.playingRole??null,batting_style:i.battingStyle,bowling_style:i.bowlingStyle??null,batting:{technique:At(i.batting.technique),power:At(i.batting.power),timing:At(i.batting.timing),temperament:At(i.batting.temperament)},bowling:{speed:At(i.bowling.speed),accuracy:At(i.bowling.accuracy),variation:At(i.bowling.variation),stamina:At(i.bowling.stamina)},fielding:{catching:At(i.fielding.catching),ground:At(i.fielding.ground),throwing:At(i.fielding.throwing),athleticism:At(i.fielding.athleticism)},form:db(i.form),fitness:At(i.fitness),morale:At(i.morale),fatigue:At(i.fatigue),personality:i.personality?{temperament:i.personality.temperament,professionalism:At(i.personality.professionalism),ambition:At(i.personality.ambition),leadership:At(i.personality.leadership)}:null}}function mb(i){const d={};i.batterStats.forEach((f,b)=>{d[b]={runs:Math.floor(f.runs),balls:Math.floor(f.balls),fours:Math.floor(f.fours),sixes:Math.floor(f.sixes)}});const o={};i.bowlerStats.forEach((f,b)=>{o[b]={overs:Math.floor(f.overs),runs:Math.floor(f.runs),wickets:Math.floor(f.wickets),dots:Math.floor(f.dots)}});const c=Math.floor(i.overs),m=Math.round((i.overs-c)*10);return{batting_team:i.battingTeam,bowling_team:i.bowlingTeam,runs:Math.floor(i.runs),wickets:Math.floor(i.wickets),overs:c,balls:Math.min(5,Math.max(0,m)),current_batters:i.currentBatters,current_bowler:i.currentBowler,over_summaries:i.overSummaries.map(fb),fall_of_wickets:i.fallOfWickets.map(f=>({player:f.player,runs:Math.floor(f.runs),overs:f.overs})),batter_stats:d,bowler_stats:o,recent_balls:[]}}function fb(i){return{over_number:i.overNumber,bowler:i.bowler,runs:i.runs,wickets:i.wickets,balls:i.balls.map(hb)}}function hb(i){return{over:i.over,ball:i.ball,batter:i.batter,bowler:i.bowler,outcome:gb(i.outcome),narrative:i.narrative}}function gb(i){return i.type==="runs"?{type:"runs",runs:i.runs,boundary_saved:!1}:i.type==="wicket"?{type:"wicket",dismissal_type:i.dismissal,runs:i.runs}:{type:"extra",extra_type:i.extraType,runs:i.runs}}function xb(i,d){return{approach:i.battingApproach[d],striker_instruction:"default"}}function bb(i,d){return{length:i,field_setting:d}}function yb(i){return{pace:i.pace,spin:i.spin,bounce:i.bounce,deterioration:i.deterioration}}function pb(i){return i.type==="runs"?{type:"runs",runs:i.runs}:i.type==="wicket"?{type:"wicket",dismissal:i.dismissal_type,runs:i.runs??0}:{type:"extra",extraType:i.extra_type,runs:i.runs}}function vb(i){return{over:i.over,ball:i.ball,batter:i.batter,bowler:i.bowler,outcome:pb(i.outcome),narrative:i.narrative}}function af(i){return{overNumber:i.over_number,bowler:i.bowler,runs:i.runs,wickets:i.wickets,balls:i.balls.map(vb)}}function Nb(i){const d=new Map;Object.entries(i.batter_stats).forEach(([c,m])=>{d.set(c,{runs:m.runs,balls:m.balls,fours:m.fours,sixes:m.sixes})});const o=new Map;return Object.entries(i.bowler_stats).forEach(([c,m])=>{o.set(c,{overs:m.overs,runs:m.runs,wickets:m.wickets,dots:m.dots})}),{battingTeam:i.batting_team,bowlingTeam:i.bowling_team,runs:i.runs,wickets:i.wickets,overs:i.overs+i.balls/10,balls:i.balls,currentBatters:i.current_batters,currentBowler:i.current_bowler,overSummaries:i.over_summaries.map(af),fallOfWickets:i.fall_of_wickets.map(c=>({player:c.player,runs:c.runs,overs:c.overs})),batterStats:d,bowlerStats:o}}function jb(i){return{overSummary:af(i.over_summary),updatedInnings:Nb(i.updated_innings_state),inningsComplete:i.innings_complete,narratives:i.narratives,recommendedNextBowler:i.recommended_next_bowler??null}}async function Sb(i){const{battingTeam:d,bowlingTeam:o,bowler:c,inningsState:m,tactics:f,pitch:b,target:x,bowlingLength:g,fieldSetting:h}=i,v=wo(Math.floor(m.overs));try{const E={innings_state:mb(m),batting_team:d.map(H0),bowling_team:o.map(H0),bowler_id:c.id,batting_tactics:xb(f,v),bowling_tactics:bb(g??f.bowlingPlan.bowlingApproach[v].length,h??f.bowlingPlan.bowlingApproach[v].field),pitch_conditions:yb(b),target:x},k=await Sx("/api/v1/match/simulate/over",E);if(k.ok){const O=jb(k.data);return{overSummary:O.overSummary,updatedInnings:O.updatedInnings,inningsComplete:O.inningsComplete,narratives:O.narratives,recommendedNextBowler:O.recommendedNextBowler,usedBackend:!0}}console.warn("Backend simulation failed, using client fallback:",k.error)}catch(E){console.warn("Backend simulation error, using client fallback:",E)}const{overSummary:p,updatedInnings:T}=To(d,c,m,f,b,x),w=T.wickets>=10||Math.floor(T.overs)>=20||x!==null&&T.runs>=x,j=c.id,N=o.filter(E=>E.role==="bowler"||E.role==="allrounder"),S=fo(N,T,j);return{overSummary:p,updatedInnings:T,inningsComplete:w,narratives:p.balls.map(E=>E.narrative),recommendedNextBowler:S?.id??null,usedBackend:!1}}const wb=[{value:"good-length",label:"Good"},{value:"short",label:"Short"},{value:"yorkers",label:"Yorker"},{value:"full-pitched",label:"Full"}],Tb=[{value:"attacking",label:"Attack"},{value:"balanced",label:"Balance"},{value:"defensive",label:"Defend"},{value:"death-field",label:"Death"}],Mb=i=>({...i,batterStats:Object.fromEntries(i.batterStats),bowlerStats:Object.fromEntries(i.bowlerStats)}),Eb=i=>({...i,batterStats:new Map(Object.entries(i.batterStats)),bowlerStats:new Map(Object.entries(i.bowlerStats))}),Ab=()=>{const{selectedMatchId:i,playerTeamId:d,teams:o,players:c,fixtures:m,updateMatch:f,updatePointsTable:b,pointsTable:x,navigateTo:g,updatePlayerState:h,simulateBackgroundMatches:v,advanceToNextMatch:p,progressPlayoffs:T,checkAndStartPlayoffs:w,generatePostMatchEvent:j,activeEvents:N,liveMatchState:S,saveLiveMatchState:E,clearLiveMatchState:k}=Ze(),[O,W]=le.useState(!1),[_,ne]=le.useState(1),[B,G]=le.useState(null),[ue,C]=le.useState(null),[ae,J]=le.useState(!1),[V,fe]=le.useState(0),[se,z]=le.useState(null),[P,te]=le.useState([]),[ge,Y]=le.useState(!1),[A,F]=le.useState("over"),[de,re]=le.useState(!1),[Ce,Ae]=le.useState(!1),[ye,lt]=le.useState("balanced"),[ot,Zt]=le.useState("balanced"),[Ie,xt]=le.useState(null),[qt,Wt]=le.useState(null),[Ut,ca]=le.useState(null),[he,We]=le.useState(!1),X=m.find(I=>I.id===i);le.useEffect(()=>{X&&X.status==="completed"&&!ae&&g("home")},[X?.status]);const Ca=o.find(I=>I.id===X?.homeTeam),Oa=o.find(I=>I.id===X?.awayTeam),Ht=c.filter(I=>Ca?.squad.includes(I.id)),ve=c.filter(I=>Oa?.squad.includes(I.id)),Oe=d===X?.homeTeam,Ee=Oe?X?.homeTactics:X?.awayTactics,Jl=Oe?X?.awayTactics:X?.homeTactics,bt=le.useCallback(I=>{const xe=o.find(Ne=>Ne.id===I),Me=c.filter(Ne=>xe?.squad.includes(Ne.id));return mo(Me,xe?.captain||"")},[o,c]),Ma=le.useRef(!1);le.useEffect(()=>{if(!X||!Ee||Ma.current)return;if(S&&S.matchId===X.id){const Se=Eb(S.inningsState);G(Se),ne(S.currentInnings),fe(S.firstInningsTotal),te(S.recentBalls),Ma.current=!0,f(X.id,{status:"in_progress"});return}if(!Jl){const Se=Oe?X.awayTeam:X.homeTeam,Ge=bt(Se);Oe?f(X.id,{awayTactics:Ge}):f(X.id,{homeTactics:Ge})}const I=Math.random()<.5?X.homeTeam:X.awayTeam,xe=Math.random()<.6?"bat":"bowl",Me=I===X.homeTeam&&xe==="bat"||I===X.awayTeam&&xe==="bowl"?X.homeTeam:X.awayTeam,Ne=Me===X.homeTeam?X.homeTactics||bt(X.homeTeam):X.awayTactics||bt(X.awayTeam),oe={battingTeam:Me,bowlingTeam:Me===X.homeTeam?X.awayTeam:X.homeTeam,runs:0,wickets:0,overs:0,balls:0,currentBatters:[Ne.playingXI[0],Ne.playingXI[1]],currentBowler:"",overSummaries:[],fallOfWickets:[],batterStats:new Map,bowlerStats:new Map};G(oe),ne(1),Ma.current=!0,f(X.id,{status:"in_progress",tossWinner:I,tossDecision:xe,currentInnings:1})},[X?.id]),le.useEffect(()=>{!X||!B||ae||E({matchId:X.id,currentInnings:_,inningsState:Mb(B),firstInningsTotal:V,recentBalls:P})},[B,_,V,P,X?.id,ae]);const Al=le.useCallback(async()=>{if(!X||!B||ae||de)return;re(!0);const I=B.battingTeam,xe=B.bowlingTeam,Me=I===X.homeTeam?Ht:ve,Ne=xe===X.homeTeam?Ht:ve,oe=I===X.homeTeam?X.homeTactics||bt(X.homeTeam):X.awayTactics||bt(X.awayTeam),Se=xe===X.homeTeam?X.homeTactics||bt(X.homeTeam):X.awayTactics||bt(X.awayTeam),Ge=4,H=Ne.filter(Te=>(Te.role==="bowler"||Te.role==="allrounder")&&Se.playingXI.includes(Te.id)),$=Te=>B.bowlerStats instanceof Map?B.bowlerStats.get(Te)?.overs??0:0,ie=B.overSummaries.at(-1)?.bowler;let ce;if(Ie&&xe===d){const Te=$(Ie);Ie!==ie&&Te<Ge&&(ce=H.find($e=>$e.id===Ie)),xt(null)}if(ce||(ce=fo(H,B,ie,Ge),ce||(ce=H.filter(Fe=>$(Fe.id)<Ge)[0]||H[0])),!ce){re(!1);return}const me=_===2?V+1:null,Ue=oe.playingXI.map(Te=>Me.find(Fe=>Fe.id===Te)).filter(Te=>Te!==void 0);let Xe,Ye;try{const Te=await Sb({battingTeam:Ue,bowlingTeam:Ne.filter(Fe=>Se.playingXI.includes(Fe.id)),bowler:ce,inningsState:B,tactics:oe,pitch:X.pitch,target:me,bowlingLength:qt??void 0,fieldSetting:Ut??void 0});Xe=Te.overSummary,Ye=Te.updatedInnings}catch(Te){console.warn("Backend simulation failed, using client:",Te);const Fe=To(Ue,ce,B,oe,X.pitch,me);Xe=Fe.overSummary,Ye=Fe.updatedInnings}if(re(!1),C(Xe),G(Ye),Ye.overs>=20||Ye.wickets>=10||_===2&&Ye.runs>=V+1)if(_===1){fe(Ye.runs),ne(2);const Te=xe,Fe=I,$e=Te===X.homeTeam?X.homeTactics||bt(X.homeTeam):X.awayTactics||bt(X.awayTeam);G({battingTeam:Te,bowlingTeam:Fe,runs:0,wickets:0,overs:0,balls:0,currentBatters:[$e.playingXI[0],$e.playingXI[1]],currentBowler:"",overSummaries:[],fallOfWickets:[],batterStats:new Map,bowlerStats:new Map}),f(X.id,{currentInnings:2,innings1:Ye})}else{J(!0),W(!1),k();const Te=o.find(He=>He.id===X.innings1?.battingTeam),Fe=o.find(He=>He.id===Ye.battingTeam);let $e,mt;if(Ye.runs>=V+1?($e=Fe,mt=`${10-Ye.wickets} wickets`):Ye.runs<V?($e=Te,mt=`${V-Ye.runs} runs`):($e=void 0,mt="Tie"),z({winner:$e?.name||"Tie",margin:$e?mt:"Match Tied"}),X.matchType==="league"){const He=[...x],pt=X.innings1,vt=Ye,Rt=pt?.battingTeam||B.bowlingTeam,Yt=V,Lt=20,ea=vt.runs,Mt=Math.min(20,vt.overs+(vt.balls>0?vt.balls/6:0));vt.battingTeam;const Hs=vt.runs,Da=Math.min(20,vt.overs+(vt.balls>0?vt.balls/6:0)),ll=V,sl=20,_a=Mt>0?Yt/Lt-ea/Mt:0,ft=Da>0&&sl>0?Hs/Da-ll/sl:0,va=He.find(Xt=>Xt.teamId===$e?.id),Na=He.find(Xt=>Xt.teamId===($e?.id===X.homeTeam?X.awayTeam:X.homeTeam));if(va){va.played+=1,va.won+=1,va.points+=2;const Xt=$e?.id===Rt?_a:ft;va.netRunRate=Math.round((va.netRunRate*(va.played-1)+Xt)/va.played*1e3)/1e3}if(Na){Na.played+=1,Na.lost+=1;const Xt=Na.teamId===Rt?_a:ft;Na.netRunRate=Math.round((Na.netRunRate*(Na.played-1)+Xt)/Na.played*1e3)/1e3}b(He)}f(X.id,{status:"completed",innings2:Ye});const Bt=He=>He?He instanceof Map?Array.from(He):Object.entries(He):[],Us={batterStats:new Map([...Bt(X.innings1?.batterStats),...Bt(Ye.batterStats)]),bowlerStats:new Map([...Bt(X.innings1?.bowlerStats),...Bt(Ye.bowlerStats)])};[...X.homeTactics?.playingXI||[],...X.awayTactics?.playingXI||[]].forEach(He=>{const pt=c.find(ea=>ea.id===He);if(!pt)return;let vt=5;const Rt=Us.batterStats.get(He);Rt&&Rt.balls>0&&(vt+=Math.min(5,Math.floor(Rt.balls/10)));const Yt=Us.bowlerStats.get(He);Yt&&Yt.overs>0&&(vt+=Math.min(8,Yt.overs*2));let Lt=0;if(Rt&&Rt.balls>0){const ea=Rt.runs/Rt.balls*100,Mt=Rt.runs;Mt>=50?Lt+=5:Mt>=30?Lt+=3:Mt>=15&&ea>=130?Lt+=2:Mt<10&&Rt.balls>=10?Lt-=2:Mt===0&&Rt.balls>=5&&(Lt-=3)}if(Yt&&Yt.overs>0){const ea=Yt.runs/Yt.overs,Mt=Yt.wickets;Mt>=3?Lt+=5:Mt>=2?Lt+=3:Mt>=1&&ea<8?Lt+=2:ea<7&&Yt.overs>=2?Lt+=1:ea>10&&Yt.overs>=2?Lt-=2:ea>12&&Yt.overs>=2&&(Lt-=3)}h(He,{fatigue:Math.min(100,pt.fatigue+vt),form:Math.max(-20,Math.min(20,pt.form+Lt))})})}},[X,B,_,V,ae,Ht,ve,Ie,d,de,qt,Ut]),al=le.useCallback(()=>{if(!X||!B||ae||ge)return;const I=B.battingTeam,xe=B.bowlingTeam,Me=I===X.homeTeam?Ht:ve,Ne=xe===X.homeTeam?Ht:ve,oe=I===X.homeTeam?X.homeTactics||bt(X.homeTeam):X.awayTactics||bt(X.awayTeam),Se=xe===X.homeTeam?X.homeTactics||bt(X.homeTeam):X.awayTactics||bt(X.awayTeam),Ge=4,H=Ne.filter(Te=>(Te.role==="bowler"||Te.role==="allrounder")&&Se.playingXI.includes(Te.id)),$=Te=>B.bowlerStats instanceof Map?B.bowlerStats.get(Te)?.overs??0:0;let ie=B.currentBowler?H.find(Te=>Te.id===B.currentBowler):null;if(B.balls===0||!ie){const Te=B.overSummaries.at(-1)?.bowler;if(Ie&&xe===d){const Fe=$(Ie);Ie!==Te&&Fe<Ge&&(ie=H.find(mt=>mt.id===Ie)),xt(null)}ie||(ie=fo(H,B,Te,Ge),ie||(ie=H.filter($e=>$($e.id)<Ge)[0]||H[0]))}if(!ie)return;const ce=_===2?V+1:null,me=oe.playingXI.map(Te=>Me.find(Fe=>Fe.id===Te)).filter(Te=>Te!==void 0),{ballEvent:Ue,updatedInnings:Xe,newBatsmanNeeded:Ye,inningsComplete:oa}=Dx(me,ie,B,oe,X.pitch,ce);if(te(Te=>[...Te.slice(-11),Ue]),G(Xe),Ye&&Xe.battingTeam===d&&(Y(!0),W(!1)),oa)if(_===1){fe(Xe.runs),ne(2),te([]);const Te=xe,Fe=Te===X.homeTeam?X.homeTactics||bt(X.homeTeam):X.awayTactics||bt(X.awayTeam);G({battingTeam:Te,bowlingTeam:I,runs:0,wickets:0,overs:0,balls:0,currentBatters:[Fe.playingXI[0],Fe.playingXI[1]],currentBowler:"",overSummaries:[],fallOfWickets:[],batterStats:new Map,bowlerStats:new Map}),f(X.id,{currentInnings:2,innings1:Xe})}else Wl(Xe);return{newBatsmanNeeded:Ye,inningsComplete:oa}},[X,B,_,V,ae,ge,Ht,ve,Ie,d]);le.useCallback(()=>{!X||!B||ae||(W(!0),F("wicket"))},[X,B,ae]);const Wl=le.useCallback(I=>{if(!X)return;J(!0),W(!1),k();const xe=o.find(Se=>Se.id===X.innings1?.battingTeam),Me=o.find(Se=>Se.id===I.battingTeam);let Ne,oe;if(I.runs>=V+1?(Ne=Me,oe=`${10-I.wickets} wickets`):I.runs<V?(Ne=xe,oe=`${V-I.runs} runs`):(Ne=void 0,oe="Tie"),z({winner:Ne?.name||"Tie",margin:Ne?oe:"Match Tied"}),X.matchType==="league"){const Se=[...x],H=X.innings1?.battingTeam||B?.bowlingTeam;I.battingTeam;const $=V,ie=20,ce=I.runs,me=Math.min(20,I.overs+(I.balls>0?I.balls/6:0)),Ue=I.runs,Xe=Math.min(20,I.overs+(I.balls>0?I.balls/6:0)),Ye=V,oa=20,Te=me>0?$/ie-ce/me:0,Fe=Xe>0&&oa>0?Ue/Xe-Ye/oa:0,$e=Se.find(Bt=>Bt.teamId===Ne?.id),mt=Se.find(Bt=>Bt.teamId===(Ne?.id===X.homeTeam?X.awayTeam:X.homeTeam));if($e){$e.played+=1,$e.won+=1,$e.points+=2;const Bt=Ne?.id===H?Te:Fe;$e.netRunRate=Math.round(($e.netRunRate*($e.played-1)+Bt)/$e.played*1e3)/1e3}if(mt){mt.played+=1,mt.lost+=1;const Bt=mt.teamId===H?Te:Fe;mt.netRunRate=Math.round((mt.netRunRate*(mt.played-1)+Bt)/mt.played*1e3)/1e3}b(Se)}f(X.id,{status:"completed",innings2:I}),qs(I)},[X,V,x,o,B]),qs=le.useCallback(I=>{if(!X)return;const xe=oe=>oe?oe instanceof Map?Array.from(oe):Object.entries(oe):[],Me={batterStats:new Map([...xe(X.innings1?.batterStats),...xe(I.batterStats)]),bowlerStats:new Map([...xe(X.innings1?.bowlerStats),...xe(I.bowlerStats)])};[...X.homeTactics?.playingXI||[],...X.awayTactics?.playingXI||[]].forEach(oe=>{const Se=c.find(ce=>ce.id===oe);if(!Se)return;let Ge=5;const H=Me.batterStats.get(oe);H&&H.balls>0&&(Ge+=Math.min(5,Math.floor(H.balls/10)));const $=Me.bowlerStats.get(oe);$&&$.overs>0&&(Ge+=Math.min(8,$.overs*2));let ie=0;if(H&&H.balls>0){const ce=H.runs/H.balls*100,me=H.runs;me>=50?ie+=5:me>=30?ie+=3:me>=15&&ce>=130?ie+=2:me<10&&H.balls>=10?ie-=2:me===0&&H.balls>=5&&(ie-=3)}if($&&$.overs>0){const ce=$.runs/$.overs,me=$.wickets;me>=3?ie+=5:me>=2?ie+=3:me>=1&&ce<8?ie+=2:ce<7&&$.overs>=2?ie+=1:ce>10&&$.overs>=2?ie-=2:ce>12&&$.overs>=2&&(ie-=3)}h(oe,{fatigue:Math.min(100,Se.fatigue+Ge),form:Math.max(-20,Math.min(20,Se.form+ie))})})},[X,c,h]);if(le.useEffect(()=>{if(!O||ae||ge)return;const I=setTimeout(()=>{if(A==="auto"||A==="over")Al();else if(A==="ball"||A==="wicket"){const xe=al();xe&&(xe.newBatsmanNeeded||xe.inningsComplete)&&A==="wicket"&&(W(!1),F("over"))}},A==="ball"?500:A==="wicket"?300:1500);return()=>clearTimeout(I)},[O,Al,al,ae,ge,A]),!X||!Ca||!Oa)return l.jsx("div",{className:"min-h-screen bg-gray-900 text-white flex items-center justify-center",children:l.jsx("p",{children:"Match not found"})});const ka=B?o.find(I=>I.id===B.battingTeam):null;B&&o.find(I=>I.id===B.bowlingTeam);const yt=B?c.find(I=>I.id===B.currentBatters[0]):null,Gt=B?c.find(I=>I.id===B.currentBatters[1]):null;return l.jsxs("div",{className:"min-h-screen bg-gray-900 text-white pb-24",children:[l.jsx("header",{className:"bg-gray-800 p-4 border-b border-gray-700",children:l.jsxs("div",{className:"max-w-lg mx-auto flex justify-between items-center",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("span",{className:"animate-pulse bg-red-600 text-xs px-2 py-1 rounded",children:"LIVE"}),l.jsxs("span",{className:"text-sm text-gray-400",children:[Ca.shortName," vs ",Oa.shortName]})]}),l.jsx("span",{className:"text-sm text-gray-400",children:_===1?"1st Innings":"2nd Innings"})]})}),l.jsxs("div",{className:"max-w-lg mx-auto p-4 space-y-4",children:[l.jsxs("div",{className:"bg-gray-800 rounded-xl p-4 border border-gray-700 text-center",children:[l.jsxs("h2",{className:"text-lg text-gray-400 mb-2",children:[ka?.name||"Team"," Batting"]}),l.jsxs("div",{className:"text-5xl font-bold mb-2",children:[B?.runs||0,"-",B?.wickets||0]}),l.jsxs("div",{className:"text-xl text-gray-400 mb-4",children:[Math.floor(B?.overs||0),".",(B?.balls||0)%6," overs"]}),_===2&&l.jsx("div",{className:"text-lg",children:B&&B.runs>=V+1?l.jsx("span",{className:"text-green-400",children:"Target reached!"}):l.jsxs("span",{className:"text-blue-400",children:["Need ",V+1-(B?.runs||0)," runs from"," ",120-(Math.floor(B?.overs||0)*6+(B?.balls||0))," balls"]})}),_===2&&l.jsxs("div",{className:"mt-2 text-sm text-gray-500",children:["Target: ",V+1]})]}),yt&&l.jsxs("div",{className:"bg-gray-800 rounded-xl p-4 border border-gray-700",children:[l.jsx("h3",{className:"text-sm text-gray-400 mb-3",children:"AT THE CREASE"}),l.jsxs("div",{className:"space-y-2",children:[(()=>{const I=B?.batterStats,xe=I instanceof Map?I.get(yt.id):void 0,Me=xe?.runs??0,Ne=xe?.balls??0,oe=xe?.fours??0,Se=xe?.sixes??0,Ge=Ne>0?(Me/Ne*100).toFixed(1):"0.0";return l.jsxs("div",{className:"flex justify-between items-center",children:[l.jsxs("span",{className:"font-medium",children:[yt.shortName,"*"]}),l.jsxs("div",{className:"text-right",children:[l.jsx("span",{className:"font-bold text-lg",children:Me}),l.jsxs("span",{className:"text-gray-400 text-sm",children:[" (",Ne,")"]}),l.jsxs("span",{className:"text-gray-500 text-xs ml-2",children:["SR: ",Ge]}),(oe>0||Se>0)&&l.jsxs("span",{className:"text-gray-500 text-xs ml-2",children:[oe>0&&l.jsxs("span",{className:"text-blue-400",children:[oe,"4"]}),oe>0&&Se>0&&" ",Se>0&&l.jsxs("span",{className:"text-green-400",children:[Se,"6"]})]})]})]})})(),Gt&&(()=>{const I=B?.batterStats,xe=I instanceof Map?I.get(Gt.id):void 0,Me=xe?.runs??0,Ne=xe?.balls??0,oe=xe?.fours??0,Se=xe?.sixes??0,Ge=Ne>0?(Me/Ne*100).toFixed(1):"0.0";return l.jsxs("div",{className:"flex justify-between items-center text-gray-400",children:[l.jsx("span",{children:Gt.shortName}),l.jsxs("div",{className:"text-right",children:[l.jsx("span",{className:"font-medium",children:Me}),l.jsxs("span",{className:"text-gray-500 text-sm",children:[" (",Ne,")"]}),l.jsxs("span",{className:"text-gray-600 text-xs ml-2",children:["SR: ",Ge]}),(oe>0||Se>0)&&l.jsxs("span",{className:"text-gray-600 text-xs ml-2",children:[oe>0&&l.jsxs("span",{className:"text-blue-400/70",children:[oe,"4"]}),oe>0&&Se>0&&" ",Se>0&&l.jsxs("span",{className:"text-green-400/70",children:[Se,"6"]})]})]})]})})()]})]}),B?.currentBowler&&(()=>{const I=c.find($=>$.id===B.currentBowler),xe=B.bowlerStats,Me=xe instanceof Map?xe.get(B.currentBowler):void 0;if(!I)return null;const Ne=Me?.overs??0,oe=Me?.runs??0,Se=Me?.wickets??0,Ge=Me?.dots??0,H=Ne>0?(oe/Ne).toFixed(2):"0.00";return l.jsx("div",{className:"bg-gray-800 rounded-xl p-3 border border-gray-700",children:l.jsxs("div",{className:"flex justify-between items-center",children:[l.jsxs("div",{children:[l.jsx("span",{className:"text-sm text-gray-400",children:"BOWLING: "}),l.jsx("span",{className:"font-medium",children:I.shortName})]}),l.jsxs("div",{className:"text-right",children:[l.jsxs("span",{className:"font-bold",children:[Se,"-",oe]}),l.jsxs("span",{className:"text-gray-400 text-sm",children:[" (",Ne,"/4 ov)"]}),l.jsxs("span",{className:"text-gray-500 text-xs ml-2",children:["Econ: ",H]}),l.jsxs("span",{className:"text-gray-500 text-xs ml-2",children:["Dots: ",Ge]})]})]})})})(),l.jsx("button",{onClick:()=>We(!he),className:"w-full py-2 bg-gray-800 rounded-lg text-sm text-gray-300 hover:bg-gray-700 border border-gray-700",children:he?"Hide Scorecard":"View Scorecard"}),he&&B&&(()=>{const I=B.battingTeam===X?.homeTeam?X?.homeTactics:X?.awayTactics,xe=B.bowlingTeam===X?.homeTeam?Ht:ve,Me=B.bowlingTeam===X?.homeTeam?X?.homeTactics:X?.awayTactics,Ne=I?.playingXI||[],oe=$=>{if(B.batterStats instanceof Map)return B.batterStats.get($);if(B.batterStats&&typeof B.batterStats=="object")return B.batterStats[$]},Se=B.fallOfWickets.map($=>$.player),Ge=$=>{if(B.bowlerStats instanceof Map)return B.bowlerStats.get($);if(B.bowlerStats&&typeof B.bowlerStats=="object")return B.bowlerStats[$]},H=xe.filter($=>($.role==="bowler"||$.role==="allrounder")&&Me?.playingXI.includes($.id));return l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{className:"bg-gray-800 rounded-xl p-4 border border-gray-700",children:[l.jsx("h3",{className:"text-sm font-semibold text-blue-400 mb-3",children:"BATTING"}),l.jsxs("div",{className:"space-y-2 text-sm",children:[l.jsxs("div",{className:"grid grid-cols-12 gap-1 text-xs text-gray-500 border-b border-gray-700 pb-1",children:[l.jsx("div",{className:"col-span-4",children:"Batter"}),l.jsx("div",{className:"col-span-2 text-right",children:"R"}),l.jsx("div",{className:"col-span-2 text-right",children:"B"}),l.jsx("div",{className:"col-span-2 text-right",children:"4s"}),l.jsx("div",{className:"col-span-2 text-right",children:"6s"})]}),Ne.map(($,ie)=>{const ce=c.find(Bt=>Bt.id===$),me=oe($),Ue=Se.includes($),Xe=B.currentBatters.includes($),Ye=$===B.currentBatters[0],oa=me||Xe||Ue,Te=me?.runs??0,Fe=me?.balls??0,$e=me?.fours??0,mt=me?.sixes??0;return l.jsxs("div",{className:`grid grid-cols-12 gap-1 ${oa?Ue?"text-gray-500":Xe?"text-white":"text-gray-400":"text-gray-600"}`,children:[l.jsxs("div",{className:"col-span-4 truncate",children:[ce?.shortName,Ye&&"*",Ue&&l.jsx("span",{className:"text-red-400 ml-1",children:""})]}),oa?l.jsxs(l.Fragment,{children:[l.jsx("div",{className:"col-span-2 text-right font-medium",children:Te}),l.jsx("div",{className:"col-span-2 text-right",children:Fe}),l.jsx("div",{className:"col-span-2 text-right text-blue-400",children:$e||"-"}),l.jsx("div",{className:"col-span-2 text-right text-green-400",children:mt||"-"})]}):l.jsx("div",{className:"col-span-8 text-right text-xs italic",children:"yet to bat"})]},$)}),l.jsxs("div",{className:"grid grid-cols-12 gap-1 text-gray-400 border-t border-gray-700 pt-1 mt-2",children:[l.jsx("div",{className:"col-span-4",children:"Extras"}),l.jsx("div",{className:"col-span-8 text-right",children:(()=>{let $=0;return Ne.forEach(ie=>{const ce=oe(ie);ce&&($+=ce.runs)}),B.runs-$})()})]}),l.jsxs("div",{className:"grid grid-cols-12 gap-1 font-bold border-t border-gray-700 pt-1",children:[l.jsx("div",{className:"col-span-4",children:"Total"}),l.jsxs("div",{className:"col-span-8 text-right",children:[B.runs,"/",B.wickets," (",B.overs," ov)"]})]})]})]}),l.jsxs("div",{className:"bg-gray-800 rounded-xl p-4 border border-gray-700",children:[l.jsx("h3",{className:"text-sm font-semibold text-purple-400 mb-3",children:"BOWLING"}),l.jsxs("div",{className:"space-y-2 text-sm",children:[l.jsxs("div",{className:"grid grid-cols-12 gap-1 text-xs text-gray-500 border-b border-gray-700 pb-1",children:[l.jsx("div",{className:"col-span-4",children:"Bowler"}),l.jsx("div",{className:"col-span-2 text-right",children:"O"}),l.jsx("div",{className:"col-span-2 text-right",children:"R"}),l.jsx("div",{className:"col-span-2 text-right",children:"W"}),l.jsx("div",{className:"col-span-2 text-right",children:"Econ"})]}),H.map($=>{const ie=Ge($.id);if(!ie||ie.overs===0)return null;const ce=ie.overs>0?(ie.runs/ie.overs).toFixed(1):"-",me=ie.overs>=4;return l.jsxs("div",{className:`grid grid-cols-12 gap-1 ${me?"text-gray-500":"text-gray-300"}`,children:[l.jsxs("div",{className:"col-span-4 truncate",children:[$.shortName,me&&l.jsx("span",{className:"text-xs text-red-400 ml-1",children:""})]}),l.jsx("div",{className:"col-span-2 text-right",children:ie.overs}),l.jsx("div",{className:"col-span-2 text-right",children:ie.runs}),l.jsx("div",{className:"col-span-2 text-right font-medium text-green-400",children:ie.wickets||"-"}),l.jsx("div",{className:"col-span-2 text-right",children:l.jsx("span",{className:parseFloat(ce)<6?"text-green-400":parseFloat(ce)>10?"text-red-400":"",children:ce})})]},$.id)})]})]})]})})(),l.jsxs("div",{className:"bg-gray-800 rounded-xl p-4 border border-gray-700 min-h-[120px]",children:[l.jsx("h3",{className:"text-sm text-gray-400 mb-3",children:P.length>0?l.jsxs(l.Fragment,{children:["THIS OVER  ",P.filter(I=>I.over===(B?.overs||0)).reduce((I,xe)=>I+(xe.outcome.runs||0),0)," runs"]}):ue?l.jsxs(l.Fragment,{children:["OVER ",ue.overNumber+1,"  ",ue.runs," runs, ",ue.wickets," wickets"]}):l.jsx(l.Fragment,{children:"WAITING FOR FIRST BALL"})}),l.jsx("div",{className:"flex gap-2 mb-3 flex-wrap min-h-[36px]",children:P.length>0?P.filter(I=>I.over===(B?.overs||0)).map((I,xe)=>{const Me=I.outcome.type==="wicket",Ne=I.outcome.type==="extra",oe=I.outcome.runs||0,Se=oe===0&&!Me&&!Ne;return l.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center text-sm font-bold ${Me?"bg-red-600 text-white":oe===6?"bg-green-600 text-white":oe===4?"bg-blue-600 text-white":Se?"bg-gray-600 text-gray-300":"bg-gray-700 text-white"}`,children:Me?"W":oe===0?"":oe},xe)}):ue?ue.balls.slice(-6).map((I,xe)=>{const Me=I.outcome.type==="wicket",Ne=I.outcome.runs||0;return l.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center text-sm font-bold ${Me?"bg-red-600 text-white":Ne===6?"bg-green-600 text-white":Ne===4?"bg-blue-600 text-white":Ne===0?"bg-gray-600 text-gray-300":"bg-gray-700 text-white"}`,children:Me?"W":Ne===0?"":Ne},xe)}):l.jsx("div",{className:"text-gray-500 text-sm",children:"Press Next Ball or Next Over to start"})}),P.length>0&&l.jsxs("div",{className:"text-sm border-t border-gray-700 pt-2 min-h-[24px]",children:[l.jsxs("span",{className:"text-gray-500",children:[P[P.length-1].over,".",P[P.length-1].ball]})," - ",l.jsx("span",{className:P[P.length-1].outcome.type==="wicket"?"text-red-400":P[P.length-1].outcome.runs===4||P[P.length-1].outcome.runs===6?"text-green-400":"text-gray-300",children:P[P.length-1].narrative})]})]}),!ae&&Ce&&l.jsxs("div",{className:"bg-gray-800 rounded-xl p-4 border border-blue-700",children:[l.jsxs("div",{className:"flex justify-between items-center mb-3",children:[l.jsx("h3",{className:"text-sm font-semibold text-blue-400",children:"TACTICAL ADJUSTMENTS"}),l.jsx("button",{onClick:()=>Ae(!1),className:"text-gray-400 hover:text-white text-sm",children:"Close"})]}),B?.battingTeam===d&&l.jsxs("div",{className:"mb-4",children:[l.jsx("h4",{className:"text-xs text-gray-400 mb-2",children:"BATTING APPROACH"}),l.jsxs("div",{className:"space-y-2",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("span",{className:"text-sm",children:[yt?.shortName,"* ",l.jsx("span",{className:"text-gray-500",children:"(striker)"})]}),l.jsx("div",{className:"flex gap-1",children:["aggressive","balanced","defensive"].map(I=>l.jsx("button",{onClick:()=>lt(I),className:`px-2 py-1 text-xs rounded transition-colors ${ye===I?"bg-blue-600 text-white":"bg-gray-700 text-gray-300 hover:bg-gray-600"}`,children:I==="aggressive"?"Attack":I==="balanced"?"Normal":"Defend"},I))})]}),l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("span",{className:"text-sm",children:[Gt?.shortName," ",l.jsx("span",{className:"text-gray-500",children:"(non-striker)"})]}),l.jsx("div",{className:"flex gap-1",children:["aggressive","balanced","defensive"].map(I=>l.jsx("button",{onClick:()=>Zt(I),className:`px-2 py-1 text-xs rounded transition-colors ${ot===I?"bg-blue-600 text-white":"bg-gray-700 text-gray-300 hover:bg-gray-600"}`,children:I==="aggressive"?"Attack":I==="balanced"?"Normal":"Defend"},I))})]})]})]}),B?.bowlingTeam===d&&(()=>{const I=Oe?X?.homeTactics:X?.awayTactics,xe=(Oe?Ht:ve).filter(oe=>(oe.role==="bowler"||oe.role==="allrounder")&&I?.playingXI.includes(oe.id)),Me=B?.overSummaries.at(-1)?.bowler,Ne=4;return l.jsxs("div",{children:[l.jsx("h4",{className:"text-xs text-gray-400 mb-2",children:"SELECT NEXT BOWLER"}),l.jsx("div",{className:"grid grid-cols-2 gap-2",children:xe.map(oe=>{const Se=B?.bowlerStats instanceof Map?B.bowlerStats.get(oe.id):void 0,Ge=Se?.overs??0,H=Ge>=Ne,$=oe.id===Me,ie=$||H,ce=Ie===oe.id;return l.jsxs("button",{onClick:()=>!ie&&xt(ce?null:oe.id),disabled:ie,className:`p-2 rounded-lg text-left text-sm transition-colors ${ce?"bg-purple-600 border border-purple-500":ie?"bg-gray-700/50 text-gray-500 cursor-not-allowed":"bg-gray-700 hover:bg-gray-600"}`,children:[l.jsxs("div",{className:"font-medium flex justify-between",children:[l.jsx("span",{children:oe.shortName}),l.jsxs("span",{className:`text-xs ${H?"text-red-400":"text-gray-500"}`,children:[Ge,"/",Ne]})]}),l.jsxs("div",{className:"text-xs text-gray-400",children:[Se?`${Se.wickets}-${Se.runs}`:"0-0",$&&"  Just bowled",H&&"  Maxed out"]})]},oe.id)})}),Ie&&l.jsxs("p",{className:"text-xs text-purple-400 mt-2",children:[c.find(oe=>oe.id===Ie)?.shortName," will bowl next over"]}),l.jsxs("div",{className:"mt-4",children:[l.jsx("h4",{className:"text-xs text-gray-400 mb-2",children:"BOWLING LENGTH (this over)"}),l.jsx("div",{className:"flex gap-1",children:wb.map(oe=>l.jsx("button",{onClick:()=>Wt(qt===oe.value?null:oe.value),className:`flex-1 px-2 py-2 text-xs rounded-lg transition-colors ${qt===oe.value?"bg-purple-600 text-white":"bg-gray-700 text-gray-300 hover:bg-gray-600"}`,children:oe.label},oe.value))}),qt&&l.jsxs("p",{className:"text-xs text-purple-400 mt-1",children:["Override: ",qt," (tap to clear)"]})]}),l.jsxs("div",{className:"mt-3",children:[l.jsx("h4",{className:"text-xs text-gray-400 mb-2",children:"FIELD SETTING (this over)"}),l.jsx("div",{className:"flex gap-1",children:Tb.map(oe=>l.jsx("button",{onClick:()=>ca(Ut===oe.value?null:oe.value),className:`flex-1 px-2 py-2 text-xs rounded-lg transition-colors ${Ut===oe.value?"bg-green-600 text-white":"bg-gray-700 text-gray-300 hover:bg-gray-600"}`,children:oe.label},oe.value))}),Ut&&l.jsxs("p",{className:"text-xs text-green-400 mt-1",children:["Override: ",Ut," (tap to clear)"]})]})]})})()]}),ge&&l.jsxs("div",{className:"bg-blue-900/50 rounded-xl p-4 border border-blue-700",children:[l.jsx("h3",{className:"font-semibold text-blue-300 mb-2",children:"New Batsman"}),l.jsx("p",{className:"text-sm text-gray-300 mb-3",children:"A wicket has fallen. The new batsman is coming to the crease."}),B&&(()=>{const I=c.find(xe=>xe.id===B.currentBatters[0]);return I&&l.jsxs("div",{className:"bg-gray-800 rounded-lg p-3 mb-3",children:[l.jsx("div",{className:"font-medium",children:I.name}),l.jsxs("div",{className:"text-sm text-gray-400",children:[I.role,"  Form: ",I.form>0?"+":"",I.form]})]})})(),l.jsx("button",{onClick:()=>Y(!1),className:"w-full bg-blue-600 hover:bg-blue-700 py-2 rounded-lg font-medium",children:"Continue"})]}),!ae&&!ge&&l.jsxs("div",{className:"space-y-2 bg-gray-900 sticky bottom-0 pt-2 pb-4 -mx-4 px-4 border-t border-gray-800",children:[l.jsx("button",{onClick:()=>Ae(!Ce),className:`w-full py-2 rounded-lg font-medium transition-colors text-sm ${Ce?"bg-blue-900 text-blue-300 border border-blue-700":"bg-gray-700 text-gray-300 hover:bg-gray-600"}`,children:Ce?"Hide Tactics":"Adjust Tactics"}),l.jsxs("div",{className:"flex gap-2",children:[l.jsx("button",{onClick:()=>{F("ball"),al()},disabled:O||de,className:`flex-1 py-3 rounded-lg font-medium text-sm disabled:opacity-50
                  ${de?"bg-gray-600 animate-pulse":"bg-gray-700 hover:bg-gray-600"}`,children:de?"Simulating...":"Next Ball"}),l.jsx("button",{onClick:()=>{F("wicket"),W(!0)},disabled:O||de,className:"flex-1 bg-purple-700 hover:bg-purple-600 disabled:opacity-50 py-3 rounded-lg font-medium text-sm",children:"Sim to Wicket"})]}),l.jsxs("div",{className:"flex gap-2",children:[l.jsx("button",{onClick:()=>{F("auto"),W(!O)},disabled:de,className:`flex-1 py-3 rounded-lg font-medium transition-colors disabled:opacity-50
                  ${O?"bg-yellow-600 hover:bg-yellow-700":"bg-blue-600 hover:bg-blue-700"}`,children:O?"Pause":"Auto Simulate"}),l.jsx("button",{onClick:()=>{F("over"),Al()},disabled:O||de,className:`flex-1 py-3 rounded-lg font-medium transition-colors disabled:opacity-50
                  ${de?"bg-gray-600 animate-pulse":"bg-gray-700 hover:bg-gray-600"}`,children:de?"Simulating...":"Next Over"})]})]}),ae&&se&&l.jsxs("div",{className:`border rounded-xl p-6 text-center ${X?.matchType!=="league"?"bg-purple-900/30 border-purple-700":"bg-green-900/30 border-green-700"}`,children:[X?.matchType==="final"&&se.winner===o.find(I=>I.id===(B?.battingTeam===X.homeTeam?X.homeTeam:X.awayTeam)&&B&&B.runs>=V+1)?.name&&l.jsx("div",{className:"text-3xl mb-2",children:""}),l.jsx("h2",{className:"text-2xl font-bold mb-2",children:se.winner}),l.jsxs("p",{className:"text-lg text-gray-300",children:["won by ",se.margin]}),X?.matchType!=="league"&&l.jsx("p",{className:"text-sm text-purple-400 mt-2",children:X?.matchType==="final"?"IPL CHAMPIONS!":X?.matchType?.replace(/([A-Z])/g," $1").replace("qualifier","Qualifier ").toUpperCase()}),l.jsx("button",{onClick:()=>{const I=B&&B.runs>=V+1?B.battingTeam:X?.innings1?.battingTeam||X?.homeTeam,xe=I===X?.homeTeam?X?.awayTeam:X?.homeTeam;j(I===d),X?.matchType==="league"?(v(),p(),w()):X&&I&&xe&&(T(X.id,I,xe),p()),g("home")},className:`mt-4 px-6 py-2 rounded-lg font-medium ${X?.matchType!=="league"?"bg-purple-600 hover:bg-purple-700":"bg-blue-600 hover:bg-blue-700"}`,children:"Continue"})]})]})]})},Bb=()=>{const{playerTeamId:i,teams:d,players:o,fixtures:c,pointsTable:m,manager:f,season:b,navigateTo:x,resetGame:g,getSeasonResult:h,startNextSeason:v}=Ze(),p=d.find(G=>G.id===i),T=o.filter(G=>p?.squad.includes(G.id)),w=h(),j=c.filter(G=>G.status==="completed"&&(G.homeTeam===i||G.awayTeam===i)),N=j.filter(G=>{if(!G.innings1||!G.innings2)return!1;const ue=G.innings1.battingTeam,C=G.innings2.battingTeam;return G.innings2.runs>=G.innings1.runs+1?C===i:ue===i}).length,S=j.length-N,E=m.find(G=>G.teamId===i),k=new Map;j.forEach(G=>{[G.innings1,G.innings2].forEach(ue=>{ue&&(ue.batterStats&&(ue.batterStats instanceof Map?Array.from(ue.batterStats.entries()):Object.entries(ue.batterStats)).forEach(([ae,J])=>{if(!T.some(fe=>fe.id===ae))return;const V=k.get(ae)||{runs:0,balls:0,wickets:0,overs:0};V.runs+=J.runs||0,V.balls+=J.balls||0,k.set(ae,V)}),ue.bowlerStats&&(ue.bowlerStats instanceof Map?Array.from(ue.bowlerStats.entries()):Object.entries(ue.bowlerStats)).forEach(([ae,J])=>{if(!T.some(fe=>fe.id===ae))return;const V=k.get(ae)||{runs:0,balls:0,wickets:0,overs:0};V.wickets+=J.wickets||0,V.overs+=J.overs||0,k.set(ae,V)}))})});const O=Array.from(k.entries()).sort((G,ue)=>ue[1].runs-G[1].runs)[0],W=O?o.find(G=>G.id===O[0]):null,_=Array.from(k.entries()).filter(([G,ue])=>ue.wickets>0).sort((G,ue)=>ue[1].wickets-G[1].wickets)[0],ne=_?o.find(G=>G.id===_[0]):null,B=[...m].sort((G,ue)=>ue.points!==G.points?ue.points-G.points:ue.netRunRate-G.netRunRate);return l.jsxs("div",{className:"min-h-screen bg-gray-900 text-white pb-24",children:[l.jsx("header",{className:"bg-gradient-to-r from-yellow-900 to-amber-800 p-6 border-b border-yellow-700",children:l.jsxs("div",{className:"max-w-lg mx-auto text-center",children:[l.jsxs("h1",{className:"text-2xl font-bold mb-1",children:["Season ",b," Complete"]}),l.jsx("p",{className:"text-yellow-200",children:p?.name})]})}),l.jsxs("div",{className:"max-w-lg mx-auto p-4 space-y-4",children:[w&&l.jsxs("div",{className:`rounded-xl p-6 text-center border ${w.playerFinish===1?"bg-gradient-to-r from-yellow-900/50 to-amber-900/50 border-yellow-600":w.playerFinish===2?"bg-gradient-to-r from-gray-700/50 to-gray-600/50 border-gray-500":"bg-gray-800 border-gray-700"}`,children:[w.playerFinish===1&&l.jsxs(l.Fragment,{children:[l.jsx("div",{className:"text-5xl mb-3",children:""}),l.jsx("h2",{className:"text-3xl font-bold text-yellow-400",children:"CHAMPIONS!"}),l.jsxs("p",{className:"text-lg text-yellow-200 mt-2",children:["IPL Season ",b," Winners"]})]}),w.playerFinish===2&&l.jsxs(l.Fragment,{children:[l.jsx("div",{className:"text-4xl mb-3",children:""}),l.jsx("h2",{className:"text-2xl font-bold text-gray-300",children:"Runners Up"}),l.jsx("p",{className:"text-gray-400 mt-2",children:"So close! Better luck next season."})]}),w.playerFinish>2&&w.playerFinish<=4&&l.jsxs(l.Fragment,{children:[l.jsx("h2",{className:"text-xl font-bold",children:"Playoff Finish"}),l.jsxs("p",{className:"text-gray-400 mt-2",children:["Finished #",w.playerFinish," in the playoffs."]})]}),w.playerFinish>4&&l.jsxs(l.Fragment,{children:[l.jsx("h2",{className:"text-xl font-bold text-gray-400",children:"Season Over"}),l.jsxs("p",{className:"text-gray-500 mt-2",children:["Finished #",w.playerFinish," - Missed playoffs."]})]})]}),l.jsxs("div",{className:"bg-gray-800 rounded-xl p-4 border border-gray-700",children:[l.jsx("h3",{className:"text-sm font-semibold text-gray-400 mb-3",children:"YOUR SEASON"}),l.jsxs("div",{className:"grid grid-cols-3 gap-4 text-center",children:[l.jsxs("div",{children:[l.jsx("div",{className:"text-2xl font-bold text-green-400",children:N}),l.jsx("div",{className:"text-xs text-gray-500",children:"Wins"})]}),l.jsxs("div",{children:[l.jsx("div",{className:"text-2xl font-bold text-red-400",children:S}),l.jsx("div",{className:"text-xs text-gray-500",children:"Losses"})]}),l.jsxs("div",{children:[l.jsx("div",{className:`text-2xl font-bold ${(E?.netRunRate||0)>=0?"text-green-400":"text-red-400"}`,children:E?.netRunRate?.toFixed(2)||"0.00"}),l.jsx("div",{className:"text-xs text-gray-500",children:"NRR"})]})]})]}),l.jsxs("div",{className:"bg-gray-800 rounded-xl p-4 border border-gray-700",children:[l.jsx("h3",{className:"text-sm font-semibold text-gray-400 mb-3",children:"TOP PERFORMERS"}),l.jsxs("div",{className:"space-y-3",children:[W&&O&&l.jsxs("div",{className:"flex justify-between items-center",children:[l.jsxs("div",{children:[l.jsx("div",{className:"text-sm font-medium",children:W.shortName}),l.jsx("div",{className:"text-xs text-gray-500",children:"Top Run Scorer"})]}),l.jsxs("div",{className:"text-right",children:[l.jsx("div",{className:"text-lg font-bold text-blue-400",children:O[1].runs}),l.jsx("div",{className:"text-xs text-gray-500",children:"runs"})]})]}),ne&&_&&l.jsxs("div",{className:"flex justify-between items-center",children:[l.jsxs("div",{children:[l.jsx("div",{className:"text-sm font-medium",children:ne.shortName}),l.jsx("div",{className:"text-xs text-gray-500",children:"Top Wicket Taker"})]}),l.jsxs("div",{className:"text-right",children:[l.jsx("div",{className:"text-lg font-bold text-purple-400",children:_[1].wickets}),l.jsx("div",{className:"text-xs text-gray-500",children:"wickets"})]})]})]})]}),l.jsxs("div",{className:"bg-gray-800 rounded-xl p-4 border border-gray-700",children:[l.jsx("h3",{className:"text-sm font-semibold text-gray-400 mb-3",children:"FINAL STANDINGS"}),l.jsx("div",{className:"space-y-1",children:B.map((G,ue)=>{const C=d.find(V=>V.id===G.teamId),ae=G.teamId===i,J=w?.champion===G.teamId;return l.jsxs("div",{className:`flex items-center justify-between px-2 py-2 rounded-lg ${ae?"bg-blue-900/30 border border-blue-800/50":"bg-gray-700/30"}`,children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("span",{className:"text-gray-500 w-4 text-sm",children:ue+1}),l.jsxs("span",{className:`text-sm ${ae?"text-blue-400 font-medium":""}`,children:[C?.shortName,J&&l.jsx("span",{className:"ml-1",children:""})]})]}),l.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[l.jsxs("span",{className:"text-gray-400",children:[G.played,"P"]}),l.jsxs("span",{className:"text-green-400",children:[G.won,"W"]}),l.jsxs("span",{className:"text-red-400",children:[G.lost,"L"]}),l.jsxs("span",{className:"w-10 font-bold",children:[G.points,"pts"]})]})]},G.teamId)})})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsxs("button",{onClick:()=>v(),className:"w-full bg-gradient-to-r from-amber-600 to-yellow-600 hover:from-amber-500 hover:to-yellow-500 text-white py-4 rounded-lg font-bold text-lg transition-colors shadow-lg",children:["Continue to Season ",b+1]}),l.jsx("button",{onClick:()=>x("home"),className:"w-full bg-gray-700 hover:bg-gray-600 text-white py-3 rounded-lg font-medium transition-colors",children:"Back to Home"}),l.jsx("button",{onClick:()=>{confirm("Start a new game? This will erase your current progress.")&&(g(),x("home"),window.location.reload())},className:"w-full bg-red-900/50 hover:bg-red-900 text-red-300 py-3 rounded-lg font-medium transition-colors border border-red-800",children:"New Game"})]}),l.jsxs("div",{className:"bg-gray-800/50 rounded-xl p-4 border border-gray-700",children:[l.jsx("h3",{className:"text-xs font-semibold text-gray-500 mb-2",children:"MANAGER RECORD"}),l.jsxs("p",{className:"text-sm text-gray-400",children:[f.name,"  ",f.history.seasonsManaged+1," season",f.history.seasonsManaged>0?"s":""," managed",f.history.titlesWon>0&&`  ${f.history.titlesWon} title${f.history.titlesWon>1?"s":""}`]})]})]})]})},Rb={player:"from-blue-900/50 to-blue-800/50 border-blue-700",media:"from-purple-900/50 to-purple-800/50 border-purple-700",team:"from-green-900/50 to-green-800/50 border-green-700",board:"from-amber-900/50 to-amber-800/50 border-amber-700"},Cb={player:"Player Issue",media:"Media",team:"Team",board:"Board"},Ob={player:"",media:"",team:"",board:""},kb=()=>{const{activeEvents:i,players:d,resolveEvent:o,navigateTo:c,openPlayerModal:m}=Ze(),f=i.find(g=>!g.resolved);if(!f)return c("home"),null;const b=f.involvedPlayers.length>0?d.find(g=>g.id===f.involvedPlayers[0]):null,x=g=>{o(f.id,g),i.filter(v=>!v.resolved&&v.id!==f.id).length===0&&c("home")};return l.jsxs("div",{className:"min-h-screen bg-gray-900 text-white",children:[l.jsx("header",{className:`p-6 border-b bg-gradient-to-r ${Rb[f.category]}`,children:l.jsxs("div",{className:"max-w-lg mx-auto",children:[l.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[l.jsx("span",{className:"text-2xl",children:Ob[f.category]}),l.jsx("span",{className:"text-sm text-gray-300 uppercase tracking-wide",children:Cb[f.category]})]}),l.jsx("h1",{className:"text-xl font-bold",children:f.title})]})}),l.jsxs("div",{className:"max-w-lg mx-auto p-4 space-y-6",children:[l.jsxs("div",{className:"bg-gray-800 rounded-xl p-5 border border-gray-700",children:[b&&l.jsxs("button",{onClick:()=>m(b.id,!1),className:"flex items-center gap-3 mb-4 pb-4 border-b border-gray-700 w-full text-left hover:bg-gray-700/30 -mx-2 px-2 py-2 rounded-lg transition-colors",children:[l.jsx("div",{className:"w-12 h-12 bg-gray-700 rounded-full flex items-center justify-center text-lg font-bold",children:b.shortName.charAt(0)}),l.jsxs("div",{children:[l.jsx("div",{className:"font-medium text-blue-400 hover:text-blue-300",children:b.name}),l.jsxs("div",{className:"text-sm text-gray-400",children:[b.role.charAt(0).toUpperCase()+b.role.slice(1),"  Morale: ",b.morale,"  Form: ",b.form>0?"+":"",b.form]})]}),l.jsx("span",{className:"ml-auto text-gray-500 text-sm",children:"View Profile"})]}),l.jsx("p",{className:"text-gray-200 leading-relaxed",children:f.description})]}),l.jsxs("div",{className:"space-y-3",children:[l.jsx("h3",{className:"text-sm text-gray-400 uppercase tracking-wide",children:"Your Response"}),f.options.map(g=>l.jsxs("button",{onClick:()=>x(g.id),className:"w-full text-left bg-gray-800 hover:bg-gray-750 border border-gray-700 hover:border-gray-600 rounded-xl p-4 transition-colors group",children:[l.jsx("div",{className:"font-medium text-white group-hover:text-blue-400 transition-colors",children:g.label}),l.jsx("div",{className:"text-sm text-gray-400 mt-1",children:g.description}),l.jsx("div",{className:"flex flex-wrap gap-2 mt-3",children:g.effects.map((h,v)=>{let p="",T="";return h.target==="player"?h.attribute==="morale"?(p=h.change>0?`+${h.change} Morale`:`${h.change} Morale`,T=h.change>0?"bg-green-900/50 text-green-400":"bg-red-900/50 text-red-400"):h.attribute==="form"?(p=h.change>0?`+${h.change} Form`:`${h.change} Form`,T=h.change>0?"bg-blue-900/50 text-blue-400":"bg-orange-900/50 text-orange-400"):h.attribute==="fatigue"&&(p=h.change<0?`${h.change} Fatigue`:`+${h.change} Fatigue`,T=h.change<0?"bg-green-900/50 text-green-400":"bg-red-900/50 text-red-400"):h.target==="team"&&(h.attribute==="pressHeat"?(p=h.change>0?`+${h.change} Press Heat`:`${h.change} Press Heat`,T=h.change>0?"bg-red-900/50 text-red-400":"bg-green-900/50 text-green-400"):h.attribute==="boardPatience"?(p=h.change>0?`+${h.change} Board Patience`:`${h.change} Board Patience`,T=h.change>0?"bg-green-900/50 text-green-400":"bg-red-900/50 text-red-400"):h.attribute==="morale"&&(p=h.change>0?`+${h.change} Team Morale`:`${h.change} Team Morale`,T=h.change>0?"bg-green-900/50 text-green-400":"bg-red-900/50 text-red-400")),p?l.jsx("span",{className:`text-xs px-2 py-1 rounded ${T}`,children:p},v):null})})]},g.id))]}),f.urgency!=="immediate"&&l.jsx("button",{onClick:()=>c("home"),className:"w-full text-center text-gray-500 hover:text-gray-400 text-sm py-2",children:"Deal with this later"})]})]})},Ta={batsman:"bg-orange-600",bowler:"bg-green-600",allrounder:"bg-purple-600",keeper:"bg-blue-600"},Rn={batsman:"BAT",bowler:"BOWL",allrounder:"AR",keeper:"WK"},zb=()=>{const{playerTeamId:i,teams:d,players:o,auctionState:c,unsoldPlayers:m,startMode:f,navigateTo:b,initializeAuction:x,setRetention:g,removeRetention:h,confirmRetentions:v,startBidding:p,placeBid:T,passBid:w,processAIBidRound:j,nextPlayer:N,markPlayerSold:S,markPlayerUnsold:E,setAuctionMode:k,simRestOfAuction:O,completeAuction:W,canPlayerBid:_,getNextBidAmountForPlayer:ne,pickSquadFillPlayer:B,autoFillPlayerSquad:G,completeSquadFill:ue}=Ze(),[C,ae]=le.useState(!1),[J,V]=le.useState(null),[fe,se]=le.useState("waiting_for_player"),[z,P]=le.useState(""),[te,ge]=le.useState("all"),[Y,A]=le.useState(null),[F,de]=le.useState(!1),[re,Ce]=le.useState(null),[Ae,ye]=le.useState(!1),[lt,ot]=le.useState(!1),[Zt,Ie]=le.useState(!1),[xt,qt]=le.useState(!1),[Wt,Ut]=le.useState(!1),ca=le.useRef(!1),he=le.useRef(!1),{getSaveSlots:We,saveToSlot:X,resetGame:Ca}=Ze(),Oa=We(),Ht=d.find(H=>H.id===i),ve=c?.teamStates[i];le.useEffect(()=>{c||x(f==="mini-auction"?"mini":"mega")},[c,x,f]),le.useEffect(()=>{c&&c.status==="bidding"&&!c.currentPlayer&&!he.current&&c.auctionPool.some(H=>H.status==="available")&&(he.current=!0,N())},[c,N]),le.useEffect(()=>{c?.status!=="bidding"&&(he.current=!1)},[c?.status]);const Oe=c?.currentPlayer,Ee=Oe?o.find(H=>H.id===Oe.playerId):null;le.useEffect(()=>{Oe&&(se("waiting_for_player"),A(null),qt(!1),ca.current=!1)},[Oe?.playerId]);const Jl=()=>{_()&&(T(),A(i),Al())},bt=()=>{w(),qt(!0),ca.current=!1,al()},Ma=()=>{ca.current=!0;const H=Ze.getState();H.auctionState&&Ze.setState({auctionState:{...H.auctionState,teamStates:{...H.auctionState.teamStates,[i]:{...H.auctionState.teamStates[i],hasPassedCurrentPlayer:!1}}}}),qt(!1),se("waiting_for_player")},Al=()=>{se("ai_bidding"),setTimeout(()=>{if(j()){const $=Ze.getState().auctionState?.currentPlayer;A($?.currentBidder||null),se("waiting_for_player")}else Wl()},600)},al=()=>{se("ai_bidding");const H=()=>{setTimeout(()=>{if(ca.current)return;if(j()){const ie=Ze.getState().auctionState?.currentPlayer;A(ie?.currentBidder||null),H()}else Wl()},500)};H()},Wl=()=>{const H=Ze.getState().auctionState?.currentPlayer;H?.currentBidder?(se("sold"),A(H.currentBidder)):se("unsold")},qs=()=>{fe==="sold"?S():E(),N(),se("waiting_for_player"),A(null)},ka=()=>{v(),p(),se("waiting_for_player")},yt=()=>{W(),b("home")},Gt=()=>{O()},I=H=>{X(H)&&(de(!1),Ca(),b("home"))};if(!c||!Ht||!ve)return l.jsx("div",{className:"min-h-screen bg-gray-900 text-white flex items-center justify-center",children:l.jsx("p",{children:"Loading auction..."})});if(c.status==="retention_phase")return l.jsxs("div",{className:"min-h-screen bg-gray-900 text-white pb-24",children:[l.jsx("header",{className:"bg-gray-800 p-4 border-b border-gray-700",children:l.jsxs("div",{className:"flex items-center justify-between max-w-lg mx-auto",children:[l.jsx("button",{onClick:()=>de(!0),className:"text-gray-400 hover:text-white text-sm",children:"Save & Exit"}),l.jsxs("div",{className:"text-center flex-1",children:[l.jsx("h1",{className:"text-xl font-bold",children:"Mega Auction - Retentions"}),l.jsx("p",{className:"text-sm text-gray-400 mt-1",children:"Choose up to 4 players to retain"})]}),l.jsx("div",{className:"w-16"})]})}),l.jsxs("div",{className:"max-w-lg mx-auto p-4 space-y-4",children:[l.jsx("div",{className:"bg-gray-800 rounded-xl p-4 border border-gray-700",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("div",{className:"w-12 h-12 rounded-full flex items-center justify-center font-bold",style:{backgroundColor:Ht.colors.primary},children:Ht.shortName}),l.jsxs("div",{children:[l.jsx("div",{className:"font-semibold",children:Ht.name}),l.jsx("div",{className:"text-sm text-gray-400",children:"Select your retentions"})]})]}),l.jsxs("div",{className:"text-right",children:[l.jsx("div",{className:"text-2xl font-bold text-green-400",children:Dt(ve.remainingPurse)}),l.jsx("div",{className:"text-xs text-gray-400",children:"Remaining Purse"})]})]})}),l.jsx("div",{className:"space-y-3",children:ve.retentions.map(H=>{const $=H.playerId?o.find(ie=>ie.id===H.playerId):null;return l.jsx("div",{className:"bg-gray-800 rounded-xl p-4 border border-gray-700",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("div",{className:"w-8 h-8 rounded-full bg-gray-700 flex items-center justify-center text-sm font-bold",children:H.slotNumber}),$?l.jsxs("div",{children:[l.jsx("div",{className:"font-medium",children:$.name}),l.jsxs("div",{className:"text-xs text-gray-400",children:[$.role,"  Cost: ",Dt(H.cost)]})]}):l.jsxs("div",{className:"text-gray-500",children:["Empty Slot  Cost: ",Dt(H.cost)]})]}),l.jsx("div",{className:"flex gap-2",children:$?l.jsx("button",{onClick:()=>h(H.slotNumber),className:"px-3 py-1 bg-red-900/50 text-red-400 rounded-lg text-sm",children:"Remove"}):l.jsx("button",{onClick:()=>{V(H.slotNumber),ae(!0)},className:"px-3 py-1 bg-blue-600 text-white rounded-lg text-sm",children:"Select"})})]})},H.slotNumber)})}),l.jsx("button",{onClick:ka,className:"w-full bg-green-600 hover:bg-green-700 text-white py-4 rounded-lg font-semibold text-lg",children:"Confirm Retentions & Start Auction"})]}),C&&J&&l.jsx("div",{className:"fixed inset-0 bg-black/80 flex items-center justify-center z-50 p-4",children:l.jsxs("div",{className:"bg-gray-800 rounded-xl max-w-md w-full max-h-[80vh] overflow-y-auto",children:[l.jsx("div",{className:"p-4 border-b border-gray-700",children:l.jsxs("h3",{className:"font-bold",children:["Select Player for Slot ",J]})}),l.jsx("div",{className:"p-4 space-y-2",children:o.filter(H=>Ht.squad.includes(H.id)).filter(H=>!ve.retentions.some($=>$.playerId===H.id)).map(H=>l.jsxs("button",{onClick:()=>{g(H.id,J),ae(!1),V(null)},className:"w-full bg-gray-700 hover:bg-gray-600 rounded-lg p-3 flex items-center gap-3 text-left",children:[l.jsx("div",{className:`w-10 h-10 rounded-full ${Ta[H.role]} flex items-center justify-center text-xs font-bold`,children:H.shortName.slice(0,2)}),l.jsxs("div",{className:"flex-1",children:[l.jsx("div",{className:"font-medium",children:H.name}),l.jsxs("div",{className:"text-xs text-gray-400",children:[H.role,"  ",H.nationality]})]}),H.contract.isOverseas&&l.jsx("span",{className:"px-2 py-1 bg-blue-900/50 text-blue-400 text-xs rounded",children:"OS"})]},H.id))}),l.jsx("div",{className:"p-4 border-t border-gray-700",children:l.jsx("button",{onClick:()=>{ae(!1),V(null)},className:"w-full bg-gray-700 text-white py-2 rounded-lg",children:"Cancel"})})]})}),F&&l.jsx("div",{className:"fixed inset-0 bg-black/80 flex items-center justify-center z-50 p-4",children:l.jsxs("div",{className:"bg-gray-800 rounded-xl max-w-md w-full",children:[l.jsxs("div",{className:"p-4 border-b border-gray-700",children:[l.jsx("h3",{className:"font-bold",children:"Save Game"}),l.jsx("p",{className:"text-sm text-gray-400 mt-1",children:"Choose a save slot. This will exit to the main menu."})]}),l.jsx("div",{className:"p-4 space-y-2",children:[1,2,3].map(H=>{const $=Oa.find(ie=>ie.id===H);return l.jsxs("button",{onClick:()=>I(H),className:"w-full bg-gray-700 hover:bg-gray-600 rounded-lg p-3 text-left",children:[l.jsxs("div",{className:"flex justify-between items-center",children:[l.jsxs("span",{className:"font-medium",children:["Slot ",H]}),$&&l.jsx("span",{className:"text-xs text-yellow-500",children:"Overwrite"})]}),$?l.jsxs("div",{className:"text-xs text-gray-400 mt-1",children:[$.name,"  ",vo($.savedAt)]}):l.jsx("div",{className:"text-xs text-gray-500 mt-1",children:"Empty"})]},H)})}),l.jsx("div",{className:"p-4 border-t border-gray-700",children:l.jsx("button",{onClick:()=>de(!1),className:"w-full bg-gray-700 text-white py-2 rounded-lg",children:"Cancel"})})]})})]});if(c.status==="squad_fill"){const H=c.settings.minSquadSize-ve.squadSize,ie=ro(o,d,m).filter(({player:me})=>{const Ue=z===""||me.name.toLowerCase().includes(z.toLowerCase())||me.shortName.toLowerCase().includes(z.toLowerCase()),Xe=te==="all"||me.role===te;return Ue&&Xe}),ce=ve.squadSize>=c.settings.minSquadSize;return l.jsxs("div",{className:"min-h-screen bg-gray-900 text-white pb-24",children:[l.jsxs("header",{className:"bg-gray-800 p-4 border-b border-gray-700",children:[l.jsxs("h1",{className:"text-xl font-bold text-center",children:["Squad Fill ",H>0?`- Need ${H} more`:"- Complete!"]}),l.jsxs("div",{className:"flex justify-center gap-6 mt-2 text-sm",children:[l.jsxs("span",{children:["Budget: ",l.jsx("span",{className:"text-green-400 font-medium",children:Dt(ve.remainingPurse)})]}),l.jsxs("span",{children:["Squad: ",l.jsxs("span",{className:"font-medium",children:[ve.squadSize,"/",c.settings.minSquadSize]})]}),l.jsxs("span",{children:["Overseas: ",l.jsxs("span",{className:"text-blue-400 font-medium",children:[ve.overseasCount,"/8"]})]})]})]}),l.jsxs("div",{className:"max-w-lg mx-auto p-4 space-y-4",children:[l.jsxs("div",{className:"flex gap-2",children:[l.jsx("input",{type:"text",placeholder:"Search players...",value:z,onChange:me=>P(me.target.value),className:"flex-1 bg-gray-800 border border-gray-700 rounded-lg px-3 py-2 text-sm focus:outline-none focus:border-blue-500"}),l.jsxs("select",{value:te,onChange:me=>ge(me.target.value),className:"bg-gray-800 border border-gray-700 rounded-lg px-3 py-2 text-sm focus:outline-none focus:border-blue-500",children:[l.jsx("option",{value:"all",children:"All Roles"}),l.jsx("option",{value:"batsman",children:"Batsman"}),l.jsx("option",{value:"bowler",children:"Bowler"}),l.jsx("option",{value:"allrounder",children:"All-rounder"}),l.jsx("option",{value:"keeper",children:"Keeper"})]})]}),ie.filter(me=>me.isUnsold).length>0&&l.jsxs("div",{className:"bg-gray-800 rounded-xl p-4 border border-yellow-600/30",children:[l.jsx("h3",{className:"font-semibold mb-3 text-yellow-400",children:"Unsold From Auction"}),l.jsx("div",{className:"space-y-2 max-h-48 overflow-y-auto",children:ie.filter(me=>me.isUnsold).map(({player:me,basePrice:Ue})=>{const{canPick:Xe,reason:Ye}=co(ve,me,Ue,c.settings);return l.jsxs("div",{className:"flex items-center justify-between py-2 border-b border-gray-700 last:border-0",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("span",{className:`px-2 py-1 text-xs rounded ${Ta[me.role]}`,children:Rn[me.role]}),l.jsx("span",{children:me.shortName}),me.contract.isOverseas&&l.jsx("span",{className:"text-xs text-blue-400",children:"OS"})]}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("span",{className:"text-gray-400 text-sm",children:Dt(Ue)}),l.jsx("button",{onClick:()=>B(me.id),disabled:!Xe,className:`px-3 py-1 text-sm rounded ${Xe?"bg-green-600 hover:bg-green-700":"bg-gray-600 cursor-not-allowed opacity-50"}`,title:Ye,children:"+"})]})]},me.id)})})]}),l.jsxs("div",{className:"bg-gray-800 rounded-xl p-4 border border-gray-700",children:[l.jsxs("h3",{className:"font-semibold mb-3",children:["Free Agents (",ie.filter(me=>!me.isUnsold).length,")"]}),l.jsxs("div",{className:"space-y-2 max-h-64 overflow-y-auto",children:[ie.filter(me=>!me.isUnsold).slice(0,50).map(({player:me,basePrice:Ue})=>{const{canPick:Xe,reason:Ye}=co(ve,me,Ue,c.settings);return l.jsxs("div",{className:"flex items-center justify-between py-2 border-b border-gray-700 last:border-0",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("span",{className:`px-2 py-1 text-xs rounded ${Ta[me.role]}`,children:Rn[me.role]}),l.jsx("span",{children:me.shortName}),me.contract.isOverseas&&l.jsx("span",{className:"text-xs text-blue-400",children:"OS"})]}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("span",{className:"text-gray-400 text-sm",children:Dt(Ue)}),l.jsx("button",{onClick:()=>B(me.id),disabled:!Xe,className:`px-3 py-1 text-sm rounded ${Xe?"bg-green-600 hover:bg-green-700":"bg-gray-600 cursor-not-allowed opacity-50"}`,title:Ye,children:"+"})]})]},me.id)}),ie.filter(me=>!me.isUnsold).length>50&&l.jsxs("div",{className:"text-center text-gray-400 text-sm py-2",children:["...and ",ie.filter(me=>!me.isUnsold).length-50," more (use search to find specific players)"]})]})]}),l.jsxs("div",{className:"flex gap-3",children:[!ce&&l.jsx("button",{onClick:G,className:"flex-1 bg-purple-600 hover:bg-purple-700 text-white py-3 rounded-lg font-medium",children:"Auto-Fill Cheapest"}),l.jsx("button",{onClick:ue,disabled:!ce,className:`flex-1 py-3 rounded-lg font-medium ${ce?"bg-blue-600 hover:bg-blue-700 text-white":"bg-gray-700 text-gray-400 cursor-not-allowed"}`,children:ce?"Start Season":`Need ${H} more players`})]})]})]})}if(c.status==="completed")return l.jsxs("div",{className:"min-h-screen bg-gray-900 text-white pb-24",children:[l.jsx("header",{className:"bg-gray-800 p-4 border-b border-gray-700",children:l.jsx("h1",{className:"text-xl font-bold text-center",children:"Auction Complete"})}),l.jsxs("div",{className:"max-w-lg mx-auto p-4 space-y-4",children:[l.jsxs("div",{className:"bg-gray-800 rounded-xl p-4 border border-gray-700",children:[l.jsx("h2",{className:"font-semibold mb-3",children:"Your Squad"}),l.jsxs("div",{className:"grid grid-cols-3 gap-3 text-center",children:[l.jsxs("div",{children:[l.jsx("div",{className:"text-2xl font-bold",children:ve.squadSize}),l.jsx("div",{className:"text-xs text-gray-400",children:"Players"})]}),l.jsxs("div",{children:[l.jsx("div",{className:"text-2xl font-bold text-green-400",children:zs(ve.remainingPurse)}),l.jsx("div",{className:"text-xs text-gray-400",children:"Remaining"})]}),l.jsxs("div",{children:[l.jsx("div",{className:"text-2xl font-bold text-blue-400",children:ve.overseasCount}),l.jsx("div",{className:"text-xs text-gray-400",children:"Overseas"})]})]})]}),l.jsxs("div",{className:"bg-gray-800 rounded-xl p-4 border border-gray-700",children:[l.jsx("h3",{className:"font-semibold mb-3",children:"Players Bought"}),l.jsx("div",{className:"space-y-2 max-h-60 overflow-y-auto",children:c.soldPlayers.filter(H=>H.currentBidder===i).map(H=>{const $=o.find(ie=>ie.id===H.playerId);return $?l.jsxs("div",{className:"flex items-center justify-between py-2 border-b border-gray-700 last:border-0",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("span",{className:`px-2 py-1 text-xs rounded ${Ta[$.role]}`,children:Rn[$.role]}),l.jsx("span",{children:$.shortName}),$.contract.isOverseas&&l.jsx("span",{className:"text-xs text-blue-400",children:"OS"})]}),l.jsx("span",{className:"text-green-400 font-medium",children:Dt(H.currentBid)})]},H.playerId):null})})]}),l.jsx("button",{onClick:yt,className:"w-full bg-blue-600 hover:bg-blue-700 text-white py-4 rounded-lg font-semibold text-lg",children:"Start Season"})]})]});const xe=fe==="waiting_for_player",Me=fe==="ai_bidding",Ne=fe==="sold",oe=fe==="unsold",Se=Ne||oe,Ge=Oe?.currentBidder===i;return l.jsxs("div",{className:"min-h-screen bg-gray-900 text-white pb-4",children:[l.jsx("header",{className:"bg-gray-800 p-3 border-b border-gray-700 sticky top-0 z-10",children:l.jsxs("div",{className:"flex items-center justify-between max-w-lg mx-auto",children:[l.jsxs("button",{onClick:()=>Ie(!0),className:"text-left hover:bg-gray-700/50 rounded-lg px-2 py-1 -ml-2 transition-colors",children:[l.jsxs("div",{className:"text-sm text-gray-400",children:["Player ",c.totalPlayersAuctioned,"/",c.auctionPool.length,l.jsx("span",{className:"text-blue-400 ml-1",children:""})]}),l.jsxs("div",{className:"text-xs text-yellow-400",children:[xe&&"Your turn to bid",Me&&"AI teams responding...",Ne&&"SOLD!",oe&&"UNSOLD"]})]}),l.jsxs("button",{onClick:()=>ot(!0),className:"text-right hover:bg-gray-700/50 rounded-lg px-2 py-1 -mr-2 transition-colors",children:[l.jsx("div",{className:"text-sm font-medium text-green-400",children:Dt(ve.remainingPurse)}),l.jsxs("div",{className:"text-xs text-gray-400",children:[ve.squadSize,"/",c.settings.maxSquadSize," players",l.jsx("span",{className:"text-blue-400 ml-1",children:""})]})]})]})}),l.jsxs("div",{className:"max-w-lg mx-auto p-3 space-y-3",children:[Ee&&Oe?l.jsxs("div",{className:`bg-gray-800 rounded-xl p-4 border ${Ne?"border-green-500":oe?"border-red-500":"border-gray-700"}`,children:[l.jsx("button",{onClick:()=>ye(!0),className:"w-full text-left",children:l.jsxs("div",{className:"flex items-start gap-4",children:[l.jsx("div",{className:`w-16 h-16 rounded-full ${Ta[Ee.role]} flex items-center justify-center text-lg font-bold`,children:Ee.shortName.slice(0,2).toUpperCase()}),l.jsxs("div",{className:"flex-1",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("h2",{className:"text-lg font-bold",children:Ee.name}),Ee.contract.isOverseas&&l.jsx("span",{className:"px-2 py-0.5 bg-blue-900/50 text-blue-400 text-xs rounded",children:"OVERSEAS"})]}),l.jsxs("div",{className:"text-sm text-gray-400",children:[Ee.role.charAt(0).toUpperCase()+Ee.role.slice(1)," "," ",Ee.nationality,"  Age ",Ee.age]}),l.jsxs("div",{className:"mt-2 grid grid-cols-2 gap-2 text-xs",children:[l.jsxs("div",{children:["Batting:"," ",l.jsx("span",{className:"text-orange-400",children:Math.round((Ee.batting.technique+Ee.batting.power+Ee.batting.timing)/3)})]}),l.jsxs("div",{children:["Bowling:"," ",l.jsx("span",{className:"text-green-400",children:Math.round((Ee.bowling.speed+Ee.bowling.accuracy+Ee.bowling.variation)/3)})]})]}),l.jsx("div",{className:"mt-1 text-xs text-blue-400",children:"Tap for full stats"})]})]})}),l.jsxs("div",{className:"mt-4 flex items-center justify-between bg-gray-700/50 rounded-lg p-3",children:[l.jsxs("div",{children:[l.jsx("div",{className:"text-xs text-gray-400",children:"Base Price"}),l.jsx("div",{className:"text-lg font-medium",children:Dt(Oe.basePrice)})]}),l.jsxs("div",{className:"text-right",children:[l.jsx("div",{className:"text-xs text-gray-400",children:"Current Bid"}),l.jsx("div",{className:`text-2xl font-bold ${Ne?"text-green-400":oe?"text-red-400":"text-green-400"}`,children:Dt(Oe.currentBid)})]})]}),Oe.currentBidder&&l.jsxs("div",{className:"mt-2 text-center text-sm",children:[l.jsx("span",{className:"text-gray-400",children:Se?"Sold to: ":"Highest Bidder: "}),l.jsxs("span",{className:`font-medium ${Oe.currentBidder===i?"text-green-400":"text-yellow-400"}`,children:[d.find(H=>H.id===Oe.currentBidder)?.name,Oe.currentBidder===i&&" (You)"]})]}),Ne&&l.jsx("div",{className:"mt-3 bg-green-900/50 border border-green-600 rounded-lg p-2 text-center",children:l.jsx("span",{className:"text-green-400 font-bold text-lg",children:"SOLD!"})}),oe&&l.jsx("div",{className:"mt-3 bg-red-900/50 border border-red-600 rounded-lg p-2 text-center",children:l.jsx("span",{className:"text-red-400 font-bold text-lg",children:"UNSOLD"})})]}):l.jsx("div",{className:"bg-gray-800 rounded-xl p-8 border border-gray-700 text-center",children:l.jsx("p",{className:"text-gray-400",children:"Preparing next player..."})}),Ee&&Oe&&!Se&&l.jsxs(l.Fragment,{children:[!xt&&l.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[l.jsx("button",{onClick:Jl,disabled:!xe||!_(),className:`py-4 rounded-lg font-semibold text-lg transition-colors ${xe&&_()?"bg-green-600 hover:bg-green-700 text-white":"bg-gray-700 text-gray-500 cursor-not-allowed"}`,children:Me?"Wait...":`BID ${Dt(ne())}`}),l.jsx("button",{onClick:bt,disabled:!xe||ve.hasPassedCurrentPlayer||Ge,className:`py-4 rounded-lg font-semibold text-lg transition-colors ${xe&&!ve.hasPassedCurrentPlayer&&!Ge?"bg-red-600 hover:bg-red-700 text-white":"bg-gray-700 text-gray-500 cursor-not-allowed"}`,children:ve.hasPassedCurrentPlayer?"PASSED":Me?"Wait...":"PASS"})]}),xt&&Me&&l.jsx("button",{onClick:Ma,className:"w-full py-4 bg-yellow-600 hover:bg-yellow-700 text-white rounded-lg font-semibold text-lg animate-pulse",children:"JUMP BACK IN!"})]}),Se&&l.jsx("button",{onClick:qs,className:"w-full py-4 bg-blue-600 hover:bg-blue-700 rounded-lg font-semibold text-lg",children:"Next Player"}),!Se&&l.jsxs("div",{className:`text-center py-2 rounded-lg ${xe?"bg-yellow-900/30 border border-yellow-700":xt&&Me?"bg-yellow-900/20 border border-yellow-800":"bg-gray-700/30"}`,children:[xe&&l.jsx("span",{className:"text-yellow-400 font-medium",children:"Your turn - Analyze and decide"}),Me&&!xt&&l.jsx("span",{className:"text-gray-400",children:"AI teams are responding..."}),xt&&Me&&l.jsx("span",{className:"text-yellow-500",children:"You passed - Tap above to jump back in!"})]}),Oe&&Oe.bidHistory.length>0&&l.jsxs("div",{className:"bg-gray-800 rounded-lg p-3 border border-gray-700",children:[l.jsx("div",{className:"text-xs text-gray-400 mb-2",children:"Bid History"}),l.jsx("div",{className:"space-y-1 max-h-32 overflow-y-auto",children:[...Oe.bidHistory].reverse().map((H,$)=>{const ie=d.find(ce=>ce.id===H.teamId);return l.jsxs("div",{className:"flex justify-between text-sm",children:[l.jsxs("span",{className:H.teamId===i?"text-green-400 font-medium":"text-gray-300",children:[ie?.shortName,H.teamId===i&&" (You)"]}),l.jsx("span",{className:"text-gray-400",children:Dt(H.amount)})]},$)})})]}),(()=>{const H=c.auctionPool.filter($=>$.status==="available").slice(0,5);return H.length===0?null:l.jsxs("button",{onClick:()=>Ut(!0),className:"w-full bg-gray-800 rounded-lg p-3 border border-gray-700 text-left hover:bg-gray-700/50 transition-colors",children:[l.jsxs("div",{className:"flex items-center justify-between mb-2",children:[l.jsx("span",{className:"text-xs text-gray-400",children:"Coming Up Next"}),l.jsx("span",{className:"text-xs text-blue-400",children:"See all "})]}),l.jsx("div",{className:"flex gap-2 overflow-x-auto",children:H.map(($,ie)=>{const ce=o.find(me=>me.id===$.playerId);return ce?l.jsxs("div",{className:`flex-shrink-0 w-16 text-center ${ie===0?"opacity-100":"opacity-60"}`,children:[l.jsx("div",{className:`w-10 h-10 mx-auto rounded-full ${Ta[ce.role]} flex items-center justify-center text-xs font-bold mb-1`,children:ce.shortName.slice(0,2).toUpperCase()}),l.jsx("div",{className:"text-xs truncate",children:ce.shortName}),l.jsx("div",{className:"text-xs text-gray-500",children:zs($.basePrice)})]},$.playerId):null})})]})})(),l.jsxs("div",{className:"bg-gray-800 rounded-lg p-3 border border-gray-700",children:[l.jsx("div",{className:"text-xs text-gray-400 mb-2",children:"Team Status"}),l.jsx("div",{className:"grid grid-cols-3 gap-2 text-xs",children:Object.entries(c.teamStates).map(([H,$])=>{const ie=d.find(Ue=>Ue.id===H),ce=Oe?.currentBidder===H,me=$.hasPassedCurrentPlayer;return l.jsxs("div",{className:`p-2 rounded-lg ${ce?"bg-green-900/50 border border-green-700":me?"bg-gray-700/30 opacity-50":"bg-gray-700/50"}`,children:[l.jsx("div",{className:`font-medium ${H===i?"text-blue-400":""}`,children:ie?.shortName}),l.jsx("div",{className:"text-gray-400",children:zs($.remainingPurse)}),l.jsxs("div",{className:"text-gray-500",children:[$.squadSize," players"]})]},H)})})]}),Pg(ve,c.settings)&&!Se&&xe&&l.jsxs("div",{className:"flex gap-2",children:[l.jsx("button",{onClick:()=>k("spectate"),className:"flex-1 py-2 bg-gray-700 hover:bg-gray-600 rounded-lg text-sm",children:"Spectate"}),l.jsx("button",{onClick:Gt,className:"flex-1 py-2 bg-purple-600 hover:bg-purple-700 rounded-lg text-sm",children:"Sim Rest"})]})]}),Ae&&Ee&&l.jsx("div",{className:"fixed inset-0 bg-black/90 flex items-center justify-center z-50 p-4 overflow-y-auto",children:l.jsxs("div",{className:"bg-gray-800 rounded-xl max-w-md w-full max-h-[90vh] overflow-y-auto",children:[l.jsxs("div",{className:"sticky top-0 bg-gray-800 p-4 border-b border-gray-700 flex items-center justify-between",children:[l.jsx("h3",{className:"font-bold text-lg",children:"Player Details"}),l.jsx("button",{onClick:()=>ye(!1),className:"text-gray-400 hover:text-white text-xl",children:""})]}),l.jsxs("div",{className:"p-4 space-y-4",children:[l.jsxs("div",{className:"flex items-center gap-4",children:[l.jsx("div",{className:`w-16 h-16 rounded-full ${Ta[Ee.role]} flex items-center justify-center text-lg font-bold`,children:Ee.shortName.slice(0,2).toUpperCase()}),l.jsxs("div",{children:[l.jsx("h2",{className:"text-xl font-bold",children:Ee.name}),l.jsxs("div",{className:"text-sm text-gray-400",children:[Ee.role.charAt(0).toUpperCase()+Ee.role.slice(1)," "," ",Ee.nationality]}),l.jsxs("div",{className:"flex gap-2 mt-1",children:[l.jsxs("span",{className:"text-xs bg-gray-700 px-2 py-0.5 rounded",children:["Age ",Ee.age]}),Ee.contract.isOverseas&&l.jsx("span",{className:"text-xs bg-blue-900/50 text-blue-400 px-2 py-0.5 rounded",children:"Overseas"})]})]})]}),l.jsxs("div",{className:"grid grid-cols-3 gap-2",children:[l.jsxs("div",{className:"bg-gray-700/50 rounded-lg p-3 text-center",children:[l.jsxs("div",{className:`text-xl font-bold ${Ee.form>10?"text-green-400":Ee.form<-10?"text-red-400":"text-yellow-400"}`,children:[Ee.form>0?"+":"",Ee.form]}),l.jsx("div",{className:"text-xs text-gray-400",children:"Form"})]}),l.jsxs("div",{className:"bg-gray-700/50 rounded-lg p-3 text-center",children:[l.jsxs("div",{className:`text-xl font-bold ${Ee.fitness>80?"text-green-400":Ee.fitness<50?"text-red-400":"text-yellow-400"}`,children:[Ee.fitness,"%"]}),l.jsx("div",{className:"text-xs text-gray-400",children:"Fitness"})]}),l.jsxs("div",{className:"bg-gray-700/50 rounded-lg p-3 text-center",children:[l.jsxs("div",{className:`text-xl font-bold ${Ee.morale>70?"text-green-400":Ee.morale<40?"text-red-400":"text-yellow-400"}`,children:[Ee.morale,"%"]}),l.jsx("div",{className:"text-xs text-gray-400",children:"Morale"})]})]}),l.jsxs("div",{className:"bg-gray-700/30 rounded-lg p-4",children:[l.jsx("h4",{className:"font-semibold text-orange-400 mb-3",children:"Batting"}),l.jsx("div",{className:"space-y-2",children:Object.entries(Ee.batting).map(([H,$])=>l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("div",{className:"w-24 text-xs text-gray-400 capitalize",children:H}),l.jsx("div",{className:"flex-1 bg-gray-700 rounded-full h-2",children:l.jsx("div",{className:"bg-orange-500 h-2 rounded-full",style:{width:`${$}%`}})}),l.jsx("div",{className:"w-8 text-xs text-right",children:$})]},H))})]}),l.jsxs("div",{className:"bg-gray-700/30 rounded-lg p-4",children:[l.jsx("h4",{className:"font-semibold text-green-400 mb-3",children:"Bowling"}),l.jsx("div",{className:"space-y-2",children:Object.entries(Ee.bowling).map(([H,$])=>l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("div",{className:"w-24 text-xs text-gray-400 capitalize",children:H}),l.jsx("div",{className:"flex-1 bg-gray-700 rounded-full h-2",children:l.jsx("div",{className:"bg-green-500 h-2 rounded-full",style:{width:`${$}%`}})}),l.jsx("div",{className:"w-8 text-xs text-right",children:$})]},H))})]}),l.jsxs("div",{className:"bg-gray-700/30 rounded-lg p-4",children:[l.jsx("h4",{className:"font-semibold text-blue-400 mb-3",children:"Fielding"}),l.jsx("div",{className:"space-y-2",children:Object.entries(Ee.fielding).map(([H,$])=>l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("div",{className:"w-24 text-xs text-gray-400 capitalize",children:H}),l.jsx("div",{className:"flex-1 bg-gray-700 rounded-full h-2",children:l.jsx("div",{className:"bg-blue-500 h-2 rounded-full",style:{width:`${$}%`}})}),l.jsx("div",{className:"w-8 text-xs text-right",children:$})]},H))})]}),l.jsxs("div",{className:"bg-gray-700/30 rounded-lg p-4",children:[l.jsx("h4",{className:"font-semibold text-purple-400 mb-3",children:"Profile"}),l.jsxs("div",{className:"grid grid-cols-2 gap-2 text-sm",children:[l.jsxs("div",{children:[l.jsx("span",{className:"text-gray-400",children:"Batting Style: "}),l.jsxs("span",{className:"capitalize",children:[Ee.battingStyle,"-handed"]})]}),l.jsxs("div",{children:[l.jsx("span",{className:"text-gray-400",children:"Bowling: "}),l.jsx("span",{className:"capitalize",children:Ee.bowlingStyle?.replace(/-/g," ")||"N/A"})]}),l.jsxs("div",{children:[l.jsx("span",{className:"text-gray-400",children:"Temperament: "}),l.jsx("span",{className:"capitalize",children:Ee.personality.temperament})]}),l.jsxs("div",{children:[l.jsx("span",{className:"text-gray-400",children:"Leadership: "}),l.jsxs("span",{children:[Ee.personality.leadership,"/100"]})]})]})]}),l.jsxs("div",{className:"bg-gray-700/30 rounded-lg p-4 border border-dashed border-gray-600",children:[l.jsx("h4",{className:"font-semibold text-gray-500 mb-2",children:"Season Stats"}),l.jsx("p",{className:"text-xs text-gray-500 italic",children:"Career statistics will be available once backend integration is complete."})]})]}),l.jsx("div",{className:"sticky bottom-0 bg-gray-800 p-4 border-t border-gray-700",children:l.jsx("button",{onClick:()=>ye(!1),className:"w-full bg-blue-600 hover:bg-blue-700 text-white py-3 rounded-lg font-medium",children:"Back to Auction"})})]})}),lt&&ve&&l.jsx("div",{className:"fixed inset-0 bg-black/90 flex items-center justify-center z-50 p-4 overflow-y-auto",children:l.jsxs("div",{className:"bg-gray-800 rounded-xl max-w-md w-full max-h-[90vh] overflow-y-auto",children:[l.jsxs("div",{className:"sticky top-0 bg-gray-800 p-4 border-b border-gray-700 flex items-center justify-between",children:[l.jsx("h3",{className:"font-bold text-lg",children:"Your Squad"}),l.jsx("button",{onClick:()=>ot(!1),className:"text-gray-400 hover:text-white text-xl",children:""})]}),l.jsxs("div",{className:"p-4 space-y-4",children:[l.jsxs("div",{className:"bg-gray-700/50 rounded-lg p-4",children:[l.jsxs("div",{className:"flex justify-between items-center mb-2",children:[l.jsx("span",{className:"text-gray-400",children:"Remaining Purse"}),l.jsx("span",{className:"text-2xl font-bold text-green-400",children:Dt(ve.remainingPurse)})]}),l.jsxs("div",{className:"flex justify-between text-sm",children:[l.jsx("span",{className:"text-gray-400",children:"Squad Size"}),l.jsxs("span",{children:[ve.squadSize," / ",c.settings.maxSquadSize]})]}),l.jsxs("div",{className:"flex justify-between text-sm",children:[l.jsx("span",{className:"text-gray-400",children:"Overseas"}),l.jsxs("span",{className:ve.overseasCount>=c.settings.maxOverseas?"text-red-400":"",children:[ve.overseasCount," / ",c.settings.maxOverseas]})]})]}),l.jsxs("div",{className:"bg-gray-700/30 rounded-lg p-4",children:[l.jsx("h4",{className:"font-semibold mb-3",children:"Squad Composition"}),l.jsx("div",{className:"space-y-3",children:[{role:"Batsmen",count:ve.batsmen,ideal:6,color:"bg-orange-500"},{role:"Bowlers",count:ve.bowlers,ideal:6,color:"bg-green-500"},{role:"All-rounders",count:ve.allrounders,ideal:4,color:"bg-purple-500"},{role:"Keepers",count:ve.keepers,ideal:2,color:"bg-blue-500"}].map(({role:H,count:$,ideal:ie,color:ce})=>l.jsxs("div",{children:[l.jsxs("div",{className:"flex justify-between text-sm mb-1",children:[l.jsx("span",{children:H}),l.jsxs("span",{className:$<Math.ceil(ie/2)?"text-red-400":$>=ie?"text-green-400":"text-yellow-400",children:[$," / ",ie," ideal"]})]}),l.jsx("div",{className:"flex gap-1",children:Array.from({length:ie}).map((me,Ue)=>l.jsx("div",{className:`h-2 flex-1 rounded ${Ue<$?ce:"bg-gray-700"}`},Ue))})]},H))})]}),l.jsxs("div",{className:"bg-gray-700/30 rounded-lg p-4",children:[l.jsx("h4",{className:"font-semibold mb-2",children:"Priority Needs"}),l.jsxs("div",{className:"space-y-1 text-sm",children:[ve.keepers<1&&l.jsx("div",{className:"text-red-400",children:" Urgent: Need at least 1 keeper"}),ve.bowlers<4&&l.jsxs("div",{className:"text-red-400",children:[" Urgent: Need more bowlers (",ve.bowlers,"/4 min)"]}),ve.batsmen<4&&l.jsxs("div",{className:"text-yellow-400",children:[" Need more batsmen (",ve.batsmen,"/4 min)"]}),ve.allrounders<2&&l.jsx("div",{className:"text-yellow-400",children:" Could use more all-rounders"}),ve.squadSize<18&&l.jsxs("div",{className:"text-gray-400",children:[" ",18-ve.squadSize," more players needed for minimum squad"]}),ve.keepers>=1&&ve.bowlers>=4&&ve.batsmen>=4&&ve.squadSize>=18&&l.jsx("div",{className:"text-green-400",children:" Squad looking balanced!"})]})]}),c.soldPlayers.filter(H=>H.currentBidder===i).length>0&&l.jsxs("div",{className:"bg-gray-700/30 rounded-lg p-4",children:[l.jsx("h4",{className:"font-semibold mb-3",children:"Players Bought"}),l.jsx("div",{className:"space-y-2 max-h-48 overflow-y-auto",children:c.soldPlayers.filter(H=>H.currentBidder===i).map(H=>{const $=o.find(ie=>ie.id===H.playerId);return $?l.jsxs("div",{className:"flex items-center justify-between text-sm",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("span",{className:`w-2 h-2 rounded-full ${Ta[$.role]}`}),l.jsx("span",{children:$.shortName}),$.contract.isOverseas&&l.jsx("span",{className:"text-xs text-blue-400",children:"OS"})]}),l.jsx("span",{className:"text-green-400",children:Dt(H.currentBid)})]},H.playerId):null})})]})]}),l.jsx("div",{className:"sticky bottom-0 bg-gray-800 p-4 border-t border-gray-700",children:l.jsx("button",{onClick:()=>ot(!1),className:"w-full bg-blue-600 hover:bg-blue-700 text-white py-3 rounded-lg font-medium",children:"Back to Auction"})})]})}),Wt&&l.jsx("div",{className:"fixed inset-0 bg-black/90 flex items-center justify-center z-50 p-4 overflow-y-auto",children:l.jsxs("div",{className:"bg-gray-800 rounded-xl max-w-md w-full max-h-[90vh] overflow-y-auto",children:[l.jsxs("div",{className:"sticky top-0 bg-gray-800 p-4 border-b border-gray-700 flex items-center justify-between",children:[l.jsx("h3",{className:"font-bold text-lg",children:"Upcoming Players"}),l.jsx("button",{onClick:()=>Ut(!1),className:"text-gray-400 hover:text-white text-xl",children:""})]}),l.jsx("div",{className:"p-4 space-y-4",children:(()=>{const H=c.auctionPool.filter(ce=>ce.status==="available").map(ce=>({...ce,player:o.find(me=>me.id===ce.playerId)})).filter(ce=>ce.player),$={batsman:H.filter(ce=>ce.player?.role==="batsman").length,bowler:H.filter(ce=>ce.player?.role==="bowler").length,allrounder:H.filter(ce=>ce.player?.role==="allrounder").length,keeper:H.filter(ce=>ce.player?.role==="keeper").length},ie=H.reduce((ce,me)=>ce+me.basePrice,0);return l.jsxs(l.Fragment,{children:[l.jsxs("div",{className:"bg-gray-700/50 rounded-lg p-3",children:[l.jsxs("div",{className:"flex justify-between items-center mb-2",children:[l.jsx("span",{className:"text-gray-400",children:"Players Remaining"}),l.jsx("span",{className:"text-xl font-bold",children:H.length})]}),l.jsxs("div",{className:"flex justify-between text-sm text-gray-400",children:[l.jsx("span",{children:"Combined Base Value"}),l.jsx("span",{className:"text-yellow-400",children:Dt(ie)})]})]}),l.jsx("div",{className:"grid grid-cols-4 gap-2",children:[{role:"batsman",label:"BAT",count:$.batsman,color:"bg-orange-600"},{role:"bowler",label:"BOWL",count:$.bowler,color:"bg-green-600"},{role:"allrounder",label:"AR",count:$.allrounder,color:"bg-purple-600"},{role:"keeper",label:"WK",count:$.keeper,color:"bg-blue-600"}].map(({label:ce,count:me,color:Ue})=>l.jsxs("div",{className:"bg-gray-700/50 rounded-lg p-2 text-center",children:[l.jsx("div",{className:`w-6 h-6 mx-auto rounded ${Ue} flex items-center justify-center text-xs font-bold mb-1`,children:ce}),l.jsx("div",{className:"text-sm font-bold",children:me})]},ce))}),["batsman","bowler","allrounder","keeper"].map(ce=>{const me=H.filter(Ue=>Ue.player?.role===ce);return me.length===0?null:l.jsxs("div",{className:"bg-gray-700/30 rounded-lg p-4",children:[l.jsxs("h4",{className:"font-semibold mb-3 flex items-center gap-2",children:[l.jsx("span",{className:`w-3 h-3 rounded ${Ta[ce]}`}),ce==="batsman"?"Batsmen":ce==="bowler"?"Bowlers":ce==="allrounder"?"All-rounders":"Keepers",l.jsxs("span",{className:"text-gray-500 font-normal",children:["(",me.length,")"]})]}),l.jsx("div",{className:"space-y-2 max-h-48 overflow-y-auto",children:me.map((Ue,Xe)=>{const Ye=Ue.player;return l.jsxs("div",{className:`flex items-center justify-between text-sm py-1 ${Xe===0?"bg-gray-700/50 -mx-2 px-2 rounded":""}`,children:[l.jsxs("div",{className:"flex items-center gap-2 flex-1 min-w-0",children:[l.jsxs("span",{className:"text-xs text-gray-500 w-5",children:["#",Xe+1]}),l.jsx("span",{className:"truncate",children:Ye.name}),Ye.contract.isOverseas&&l.jsx("span",{className:"text-xs text-blue-400",children:"OS"})]}),l.jsx("span",{className:"text-yellow-400 ml-2",children:zs(Ue.basePrice)})]},Ue.playerId)})})]},ce)}),l.jsxs("div",{className:"bg-yellow-900/30 border border-yellow-700/50 rounded-lg p-3",children:[l.jsx("div",{className:"text-sm text-yellow-400 font-medium mb-1",children:"Budget Tip"}),l.jsxs("div",{className:"text-xs text-gray-300",children:["You have ",Dt(ve.remainingPurse)," remaining and need"," ",Math.max(0,c.settings.minSquadSize-ve.squadSize)," more players.",ve.squadSize<c.settings.minSquadSize&&l.jsxs("span",{className:"text-yellow-400",children:[" ","Reserve at least ",Dt((c.settings.minSquadSize-ve.squadSize)*ct.MIN_RESERVE_PER_SLOT)," for minimum slots."]})]})]})]})})()}),l.jsx("div",{className:"sticky bottom-0 bg-gray-800 p-4 border-t border-gray-700",children:l.jsx("button",{onClick:()=>Ut(!1),className:"w-full bg-blue-600 hover:bg-blue-700 text-white py-3 rounded-lg font-medium",children:"Back to Auction"})})]})}),Zt&&l.jsx("div",{className:"fixed inset-0 bg-black/90 flex items-center justify-center z-50 p-4 overflow-y-auto",children:l.jsxs("div",{className:"bg-gray-800 rounded-xl max-w-md w-full max-h-[90vh] overflow-y-auto",children:[l.jsxs("div",{className:"sticky top-0 bg-gray-800 p-4 border-b border-gray-700 flex items-center justify-between",children:[l.jsx("h3",{className:"font-bold text-lg",children:"Auction Log"}),l.jsx("button",{onClick:()=>Ie(!1),className:"text-gray-400 hover:text-white text-xl",children:""})]}),l.jsxs("div",{className:"p-4 space-y-4",children:[l.jsxs("div",{className:"grid grid-cols-3 gap-2",children:[l.jsxs("div",{className:"bg-gray-700/50 rounded-lg p-3 text-center",children:[l.jsx("div",{className:"text-xl font-bold text-green-400",children:c.soldPlayers.length}),l.jsx("div",{className:"text-xs text-gray-400",children:"Sold"})]}),l.jsxs("div",{className:"bg-gray-700/50 rounded-lg p-3 text-center",children:[l.jsx("div",{className:"text-xl font-bold text-red-400",children:c.unsoldPlayers.length}),l.jsx("div",{className:"text-xs text-gray-400",children:"Unsold"})]}),l.jsxs("div",{className:"bg-gray-700/50 rounded-lg p-3 text-center",children:[l.jsx("div",{className:"text-xl font-bold text-gray-400",children:c.auctionPool.filter(H=>H.status==="available").length}),l.jsx("div",{className:"text-xs text-gray-400",children:"Remaining"})]})]}),c.soldPlayers.length>0&&l.jsxs("div",{className:"bg-gray-700/30 rounded-lg p-4",children:[l.jsx("h4",{className:"font-semibold mb-3 text-green-400",children:"Sold Players"}),l.jsx("div",{className:"space-y-2 max-h-64 overflow-y-auto",children:[...c.soldPlayers].reverse().map(H=>{const $=o.find(ce=>ce.id===H.playerId),ie=d.find(ce=>ce.id===H.currentBidder);return $?l.jsxs("div",{className:"flex items-center justify-between text-sm py-1 border-b border-gray-700 last:border-0",children:[l.jsxs("div",{className:"flex items-center gap-2 flex-1 min-w-0",children:[l.jsx("span",{className:`px-1.5 py-0.5 text-xs rounded ${Ta[$.role]}`,children:Rn[$.role]}),l.jsx("span",{className:"truncate",children:$.shortName}),$.contract.isOverseas&&l.jsx("span",{className:"text-xs text-blue-400",children:"OS"})]}),l.jsxs("div",{className:"flex items-center gap-2 ml-2",children:[l.jsx("span",{className:"text-xs px-1.5 py-0.5 rounded",style:{backgroundColor:ie?.colors.primary||"#666"},children:ie?.shortName}),l.jsx("span",{className:"text-green-400 font-medium w-16 text-right",children:zs(H.currentBid)})]})]},H.playerId):null})})]}),c.unsoldPlayers.length>0&&l.jsxs("div",{className:"bg-gray-700/30 rounded-lg p-4",children:[l.jsx("h4",{className:"font-semibold mb-3 text-red-400",children:"Unsold Players"}),l.jsx("div",{className:"space-y-1 max-h-32 overflow-y-auto",children:c.unsoldPlayers.map(H=>{const $=o.find(ie=>ie.id===H.playerId);return $?l.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-400",children:[l.jsx("span",{className:`px-1.5 py-0.5 text-xs rounded opacity-50 ${Ta[$.role]}`,children:Rn[$.role]}),l.jsx("span",{children:$.shortName}),l.jsxs("span",{className:"text-xs",children:["(",zs(H.basePrice)," base)"]})]},H.playerId):null})})]}),c.soldPlayers.length===0&&c.unsoldPlayers.length===0&&l.jsx("div",{className:"text-center text-gray-500 py-8",children:"No players have been auctioned yet."})]}),l.jsx("div",{className:"sticky bottom-0 bg-gray-800 p-4 border-t border-gray-700",children:l.jsx("button",{onClick:()=>Ie(!1),className:"w-full bg-blue-600 hover:bg-blue-700 text-white py-3 rounded-lg font-medium",children:"Back to Auction"})})]})})]})},Db=()=>{const{playerTeamId:i,teams:d,players:o,season:c,releasedPlayers:m,releasePlayer:f,confirmReleases:b}=Ze(),[x,g]=le.useState(new Set(m)),h=d.find(E=>E.id===i),v=o.filter(E=>h?.squad.includes(E.id)),p=[...v].sort((E,k)=>E.contract.yearsRemaining===0&&k.contract.yearsRemaining>0?-1:k.contract.yearsRemaining===0&&E.contract.yearsRemaining>0?1:E.contract.yearsRemaining-k.contract.yearsRemaining),T=()=>v.filter(E=>x.has(E.id)).reduce((E,k)=>E+k.contract.salary,0),w=E=>{const k=o.find(W=>W.id===E);if(!k||k.contract.yearsRemaining===0)return;const O=new Set(x);O.has(E)?O.delete(E):O.add(E),g(O)},j=()=>{x.forEach(E=>{m.includes(E)||f(E)}),b()},N=E=>{switch(E){case"batsman":return"text-blue-400";case"bowler":return"text-green-400";case"allrounder":return"text-purple-400";case"keeper":return"text-yellow-400";default:return"text-gray-400"}},S=E=>E>=100?`${(E/100).toFixed(2)} Cr`:`${E} L`;return l.jsxs("div",{className:"min-h-screen bg-gray-900 text-white pb-24",children:[l.jsx("header",{className:"bg-gradient-to-r from-orange-900 to-amber-800 p-6 border-b border-orange-700",children:l.jsxs("div",{className:"max-w-lg mx-auto text-center",children:[l.jsx("h1",{className:"text-2xl font-bold mb-1",children:"Release Phase"}),l.jsxs("p",{className:"text-orange-200",children:["Season ",c," - Mini Auction Preparation"]})]})}),l.jsxs("div",{className:"max-w-lg mx-auto p-4 space-y-4",children:[l.jsxs("div",{className:"bg-gray-800 rounded-xl p-4 border border-gray-700",children:[l.jsx("h3",{className:"text-sm font-semibold text-gray-400 mb-2",children:"RELEASE PHASE"}),l.jsx("p",{className:"text-sm text-gray-300",children:"Select players to release for the upcoming mini auction. Players with expired contracts (0 years remaining) are automatically released."}),l.jsxs("div",{className:"mt-3 flex justify-between items-center text-sm",children:[l.jsx("span",{className:"text-gray-400",children:"Potential Purse Refund:"}),l.jsx("span",{className:"text-green-400 font-bold",children:S(T())})]})]}),l.jsxs("div",{className:"bg-gray-800 rounded-xl border border-gray-700 overflow-hidden",children:[l.jsxs("div",{className:"p-3 border-b border-gray-700 flex justify-between items-center",children:[l.jsx("h3",{className:"text-sm font-semibold text-gray-400",children:"YOUR SQUAD"}),l.jsxs("span",{className:"text-xs text-gray-500",children:[x.size," selected for release"]})]}),l.jsx("div",{className:"divide-y divide-gray-700",children:p.map(E=>{const k=E.contract.yearsRemaining===0,O=x.has(E.id);return l.jsxs("div",{onClick:()=>w(E.id),className:`p-3 flex items-center justify-between cursor-pointer transition-colors ${O?"bg-red-900/30 border-l-4 border-red-500":"hover:bg-gray-700/50"} ${k?"opacity-75":""}`,children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("div",{className:`w-5 h-5 rounded border-2 flex items-center justify-center ${O?"bg-red-600 border-red-600":"border-gray-500"}`,children:O&&l.jsx("svg",{className:"w-3 h-3 text-white",fill:"currentColor",viewBox:"0 0 20 20",children:l.jsx("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})})}),l.jsxs("div",{children:[l.jsxs("div",{className:"font-medium flex items-center gap-2",children:[E.shortName,E.contract.isOverseas&&l.jsx("span",{className:"text-xs bg-blue-900/50 text-blue-300 px-1.5 py-0.5 rounded",children:"OS"})]}),l.jsxs("div",{className:"text-xs text-gray-500 flex items-center gap-2",children:[l.jsx("span",{className:N(E.role),children:E.role.charAt(0).toUpperCase()+E.role.slice(1)}),l.jsxs("span",{children:["Age ",E.age]})]})]})]}),l.jsxs("div",{className:"text-right",children:[l.jsx("div",{className:"text-sm font-medium",children:S(E.contract.salary)}),l.jsx("div",{className:`text-xs ${k?"text-red-400 font-medium":"text-gray-500"}`,children:k?"EXPIRED":`${E.contract.yearsRemaining}yr left`})]})]},E.id)})})]}),l.jsxs("div",{className:"bg-gray-800 rounded-xl p-4 border border-gray-700",children:[l.jsxs("div",{className:"flex justify-between items-center mb-2",children:[l.jsx("span",{className:"text-gray-400",children:"Squad After Releases:"}),l.jsxs("span",{className:`font-bold ${v.length-x.size<18?"text-yellow-400":"text-white"}`,children:[v.length-x.size," players"]})]}),l.jsxs("div",{className:"flex justify-between items-center",children:[l.jsx("span",{className:"text-gray-400",children:"Overseas After Releases:"}),l.jsxs("span",{className:"font-bold",children:[v.filter(E=>!x.has(E.id)&&E.contract.isOverseas).length," / 8"]})]})]}),l.jsx("button",{onClick:j,className:"w-full bg-gradient-to-r from-orange-600 to-amber-600 hover:from-orange-500 hover:to-amber-500 text-white py-4 rounded-lg font-bold text-lg transition-colors shadow-lg",children:"Confirm Releases & Start Mini Auction"})]})]})};function _b(){const{initialized:i,currentScreen:d,phase:o,auctionState:c,liveMatchState:m,navigateTo:f,selectMatch:b}=Ze(),x=le.useRef(!1);if(le.useEffect(()=>{if(!(!i||x.current)){if(m?.matchId){x.current=!0,b(m.matchId),f("match-live");return}if(o==="auction"&&c?.status&&c.status!=="completed"){x.current=!0,c.status==="release_phase"?f("release-phase"):f("auction");return}x.current=!0}},[i]),!i)return l.jsx(z0,{children:l.jsx($x,{})});const h=!["match-live","match-prep","event","season-summary","player-talk","team-meeting","auction","release-phase"].includes(d),v=()=>{switch(d){case"home":return l.jsx(D0,{});case"squad":return l.jsx(Ix,{});case"player-detail":return l.jsx(Jx,{});case"player-talk":return l.jsx(eb,{});case"team-meeting":return l.jsx(ab,{});case"stats":return l.jsx(lb,{});case"schedule":return l.jsx(sb,{});case"club":return l.jsx(nb,{});case"match-prep":return l.jsx(ub,{});case"match-live":return l.jsx(Ab,{});case"season-summary":return l.jsx(Bb,{});case"event":return l.jsx(kb,{});case"auction":return l.jsx(zb,{});case"release-phase":return l.jsx(Db,{});default:return l.jsx(D0,{})}},T=["schedule"].includes(d);return l.jsx(z0,{children:l.jsxs("div",{className:"min-h-screen bg-gray-900",children:[l.jsx(wx,{}),l.jsx(Yx,{}),v(),h&&l.jsx(Nx,{}),l.jsx(Zx,{allowStacking:T})]})})}Sg.createRoot(document.getElementById("root")).render(l.jsx(le.StrictMode,{children:l.jsx(_b,{})}));
