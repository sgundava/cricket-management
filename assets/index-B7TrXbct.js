import{r as cx,a as ox,c as ux,b as le,R as dx}from"./vendor-3atx5Jhe.js";import{t as Kl,a as U0}from"./game-data-C-0PN-B8.js";(function(){const d=document.createElement("link").relList;if(d&&d.supports&&d.supports("modulepreload"))return;for(const f of document.querySelectorAll('link[rel="modulepreload"]'))o(f);new MutationObserver(f=>{for(const m of f)if(m.type==="childList")for(const b of m.addedNodes)b.tagName==="LINK"&&b.rel==="modulepreload"&&o(b)}).observe(document,{childList:!0,subtree:!0});function c(f){const m={};return f.integrity&&(m.integrity=f.integrity),f.referrerPolicy&&(m.referrerPolicy=f.referrerPolicy),f.crossOrigin==="use-credentials"?m.credentials="include":f.crossOrigin==="anonymous"?m.credentials="omit":m.credentials="same-origin",m}function o(f){if(f.ep)return;f.ep=!0;const m=c(f);fetch(f.href,m)}})();var Pc={exports:{}},Tn={};var d0;function mx(){if(d0)return Tn;d0=1;var i=Symbol.for("react.transitional.element"),d=Symbol.for("react.fragment");function c(o,f,m){var b=null;if(m!==void 0&&(b=""+m),f.key!==void 0&&(b=""+f.key),"key"in f){m={};for(var y in f)y!=="key"&&(m[y]=f[y])}else m=f;return f=m.ref,{$$typeof:i,type:o,key:b,ref:f!==void 0?f:null,props:m}}return Tn.Fragment=d,Tn.jsx=c,Tn.jsxs=c,Tn}var m0;function fx(){return m0||(m0=1,Pc.exports=mx()),Pc.exports}var l=fx(),Jc={exports:{}},Mn={},Wc={exports:{}},eo={};var f0;function hx(){return f0||(f0=1,(function(i){function d(z,K){var te=z.length;z.push(K);e:for(;0<te;){var xe=te-1>>>1,Y=z[xe];if(0<f(Y,K))z[xe]=K,z[te]=Y,te=xe;else break e}}function c(z){return z.length===0?null:z[0]}function o(z){if(z.length===0)return null;var K=z[0],te=z.pop();if(te!==K){z[0]=te;e:for(var xe=0,Y=z.length,M=Y>>>1;xe<M;){var F=2*(xe+1)-1,de=z[F],re=F+1,Oe=z[re];if(0>f(de,te))re<Y&&0>f(Oe,de)?(z[xe]=Oe,z[re]=te,xe=re):(z[xe]=de,z[F]=te,xe=F);else if(re<Y&&0>f(Oe,te))z[xe]=Oe,z[re]=te,xe=re;else break e}}return K}function f(z,K){var te=z.sortIndex-K.sortIndex;return te!==0?te:z.id-K.id}if(i.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var m=performance;i.unstable_now=function(){return m.now()}}else{var b=Date,y=b.now();i.unstable_now=function(){return b.now()-y}}var x=[],h=[],v=1,p=null,A=3,S=!1,j=!1,N=!1,w=!1,E=typeof setTimeout=="function"?setTimeout:null,k=typeof clearTimeout=="function"?clearTimeout:null,B=typeof setImmediate<"u"?setImmediate:null;function W(z){for(var K=c(h);K!==null;){if(K.callback===null)o(h);else if(K.startTime<=z)o(h),K.sortIndex=K.expirationTime,d(x,K);else break;K=c(h)}}function _(z){if(N=!1,W(z),!j)if(c(x)!==null)j=!0,ne||(ne=!0,J());else{var K=c(h);K!==null&&se(_,K.startTime-z)}}var ne=!1,R=-1,G=5,ue=-1;function O(){return w?!0:!(i.unstable_now()-ue<G)}function ae(){if(w=!1,ne){var z=i.unstable_now();ue=z;var K=!0;try{e:{j=!1,N&&(N=!1,k(R),R=-1),S=!0;var te=A;try{t:{for(W(z),p=c(x);p!==null&&!(p.expirationTime>z&&O());){var xe=p.callback;if(typeof xe=="function"){p.callback=null,A=p.priorityLevel;var Y=xe(p.expirationTime<=z);if(z=i.unstable_now(),typeof Y=="function"){p.callback=Y,W(z),K=!0;break t}p===c(x)&&o(x),W(z)}else o(x);p=c(x)}if(p!==null)K=!0;else{var M=c(h);M!==null&&se(_,M.startTime-z),K=!1}}break e}finally{p=null,A=te,S=!1}K=void 0}}finally{K?J():ne=!1}}}var J;if(typeof B=="function")J=function(){B(ae)};else if(typeof MessageChannel<"u"){var Z=new MessageChannel,fe=Z.port2;Z.port1.onmessage=ae,J=function(){fe.postMessage(null)}}else J=function(){E(ae,0)};function se(z,K){R=E(function(){z(i.unstable_now())},K)}i.unstable_IdlePriority=5,i.unstable_ImmediatePriority=1,i.unstable_LowPriority=4,i.unstable_NormalPriority=3,i.unstable_Profiling=null,i.unstable_UserBlockingPriority=2,i.unstable_cancelCallback=function(z){z.callback=null},i.unstable_forceFrameRate=function(z){0>z||125<z?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):G=0<z?Math.floor(1e3/z):5},i.unstable_getCurrentPriorityLevel=function(){return A},i.unstable_next=function(z){switch(A){case 1:case 2:case 3:var K=3;break;default:K=A}var te=A;A=K;try{return z()}finally{A=te}},i.unstable_requestPaint=function(){w=!0},i.unstable_runWithPriority=function(z,K){switch(z){case 1:case 2:case 3:case 4:case 5:break;default:z=3}var te=A;A=z;try{return K()}finally{A=te}},i.unstable_scheduleCallback=function(z,K,te){var xe=i.unstable_now();switch(typeof te=="object"&&te!==null?(te=te.delay,te=typeof te=="number"&&0<te?xe+te:xe):te=xe,z){case 1:var Y=-1;break;case 2:Y=250;break;case 5:Y=1073741823;break;case 4:Y=1e4;break;default:Y=5e3}return Y=te+Y,z={id:v++,callback:K,priorityLevel:z,startTime:te,expirationTime:Y,sortIndex:-1},te>xe?(z.sortIndex=te,d(h,z),c(x)===null&&z===c(h)&&(N?(k(R),R=-1):N=!0,se(_,te-xe))):(z.sortIndex=Y,d(x,z),j||S||(j=!0,ne||(ne=!0,J()))),z},i.unstable_shouldYield=O,i.unstable_wrapCallback=function(z){var K=A;return function(){var te=A;A=K;try{return z.apply(this,arguments)}finally{A=te}}}})(eo)),eo}var h0;function xx(){return h0||(h0=1,Wc.exports=hx()),Wc.exports}var x0;function gx(){if(x0)return Mn;x0=1;var i=xx(),d=cx(),c=ox();function o(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)t+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function f(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function m(e){var t=e,a=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,(t.flags&4098)!==0&&(a=t.return),e=t.return;while(e)}return t.tag===3?a:null}function b(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function y(e){if(e.tag===31){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function x(e){if(m(e)!==e)throw Error(o(188))}function h(e){var t=e.alternate;if(!t){if(t=m(e),t===null)throw Error(o(188));return t!==e?null:e}for(var a=e,s=t;;){var n=a.return;if(n===null)break;var r=n.alternate;if(r===null){if(s=n.return,s!==null){a=s;continue}break}if(n.child===r.child){for(r=n.child;r;){if(r===a)return x(n),e;if(r===s)return x(n),t;r=r.sibling}throw Error(o(188))}if(a.return!==s.return)a=n,s=r;else{for(var u=!1,g=n.child;g;){if(g===a){u=!0,a=n,s=r;break}if(g===s){u=!0,s=n,a=r;break}g=g.sibling}if(!u){for(g=r.child;g;){if(g===a){u=!0,a=r,s=n;break}if(g===s){u=!0,s=r,a=n;break}g=g.sibling}if(!u)throw Error(o(189))}}if(a.alternate!==s)throw Error(o(190))}if(a.tag!==3)throw Error(o(188));return a.stateNode.current===a?e:t}function v(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e;for(e=e.child;e!==null;){if(t=v(e),t!==null)return t;e=e.sibling}return null}var p=Object.assign,A=Symbol.for("react.element"),S=Symbol.for("react.transitional.element"),j=Symbol.for("react.portal"),N=Symbol.for("react.fragment"),w=Symbol.for("react.strict_mode"),E=Symbol.for("react.profiler"),k=Symbol.for("react.consumer"),B=Symbol.for("react.context"),W=Symbol.for("react.forward_ref"),_=Symbol.for("react.suspense"),ne=Symbol.for("react.suspense_list"),R=Symbol.for("react.memo"),G=Symbol.for("react.lazy"),ue=Symbol.for("react.activity"),O=Symbol.for("react.memo_cache_sentinel"),ae=Symbol.iterator;function J(e){return e===null||typeof e!="object"?null:(e=ae&&e[ae]||e["@@iterator"],typeof e=="function"?e:null)}var Z=Symbol.for("react.client.reference");function fe(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===Z?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case N:return"Fragment";case E:return"Profiler";case w:return"StrictMode";case _:return"Suspense";case ne:return"SuspenseList";case ue:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case j:return"Portal";case B:return e.displayName||"Context";case k:return(e._context.displayName||"Context")+".Consumer";case W:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case R:return t=e.displayName||null,t!==null?t:fe(e.type)||"Memo";case G:t=e._payload,e=e._init;try{return fe(e(t))}catch{}}return null}var se=Array.isArray,z=d.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,K=c.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,te={pending:!1,data:null,method:null,action:null},xe=[],Y=-1;function M(e){return{current:e}}function F(e){0>Y||(e.current=xe[Y],xe[Y]=null,Y--)}function de(e,t){Y++,xe[Y]=e.current,e.current=t}var re=M(null),Oe=M(null),Ae=M(null),ye=M(null);function lt(e,t){switch(de(Ae,t),de(Oe,e),de(re,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?zm(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)t=zm(t),e=Dm(t,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}F(re),de(re,e)}function ct(){F(re),F(Oe),F(Ae)}function Zt(e){e.memoizedState!==null&&de(ye,e);var t=re.current,a=Dm(t,e.type);t!==a&&(de(Oe,e),de(re,a))}function Ie(e){Oe.current===e&&(F(re),F(Oe)),ye.current===e&&(F(ye),Nn._currentValue=te)}var gt,qt;function Jt(e){if(gt===void 0)try{throw Error()}catch(a){var t=a.stack.trim().match(/\n( *(at )?)/);gt=t&&t[1]||"",qt=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+gt+e+qt}var Ut=!1;function ra(e,t){if(!e||Ut)return"";Ut=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var s={DetermineComponentFrameRoot:function(){try{if(t){var ee=function(){throw Error()};if(Object.defineProperty(ee.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ee,[])}catch(Q){var L=Q}Reflect.construct(e,[],ee)}else{try{ee.call()}catch(Q){L=Q}e.call(ee.prototype)}}else{try{throw Error()}catch(Q){L=Q}(ee=e())&&typeof ee.catch=="function"&&ee.catch(function(){})}}catch(Q){if(Q&&L&&typeof Q.stack=="string")return[Q.stack,L.stack]}return[null,null]}};s.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var n=Object.getOwnPropertyDescriptor(s.DetermineComponentFrameRoot,"name");n&&n.configurable&&Object.defineProperty(s.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var r=s.DetermineComponentFrameRoot(),u=r[0],g=r[1];if(u&&g){var T=u.split(`
`),U=g.split(`
`);for(n=s=0;s<T.length&&!T[s].includes("DetermineComponentFrameRoot");)s++;for(;n<U.length&&!U[n].includes("DetermineComponentFrameRoot");)n++;if(s===T.length||n===U.length)for(s=T.length-1,n=U.length-1;1<=s&&0<=n&&T[s]!==U[n];)n--;for(;1<=s&&0<=n;s--,n--)if(T[s]!==U[n]){if(s!==1||n!==1)do if(s--,n--,0>n||T[s]!==U[n]){var V=`
`+T[s].replace(" at new "," at ");return e.displayName&&V.includes("<anonymous>")&&(V=V.replace("<anonymous>",e.displayName)),V}while(1<=s&&0<=n);break}}}finally{Ut=!1,Error.prepareStackTrace=a}return(a=e?e.displayName||e.name:"")?Jt(a):""}function he(e,t){switch(e.tag){case 26:case 27:case 5:return Jt(e.type);case 16:return Jt("Lazy");case 13:return e.child!==t&&t!==null?Jt("Suspense Fallback"):Jt("Suspense");case 19:return Jt("SuspenseList");case 0:case 15:return ra(e.type,!1);case 11:return ra(e.type.render,!1);case 1:return ra(e.type,!0);case 31:return Jt("Activity");default:return""}}function We(e){try{var t="",a=null;do t+=he(e,a),a=e,e=e.return;while(e);return t}catch(s){return`
Error generating stack: `+s.message+`
`+s.stack}}var X=Object.prototype.hasOwnProperty,Ca=i.unstable_scheduleCallback,Oa=i.unstable_cancelCallback,Ht=i.unstable_shouldYield,ve=i.unstable_requestPaint,Be=i.unstable_now,Ee=i.unstable_getCurrentPriorityLevel,Il=i.unstable_ImmediatePriority,bt=i.unstable_UserBlockingPriority,Ta=i.unstable_NormalPriority,El=i.unstable_LowPriority,tl=i.unstable_IdlePriority,Fl=i.log,zs=i.unstable_setDisableYieldValue,Ba=null,yt=null;function Gt(e){if(typeof Fl=="function"&&zs(e),yt&&typeof yt.setStrictMode=="function")try{yt.setStrictMode(Ba,e)}catch{}}var I=Math.clz32?Math.clz32:Ne,ge=Math.log,Me=Math.LN2;function Ne(e){return e>>>=0,e===0?32:31-(ge(e)/Me|0)|0}var oe=256,Se=262144,Ge=4194304;function H(e){var t=e&42;if(t!==0)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function $(e,t,a){var s=e.pendingLanes;if(s===0)return 0;var n=0,r=e.suspendedLanes,u=e.pingedLanes;e=e.warmLanes;var g=s&134217727;return g!==0?(s=g&~r,s!==0?n=H(s):(u&=g,u!==0?n=H(u):a||(a=g&~e,a!==0&&(n=H(a))))):(g=s&~r,g!==0?n=H(g):u!==0?n=H(u):a||(a=s&~e,a!==0&&(n=H(a)))),n===0?0:t!==0&&t!==n&&(t&r)===0&&(r=n&-n,a=t&-t,r>=a||r===32&&(a&4194048)!==0)?t:n}function ie(e,t){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)===0}function ce(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function me(){var e=Ge;return Ge<<=1,(Ge&62914560)===0&&(Ge=4194304),e}function Ue(e){for(var t=[],a=0;31>a;a++)t.push(e);return t}function Xe(e,t){e.pendingLanes|=t,t!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Ye(e,t,a,s,n,r){var u=e.pendingLanes;e.pendingLanes=a,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=a,e.entangledLanes&=a,e.errorRecoveryDisabledLanes&=a,e.shellSuspendCounter=0;var g=e.entanglements,T=e.expirationTimes,U=e.hiddenUpdates;for(a=u&~a;0<a;){var V=31-I(a),ee=1<<V;g[V]=0,T[V]=-1;var L=U[V];if(L!==null)for(U[V]=null,V=0;V<L.length;V++){var Q=L[V];Q!==null&&(Q.lane&=-536870913)}a&=~ee}s!==0&&ca(e,s,0),r!==0&&n===0&&e.tag!==0&&(e.suspendedLanes|=r&~(u&~t))}function ca(e,t,a){e.pendingLanes|=t,e.suspendedLanes&=~t;var s=31-I(t);e.entangledLanes|=t,e.entanglements[s]=e.entanglements[s]|1073741824|a&261930}function Te(e,t){var a=e.entangledLanes|=t;for(e=e.entanglements;a;){var s=31-I(a),n=1<<s;n&t|e[s]&t&&(e[s]|=t),a&=~n}}function Fe(e,t){var a=t&-t;return a=(a&42)!==0?1:$e(a),(a&(e.suspendedLanes|t))!==0?0:a}function $e(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function mt(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function Rt(){var e=K.p;return e!==0?e:(e=window.event,e===void 0?32:s0(e.type))}function Ds(e,t){var a=K.p;try{return K.p=e,t()}finally{K.p=a}}var ka=Math.random().toString(36).slice(2),He="__reactFiber$"+ka,pt="__reactProps$"+ka,vt="__reactContainer$"+ka,Ct="__reactEvents$"+ka,Yt="__reactListeners$"+ka,Lt="__reactHandles$"+ka,Wt="__reactResources$"+ka,Mt="__reactMarker$"+ka;function _s(e){delete e[He],delete e[pt],delete e[Ct],delete e[Yt],delete e[Lt]}function za(e){var t=e[He];if(t)return t;for(var a=e.parentNode;a;){if(t=a[vt]||a[He]){if(a=t.alternate,t.child!==null||a!==null&&a.child!==null)for(e=Ym(e);e!==null;){if(a=e[He])return a;e=Ym(e)}return t}e=a,a=e.parentNode}return null}function al(e){if(e=e[He]||e[vt]){var t=e.tag;if(t===5||t===6||t===13||t===31||t===26||t===27||t===3)return e}return null}function ll(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e.stateNode;throw Error(o(33))}function Da(e){var t=e[Wt];return t||(t=e[Wt]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function ft(e){e[Mt]=!0}var pa=new Set,va={};function Xt(e,t){Pl(e,t),Pl(e+"Capture",t)}function Pl(e,t){for(va[e]=t,e=0;e<t.length;e++)pa.add(t[e])}var J0=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),wo={},To={};function W0(e){return X.call(To,e)?!0:X.call(wo,e)?!1:J0.test(e)?To[e]=!0:(wo[e]=!0,!1)}function On(e,t,a){if(W0(t))if(a===null)e.removeAttribute(t);else{switch(typeof a){case"undefined":case"function":case"symbol":e.removeAttribute(t);return;case"boolean":var s=t.toLowerCase().slice(0,5);if(s!=="data-"&&s!=="aria-"){e.removeAttribute(t);return}}e.setAttribute(t,""+a)}}function Bn(e,t,a){if(a===null)e.removeAttribute(t);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(t);return}e.setAttribute(t,""+a)}}function _a(e,t,a,s){if(s===null)e.removeAttribute(a);else{switch(typeof s){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(a);return}e.setAttributeNS(t,a,""+s)}}function oa(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Mo(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function ef(e,t,a){var s=Object.getOwnPropertyDescriptor(e.constructor.prototype,t);if(!e.hasOwnProperty(t)&&typeof s<"u"&&typeof s.get=="function"&&typeof s.set=="function"){var n=s.get,r=s.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return n.call(this)},set:function(u){a=""+u,r.call(this,u)}}),Object.defineProperty(e,t,{enumerable:s.enumerable}),{getValue:function(){return a},setValue:function(u){a=""+u},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Qi(e){if(!e._valueTracker){var t=Mo(e)?"checked":"value";e._valueTracker=ef(e,t,""+e[t])}}function Eo(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var a=t.getValue(),s="";return e&&(s=Mo(e)?e.checked?"true":"false":e.value),e=s,e!==a?(t.setValue(e),!0):!1}function kn(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var tf=/[\n"\\]/g;function ua(e){return e.replace(tf,function(t){return"\\"+t.charCodeAt(0).toString(16)+" "})}function Zi(e,t,a,s,n,r,u,g){e.name="",u!=null&&typeof u!="function"&&typeof u!="symbol"&&typeof u!="boolean"?e.type=u:e.removeAttribute("type"),t!=null?u==="number"?(t===0&&e.value===""||e.value!=t)&&(e.value=""+oa(t)):e.value!==""+oa(t)&&(e.value=""+oa(t)):u!=="submit"&&u!=="reset"||e.removeAttribute("value"),t!=null?Vi(e,u,oa(t)):a!=null?Vi(e,u,oa(a)):s!=null&&e.removeAttribute("value"),n==null&&r!=null&&(e.defaultChecked=!!r),n!=null&&(e.checked=n&&typeof n!="function"&&typeof n!="symbol"),g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"?e.name=""+oa(g):e.removeAttribute("name")}function Ao(e,t,a,s,n,r,u,g){if(r!=null&&typeof r!="function"&&typeof r!="symbol"&&typeof r!="boolean"&&(e.type=r),t!=null||a!=null){if(!(r!=="submit"&&r!=="reset"||t!=null)){Qi(e);return}a=a!=null?""+oa(a):"",t=t!=null?""+oa(t):a,g||t===e.value||(e.value=t),e.defaultValue=t}s=s??n,s=typeof s!="function"&&typeof s!="symbol"&&!!s,e.checked=g?e.checked:!!s,e.defaultChecked=!!s,u!=null&&typeof u!="function"&&typeof u!="symbol"&&typeof u!="boolean"&&(e.name=u),Qi(e)}function Vi(e,t,a){t==="number"&&kn(e.ownerDocument)===e||e.defaultValue===""+a||(e.defaultValue=""+a)}function Jl(e,t,a,s){if(e=e.options,t){t={};for(var n=0;n<a.length;n++)t["$"+a[n]]=!0;for(a=0;a<e.length;a++)n=t.hasOwnProperty("$"+e[a].value),e[a].selected!==n&&(e[a].selected=n),n&&s&&(e[a].defaultSelected=!0)}else{for(a=""+oa(a),t=null,n=0;n<e.length;n++){if(e[n].value===a){e[n].selected=!0,s&&(e[n].defaultSelected=!0);return}t!==null||e[n].disabled||(t=e[n])}t!==null&&(t.selected=!0)}}function Ro(e,t,a){if(t!=null&&(t=""+oa(t),t!==e.value&&(e.value=t),a==null)){e.defaultValue!==t&&(e.defaultValue=t);return}e.defaultValue=a!=null?""+oa(a):""}function Co(e,t,a,s){if(t==null){if(s!=null){if(a!=null)throw Error(o(92));if(se(s)){if(1<s.length)throw Error(o(93));s=s[0]}a=s}a==null&&(a=""),t=a}a=oa(t),e.defaultValue=a,s=e.textContent,s===a&&s!==""&&s!==null&&(e.value=s),Qi(e)}function Wl(e,t){if(t){var a=e.firstChild;if(a&&a===e.lastChild&&a.nodeType===3){a.nodeValue=t;return}}e.textContent=t}var af=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Oo(e,t,a){var s=t.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?s?e.setProperty(t,""):t==="float"?e.cssFloat="":e[t]="":s?e.setProperty(t,a):typeof a!="number"||a===0||af.has(t)?t==="float"?e.cssFloat=a:e[t]=(""+a).trim():e[t]=a+"px"}function Bo(e,t,a){if(t!=null&&typeof t!="object")throw Error(o(62));if(e=e.style,a!=null){for(var s in a)!a.hasOwnProperty(s)||t!=null&&t.hasOwnProperty(s)||(s.indexOf("--")===0?e.setProperty(s,""):s==="float"?e.cssFloat="":e[s]="");for(var n in t)s=t[n],t.hasOwnProperty(n)&&a[n]!==s&&Oo(e,n,s)}else for(var r in t)t.hasOwnProperty(r)&&Oo(e,r,t[r])}function $i(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var lf=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),sf=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function zn(e){return sf.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function qa(){}var Ki=null;function Ii(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var es=null,ts=null;function ko(e){var t=al(e);if(t&&(e=t.stateNode)){var a=e[pt]||null;e:switch(e=t.stateNode,t.type){case"input":if(Zi(e,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),t=a.name,a.type==="radio"&&t!=null){for(a=e;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+ua(""+t)+'"][type="radio"]'),t=0;t<a.length;t++){var s=a[t];if(s!==e&&s.form===e.form){var n=s[pt]||null;if(!n)throw Error(o(90));Zi(s,n.value,n.defaultValue,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name)}}for(t=0;t<a.length;t++)s=a[t],s.form===e.form&&Eo(s)}break e;case"textarea":Ro(e,a.value,a.defaultValue);break e;case"select":t=a.value,t!=null&&Jl(e,!!a.multiple,t,!1)}}}var Fi=!1;function zo(e,t,a){if(Fi)return e(t,a);Fi=!0;try{var s=e(t);return s}finally{if(Fi=!1,(es!==null||ts!==null)&&(Ni(),es&&(t=es,e=ts,ts=es=null,ko(t),e)))for(t=0;t<e.length;t++)ko(e[t])}}function qs(e,t){var a=e.stateNode;if(a===null)return null;var s=a[pt]||null;if(s===null)return null;a=s[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(s=!s.disabled)||(e=e.type,s=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!s;break e;default:e=!1}if(e)return null;if(a&&typeof a!="function")throw Error(o(231,t,typeof a));return a}var Ua=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Pi=!1;if(Ua)try{var Us={};Object.defineProperty(Us,"passive",{get:function(){Pi=!0}}),window.addEventListener("test",Us,Us),window.removeEventListener("test",Us,Us)}catch{Pi=!1}var sl=null,Ji=null,Dn=null;function Do(){if(Dn)return Dn;var e,t=Ji,a=t.length,s,n="value"in sl?sl.value:sl.textContent,r=n.length;for(e=0;e<a&&t[e]===n[e];e++);var u=a-e;for(s=1;s<=u&&t[a-s]===n[r-s];s++);return Dn=n.slice(e,1<s?1-s:void 0)}function _n(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function qn(){return!0}function _o(){return!1}function Vt(e){function t(a,s,n,r,u){this._reactName=a,this._targetInst=n,this.type=s,this.nativeEvent=r,this.target=u,this.currentTarget=null;for(var g in e)e.hasOwnProperty(g)&&(a=e[g],this[g]=a?a(r):r[g]);return this.isDefaultPrevented=(r.defaultPrevented!=null?r.defaultPrevented:r.returnValue===!1)?qn:_o,this.isPropagationStopped=_o,this}return p(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=qn)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=qn)},persist:function(){},isPersistent:qn}),t}var Al={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Un=Vt(Al),Hs=p({},Al,{view:0,detail:0}),nf=Vt(Hs),Wi,er,Ls,Hn=p({},Hs,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ar,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Ls&&(Ls&&e.type==="mousemove"?(Wi=e.screenX-Ls.screenX,er=e.screenY-Ls.screenY):er=Wi=0,Ls=e),Wi)},movementY:function(e){return"movementY"in e?e.movementY:er}}),qo=Vt(Hn),rf=p({},Hn,{dataTransfer:0}),cf=Vt(rf),of=p({},Hs,{relatedTarget:0}),tr=Vt(of),uf=p({},Al,{animationName:0,elapsedTime:0,pseudoElement:0}),df=Vt(uf),mf=p({},Al,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),ff=Vt(mf),hf=p({},Al,{data:0}),Uo=Vt(hf),xf={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},gf={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},bf={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function yf(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=bf[e])?!!t[e]:!1}function ar(){return yf}var pf=p({},Hs,{key:function(e){if(e.key){var t=xf[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=_n(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?gf[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ar,charCode:function(e){return e.type==="keypress"?_n(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?_n(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),vf=Vt(pf),Nf=p({},Hn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ho=Vt(Nf),jf=p({},Hs,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ar}),Sf=Vt(jf),wf=p({},Al,{propertyName:0,elapsedTime:0,pseudoElement:0}),Tf=Vt(wf),Mf=p({},Hn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Ef=Vt(Mf),Af=p({},Al,{newState:0,oldState:0}),Rf=Vt(Af),Cf=[9,13,27,32],lr=Ua&&"CompositionEvent"in window,Gs=null;Ua&&"documentMode"in document&&(Gs=document.documentMode);var Of=Ua&&"TextEvent"in window&&!Gs,Lo=Ua&&(!lr||Gs&&8<Gs&&11>=Gs),Go=" ",Yo=!1;function Xo(e,t){switch(e){case"keyup":return Cf.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Qo(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var as=!1;function Bf(e,t){switch(e){case"compositionend":return Qo(t);case"keypress":return t.which!==32?null:(Yo=!0,Go);case"textInput":return e=t.data,e===Go&&Yo?null:e;default:return null}}function kf(e,t){if(as)return e==="compositionend"||!lr&&Xo(e,t)?(e=Do(),Dn=Ji=sl=null,as=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Lo&&t.locale!=="ko"?null:t.data;default:return null}}var zf={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Zo(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!zf[e.type]:t==="textarea"}function Vo(e,t,a,s){es?ts?ts.push(s):ts=[s]:es=s,t=Ai(t,"onChange"),0<t.length&&(a=new Un("onChange","change",null,a,s),e.push({event:a,listeners:t}))}var Ys=null,Xs=null;function Df(e){Am(e,0)}function Ln(e){var t=ll(e);if(Eo(t))return e}function $o(e,t){if(e==="change")return t}var Ko=!1;if(Ua){var sr;if(Ua){var nr="oninput"in document;if(!nr){var Io=document.createElement("div");Io.setAttribute("oninput","return;"),nr=typeof Io.oninput=="function"}sr=nr}else sr=!1;Ko=sr&&(!document.documentMode||9<document.documentMode)}function Fo(){Ys&&(Ys.detachEvent("onpropertychange",Po),Xs=Ys=null)}function Po(e){if(e.propertyName==="value"&&Ln(Xs)){var t=[];Vo(t,Xs,e,Ii(e)),zo(Df,t)}}function _f(e,t,a){e==="focusin"?(Fo(),Ys=t,Xs=a,Ys.attachEvent("onpropertychange",Po)):e==="focusout"&&Fo()}function qf(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Ln(Xs)}function Uf(e,t){if(e==="click")return Ln(t)}function Hf(e,t){if(e==="input"||e==="change")return Ln(t)}function Lf(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var ea=typeof Object.is=="function"?Object.is:Lf;function Qs(e,t){if(ea(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var a=Object.keys(e),s=Object.keys(t);if(a.length!==s.length)return!1;for(s=0;s<a.length;s++){var n=a[s];if(!X.call(t,n)||!ea(e[n],t[n]))return!1}return!0}function Jo(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Wo(e,t){var a=Jo(e);e=0;for(var s;a;){if(a.nodeType===3){if(s=e+a.textContent.length,e<=t&&s>=t)return{node:a,offset:t-e};e=s}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=Jo(a)}}function eu(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?eu(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function tu(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var t=kn(e.document);t instanceof e.HTMLIFrameElement;){try{var a=typeof t.contentWindow.location.href=="string"}catch{a=!1}if(a)e=t.contentWindow;else break;t=kn(e.document)}return t}function ir(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}var Gf=Ua&&"documentMode"in document&&11>=document.documentMode,ls=null,rr=null,Zs=null,cr=!1;function au(e,t,a){var s=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;cr||ls==null||ls!==kn(s)||(s=ls,"selectionStart"in s&&ir(s)?s={start:s.selectionStart,end:s.selectionEnd}:(s=(s.ownerDocument&&s.ownerDocument.defaultView||window).getSelection(),s={anchorNode:s.anchorNode,anchorOffset:s.anchorOffset,focusNode:s.focusNode,focusOffset:s.focusOffset}),Zs&&Qs(Zs,s)||(Zs=s,s=Ai(rr,"onSelect"),0<s.length&&(t=new Un("onSelect","select",null,t,a),e.push({event:t,listeners:s}),t.target=ls)))}function Rl(e,t){var a={};return a[e.toLowerCase()]=t.toLowerCase(),a["Webkit"+e]="webkit"+t,a["Moz"+e]="moz"+t,a}var ss={animationend:Rl("Animation","AnimationEnd"),animationiteration:Rl("Animation","AnimationIteration"),animationstart:Rl("Animation","AnimationStart"),transitionrun:Rl("Transition","TransitionRun"),transitionstart:Rl("Transition","TransitionStart"),transitioncancel:Rl("Transition","TransitionCancel"),transitionend:Rl("Transition","TransitionEnd")},or={},lu={};Ua&&(lu=document.createElement("div").style,"AnimationEvent"in window||(delete ss.animationend.animation,delete ss.animationiteration.animation,delete ss.animationstart.animation),"TransitionEvent"in window||delete ss.transitionend.transition);function Cl(e){if(or[e])return or[e];if(!ss[e])return e;var t=ss[e],a;for(a in t)if(t.hasOwnProperty(a)&&a in lu)return or[e]=t[a];return e}var su=Cl("animationend"),nu=Cl("animationiteration"),iu=Cl("animationstart"),Yf=Cl("transitionrun"),Xf=Cl("transitionstart"),Qf=Cl("transitioncancel"),ru=Cl("transitionend"),cu=new Map,ur="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");ur.push("scrollEnd");function Na(e,t){cu.set(e,t),Xt(t,[e])}var Gn=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},da=[],ns=0,dr=0;function Yn(){for(var e=ns,t=dr=ns=0;t<e;){var a=da[t];da[t++]=null;var s=da[t];da[t++]=null;var n=da[t];da[t++]=null;var r=da[t];if(da[t++]=null,s!==null&&n!==null){var u=s.pending;u===null?n.next=n:(n.next=u.next,u.next=n),s.pending=n}r!==0&&ou(a,n,r)}}function Xn(e,t,a,s){da[ns++]=e,da[ns++]=t,da[ns++]=a,da[ns++]=s,dr|=s,e.lanes|=s,e=e.alternate,e!==null&&(e.lanes|=s)}function mr(e,t,a,s){return Xn(e,t,a,s),Qn(e)}function Ol(e,t){return Xn(e,null,null,t),Qn(e)}function ou(e,t,a){e.lanes|=a;var s=e.alternate;s!==null&&(s.lanes|=a);for(var n=!1,r=e.return;r!==null;)r.childLanes|=a,s=r.alternate,s!==null&&(s.childLanes|=a),r.tag===22&&(e=r.stateNode,e===null||e._visibility&1||(n=!0)),e=r,r=r.return;return e.tag===3?(r=e.stateNode,n&&t!==null&&(n=31-I(a),e=r.hiddenUpdates,s=e[n],s===null?e[n]=[t]:s.push(t),t.lane=a|536870912),r):null}function Qn(e){if(50<hn)throw hn=0,Nc=null,Error(o(185));for(var t=e.return;t!==null;)e=t,t=e.return;return e.tag===3?e.stateNode:null}var is={};function Zf(e,t,a,s){this.tag=e,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=s,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ta(e,t,a,s){return new Zf(e,t,a,s)}function fr(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Ha(e,t){var a=e.alternate;return a===null?(a=ta(e.tag,t,e.key,e.mode),a.elementType=e.elementType,a.type=e.type,a.stateNode=e.stateNode,a.alternate=e,e.alternate=a):(a.pendingProps=t,a.type=e.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=e.flags&65011712,a.childLanes=e.childLanes,a.lanes=e.lanes,a.child=e.child,a.memoizedProps=e.memoizedProps,a.memoizedState=e.memoizedState,a.updateQueue=e.updateQueue,t=e.dependencies,a.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},a.sibling=e.sibling,a.index=e.index,a.ref=e.ref,a.refCleanup=e.refCleanup,a}function uu(e,t){e.flags&=65011714;var a=e.alternate;return a===null?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=a.childLanes,e.lanes=a.lanes,e.child=a.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=a.memoizedProps,e.memoizedState=a.memoizedState,e.updateQueue=a.updateQueue,e.type=a.type,t=a.dependencies,e.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function Zn(e,t,a,s,n,r){var u=0;if(s=e,typeof e=="function")fr(e)&&(u=1);else if(typeof e=="string")u=Fh(e,a,re.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case ue:return e=ta(31,a,t,n),e.elementType=ue,e.lanes=r,e;case N:return Bl(a.children,n,r,t);case w:u=8,n|=24;break;case E:return e=ta(12,a,t,n|2),e.elementType=E,e.lanes=r,e;case _:return e=ta(13,a,t,n),e.elementType=_,e.lanes=r,e;case ne:return e=ta(19,a,t,n),e.elementType=ne,e.lanes=r,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case B:u=10;break e;case k:u=9;break e;case W:u=11;break e;case R:u=14;break e;case G:u=16,s=null;break e}u=29,a=Error(o(130,e===null?"null":typeof e,"")),s=null}return t=ta(u,a,t,n),t.elementType=e,t.type=s,t.lanes=r,t}function Bl(e,t,a,s){return e=ta(7,e,s,t),e.lanes=a,e}function hr(e,t,a){return e=ta(6,e,null,t),e.lanes=a,e}function du(e){var t=ta(18,null,null,0);return t.stateNode=e,t}function xr(e,t,a){return t=ta(4,e.children!==null?e.children:[],e.key,t),t.lanes=a,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var mu=new WeakMap;function ma(e,t){if(typeof e=="object"&&e!==null){var a=mu.get(e);return a!==void 0?a:(t={value:e,source:t,stack:We(t)},mu.set(e,t),t)}return{value:e,source:t,stack:We(t)}}var rs=[],cs=0,Vn=null,Vs=0,fa=[],ha=0,nl=null,Ma=1,Ea="";function La(e,t){rs[cs++]=Vs,rs[cs++]=Vn,Vn=e,Vs=t}function fu(e,t,a){fa[ha++]=Ma,fa[ha++]=Ea,fa[ha++]=nl,nl=e;var s=Ma;e=Ea;var n=32-I(s)-1;s&=~(1<<n),a+=1;var r=32-I(t)+n;if(30<r){var u=n-n%5;r=(s&(1<<u)-1).toString(32),s>>=u,n-=u,Ma=1<<32-I(t)+n|a<<n|s,Ea=r+e}else Ma=1<<r|a<<n|s,Ea=e}function gr(e){e.return!==null&&(La(e,1),fu(e,1,0))}function br(e){for(;e===Vn;)Vn=rs[--cs],rs[cs]=null,Vs=rs[--cs],rs[cs]=null;for(;e===nl;)nl=fa[--ha],fa[ha]=null,Ea=fa[--ha],fa[ha]=null,Ma=fa[--ha],fa[ha]=null}function hu(e,t){fa[ha++]=Ma,fa[ha++]=Ea,fa[ha++]=nl,Ma=t.id,Ea=t.overflow,nl=e}var Ot=null,nt=null,Le=!1,il=null,xa=!1,yr=Error(o(519));function rl(e){var t=Error(o(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw $s(ma(t,e)),yr}function xu(e){var t=e.stateNode,a=e.type,s=e.memoizedProps;switch(t[He]=e,t[pt]=s,a){case"dialog":ze("cancel",t),ze("close",t);break;case"iframe":case"object":case"embed":ze("load",t);break;case"video":case"audio":for(a=0;a<gn.length;a++)ze(gn[a],t);break;case"source":ze("error",t);break;case"img":case"image":case"link":ze("error",t),ze("load",t);break;case"details":ze("toggle",t);break;case"input":ze("invalid",t),Ao(t,s.value,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name,!0);break;case"select":ze("invalid",t);break;case"textarea":ze("invalid",t),Co(t,s.value,s.defaultValue,s.children)}a=s.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||t.textContent===""+a||s.suppressHydrationWarning===!0||Bm(t.textContent,a)?(s.popover!=null&&(ze("beforetoggle",t),ze("toggle",t)),s.onScroll!=null&&ze("scroll",t),s.onScrollEnd!=null&&ze("scrollend",t),s.onClick!=null&&(t.onclick=qa),t=!0):t=!1,t||rl(e,!0)}function gu(e){for(Ot=e.return;Ot;)switch(Ot.tag){case 5:case 31:case 13:xa=!1;return;case 27:case 3:xa=!0;return;default:Ot=Ot.return}}function os(e){if(e!==Ot)return!1;if(!Le)return gu(e),Le=!0,!1;var t=e.tag,a;if((a=t!==3&&t!==27)&&((a=t===5)&&(a=e.type,a=!(a!=="form"&&a!=="button")||_c(e.type,e.memoizedProps)),a=!a),a&&nt&&rl(e),gu(e),t===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(o(317));nt=Gm(e)}else if(t===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(o(317));nt=Gm(e)}else t===27?(t=nt,Nl(e.type)?(e=Gc,Gc=null,nt=e):nt=t):nt=Ot?ba(e.stateNode.nextSibling):null;return!0}function kl(){nt=Ot=null,Le=!1}function pr(){var e=il;return e!==null&&(Ft===null?Ft=e:Ft.push.apply(Ft,e),il=null),e}function $s(e){il===null?il=[e]:il.push(e)}var vr=M(null),zl=null,Ga=null;function cl(e,t,a){de(vr,t._currentValue),t._currentValue=a}function Ya(e){e._currentValue=vr.current,F(vr)}function Nr(e,t,a){for(;e!==null;){var s=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,s!==null&&(s.childLanes|=t)):s!==null&&(s.childLanes&t)!==t&&(s.childLanes|=t),e===a)break;e=e.return}}function jr(e,t,a,s){var n=e.child;for(n!==null&&(n.return=e);n!==null;){var r=n.dependencies;if(r!==null){var u=n.child;r=r.firstContext;e:for(;r!==null;){var g=r;r=n;for(var T=0;T<t.length;T++)if(g.context===t[T]){r.lanes|=a,g=r.alternate,g!==null&&(g.lanes|=a),Nr(r.return,a,e),s||(u=null);break e}r=g.next}}else if(n.tag===18){if(u=n.return,u===null)throw Error(o(341));u.lanes|=a,r=u.alternate,r!==null&&(r.lanes|=a),Nr(u,a,e),u=null}else u=n.child;if(u!==null)u.return=n;else for(u=n;u!==null;){if(u===e){u=null;break}if(n=u.sibling,n!==null){n.return=u.return,u=n;break}u=u.return}n=u}}function us(e,t,a,s){e=null;for(var n=t,r=!1;n!==null;){if(!r){if((n.flags&524288)!==0)r=!0;else if((n.flags&262144)!==0)break}if(n.tag===10){var u=n.alternate;if(u===null)throw Error(o(387));if(u=u.memoizedProps,u!==null){var g=n.type;ea(n.pendingProps.value,u.value)||(e!==null?e.push(g):e=[g])}}else if(n===ye.current){if(u=n.alternate,u===null)throw Error(o(387));u.memoizedState.memoizedState!==n.memoizedState.memoizedState&&(e!==null?e.push(Nn):e=[Nn])}n=n.return}e!==null&&jr(t,e,a,s),t.flags|=262144}function $n(e){for(e=e.firstContext;e!==null;){if(!ea(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Dl(e){zl=e,Ga=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function Bt(e){return bu(zl,e)}function Kn(e,t){return zl===null&&Dl(e),bu(e,t)}function bu(e,t){var a=t._currentValue;if(t={context:t,memoizedValue:a,next:null},Ga===null){if(e===null)throw Error(o(308));Ga=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else Ga=Ga.next=t;return a}var Vf=typeof AbortController<"u"?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(a,s){e.push(s)}};this.abort=function(){t.aborted=!0,e.forEach(function(a){return a()})}},$f=i.unstable_scheduleCallback,Kf=i.unstable_NormalPriority,Nt={$$typeof:B,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Sr(){return{controller:new Vf,data:new Map,refCount:0}}function Ks(e){e.refCount--,e.refCount===0&&$f(Kf,function(){e.controller.abort()})}var Is=null,wr=0,ds=0,ms=null;function If(e,t){if(Is===null){var a=Is=[];wr=0,ds=Ec(),ms={status:"pending",value:void 0,then:function(s){a.push(s)}}}return wr++,t.then(yu,yu),t}function yu(){if(--wr===0&&Is!==null){ms!==null&&(ms.status="fulfilled");var e=Is;Is=null,ds=0,ms=null;for(var t=0;t<e.length;t++)(0,e[t])()}}function Ff(e,t){var a=[],s={status:"pending",value:null,reason:null,then:function(n){a.push(n)}};return e.then(function(){s.status="fulfilled",s.value=t;for(var n=0;n<a.length;n++)(0,a[n])(t)},function(n){for(s.status="rejected",s.reason=n,n=0;n<a.length;n++)(0,a[n])(void 0)}),s}var pu=z.S;z.S=function(e,t){am=Be(),typeof t=="object"&&t!==null&&typeof t.then=="function"&&If(e,t),pu!==null&&pu(e,t)};var _l=M(null);function Tr(){var e=_l.current;return e!==null?e:st.pooledCache}function In(e,t){t===null?de(_l,_l.current):de(_l,t.pool)}function vu(){var e=Tr();return e===null?null:{parent:Nt._currentValue,pool:e}}var fs=Error(o(460)),Mr=Error(o(474)),Fn=Error(o(542)),Pn={then:function(){}};function Nu(e){return e=e.status,e==="fulfilled"||e==="rejected"}function ju(e,t,a){switch(a=e[a],a===void 0?e.push(t):a!==t&&(t.then(qa,qa),t=a),t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,wu(e),e;default:if(typeof t.status=="string")t.then(qa,qa);else{if(e=st,e!==null&&100<e.shellSuspendCounter)throw Error(o(482));e=t,e.status="pending",e.then(function(s){if(t.status==="pending"){var n=t;n.status="fulfilled",n.value=s}},function(s){if(t.status==="pending"){var n=t;n.status="rejected",n.reason=s}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,wu(e),e}throw Ul=t,fs}}function ql(e){try{var t=e._init;return t(e._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(Ul=a,fs):a}}var Ul=null;function Su(){if(Ul===null)throw Error(o(459));var e=Ul;return Ul=null,e}function wu(e){if(e===fs||e===Fn)throw Error(o(483))}var hs=null,Fs=0;function Jn(e){var t=Fs;return Fs+=1,hs===null&&(hs=[]),ju(hs,e,t)}function Ps(e,t){t=t.props.ref,e.ref=t!==void 0?t:null}function Wn(e,t){throw t.$$typeof===A?Error(o(525)):(e=Object.prototype.toString.call(t),Error(o(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)))}function Tu(e){function t(D,C){if(e){var q=D.deletions;q===null?(D.deletions=[C],D.flags|=16):q.push(C)}}function a(D,C){if(!e)return null;for(;C!==null;)t(D,C),C=C.sibling;return null}function s(D){for(var C=new Map;D!==null;)D.key!==null?C.set(D.key,D):C.set(D.index,D),D=D.sibling;return C}function n(D,C){return D=Ha(D,C),D.index=0,D.sibling=null,D}function r(D,C,q){return D.index=q,e?(q=D.alternate,q!==null?(q=q.index,q<C?(D.flags|=67108866,C):q):(D.flags|=67108866,C)):(D.flags|=1048576,C)}function u(D){return e&&D.alternate===null&&(D.flags|=67108866),D}function g(D,C,q,P){return C===null||C.tag!==6?(C=hr(q,D.mode,P),C.return=D,C):(C=n(C,q),C.return=D,C)}function T(D,C,q,P){var je=q.type;return je===N?V(D,C,q.props.children,P,q.key):C!==null&&(C.elementType===je||typeof je=="object"&&je!==null&&je.$$typeof===G&&ql(je)===C.type)?(C=n(C,q.props),Ps(C,q),C.return=D,C):(C=Zn(q.type,q.key,q.props,null,D.mode,P),Ps(C,q),C.return=D,C)}function U(D,C,q,P){return C===null||C.tag!==4||C.stateNode.containerInfo!==q.containerInfo||C.stateNode.implementation!==q.implementation?(C=xr(q,D.mode,P),C.return=D,C):(C=n(C,q.children||[]),C.return=D,C)}function V(D,C,q,P,je){return C===null||C.tag!==7?(C=Bl(q,D.mode,P,je),C.return=D,C):(C=n(C,q),C.return=D,C)}function ee(D,C,q){if(typeof C=="string"&&C!==""||typeof C=="number"||typeof C=="bigint")return C=hr(""+C,D.mode,q),C.return=D,C;if(typeof C=="object"&&C!==null){switch(C.$$typeof){case S:return q=Zn(C.type,C.key,C.props,null,D.mode,q),Ps(q,C),q.return=D,q;case j:return C=xr(C,D.mode,q),C.return=D,C;case G:return C=ql(C),ee(D,C,q)}if(se(C)||J(C))return C=Bl(C,D.mode,q,null),C.return=D,C;if(typeof C.then=="function")return ee(D,Jn(C),q);if(C.$$typeof===B)return ee(D,Kn(D,C),q);Wn(D,C)}return null}function L(D,C,q,P){var je=C!==null?C.key:null;if(typeof q=="string"&&q!==""||typeof q=="number"||typeof q=="bigint")return je!==null?null:g(D,C,""+q,P);if(typeof q=="object"&&q!==null){switch(q.$$typeof){case S:return q.key===je?T(D,C,q,P):null;case j:return q.key===je?U(D,C,q,P):null;case G:return q=ql(q),L(D,C,q,P)}if(se(q)||J(q))return je!==null?null:V(D,C,q,P,null);if(typeof q.then=="function")return L(D,C,Jn(q),P);if(q.$$typeof===B)return L(D,C,Kn(D,q),P);Wn(D,q)}return null}function Q(D,C,q,P,je){if(typeof P=="string"&&P!==""||typeof P=="number"||typeof P=="bigint")return D=D.get(q)||null,g(C,D,""+P,je);if(typeof P=="object"&&P!==null){switch(P.$$typeof){case S:return D=D.get(P.key===null?q:P.key)||null,T(C,D,P,je);case j:return D=D.get(P.key===null?q:P.key)||null,U(C,D,P,je);case G:return P=ql(P),Q(D,C,q,P,je)}if(se(P)||J(P))return D=D.get(q)||null,V(C,D,P,je,null);if(typeof P.then=="function")return Q(D,C,q,Jn(P),je);if(P.$$typeof===B)return Q(D,C,q,Kn(C,P),je);Wn(C,P)}return null}function be(D,C,q,P){for(var je=null,Qe=null,pe=C,Ce=C=0,_e=null;pe!==null&&Ce<q.length;Ce++){pe.index>Ce?(_e=pe,pe=null):_e=pe.sibling;var Ze=L(D,pe,q[Ce],P);if(Ze===null){pe===null&&(pe=_e);break}e&&pe&&Ze.alternate===null&&t(D,pe),C=r(Ze,C,Ce),Qe===null?je=Ze:Qe.sibling=Ze,Qe=Ze,pe=_e}if(Ce===q.length)return a(D,pe),Le&&La(D,Ce),je;if(pe===null){for(;Ce<q.length;Ce++)pe=ee(D,q[Ce],P),pe!==null&&(C=r(pe,C,Ce),Qe===null?je=pe:Qe.sibling=pe,Qe=pe);return Le&&La(D,Ce),je}for(pe=s(pe);Ce<q.length;Ce++)_e=Q(pe,D,Ce,q[Ce],P),_e!==null&&(e&&_e.alternate!==null&&pe.delete(_e.key===null?Ce:_e.key),C=r(_e,C,Ce),Qe===null?je=_e:Qe.sibling=_e,Qe=_e);return e&&pe.forEach(function(Ml){return t(D,Ml)}),Le&&La(D,Ce),je}function we(D,C,q,P){if(q==null)throw Error(o(151));for(var je=null,Qe=null,pe=C,Ce=C=0,_e=null,Ze=q.next();pe!==null&&!Ze.done;Ce++,Ze=q.next()){pe.index>Ce?(_e=pe,pe=null):_e=pe.sibling;var Ml=L(D,pe,Ze.value,P);if(Ml===null){pe===null&&(pe=_e);break}e&&pe&&Ml.alternate===null&&t(D,pe),C=r(Ml,C,Ce),Qe===null?je=Ml:Qe.sibling=Ml,Qe=Ml,pe=_e}if(Ze.done)return a(D,pe),Le&&La(D,Ce),je;if(pe===null){for(;!Ze.done;Ce++,Ze=q.next())Ze=ee(D,Ze.value,P),Ze!==null&&(C=r(Ze,C,Ce),Qe===null?je=Ze:Qe.sibling=Ze,Qe=Ze);return Le&&La(D,Ce),je}for(pe=s(pe);!Ze.done;Ce++,Ze=q.next())Ze=Q(pe,D,Ce,Ze.value,P),Ze!==null&&(e&&Ze.alternate!==null&&pe.delete(Ze.key===null?Ce:Ze.key),C=r(Ze,C,Ce),Qe===null?je=Ze:Qe.sibling=Ze,Qe=Ze);return e&&pe.forEach(function(rx){return t(D,rx)}),Le&&La(D,Ce),je}function at(D,C,q,P){if(typeof q=="object"&&q!==null&&q.type===N&&q.key===null&&(q=q.props.children),typeof q=="object"&&q!==null){switch(q.$$typeof){case S:e:{for(var je=q.key;C!==null;){if(C.key===je){if(je=q.type,je===N){if(C.tag===7){a(D,C.sibling),P=n(C,q.props.children),P.return=D,D=P;break e}}else if(C.elementType===je||typeof je=="object"&&je!==null&&je.$$typeof===G&&ql(je)===C.type){a(D,C.sibling),P=n(C,q.props),Ps(P,q),P.return=D,D=P;break e}a(D,C);break}else t(D,C);C=C.sibling}q.type===N?(P=Bl(q.props.children,D.mode,P,q.key),P.return=D,D=P):(P=Zn(q.type,q.key,q.props,null,D.mode,P),Ps(P,q),P.return=D,D=P)}return u(D);case j:e:{for(je=q.key;C!==null;){if(C.key===je)if(C.tag===4&&C.stateNode.containerInfo===q.containerInfo&&C.stateNode.implementation===q.implementation){a(D,C.sibling),P=n(C,q.children||[]),P.return=D,D=P;break e}else{a(D,C);break}else t(D,C);C=C.sibling}P=xr(q,D.mode,P),P.return=D,D=P}return u(D);case G:return q=ql(q),at(D,C,q,P)}if(se(q))return be(D,C,q,P);if(J(q)){if(je=J(q),typeof je!="function")throw Error(o(150));return q=je.call(q),we(D,C,q,P)}if(typeof q.then=="function")return at(D,C,Jn(q),P);if(q.$$typeof===B)return at(D,C,Kn(D,q),P);Wn(D,q)}return typeof q=="string"&&q!==""||typeof q=="number"||typeof q=="bigint"?(q=""+q,C!==null&&C.tag===6?(a(D,C.sibling),P=n(C,q),P.return=D,D=P):(a(D,C),P=hr(q,D.mode,P),P.return=D,D=P),u(D)):a(D,C)}return function(D,C,q,P){try{Fs=0;var je=at(D,C,q,P);return hs=null,je}catch(pe){if(pe===fs||pe===Fn)throw pe;var Qe=ta(29,pe,null,D.mode);return Qe.lanes=P,Qe.return=D,Qe}}}var Hl=Tu(!0),Mu=Tu(!1),ol=!1;function Er(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Ar(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function ul(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function dl(e,t,a){var s=e.updateQueue;if(s===null)return null;if(s=s.shared,(Ke&2)!==0){var n=s.pending;return n===null?t.next=t:(t.next=n.next,n.next=t),s.pending=t,t=Qn(e),ou(e,null,a),t}return Xn(e,s,t,a),Qn(e)}function Js(e,t,a){if(t=t.updateQueue,t!==null&&(t=t.shared,(a&4194048)!==0)){var s=t.lanes;s&=e.pendingLanes,a|=s,t.lanes=a,Te(e,a)}}function Rr(e,t){var a=e.updateQueue,s=e.alternate;if(s!==null&&(s=s.updateQueue,a===s)){var n=null,r=null;if(a=a.firstBaseUpdate,a!==null){do{var u={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};r===null?n=r=u:r=r.next=u,a=a.next}while(a!==null);r===null?n=r=t:r=r.next=t}else n=r=t;a={baseState:s.baseState,firstBaseUpdate:n,lastBaseUpdate:r,shared:s.shared,callbacks:s.callbacks},e.updateQueue=a;return}e=a.lastBaseUpdate,e===null?a.firstBaseUpdate=t:e.next=t,a.lastBaseUpdate=t}var Cr=!1;function Ws(){if(Cr){var e=ms;if(e!==null)throw e}}function en(e,t,a,s){Cr=!1;var n=e.updateQueue;ol=!1;var r=n.firstBaseUpdate,u=n.lastBaseUpdate,g=n.shared.pending;if(g!==null){n.shared.pending=null;var T=g,U=T.next;T.next=null,u===null?r=U:u.next=U,u=T;var V=e.alternate;V!==null&&(V=V.updateQueue,g=V.lastBaseUpdate,g!==u&&(g===null?V.firstBaseUpdate=U:g.next=U,V.lastBaseUpdate=T))}if(r!==null){var ee=n.baseState;u=0,V=U=T=null,g=r;do{var L=g.lane&-536870913,Q=L!==g.lane;if(Q?(De&L)===L:(s&L)===L){L!==0&&L===ds&&(Cr=!0),V!==null&&(V=V.next={lane:0,tag:g.tag,payload:g.payload,callback:null,next:null});e:{var be=e,we=g;L=t;var at=a;switch(we.tag){case 1:if(be=we.payload,typeof be=="function"){ee=be.call(at,ee,L);break e}ee=be;break e;case 3:be.flags=be.flags&-65537|128;case 0:if(be=we.payload,L=typeof be=="function"?be.call(at,ee,L):be,L==null)break e;ee=p({},ee,L);break e;case 2:ol=!0}}L=g.callback,L!==null&&(e.flags|=64,Q&&(e.flags|=8192),Q=n.callbacks,Q===null?n.callbacks=[L]:Q.push(L))}else Q={lane:L,tag:g.tag,payload:g.payload,callback:g.callback,next:null},V===null?(U=V=Q,T=ee):V=V.next=Q,u|=L;if(g=g.next,g===null){if(g=n.shared.pending,g===null)break;Q=g,g=Q.next,Q.next=null,n.lastBaseUpdate=Q,n.shared.pending=null}}while(!0);V===null&&(T=ee),n.baseState=T,n.firstBaseUpdate=U,n.lastBaseUpdate=V,r===null&&(n.shared.lanes=0),gl|=u,e.lanes=u,e.memoizedState=ee}}function Eu(e,t){if(typeof e!="function")throw Error(o(191,e));e.call(t)}function Au(e,t){var a=e.callbacks;if(a!==null)for(e.callbacks=null,e=0;e<a.length;e++)Eu(a[e],t)}var xs=M(null),ei=M(0);function Ru(e,t){e=Pa,de(ei,e),de(xs,t),Pa=e|t.baseLanes}function Or(){de(ei,Pa),de(xs,xs.current)}function Br(){Pa=ei.current,F(xs),F(ei)}var aa=M(null),ga=null;function ml(e){var t=e.alternate;de(ht,ht.current&1),de(aa,e),ga===null&&(t===null||xs.current!==null||t.memoizedState!==null)&&(ga=e)}function kr(e){de(ht,ht.current),de(aa,e),ga===null&&(ga=e)}function Cu(e){e.tag===22?(de(ht,ht.current),de(aa,e),ga===null&&(ga=e)):fl()}function fl(){de(ht,ht.current),de(aa,aa.current)}function la(e){F(aa),ga===e&&(ga=null),F(ht)}var ht=M(0);function ti(e){for(var t=e;t!==null;){if(t.tag===13){var a=t.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||Hc(a)||Lc(a)))return t}else if(t.tag===19&&(t.memoizedProps.revealOrder==="forwards"||t.memoizedProps.revealOrder==="backwards"||t.memoizedProps.revealOrder==="unstable_legacy-backwards"||t.memoizedProps.revealOrder==="together")){if((t.flags&128)!==0)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Xa=0,Re=null,et=null,jt=null,ai=!1,gs=!1,Ll=!1,li=0,tn=0,bs=null,Pf=0;function ot(){throw Error(o(321))}function zr(e,t){if(t===null)return!1;for(var a=0;a<t.length&&a<e.length;a++)if(!ea(e[a],t[a]))return!1;return!0}function Dr(e,t,a,s,n,r){return Xa=r,Re=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,z.H=e===null||e.memoizedState===null?fd:Fr,Ll=!1,r=a(s,n),Ll=!1,gs&&(r=Bu(t,a,s,n)),Ou(e),r}function Ou(e){z.H=sn;var t=et!==null&&et.next!==null;if(Xa=0,jt=et=Re=null,ai=!1,tn=0,bs=null,t)throw Error(o(300));e===null||St||(e=e.dependencies,e!==null&&$n(e)&&(St=!0))}function Bu(e,t,a,s){Re=e;var n=0;do{if(gs&&(bs=null),tn=0,gs=!1,25<=n)throw Error(o(301));if(n+=1,jt=et=null,e.updateQueue!=null){var r=e.updateQueue;r.lastEffect=null,r.events=null,r.stores=null,r.memoCache!=null&&(r.memoCache.index=0)}z.H=hd,r=t(a,s)}while(gs);return r}function Jf(){var e=z.H,t=e.useState()[0];return t=typeof t.then=="function"?an(t):t,e=e.useState()[0],(et!==null?et.memoizedState:null)!==e&&(Re.flags|=1024),t}function _r(){var e=li!==0;return li=0,e}function qr(e,t,a){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a}function Ur(e){if(ai){for(e=e.memoizedState;e!==null;){var t=e.queue;t!==null&&(t.pending=null),e=e.next}ai=!1}Xa=0,jt=et=Re=null,gs=!1,tn=li=0,bs=null}function Qt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return jt===null?Re.memoizedState=jt=e:jt=jt.next=e,jt}function xt(){if(et===null){var e=Re.alternate;e=e!==null?e.memoizedState:null}else e=et.next;var t=jt===null?Re.memoizedState:jt.next;if(t!==null)jt=t,et=e;else{if(e===null)throw Re.alternate===null?Error(o(467)):Error(o(310));et=e,e={memoizedState:et.memoizedState,baseState:et.baseState,baseQueue:et.baseQueue,queue:et.queue,next:null},jt===null?Re.memoizedState=jt=e:jt=jt.next=e}return jt}function si(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function an(e){var t=tn;return tn+=1,bs===null&&(bs=[]),e=ju(bs,e,t),t=Re,(jt===null?t.memoizedState:jt.next)===null&&(t=t.alternate,z.H=t===null||t.memoizedState===null?fd:Fr),e}function ni(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return an(e);if(e.$$typeof===B)return Bt(e)}throw Error(o(438,String(e)))}function Hr(e){var t=null,a=Re.updateQueue;if(a!==null&&(t=a.memoCache),t==null){var s=Re.alternate;s!==null&&(s=s.updateQueue,s!==null&&(s=s.memoCache,s!=null&&(t={data:s.data.map(function(n){return n.slice()}),index:0})))}if(t==null&&(t={data:[],index:0}),a===null&&(a=si(),Re.updateQueue=a),a.memoCache=t,a=t.data[t.index],a===void 0)for(a=t.data[t.index]=Array(e),s=0;s<e;s++)a[s]=O;return t.index++,a}function Qa(e,t){return typeof t=="function"?t(e):t}function ii(e){var t=xt();return Lr(t,et,e)}function Lr(e,t,a){var s=e.queue;if(s===null)throw Error(o(311));s.lastRenderedReducer=a;var n=e.baseQueue,r=s.pending;if(r!==null){if(n!==null){var u=n.next;n.next=r.next,r.next=u}t.baseQueue=n=r,s.pending=null}if(r=e.baseState,n===null)e.memoizedState=r;else{t=n.next;var g=u=null,T=null,U=t,V=!1;do{var ee=U.lane&-536870913;if(ee!==U.lane?(De&ee)===ee:(Xa&ee)===ee){var L=U.revertLane;if(L===0)T!==null&&(T=T.next={lane:0,revertLane:0,gesture:null,action:U.action,hasEagerState:U.hasEagerState,eagerState:U.eagerState,next:null}),ee===ds&&(V=!0);else if((Xa&L)===L){U=U.next,L===ds&&(V=!0);continue}else ee={lane:0,revertLane:U.revertLane,gesture:null,action:U.action,hasEagerState:U.hasEagerState,eagerState:U.eagerState,next:null},T===null?(g=T=ee,u=r):T=T.next=ee,Re.lanes|=L,gl|=L;ee=U.action,Ll&&a(r,ee),r=U.hasEagerState?U.eagerState:a(r,ee)}else L={lane:ee,revertLane:U.revertLane,gesture:U.gesture,action:U.action,hasEagerState:U.hasEagerState,eagerState:U.eagerState,next:null},T===null?(g=T=L,u=r):T=T.next=L,Re.lanes|=ee,gl|=ee;U=U.next}while(U!==null&&U!==t);if(T===null?u=r:T.next=g,!ea(r,e.memoizedState)&&(St=!0,V&&(a=ms,a!==null)))throw a;e.memoizedState=r,e.baseState=u,e.baseQueue=T,s.lastRenderedState=r}return n===null&&(s.lanes=0),[e.memoizedState,s.dispatch]}function Gr(e){var t=xt(),a=t.queue;if(a===null)throw Error(o(311));a.lastRenderedReducer=e;var s=a.dispatch,n=a.pending,r=t.memoizedState;if(n!==null){a.pending=null;var u=n=n.next;do r=e(r,u.action),u=u.next;while(u!==n);ea(r,t.memoizedState)||(St=!0),t.memoizedState=r,t.baseQueue===null&&(t.baseState=r),a.lastRenderedState=r}return[r,s]}function ku(e,t,a){var s=Re,n=xt(),r=Le;if(r){if(a===void 0)throw Error(o(407));a=a()}else a=t();var u=!ea((et||n).memoizedState,a);if(u&&(n.memoizedState=a,St=!0),n=n.queue,Qr(_u.bind(null,s,n,e),[e]),n.getSnapshot!==t||u||jt!==null&&jt.memoizedState.tag&1){if(s.flags|=2048,ys(9,{destroy:void 0},Du.bind(null,s,n,a,t),null),st===null)throw Error(o(349));r||(Xa&127)!==0||zu(s,t,a)}return a}function zu(e,t,a){e.flags|=16384,e={getSnapshot:t,value:a},t=Re.updateQueue,t===null?(t=si(),Re.updateQueue=t,t.stores=[e]):(a=t.stores,a===null?t.stores=[e]:a.push(e))}function Du(e,t,a,s){t.value=a,t.getSnapshot=s,qu(t)&&Uu(e)}function _u(e,t,a){return a(function(){qu(t)&&Uu(e)})}function qu(e){var t=e.getSnapshot;e=e.value;try{var a=t();return!ea(e,a)}catch{return!0}}function Uu(e){var t=Ol(e,2);t!==null&&Pt(t,e,2)}function Yr(e){var t=Qt();if(typeof e=="function"){var a=e;if(e=a(),Ll){Gt(!0);try{a()}finally{Gt(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Qa,lastRenderedState:e},t}function Hu(e,t,a,s){return e.baseState=a,Lr(e,et,typeof s=="function"?s:Qa)}function Wf(e,t,a,s,n){if(oi(e))throw Error(o(485));if(e=t.action,e!==null){var r={payload:n,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(u){r.listeners.push(u)}};z.T!==null?a(!0):r.isTransition=!1,s(r),a=t.pending,a===null?(r.next=t.pending=r,Lu(t,r)):(r.next=a.next,t.pending=a.next=r)}}function Lu(e,t){var a=t.action,s=t.payload,n=e.state;if(t.isTransition){var r=z.T,u={};z.T=u;try{var g=a(n,s),T=z.S;T!==null&&T(u,g),Gu(e,t,g)}catch(U){Xr(e,t,U)}finally{r!==null&&u.types!==null&&(r.types=u.types),z.T=r}}else try{r=a(n,s),Gu(e,t,r)}catch(U){Xr(e,t,U)}}function Gu(e,t,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(s){Yu(e,t,s)},function(s){return Xr(e,t,s)}):Yu(e,t,a)}function Yu(e,t,a){t.status="fulfilled",t.value=a,Xu(t),e.state=a,t=e.pending,t!==null&&(a=t.next,a===t?e.pending=null:(a=a.next,t.next=a,Lu(e,a)))}function Xr(e,t,a){var s=e.pending;if(e.pending=null,s!==null){s=s.next;do t.status="rejected",t.reason=a,Xu(t),t=t.next;while(t!==s)}e.action=null}function Xu(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function Qu(e,t){return t}function Zu(e,t){if(Le){var a=st.formState;if(a!==null){e:{var s=Re;if(Le){if(nt){t:{for(var n=nt,r=xa;n.nodeType!==8;){if(!r){n=null;break t}if(n=ba(n.nextSibling),n===null){n=null;break t}}r=n.data,n=r==="F!"||r==="F"?n:null}if(n){nt=ba(n.nextSibling),s=n.data==="F!";break e}}rl(s)}s=!1}s&&(t=a[0])}}return a=Qt(),a.memoizedState=a.baseState=t,s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Qu,lastRenderedState:t},a.queue=s,a=ud.bind(null,Re,s),s.dispatch=a,s=Yr(!1),r=Ir.bind(null,Re,!1,s.queue),s=Qt(),n={state:t,dispatch:null,action:e,pending:null},s.queue=n,a=Wf.bind(null,Re,n,r,a),n.dispatch=a,s.memoizedState=e,[t,a,!1]}function Vu(e){var t=xt();return $u(t,et,e)}function $u(e,t,a){if(t=Lr(e,t,Qu)[0],e=ii(Qa)[0],typeof t=="object"&&t!==null&&typeof t.then=="function")try{var s=an(t)}catch(u){throw u===fs?Fn:u}else s=t;t=xt();var n=t.queue,r=n.dispatch;return a!==t.memoizedState&&(Re.flags|=2048,ys(9,{destroy:void 0},eh.bind(null,n,a),null)),[s,r,e]}function eh(e,t){e.action=t}function Ku(e){var t=xt(),a=et;if(a!==null)return $u(t,a,e);xt(),t=t.memoizedState,a=xt();var s=a.queue.dispatch;return a.memoizedState=e,[t,s,!1]}function ys(e,t,a,s){return e={tag:e,create:a,deps:s,inst:t,next:null},t=Re.updateQueue,t===null&&(t=si(),Re.updateQueue=t),a=t.lastEffect,a===null?t.lastEffect=e.next=e:(s=a.next,a.next=e,e.next=s,t.lastEffect=e),e}function Iu(){return xt().memoizedState}function ri(e,t,a,s){var n=Qt();Re.flags|=e,n.memoizedState=ys(1|t,{destroy:void 0},a,s===void 0?null:s)}function ci(e,t,a,s){var n=xt();s=s===void 0?null:s;var r=n.memoizedState.inst;et!==null&&s!==null&&zr(s,et.memoizedState.deps)?n.memoizedState=ys(t,r,a,s):(Re.flags|=e,n.memoizedState=ys(1|t,r,a,s))}function Fu(e,t){ri(8390656,8,e,t)}function Qr(e,t){ci(2048,8,e,t)}function th(e){Re.flags|=4;var t=Re.updateQueue;if(t===null)t=si(),Re.updateQueue=t,t.events=[e];else{var a=t.events;a===null?t.events=[e]:a.push(e)}}function Pu(e){var t=xt().memoizedState;return th({ref:t,nextImpl:e}),function(){if((Ke&2)!==0)throw Error(o(440));return t.impl.apply(void 0,arguments)}}function Ju(e,t){return ci(4,2,e,t)}function Wu(e,t){return ci(4,4,e,t)}function ed(e,t){if(typeof t=="function"){e=e();var a=t(e);return function(){typeof a=="function"?a():t(null)}}if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function td(e,t,a){a=a!=null?a.concat([e]):null,ci(4,4,ed.bind(null,t,e),a)}function Zr(){}function ad(e,t){var a=xt();t=t===void 0?null:t;var s=a.memoizedState;return t!==null&&zr(t,s[1])?s[0]:(a.memoizedState=[e,t],e)}function ld(e,t){var a=xt();t=t===void 0?null:t;var s=a.memoizedState;if(t!==null&&zr(t,s[1]))return s[0];if(s=e(),Ll){Gt(!0);try{e()}finally{Gt(!1)}}return a.memoizedState=[s,t],s}function Vr(e,t,a){return a===void 0||(Xa&1073741824)!==0&&(De&261930)===0?e.memoizedState=t:(e.memoizedState=a,e=sm(),Re.lanes|=e,gl|=e,a)}function sd(e,t,a,s){return ea(a,t)?a:xs.current!==null?(e=Vr(e,a,s),ea(e,t)||(St=!0),e):(Xa&42)===0||(Xa&1073741824)!==0&&(De&261930)===0?(St=!0,e.memoizedState=a):(e=sm(),Re.lanes|=e,gl|=e,t)}function nd(e,t,a,s,n){var r=K.p;K.p=r!==0&&8>r?r:8;var u=z.T,g={};z.T=g,Ir(e,!1,t,a);try{var T=n(),U=z.S;if(U!==null&&U(g,T),T!==null&&typeof T=="object"&&typeof T.then=="function"){var V=Ff(T,s);ln(e,t,V,ia(e))}else ln(e,t,s,ia(e))}catch(ee){ln(e,t,{then:function(){},status:"rejected",reason:ee},ia())}finally{K.p=r,u!==null&&g.types!==null&&(u.types=g.types),z.T=u}}function ah(){}function $r(e,t,a,s){if(e.tag!==5)throw Error(o(476));var n=id(e).queue;nd(e,n,t,te,a===null?ah:function(){return rd(e),a(s)})}function id(e){var t=e.memoizedState;if(t!==null)return t;t={memoizedState:te,baseState:te,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Qa,lastRenderedState:te},next:null};var a={};return t.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Qa,lastRenderedState:a},next:null},e.memoizedState=t,e=e.alternate,e!==null&&(e.memoizedState=t),t}function rd(e){var t=id(e);t.next===null&&(t=e.alternate.memoizedState),ln(e,t.next.queue,{},ia())}function Kr(){return Bt(Nn)}function cd(){return xt().memoizedState}function od(){return xt().memoizedState}function lh(e){for(var t=e.return;t!==null;){switch(t.tag){case 24:case 3:var a=ia();e=ul(a);var s=dl(t,e,a);s!==null&&(Pt(s,t,a),Js(s,t,a)),t={cache:Sr()},e.payload=t;return}t=t.return}}function sh(e,t,a){var s=ia();a={lane:s,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},oi(e)?dd(t,a):(a=mr(e,t,a,s),a!==null&&(Pt(a,e,s),md(a,t,s)))}function ud(e,t,a){var s=ia();ln(e,t,a,s)}function ln(e,t,a,s){var n={lane:s,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(oi(e))dd(t,n);else{var r=e.alternate;if(e.lanes===0&&(r===null||r.lanes===0)&&(r=t.lastRenderedReducer,r!==null))try{var u=t.lastRenderedState,g=r(u,a);if(n.hasEagerState=!0,n.eagerState=g,ea(g,u))return Xn(e,t,n,0),st===null&&Yn(),!1}catch{}if(a=mr(e,t,n,s),a!==null)return Pt(a,e,s),md(a,t,s),!0}return!1}function Ir(e,t,a,s){if(s={lane:2,revertLane:Ec(),gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null},oi(e)){if(t)throw Error(o(479))}else t=mr(e,a,s,2),t!==null&&Pt(t,e,2)}function oi(e){var t=e.alternate;return e===Re||t!==null&&t===Re}function dd(e,t){gs=ai=!0;var a=e.pending;a===null?t.next=t:(t.next=a.next,a.next=t),e.pending=t}function md(e,t,a){if((a&4194048)!==0){var s=t.lanes;s&=e.pendingLanes,a|=s,t.lanes=a,Te(e,a)}}var sn={readContext:Bt,use:ni,useCallback:ot,useContext:ot,useEffect:ot,useImperativeHandle:ot,useLayoutEffect:ot,useInsertionEffect:ot,useMemo:ot,useReducer:ot,useRef:ot,useState:ot,useDebugValue:ot,useDeferredValue:ot,useTransition:ot,useSyncExternalStore:ot,useId:ot,useHostTransitionStatus:ot,useFormState:ot,useActionState:ot,useOptimistic:ot,useMemoCache:ot,useCacheRefresh:ot};sn.useEffectEvent=ot;var fd={readContext:Bt,use:ni,useCallback:function(e,t){return Qt().memoizedState=[e,t===void 0?null:t],e},useContext:Bt,useEffect:Fu,useImperativeHandle:function(e,t,a){a=a!=null?a.concat([e]):null,ri(4194308,4,ed.bind(null,t,e),a)},useLayoutEffect:function(e,t){return ri(4194308,4,e,t)},useInsertionEffect:function(e,t){ri(4,2,e,t)},useMemo:function(e,t){var a=Qt();t=t===void 0?null:t;var s=e();if(Ll){Gt(!0);try{e()}finally{Gt(!1)}}return a.memoizedState=[s,t],s},useReducer:function(e,t,a){var s=Qt();if(a!==void 0){var n=a(t);if(Ll){Gt(!0);try{a(t)}finally{Gt(!1)}}}else n=t;return s.memoizedState=s.baseState=n,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:n},s.queue=e,e=e.dispatch=sh.bind(null,Re,e),[s.memoizedState,e]},useRef:function(e){var t=Qt();return e={current:e},t.memoizedState=e},useState:function(e){e=Yr(e);var t=e.queue,a=ud.bind(null,Re,t);return t.dispatch=a,[e.memoizedState,a]},useDebugValue:Zr,useDeferredValue:function(e,t){var a=Qt();return Vr(a,e,t)},useTransition:function(){var e=Yr(!1);return e=nd.bind(null,Re,e.queue,!0,!1),Qt().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,a){var s=Re,n=Qt();if(Le){if(a===void 0)throw Error(o(407));a=a()}else{if(a=t(),st===null)throw Error(o(349));(De&127)!==0||zu(s,t,a)}n.memoizedState=a;var r={value:a,getSnapshot:t};return n.queue=r,Fu(_u.bind(null,s,r,e),[e]),s.flags|=2048,ys(9,{destroy:void 0},Du.bind(null,s,r,a,t),null),a},useId:function(){var e=Qt(),t=st.identifierPrefix;if(Le){var a=Ea,s=Ma;a=(s&~(1<<32-I(s)-1)).toString(32)+a,t="_"+t+"R_"+a,a=li++,0<a&&(t+="H"+a.toString(32)),t+="_"}else a=Pf++,t="_"+t+"r_"+a.toString(32)+"_";return e.memoizedState=t},useHostTransitionStatus:Kr,useFormState:Zu,useActionState:Zu,useOptimistic:function(e){var t=Qt();t.memoizedState=t.baseState=e;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=a,t=Ir.bind(null,Re,!0,a),a.dispatch=t,[e,t]},useMemoCache:Hr,useCacheRefresh:function(){return Qt().memoizedState=lh.bind(null,Re)},useEffectEvent:function(e){var t=Qt(),a={impl:e};return t.memoizedState=a,function(){if((Ke&2)!==0)throw Error(o(440));return a.impl.apply(void 0,arguments)}}},Fr={readContext:Bt,use:ni,useCallback:ad,useContext:Bt,useEffect:Qr,useImperativeHandle:td,useInsertionEffect:Ju,useLayoutEffect:Wu,useMemo:ld,useReducer:ii,useRef:Iu,useState:function(){return ii(Qa)},useDebugValue:Zr,useDeferredValue:function(e,t){var a=xt();return sd(a,et.memoizedState,e,t)},useTransition:function(){var e=ii(Qa)[0],t=xt().memoizedState;return[typeof e=="boolean"?e:an(e),t]},useSyncExternalStore:ku,useId:cd,useHostTransitionStatus:Kr,useFormState:Vu,useActionState:Vu,useOptimistic:function(e,t){var a=xt();return Hu(a,et,e,t)},useMemoCache:Hr,useCacheRefresh:od};Fr.useEffectEvent=Pu;var hd={readContext:Bt,use:ni,useCallback:ad,useContext:Bt,useEffect:Qr,useImperativeHandle:td,useInsertionEffect:Ju,useLayoutEffect:Wu,useMemo:ld,useReducer:Gr,useRef:Iu,useState:function(){return Gr(Qa)},useDebugValue:Zr,useDeferredValue:function(e,t){var a=xt();return et===null?Vr(a,e,t):sd(a,et.memoizedState,e,t)},useTransition:function(){var e=Gr(Qa)[0],t=xt().memoizedState;return[typeof e=="boolean"?e:an(e),t]},useSyncExternalStore:ku,useId:cd,useHostTransitionStatus:Kr,useFormState:Ku,useActionState:Ku,useOptimistic:function(e,t){var a=xt();return et!==null?Hu(a,et,e,t):(a.baseState=e,[e,a.queue.dispatch])},useMemoCache:Hr,useCacheRefresh:od};hd.useEffectEvent=Pu;function Pr(e,t,a,s){t=e.memoizedState,a=a(s,t),a=a==null?t:p({},t,a),e.memoizedState=a,e.lanes===0&&(e.updateQueue.baseState=a)}var Jr={enqueueSetState:function(e,t,a){e=e._reactInternals;var s=ia(),n=ul(s);n.payload=t,a!=null&&(n.callback=a),t=dl(e,n,s),t!==null&&(Pt(t,e,s),Js(t,e,s))},enqueueReplaceState:function(e,t,a){e=e._reactInternals;var s=ia(),n=ul(s);n.tag=1,n.payload=t,a!=null&&(n.callback=a),t=dl(e,n,s),t!==null&&(Pt(t,e,s),Js(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var a=ia(),s=ul(a);s.tag=2,t!=null&&(s.callback=t),t=dl(e,s,a),t!==null&&(Pt(t,e,a),Js(t,e,a))}};function xd(e,t,a,s,n,r,u){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(s,r,u):t.prototype&&t.prototype.isPureReactComponent?!Qs(a,s)||!Qs(n,r):!0}function gd(e,t,a,s){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(a,s),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(a,s),t.state!==e&&Jr.enqueueReplaceState(t,t.state,null)}function Gl(e,t){var a=t;if("ref"in t){a={};for(var s in t)s!=="ref"&&(a[s]=t[s])}if(e=e.defaultProps){a===t&&(a=p({},a));for(var n in e)a[n]===void 0&&(a[n]=e[n])}return a}function bd(e){Gn(e)}function yd(e){console.error(e)}function pd(e){Gn(e)}function ui(e,t){try{var a=e.onUncaughtError;a(t.value,{componentStack:t.stack})}catch(s){setTimeout(function(){throw s})}}function vd(e,t,a){try{var s=e.onCaughtError;s(a.value,{componentStack:a.stack,errorBoundary:t.tag===1?t.stateNode:null})}catch(n){setTimeout(function(){throw n})}}function Wr(e,t,a){return a=ul(a),a.tag=3,a.payload={element:null},a.callback=function(){ui(e,t)},a}function Nd(e){return e=ul(e),e.tag=3,e}function jd(e,t,a,s){var n=a.type.getDerivedStateFromError;if(typeof n=="function"){var r=s.value;e.payload=function(){return n(r)},e.callback=function(){vd(t,a,s)}}var u=a.stateNode;u!==null&&typeof u.componentDidCatch=="function"&&(e.callback=function(){vd(t,a,s),typeof n!="function"&&(bl===null?bl=new Set([this]):bl.add(this));var g=s.stack;this.componentDidCatch(s.value,{componentStack:g!==null?g:""})})}function nh(e,t,a,s,n){if(a.flags|=32768,s!==null&&typeof s=="object"&&typeof s.then=="function"){if(t=a.alternate,t!==null&&us(t,a,n,!0),a=aa.current,a!==null){switch(a.tag){case 31:case 13:return ga===null?ji():a.alternate===null&&ut===0&&(ut=3),a.flags&=-257,a.flags|=65536,a.lanes=n,s===Pn?a.flags|=16384:(t=a.updateQueue,t===null?a.updateQueue=new Set([s]):t.add(s),wc(e,s,n)),!1;case 22:return a.flags|=65536,s===Pn?a.flags|=16384:(t=a.updateQueue,t===null?(t={transitions:null,markerInstances:null,retryQueue:new Set([s])},a.updateQueue=t):(a=t.retryQueue,a===null?t.retryQueue=new Set([s]):a.add(s)),wc(e,s,n)),!1}throw Error(o(435,a.tag))}return wc(e,s,n),ji(),!1}if(Le)return t=aa.current,t!==null?((t.flags&65536)===0&&(t.flags|=256),t.flags|=65536,t.lanes=n,s!==yr&&(e=Error(o(422),{cause:s}),$s(ma(e,a)))):(s!==yr&&(t=Error(o(423),{cause:s}),$s(ma(t,a))),e=e.current.alternate,e.flags|=65536,n&=-n,e.lanes|=n,s=ma(s,a),n=Wr(e.stateNode,s,n),Rr(e,n),ut!==4&&(ut=2)),!1;var r=Error(o(520),{cause:s});if(r=ma(r,a),fn===null?fn=[r]:fn.push(r),ut!==4&&(ut=2),t===null)return!0;s=ma(s,a),a=t;do{switch(a.tag){case 3:return a.flags|=65536,e=n&-n,a.lanes|=e,e=Wr(a.stateNode,s,e),Rr(a,e),!1;case 1:if(t=a.type,r=a.stateNode,(a.flags&128)===0&&(typeof t.getDerivedStateFromError=="function"||r!==null&&typeof r.componentDidCatch=="function"&&(bl===null||!bl.has(r))))return a.flags|=65536,n&=-n,a.lanes|=n,n=Nd(n),jd(n,e,a,s),Rr(a,n),!1}a=a.return}while(a!==null);return!1}var ec=Error(o(461)),St=!1;function kt(e,t,a,s){t.child=e===null?Mu(t,null,a,s):Hl(t,e.child,a,s)}function Sd(e,t,a,s,n){a=a.render;var r=t.ref;if("ref"in s){var u={};for(var g in s)g!=="ref"&&(u[g]=s[g])}else u=s;return Dl(t),s=Dr(e,t,a,u,r,n),g=_r(),e!==null&&!St?(qr(e,t,n),Za(e,t,n)):(Le&&g&&gr(t),t.flags|=1,kt(e,t,s,n),t.child)}function wd(e,t,a,s,n){if(e===null){var r=a.type;return typeof r=="function"&&!fr(r)&&r.defaultProps===void 0&&a.compare===null?(t.tag=15,t.type=r,Td(e,t,r,s,n)):(e=Zn(a.type,null,s,t,t.mode,n),e.ref=t.ref,e.return=t,t.child=e)}if(r=e.child,!cc(e,n)){var u=r.memoizedProps;if(a=a.compare,a=a!==null?a:Qs,a(u,s)&&e.ref===t.ref)return Za(e,t,n)}return t.flags|=1,e=Ha(r,s),e.ref=t.ref,e.return=t,t.child=e}function Td(e,t,a,s,n){if(e!==null){var r=e.memoizedProps;if(Qs(r,s)&&e.ref===t.ref)if(St=!1,t.pendingProps=s=r,cc(e,n))(e.flags&131072)!==0&&(St=!0);else return t.lanes=e.lanes,Za(e,t,n)}return tc(e,t,a,s,n)}function Md(e,t,a,s){var n=s.children,r=e!==null?e.memoizedState:null;if(e===null&&t.stateNode===null&&(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),s.mode==="hidden"){if((t.flags&128)!==0){if(r=r!==null?r.baseLanes|a:a,e!==null){for(s=t.child=e.child,n=0;s!==null;)n=n|s.lanes|s.childLanes,s=s.sibling;s=n&~r}else s=0,t.child=null;return Ed(e,t,r,a,s)}if((a&536870912)!==0)t.memoizedState={baseLanes:0,cachePool:null},e!==null&&In(t,r!==null?r.cachePool:null),r!==null?Ru(t,r):Or(),Cu(t);else return s=t.lanes=536870912,Ed(e,t,r!==null?r.baseLanes|a:a,a,s)}else r!==null?(In(t,r.cachePool),Ru(t,r),fl(),t.memoizedState=null):(e!==null&&In(t,null),Or(),fl());return kt(e,t,n,a),t.child}function nn(e,t){return e!==null&&e.tag===22||t.stateNode!==null||(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),t.sibling}function Ed(e,t,a,s,n){var r=Tr();return r=r===null?null:{parent:Nt._currentValue,pool:r},t.memoizedState={baseLanes:a,cachePool:r},e!==null&&In(t,null),Or(),Cu(t),e!==null&&us(e,t,s,!0),t.childLanes=n,null}function di(e,t){return t=fi({mode:t.mode,children:t.children},e.mode),t.ref=e.ref,e.child=t,t.return=e,t}function Ad(e,t,a){return Hl(t,e.child,null,a),e=di(t,t.pendingProps),e.flags|=2,la(t),t.memoizedState=null,e}function ih(e,t,a){var s=t.pendingProps,n=(t.flags&128)!==0;if(t.flags&=-129,e===null){if(Le){if(s.mode==="hidden")return e=di(t,s),t.lanes=536870912,nn(null,e);if(kr(t),(e=nt)?(e=Lm(e,xa),e=e!==null&&e.data==="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:nl!==null?{id:Ma,overflow:Ea}:null,retryLane:536870912,hydrationErrors:null},a=du(e),a.return=t,t.child=a,Ot=t,nt=null)):e=null,e===null)throw rl(t);return t.lanes=536870912,null}return di(t,s)}var r=e.memoizedState;if(r!==null){var u=r.dehydrated;if(kr(t),n)if(t.flags&256)t.flags&=-257,t=Ad(e,t,a);else if(t.memoizedState!==null)t.child=e.child,t.flags|=128,t=null;else throw Error(o(558));else if(St||us(e,t,a,!1),n=(a&e.childLanes)!==0,St||n){if(s=st,s!==null&&(u=Fe(s,a),u!==0&&u!==r.retryLane))throw r.retryLane=u,Ol(e,u),Pt(s,e,u),ec;ji(),t=Ad(e,t,a)}else e=r.treeContext,nt=ba(u.nextSibling),Ot=t,Le=!0,il=null,xa=!1,e!==null&&hu(t,e),t=di(t,s),t.flags|=4096;return t}return e=Ha(e.child,{mode:s.mode,children:s.children}),e.ref=t.ref,t.child=e,e.return=t,e}function mi(e,t){var a=t.ref;if(a===null)e!==null&&e.ref!==null&&(t.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(o(284));(e===null||e.ref!==a)&&(t.flags|=4194816)}}function tc(e,t,a,s,n){return Dl(t),a=Dr(e,t,a,s,void 0,n),s=_r(),e!==null&&!St?(qr(e,t,n),Za(e,t,n)):(Le&&s&&gr(t),t.flags|=1,kt(e,t,a,n),t.child)}function Rd(e,t,a,s,n,r){return Dl(t),t.updateQueue=null,a=Bu(t,s,a,n),Ou(e),s=_r(),e!==null&&!St?(qr(e,t,r),Za(e,t,r)):(Le&&s&&gr(t),t.flags|=1,kt(e,t,a,r),t.child)}function Cd(e,t,a,s,n){if(Dl(t),t.stateNode===null){var r=is,u=a.contextType;typeof u=="object"&&u!==null&&(r=Bt(u)),r=new a(s,r),t.memoizedState=r.state!==null&&r.state!==void 0?r.state:null,r.updater=Jr,t.stateNode=r,r._reactInternals=t,r=t.stateNode,r.props=s,r.state=t.memoizedState,r.refs={},Er(t),u=a.contextType,r.context=typeof u=="object"&&u!==null?Bt(u):is,r.state=t.memoizedState,u=a.getDerivedStateFromProps,typeof u=="function"&&(Pr(t,a,u,s),r.state=t.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof r.getSnapshotBeforeUpdate=="function"||typeof r.UNSAFE_componentWillMount!="function"&&typeof r.componentWillMount!="function"||(u=r.state,typeof r.componentWillMount=="function"&&r.componentWillMount(),typeof r.UNSAFE_componentWillMount=="function"&&r.UNSAFE_componentWillMount(),u!==r.state&&Jr.enqueueReplaceState(r,r.state,null),en(t,s,r,n),Ws(),r.state=t.memoizedState),typeof r.componentDidMount=="function"&&(t.flags|=4194308),s=!0}else if(e===null){r=t.stateNode;var g=t.memoizedProps,T=Gl(a,g);r.props=T;var U=r.context,V=a.contextType;u=is,typeof V=="object"&&V!==null&&(u=Bt(V));var ee=a.getDerivedStateFromProps;V=typeof ee=="function"||typeof r.getSnapshotBeforeUpdate=="function",g=t.pendingProps!==g,V||typeof r.UNSAFE_componentWillReceiveProps!="function"&&typeof r.componentWillReceiveProps!="function"||(g||U!==u)&&gd(t,r,s,u),ol=!1;var L=t.memoizedState;r.state=L,en(t,s,r,n),Ws(),U=t.memoizedState,g||L!==U||ol?(typeof ee=="function"&&(Pr(t,a,ee,s),U=t.memoizedState),(T=ol||xd(t,a,T,s,L,U,u))?(V||typeof r.UNSAFE_componentWillMount!="function"&&typeof r.componentWillMount!="function"||(typeof r.componentWillMount=="function"&&r.componentWillMount(),typeof r.UNSAFE_componentWillMount=="function"&&r.UNSAFE_componentWillMount()),typeof r.componentDidMount=="function"&&(t.flags|=4194308)):(typeof r.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=s,t.memoizedState=U),r.props=s,r.state=U,r.context=u,s=T):(typeof r.componentDidMount=="function"&&(t.flags|=4194308),s=!1)}else{r=t.stateNode,Ar(e,t),u=t.memoizedProps,V=Gl(a,u),r.props=V,ee=t.pendingProps,L=r.context,U=a.contextType,T=is,typeof U=="object"&&U!==null&&(T=Bt(U)),g=a.getDerivedStateFromProps,(U=typeof g=="function"||typeof r.getSnapshotBeforeUpdate=="function")||typeof r.UNSAFE_componentWillReceiveProps!="function"&&typeof r.componentWillReceiveProps!="function"||(u!==ee||L!==T)&&gd(t,r,s,T),ol=!1,L=t.memoizedState,r.state=L,en(t,s,r,n),Ws();var Q=t.memoizedState;u!==ee||L!==Q||ol||e!==null&&e.dependencies!==null&&$n(e.dependencies)?(typeof g=="function"&&(Pr(t,a,g,s),Q=t.memoizedState),(V=ol||xd(t,a,V,s,L,Q,T)||e!==null&&e.dependencies!==null&&$n(e.dependencies))?(U||typeof r.UNSAFE_componentWillUpdate!="function"&&typeof r.componentWillUpdate!="function"||(typeof r.componentWillUpdate=="function"&&r.componentWillUpdate(s,Q,T),typeof r.UNSAFE_componentWillUpdate=="function"&&r.UNSAFE_componentWillUpdate(s,Q,T)),typeof r.componentDidUpdate=="function"&&(t.flags|=4),typeof r.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof r.componentDidUpdate!="function"||u===e.memoizedProps&&L===e.memoizedState||(t.flags|=4),typeof r.getSnapshotBeforeUpdate!="function"||u===e.memoizedProps&&L===e.memoizedState||(t.flags|=1024),t.memoizedProps=s,t.memoizedState=Q),r.props=s,r.state=Q,r.context=T,s=V):(typeof r.componentDidUpdate!="function"||u===e.memoizedProps&&L===e.memoizedState||(t.flags|=4),typeof r.getSnapshotBeforeUpdate!="function"||u===e.memoizedProps&&L===e.memoizedState||(t.flags|=1024),s=!1)}return r=s,mi(e,t),s=(t.flags&128)!==0,r||s?(r=t.stateNode,a=s&&typeof a.getDerivedStateFromError!="function"?null:r.render(),t.flags|=1,e!==null&&s?(t.child=Hl(t,e.child,null,n),t.child=Hl(t,null,a,n)):kt(e,t,a,n),t.memoizedState=r.state,e=t.child):e=Za(e,t,n),e}function Od(e,t,a,s){return kl(),t.flags|=256,kt(e,t,a,s),t.child}var ac={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function lc(e){return{baseLanes:e,cachePool:vu()}}function sc(e,t,a){return e=e!==null?e.childLanes&~a:0,t&&(e|=na),e}function Bd(e,t,a){var s=t.pendingProps,n=!1,r=(t.flags&128)!==0,u;if((u=r)||(u=e!==null&&e.memoizedState===null?!1:(ht.current&2)!==0),u&&(n=!0,t.flags&=-129),u=(t.flags&32)!==0,t.flags&=-33,e===null){if(Le){if(n?ml(t):fl(),(e=nt)?(e=Lm(e,xa),e=e!==null&&e.data!=="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:nl!==null?{id:Ma,overflow:Ea}:null,retryLane:536870912,hydrationErrors:null},a=du(e),a.return=t,t.child=a,Ot=t,nt=null)):e=null,e===null)throw rl(t);return Lc(e)?t.lanes=32:t.lanes=536870912,null}var g=s.children;return s=s.fallback,n?(fl(),n=t.mode,g=fi({mode:"hidden",children:g},n),s=Bl(s,n,a,null),g.return=t,s.return=t,g.sibling=s,t.child=g,s=t.child,s.memoizedState=lc(a),s.childLanes=sc(e,u,a),t.memoizedState=ac,nn(null,s)):(ml(t),nc(t,g))}var T=e.memoizedState;if(T!==null&&(g=T.dehydrated,g!==null)){if(r)t.flags&256?(ml(t),t.flags&=-257,t=ic(e,t,a)):t.memoizedState!==null?(fl(),t.child=e.child,t.flags|=128,t=null):(fl(),g=s.fallback,n=t.mode,s=fi({mode:"visible",children:s.children},n),g=Bl(g,n,a,null),g.flags|=2,s.return=t,g.return=t,s.sibling=g,t.child=s,Hl(t,e.child,null,a),s=t.child,s.memoizedState=lc(a),s.childLanes=sc(e,u,a),t.memoizedState=ac,t=nn(null,s));else if(ml(t),Lc(g)){if(u=g.nextSibling&&g.nextSibling.dataset,u)var U=u.dgst;u=U,s=Error(o(419)),s.stack="",s.digest=u,$s({value:s,source:null,stack:null}),t=ic(e,t,a)}else if(St||us(e,t,a,!1),u=(a&e.childLanes)!==0,St||u){if(u=st,u!==null&&(s=Fe(u,a),s!==0&&s!==T.retryLane))throw T.retryLane=s,Ol(e,s),Pt(u,e,s),ec;Hc(g)||ji(),t=ic(e,t,a)}else Hc(g)?(t.flags|=192,t.child=e.child,t=null):(e=T.treeContext,nt=ba(g.nextSibling),Ot=t,Le=!0,il=null,xa=!1,e!==null&&hu(t,e),t=nc(t,s.children),t.flags|=4096);return t}return n?(fl(),g=s.fallback,n=t.mode,T=e.child,U=T.sibling,s=Ha(T,{mode:"hidden",children:s.children}),s.subtreeFlags=T.subtreeFlags&65011712,U!==null?g=Ha(U,g):(g=Bl(g,n,a,null),g.flags|=2),g.return=t,s.return=t,s.sibling=g,t.child=s,nn(null,s),s=t.child,g=e.child.memoizedState,g===null?g=lc(a):(n=g.cachePool,n!==null?(T=Nt._currentValue,n=n.parent!==T?{parent:T,pool:T}:n):n=vu(),g={baseLanes:g.baseLanes|a,cachePool:n}),s.memoizedState=g,s.childLanes=sc(e,u,a),t.memoizedState=ac,nn(e.child,s)):(ml(t),a=e.child,e=a.sibling,a=Ha(a,{mode:"visible",children:s.children}),a.return=t,a.sibling=null,e!==null&&(u=t.deletions,u===null?(t.deletions=[e],t.flags|=16):u.push(e)),t.child=a,t.memoizedState=null,a)}function nc(e,t){return t=fi({mode:"visible",children:t},e.mode),t.return=e,e.child=t}function fi(e,t){return e=ta(22,e,null,t),e.lanes=0,e}function ic(e,t,a){return Hl(t,e.child,null,a),e=nc(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function kd(e,t,a){e.lanes|=t;var s=e.alternate;s!==null&&(s.lanes|=t),Nr(e.return,t,a)}function rc(e,t,a,s,n,r){var u=e.memoizedState;u===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:s,tail:a,tailMode:n,treeForkCount:r}:(u.isBackwards=t,u.rendering=null,u.renderingStartTime=0,u.last=s,u.tail=a,u.tailMode=n,u.treeForkCount=r)}function zd(e,t,a){var s=t.pendingProps,n=s.revealOrder,r=s.tail;s=s.children;var u=ht.current,g=(u&2)!==0;if(g?(u=u&1|2,t.flags|=128):u&=1,de(ht,u),kt(e,t,s,a),s=Le?Vs:0,!g&&e!==null&&(e.flags&128)!==0)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&kd(e,a,t);else if(e.tag===19)kd(e,a,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(n){case"forwards":for(a=t.child,n=null;a!==null;)e=a.alternate,e!==null&&ti(e)===null&&(n=a),a=a.sibling;a=n,a===null?(n=t.child,t.child=null):(n=a.sibling,a.sibling=null),rc(t,!1,n,a,r,s);break;case"backwards":case"unstable_legacy-backwards":for(a=null,n=t.child,t.child=null;n!==null;){if(e=n.alternate,e!==null&&ti(e)===null){t.child=n;break}e=n.sibling,n.sibling=a,a=n,n=e}rc(t,!0,a,null,r,s);break;case"together":rc(t,!1,null,null,void 0,s);break;default:t.memoizedState=null}return t.child}function Za(e,t,a){if(e!==null&&(t.dependencies=e.dependencies),gl|=t.lanes,(a&t.childLanes)===0)if(e!==null){if(us(e,t,a,!1),(a&t.childLanes)===0)return null}else return null;if(e!==null&&t.child!==e.child)throw Error(o(153));if(t.child!==null){for(e=t.child,a=Ha(e,e.pendingProps),t.child=a,a.return=t;e.sibling!==null;)e=e.sibling,a=a.sibling=Ha(e,e.pendingProps),a.return=t;a.sibling=null}return t.child}function cc(e,t){return(e.lanes&t)!==0?!0:(e=e.dependencies,!!(e!==null&&$n(e)))}function rh(e,t,a){switch(t.tag){case 3:lt(t,t.stateNode.containerInfo),cl(t,Nt,e.memoizedState.cache),kl();break;case 27:case 5:Zt(t);break;case 4:lt(t,t.stateNode.containerInfo);break;case 10:cl(t,t.type,t.memoizedProps.value);break;case 31:if(t.memoizedState!==null)return t.flags|=128,kr(t),null;break;case 13:var s=t.memoizedState;if(s!==null)return s.dehydrated!==null?(ml(t),t.flags|=128,null):(a&t.child.childLanes)!==0?Bd(e,t,a):(ml(t),e=Za(e,t,a),e!==null?e.sibling:null);ml(t);break;case 19:var n=(e.flags&128)!==0;if(s=(a&t.childLanes)!==0,s||(us(e,t,a,!1),s=(a&t.childLanes)!==0),n){if(s)return zd(e,t,a);t.flags|=128}if(n=t.memoizedState,n!==null&&(n.rendering=null,n.tail=null,n.lastEffect=null),de(ht,ht.current),s)break;return null;case 22:return t.lanes=0,Md(e,t,a,t.pendingProps);case 24:cl(t,Nt,e.memoizedState.cache)}return Za(e,t,a)}function Dd(e,t,a){if(e!==null)if(e.memoizedProps!==t.pendingProps)St=!0;else{if(!cc(e,a)&&(t.flags&128)===0)return St=!1,rh(e,t,a);St=(e.flags&131072)!==0}else St=!1,Le&&(t.flags&1048576)!==0&&fu(t,Vs,t.index);switch(t.lanes=0,t.tag){case 16:e:{var s=t.pendingProps;if(e=ql(t.elementType),t.type=e,typeof e=="function")fr(e)?(s=Gl(e,s),t.tag=1,t=Cd(null,t,e,s,a)):(t.tag=0,t=tc(null,t,e,s,a));else{if(e!=null){var n=e.$$typeof;if(n===W){t.tag=11,t=Sd(null,t,e,s,a);break e}else if(n===R){t.tag=14,t=wd(null,t,e,s,a);break e}}throw t=fe(e)||e,Error(o(306,t,""))}}return t;case 0:return tc(e,t,t.type,t.pendingProps,a);case 1:return s=t.type,n=Gl(s,t.pendingProps),Cd(e,t,s,n,a);case 3:e:{if(lt(t,t.stateNode.containerInfo),e===null)throw Error(o(387));s=t.pendingProps;var r=t.memoizedState;n=r.element,Ar(e,t),en(t,s,null,a);var u=t.memoizedState;if(s=u.cache,cl(t,Nt,s),s!==r.cache&&jr(t,[Nt],a,!0),Ws(),s=u.element,r.isDehydrated)if(r={element:s,isDehydrated:!1,cache:u.cache},t.updateQueue.baseState=r,t.memoizedState=r,t.flags&256){t=Od(e,t,s,a);break e}else if(s!==n){n=ma(Error(o(424)),t),$s(n),t=Od(e,t,s,a);break e}else for(e=t.stateNode.containerInfo,e.nodeType===9?e=e.body:e=e.nodeName==="HTML"?e.ownerDocument.body:e,nt=ba(e.firstChild),Ot=t,Le=!0,il=null,xa=!0,a=Mu(t,null,s,a),t.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling;else{if(kl(),s===n){t=Za(e,t,a);break e}kt(e,t,s,a)}t=t.child}return t;case 26:return mi(e,t),e===null?(a=Vm(t.type,null,t.pendingProps,null))?t.memoizedState=a:Le||(a=t.type,e=t.pendingProps,s=Ri(Ae.current).createElement(a),s[He]=t,s[pt]=e,zt(s,a,e),ft(s),t.stateNode=s):t.memoizedState=Vm(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return Zt(t),e===null&&Le&&(s=t.stateNode=Xm(t.type,t.pendingProps,Ae.current),Ot=t,xa=!0,n=nt,Nl(t.type)?(Gc=n,nt=ba(s.firstChild)):nt=n),kt(e,t,t.pendingProps.children,a),mi(e,t),e===null&&(t.flags|=4194304),t.child;case 5:return e===null&&Le&&((n=s=nt)&&(s=qh(s,t.type,t.pendingProps,xa),s!==null?(t.stateNode=s,Ot=t,nt=ba(s.firstChild),xa=!1,n=!0):n=!1),n||rl(t)),Zt(t),n=t.type,r=t.pendingProps,u=e!==null?e.memoizedProps:null,s=r.children,_c(n,r)?s=null:u!==null&&_c(n,u)&&(t.flags|=32),t.memoizedState!==null&&(n=Dr(e,t,Jf,null,null,a),Nn._currentValue=n),mi(e,t),kt(e,t,s,a),t.child;case 6:return e===null&&Le&&((e=a=nt)&&(a=Uh(a,t.pendingProps,xa),a!==null?(t.stateNode=a,Ot=t,nt=null,e=!0):e=!1),e||rl(t)),null;case 13:return Bd(e,t,a);case 4:return lt(t,t.stateNode.containerInfo),s=t.pendingProps,e===null?t.child=Hl(t,null,s,a):kt(e,t,s,a),t.child;case 11:return Sd(e,t,t.type,t.pendingProps,a);case 7:return kt(e,t,t.pendingProps,a),t.child;case 8:return kt(e,t,t.pendingProps.children,a),t.child;case 12:return kt(e,t,t.pendingProps.children,a),t.child;case 10:return s=t.pendingProps,cl(t,t.type,s.value),kt(e,t,s.children,a),t.child;case 9:return n=t.type._context,s=t.pendingProps.children,Dl(t),n=Bt(n),s=s(n),t.flags|=1,kt(e,t,s,a),t.child;case 14:return wd(e,t,t.type,t.pendingProps,a);case 15:return Td(e,t,t.type,t.pendingProps,a);case 19:return zd(e,t,a);case 31:return ih(e,t,a);case 22:return Md(e,t,a,t.pendingProps);case 24:return Dl(t),s=Bt(Nt),e===null?(n=Tr(),n===null&&(n=st,r=Sr(),n.pooledCache=r,r.refCount++,r!==null&&(n.pooledCacheLanes|=a),n=r),t.memoizedState={parent:s,cache:n},Er(t),cl(t,Nt,n)):((e.lanes&a)!==0&&(Ar(e,t),en(t,null,null,a),Ws()),n=e.memoizedState,r=t.memoizedState,n.parent!==s?(n={parent:s,cache:s},t.memoizedState=n,t.lanes===0&&(t.memoizedState=t.updateQueue.baseState=n),cl(t,Nt,s)):(s=r.cache,cl(t,Nt,s),s!==n.cache&&jr(t,[Nt],a,!0))),kt(e,t,t.pendingProps.children,a),t.child;case 29:throw t.pendingProps}throw Error(o(156,t.tag))}function Va(e){e.flags|=4}function oc(e,t,a,s,n){if((t=(e.mode&32)!==0)&&(t=!1),t){if(e.flags|=16777216,(n&335544128)===n)if(e.stateNode.complete)e.flags|=8192;else if(cm())e.flags|=8192;else throw Ul=Pn,Mr}else e.flags&=-16777217}function _d(e,t){if(t.type!=="stylesheet"||(t.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!Pm(t))if(cm())e.flags|=8192;else throw Ul=Pn,Mr}function hi(e,t){t!==null&&(e.flags|=4),e.flags&16384&&(t=e.tag!==22?me():536870912,e.lanes|=t,js|=t)}function rn(e,t){if(!Le)switch(e.tailMode){case"hidden":t=e.tail;for(var a=null;t!==null;)t.alternate!==null&&(a=t),t=t.sibling;a===null?e.tail=null:a.sibling=null;break;case"collapsed":a=e.tail;for(var s=null;a!==null;)a.alternate!==null&&(s=a),a=a.sibling;s===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:s.sibling=null}}function it(e){var t=e.alternate!==null&&e.alternate.child===e.child,a=0,s=0;if(t)for(var n=e.child;n!==null;)a|=n.lanes|n.childLanes,s|=n.subtreeFlags&65011712,s|=n.flags&65011712,n.return=e,n=n.sibling;else for(n=e.child;n!==null;)a|=n.lanes|n.childLanes,s|=n.subtreeFlags,s|=n.flags,n.return=e,n=n.sibling;return e.subtreeFlags|=s,e.childLanes=a,t}function ch(e,t,a){var s=t.pendingProps;switch(br(t),t.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return it(t),null;case 1:return it(t),null;case 3:return a=t.stateNode,s=null,e!==null&&(s=e.memoizedState.cache),t.memoizedState.cache!==s&&(t.flags|=2048),Ya(Nt),ct(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(e===null||e.child===null)&&(os(t)?Va(t):e===null||e.memoizedState.isDehydrated&&(t.flags&256)===0||(t.flags|=1024,pr())),it(t),null;case 26:var n=t.type,r=t.memoizedState;return e===null?(Va(t),r!==null?(it(t),_d(t,r)):(it(t),oc(t,n,null,s,a))):r?r!==e.memoizedState?(Va(t),it(t),_d(t,r)):(it(t),t.flags&=-16777217):(e=e.memoizedProps,e!==s&&Va(t),it(t),oc(t,n,e,s,a)),null;case 27:if(Ie(t),a=Ae.current,n=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==s&&Va(t);else{if(!s){if(t.stateNode===null)throw Error(o(166));return it(t),null}e=re.current,os(t)?xu(t):(e=Xm(n,s,a),t.stateNode=e,Va(t))}return it(t),null;case 5:if(Ie(t),n=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==s&&Va(t);else{if(!s){if(t.stateNode===null)throw Error(o(166));return it(t),null}if(r=re.current,os(t))xu(t);else{var u=Ri(Ae.current);switch(r){case 1:r=u.createElementNS("http://www.w3.org/2000/svg",n);break;case 2:r=u.createElementNS("http://www.w3.org/1998/Math/MathML",n);break;default:switch(n){case"svg":r=u.createElementNS("http://www.w3.org/2000/svg",n);break;case"math":r=u.createElementNS("http://www.w3.org/1998/Math/MathML",n);break;case"script":r=u.createElement("div"),r.innerHTML="<script><\/script>",r=r.removeChild(r.firstChild);break;case"select":r=typeof s.is=="string"?u.createElement("select",{is:s.is}):u.createElement("select"),s.multiple?r.multiple=!0:s.size&&(r.size=s.size);break;default:r=typeof s.is=="string"?u.createElement(n,{is:s.is}):u.createElement(n)}}r[He]=t,r[pt]=s;e:for(u=t.child;u!==null;){if(u.tag===5||u.tag===6)r.appendChild(u.stateNode);else if(u.tag!==4&&u.tag!==27&&u.child!==null){u.child.return=u,u=u.child;continue}if(u===t)break e;for(;u.sibling===null;){if(u.return===null||u.return===t)break e;u=u.return}u.sibling.return=u.return,u=u.sibling}t.stateNode=r;e:switch(zt(r,n,s),n){case"button":case"input":case"select":case"textarea":s=!!s.autoFocus;break e;case"img":s=!0;break e;default:s=!1}s&&Va(t)}}return it(t),oc(t,t.type,e===null?null:e.memoizedProps,t.pendingProps,a),null;case 6:if(e&&t.stateNode!=null)e.memoizedProps!==s&&Va(t);else{if(typeof s!="string"&&t.stateNode===null)throw Error(o(166));if(e=Ae.current,os(t)){if(e=t.stateNode,a=t.memoizedProps,s=null,n=Ot,n!==null)switch(n.tag){case 27:case 5:s=n.memoizedProps}e[He]=t,e=!!(e.nodeValue===a||s!==null&&s.suppressHydrationWarning===!0||Bm(e.nodeValue,a)),e||rl(t,!0)}else e=Ri(e).createTextNode(s),e[He]=t,t.stateNode=e}return it(t),null;case 31:if(a=t.memoizedState,e===null||e.memoizedState!==null){if(s=os(t),a!==null){if(e===null){if(!s)throw Error(o(318));if(e=t.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(o(557));e[He]=t}else kl(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;it(t),e=!1}else a=pr(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=a),e=!0;if(!e)return t.flags&256?(la(t),t):(la(t),null);if((t.flags&128)!==0)throw Error(o(558))}return it(t),null;case 13:if(s=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(n=os(t),s!==null&&s.dehydrated!==null){if(e===null){if(!n)throw Error(o(318));if(n=t.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(o(317));n[He]=t}else kl(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;it(t),n=!1}else n=pr(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=n),n=!0;if(!n)return t.flags&256?(la(t),t):(la(t),null)}return la(t),(t.flags&128)!==0?(t.lanes=a,t):(a=s!==null,e=e!==null&&e.memoizedState!==null,a&&(s=t.child,n=null,s.alternate!==null&&s.alternate.memoizedState!==null&&s.alternate.memoizedState.cachePool!==null&&(n=s.alternate.memoizedState.cachePool.pool),r=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(r=s.memoizedState.cachePool.pool),r!==n&&(s.flags|=2048)),a!==e&&a&&(t.child.flags|=8192),hi(t,t.updateQueue),it(t),null);case 4:return ct(),e===null&&Oc(t.stateNode.containerInfo),it(t),null;case 10:return Ya(t.type),it(t),null;case 19:if(F(ht),s=t.memoizedState,s===null)return it(t),null;if(n=(t.flags&128)!==0,r=s.rendering,r===null)if(n)rn(s,!1);else{if(ut!==0||e!==null&&(e.flags&128)!==0)for(e=t.child;e!==null;){if(r=ti(e),r!==null){for(t.flags|=128,rn(s,!1),e=r.updateQueue,t.updateQueue=e,hi(t,e),t.subtreeFlags=0,e=a,a=t.child;a!==null;)uu(a,e),a=a.sibling;return de(ht,ht.current&1|2),Le&&La(t,s.treeForkCount),t.child}e=e.sibling}s.tail!==null&&Be()>pi&&(t.flags|=128,n=!0,rn(s,!1),t.lanes=4194304)}else{if(!n)if(e=ti(r),e!==null){if(t.flags|=128,n=!0,e=e.updateQueue,t.updateQueue=e,hi(t,e),rn(s,!0),s.tail===null&&s.tailMode==="hidden"&&!r.alternate&&!Le)return it(t),null}else 2*Be()-s.renderingStartTime>pi&&a!==536870912&&(t.flags|=128,n=!0,rn(s,!1),t.lanes=4194304);s.isBackwards?(r.sibling=t.child,t.child=r):(e=s.last,e!==null?e.sibling=r:t.child=r,s.last=r)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=Be(),e.sibling=null,a=ht.current,de(ht,n?a&1|2:a&1),Le&&La(t,s.treeForkCount),e):(it(t),null);case 22:case 23:return la(t),Br(),s=t.memoizedState!==null,e!==null?e.memoizedState!==null!==s&&(t.flags|=8192):s&&(t.flags|=8192),s?(a&536870912)!==0&&(t.flags&128)===0&&(it(t),t.subtreeFlags&6&&(t.flags|=8192)):it(t),a=t.updateQueue,a!==null&&hi(t,a.retryQueue),a=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),s=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(s=t.memoizedState.cachePool.pool),s!==a&&(t.flags|=2048),e!==null&&F(_l),null;case 24:return a=null,e!==null&&(a=e.memoizedState.cache),t.memoizedState.cache!==a&&(t.flags|=2048),Ya(Nt),it(t),null;case 25:return null;case 30:return null}throw Error(o(156,t.tag))}function oh(e,t){switch(br(t),t.tag){case 1:return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Ya(Nt),ct(),e=t.flags,(e&65536)!==0&&(e&128)===0?(t.flags=e&-65537|128,t):null;case 26:case 27:case 5:return Ie(t),null;case 31:if(t.memoizedState!==null){if(la(t),t.alternate===null)throw Error(o(340));kl()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 13:if(la(t),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(o(340));kl()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return F(ht),null;case 4:return ct(),null;case 10:return Ya(t.type),null;case 22:case 23:return la(t),Br(),e!==null&&F(_l),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 24:return Ya(Nt),null;case 25:return null;default:return null}}function qd(e,t){switch(br(t),t.tag){case 3:Ya(Nt),ct();break;case 26:case 27:case 5:Ie(t);break;case 4:ct();break;case 31:t.memoizedState!==null&&la(t);break;case 13:la(t);break;case 19:F(ht);break;case 10:Ya(t.type);break;case 22:case 23:la(t),Br(),e!==null&&F(_l);break;case 24:Ya(Nt)}}function cn(e,t){try{var a=t.updateQueue,s=a!==null?a.lastEffect:null;if(s!==null){var n=s.next;a=n;do{if((a.tag&e)===e){s=void 0;var r=a.create,u=a.inst;s=r(),u.destroy=s}a=a.next}while(a!==n)}}catch(g){Je(t,t.return,g)}}function hl(e,t,a){try{var s=t.updateQueue,n=s!==null?s.lastEffect:null;if(n!==null){var r=n.next;s=r;do{if((s.tag&e)===e){var u=s.inst,g=u.destroy;if(g!==void 0){u.destroy=void 0,n=t;var T=a,U=g;try{U()}catch(V){Je(n,T,V)}}}s=s.next}while(s!==r)}}catch(V){Je(t,t.return,V)}}function Ud(e){var t=e.updateQueue;if(t!==null){var a=e.stateNode;try{Au(t,a)}catch(s){Je(e,e.return,s)}}}function Hd(e,t,a){a.props=Gl(e.type,e.memoizedProps),a.state=e.memoizedState;try{a.componentWillUnmount()}catch(s){Je(e,t,s)}}function on(e,t){try{var a=e.ref;if(a!==null){switch(e.tag){case 26:case 27:case 5:var s=e.stateNode;break;case 30:s=e.stateNode;break;default:s=e.stateNode}typeof a=="function"?e.refCleanup=a(s):a.current=s}}catch(n){Je(e,t,n)}}function Aa(e,t){var a=e.ref,s=e.refCleanup;if(a!==null)if(typeof s=="function")try{s()}catch(n){Je(e,t,n)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(n){Je(e,t,n)}else a.current=null}function Ld(e){var t=e.type,a=e.memoizedProps,s=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":a.autoFocus&&s.focus();break e;case"img":a.src?s.src=a.src:a.srcSet&&(s.srcset=a.srcSet)}}catch(n){Je(e,e.return,n)}}function uc(e,t,a){try{var s=e.stateNode;Oh(s,e.type,a,t),s[pt]=t}catch(n){Je(e,e.return,n)}}function Gd(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&Nl(e.type)||e.tag===4}function dc(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Gd(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&Nl(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function mc(e,t,a){var s=e.tag;if(s===5||s===6)e=e.stateNode,t?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(e,t):(t=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,t.appendChild(e),a=a._reactRootContainer,a!=null||t.onclick!==null||(t.onclick=qa));else if(s!==4&&(s===27&&Nl(e.type)&&(a=e.stateNode,t=null),e=e.child,e!==null))for(mc(e,t,a),e=e.sibling;e!==null;)mc(e,t,a),e=e.sibling}function xi(e,t,a){var s=e.tag;if(s===5||s===6)e=e.stateNode,t?a.insertBefore(e,t):a.appendChild(e);else if(s!==4&&(s===27&&Nl(e.type)&&(a=e.stateNode),e=e.child,e!==null))for(xi(e,t,a),e=e.sibling;e!==null;)xi(e,t,a),e=e.sibling}function Yd(e){var t=e.stateNode,a=e.memoizedProps;try{for(var s=e.type,n=t.attributes;n.length;)t.removeAttributeNode(n[0]);zt(t,s,a),t[He]=e,t[pt]=a}catch(r){Je(e,e.return,r)}}var $a=!1,wt=!1,fc=!1,Xd=typeof WeakSet=="function"?WeakSet:Set,Et=null;function uh(e,t){if(e=e.containerInfo,zc=_i,e=tu(e),ir(e)){if("selectionStart"in e)var a={start:e.selectionStart,end:e.selectionEnd};else e:{a=(a=e.ownerDocument)&&a.defaultView||window;var s=a.getSelection&&a.getSelection();if(s&&s.rangeCount!==0){a=s.anchorNode;var n=s.anchorOffset,r=s.focusNode;s=s.focusOffset;try{a.nodeType,r.nodeType}catch{a=null;break e}var u=0,g=-1,T=-1,U=0,V=0,ee=e,L=null;t:for(;;){for(var Q;ee!==a||n!==0&&ee.nodeType!==3||(g=u+n),ee!==r||s!==0&&ee.nodeType!==3||(T=u+s),ee.nodeType===3&&(u+=ee.nodeValue.length),(Q=ee.firstChild)!==null;)L=ee,ee=Q;for(;;){if(ee===e)break t;if(L===a&&++U===n&&(g=u),L===r&&++V===s&&(T=u),(Q=ee.nextSibling)!==null)break;ee=L,L=ee.parentNode}ee=Q}a=g===-1||T===-1?null:{start:g,end:T}}else a=null}a=a||{start:0,end:0}}else a=null;for(Dc={focusedElem:e,selectionRange:a},_i=!1,Et=t;Et!==null;)if(t=Et,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,Et=e;else for(;Et!==null;){switch(t=Et,r=t.alternate,e=t.flags,t.tag){case 0:if((e&4)!==0&&(e=t.updateQueue,e=e!==null?e.events:null,e!==null))for(a=0;a<e.length;a++)n=e[a],n.ref.impl=n.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&r!==null){e=void 0,a=t,n=r.memoizedProps,r=r.memoizedState,s=a.stateNode;try{var be=Gl(a.type,n);e=s.getSnapshotBeforeUpdate(be,r),s.__reactInternalSnapshotBeforeUpdate=e}catch(we){Je(a,a.return,we)}}break;case 3:if((e&1024)!==0){if(e=t.stateNode.containerInfo,a=e.nodeType,a===9)Uc(e);else if(a===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":Uc(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(o(163))}if(e=t.sibling,e!==null){e.return=t.return,Et=e;break}Et=t.return}}function Qd(e,t,a){var s=a.flags;switch(a.tag){case 0:case 11:case 15:Ia(e,a),s&4&&cn(5,a);break;case 1:if(Ia(e,a),s&4)if(e=a.stateNode,t===null)try{e.componentDidMount()}catch(u){Je(a,a.return,u)}else{var n=Gl(a.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(n,t,e.__reactInternalSnapshotBeforeUpdate)}catch(u){Je(a,a.return,u)}}s&64&&Ud(a),s&512&&on(a,a.return);break;case 3:if(Ia(e,a),s&64&&(e=a.updateQueue,e!==null)){if(t=null,a.child!==null)switch(a.child.tag){case 27:case 5:t=a.child.stateNode;break;case 1:t=a.child.stateNode}try{Au(e,t)}catch(u){Je(a,a.return,u)}}break;case 27:t===null&&s&4&&Yd(a);case 26:case 5:Ia(e,a),t===null&&s&4&&Ld(a),s&512&&on(a,a.return);break;case 12:Ia(e,a);break;case 31:Ia(e,a),s&4&&$d(e,a);break;case 13:Ia(e,a),s&4&&Kd(e,a),s&64&&(e=a.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(a=ph.bind(null,a),Hh(e,a))));break;case 22:if(s=a.memoizedState!==null||$a,!s){t=t!==null&&t.memoizedState!==null||wt,n=$a;var r=wt;$a=s,(wt=t)&&!r?Fa(e,a,(a.subtreeFlags&8772)!==0):Ia(e,a),$a=n,wt=r}break;case 30:break;default:Ia(e,a)}}function Zd(e){var t=e.alternate;t!==null&&(e.alternate=null,Zd(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&_s(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var rt=null,$t=!1;function Ka(e,t,a){for(a=a.child;a!==null;)Vd(e,t,a),a=a.sibling}function Vd(e,t,a){if(yt&&typeof yt.onCommitFiberUnmount=="function")try{yt.onCommitFiberUnmount(Ba,a)}catch{}switch(a.tag){case 26:wt||Aa(a,t),Ka(e,t,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:wt||Aa(a,t);var s=rt,n=$t;Nl(a.type)&&(rt=a.stateNode,$t=!1),Ka(e,t,a),yn(a.stateNode),rt=s,$t=n;break;case 5:wt||Aa(a,t);case 6:if(s=rt,n=$t,rt=null,Ka(e,t,a),rt=s,$t=n,rt!==null)if($t)try{(rt.nodeType===9?rt.body:rt.nodeName==="HTML"?rt.ownerDocument.body:rt).removeChild(a.stateNode)}catch(r){Je(a,t,r)}else try{rt.removeChild(a.stateNode)}catch(r){Je(a,t,r)}break;case 18:rt!==null&&($t?(e=rt,Um(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,a.stateNode),Cs(e)):Um(rt,a.stateNode));break;case 4:s=rt,n=$t,rt=a.stateNode.containerInfo,$t=!0,Ka(e,t,a),rt=s,$t=n;break;case 0:case 11:case 14:case 15:hl(2,a,t),wt||hl(4,a,t),Ka(e,t,a);break;case 1:wt||(Aa(a,t),s=a.stateNode,typeof s.componentWillUnmount=="function"&&Hd(a,t,s)),Ka(e,t,a);break;case 21:Ka(e,t,a);break;case 22:wt=(s=wt)||a.memoizedState!==null,Ka(e,t,a),wt=s;break;default:Ka(e,t,a)}}function $d(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{Cs(e)}catch(a){Je(t,t.return,a)}}}function Kd(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{Cs(e)}catch(a){Je(t,t.return,a)}}function dh(e){switch(e.tag){case 31:case 13:case 19:var t=e.stateNode;return t===null&&(t=e.stateNode=new Xd),t;case 22:return e=e.stateNode,t=e._retryCache,t===null&&(t=e._retryCache=new Xd),t;default:throw Error(o(435,e.tag))}}function gi(e,t){var a=dh(e);t.forEach(function(s){if(!a.has(s)){a.add(s);var n=vh.bind(null,e,s);s.then(n,n)}})}function Kt(e,t){var a=t.deletions;if(a!==null)for(var s=0;s<a.length;s++){var n=a[s],r=e,u=t,g=u;e:for(;g!==null;){switch(g.tag){case 27:if(Nl(g.type)){rt=g.stateNode,$t=!1;break e}break;case 5:rt=g.stateNode,$t=!1;break e;case 3:case 4:rt=g.stateNode.containerInfo,$t=!0;break e}g=g.return}if(rt===null)throw Error(o(160));Vd(r,u,n),rt=null,$t=!1,r=n.alternate,r!==null&&(r.return=null),n.return=null}if(t.subtreeFlags&13886)for(t=t.child;t!==null;)Id(t,e),t=t.sibling}var ja=null;function Id(e,t){var a=e.alternate,s=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:Kt(t,e),It(e),s&4&&(hl(3,e,e.return),cn(3,e),hl(5,e,e.return));break;case 1:Kt(t,e),It(e),s&512&&(wt||a===null||Aa(a,a.return)),s&64&&$a&&(e=e.updateQueue,e!==null&&(s=e.callbacks,s!==null&&(a=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=a===null?s:a.concat(s))));break;case 26:var n=ja;if(Kt(t,e),It(e),s&512&&(wt||a===null||Aa(a,a.return)),s&4){var r=a!==null?a.memoizedState:null;if(s=e.memoizedState,a===null)if(s===null)if(e.stateNode===null){e:{s=e.type,a=e.memoizedProps,n=n.ownerDocument||n;t:switch(s){case"title":r=n.getElementsByTagName("title")[0],(!r||r[Mt]||r[He]||r.namespaceURI==="http://www.w3.org/2000/svg"||r.hasAttribute("itemprop"))&&(r=n.createElement(s),n.head.insertBefore(r,n.querySelector("head > title"))),zt(r,s,a),r[He]=e,ft(r),s=r;break e;case"link":var u=Im("link","href",n).get(s+(a.href||""));if(u){for(var g=0;g<u.length;g++)if(r=u[g],r.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&r.getAttribute("rel")===(a.rel==null?null:a.rel)&&r.getAttribute("title")===(a.title==null?null:a.title)&&r.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){u.splice(g,1);break t}}r=n.createElement(s),zt(r,s,a),n.head.appendChild(r);break;case"meta":if(u=Im("meta","content",n).get(s+(a.content||""))){for(g=0;g<u.length;g++)if(r=u[g],r.getAttribute("content")===(a.content==null?null:""+a.content)&&r.getAttribute("name")===(a.name==null?null:a.name)&&r.getAttribute("property")===(a.property==null?null:a.property)&&r.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&r.getAttribute("charset")===(a.charSet==null?null:a.charSet)){u.splice(g,1);break t}}r=n.createElement(s),zt(r,s,a),n.head.appendChild(r);break;default:throw Error(o(468,s))}r[He]=e,ft(r),s=r}e.stateNode=s}else Fm(n,e.type,e.stateNode);else e.stateNode=Km(n,s,e.memoizedProps);else r!==s?(r===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):r.count--,s===null?Fm(n,e.type,e.stateNode):Km(n,s,e.memoizedProps)):s===null&&e.stateNode!==null&&uc(e,e.memoizedProps,a.memoizedProps)}break;case 27:Kt(t,e),It(e),s&512&&(wt||a===null||Aa(a,a.return)),a!==null&&s&4&&uc(e,e.memoizedProps,a.memoizedProps);break;case 5:if(Kt(t,e),It(e),s&512&&(wt||a===null||Aa(a,a.return)),e.flags&32){n=e.stateNode;try{Wl(n,"")}catch(be){Je(e,e.return,be)}}s&4&&e.stateNode!=null&&(n=e.memoizedProps,uc(e,n,a!==null?a.memoizedProps:n)),s&1024&&(fc=!0);break;case 6:if(Kt(t,e),It(e),s&4){if(e.stateNode===null)throw Error(o(162));s=e.memoizedProps,a=e.stateNode;try{a.nodeValue=s}catch(be){Je(e,e.return,be)}}break;case 3:if(Bi=null,n=ja,ja=Ci(t.containerInfo),Kt(t,e),ja=n,It(e),s&4&&a!==null&&a.memoizedState.isDehydrated)try{Cs(t.containerInfo)}catch(be){Je(e,e.return,be)}fc&&(fc=!1,Fd(e));break;case 4:s=ja,ja=Ci(e.stateNode.containerInfo),Kt(t,e),It(e),ja=s;break;case 12:Kt(t,e),It(e);break;case 31:Kt(t,e),It(e),s&4&&(s=e.updateQueue,s!==null&&(e.updateQueue=null,gi(e,s)));break;case 13:Kt(t,e),It(e),e.child.flags&8192&&e.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(yi=Be()),s&4&&(s=e.updateQueue,s!==null&&(e.updateQueue=null,gi(e,s)));break;case 22:n=e.memoizedState!==null;var T=a!==null&&a.memoizedState!==null,U=$a,V=wt;if($a=U||n,wt=V||T,Kt(t,e),wt=V,$a=U,It(e),s&8192)e:for(t=e.stateNode,t._visibility=n?t._visibility&-2:t._visibility|1,n&&(a===null||T||$a||wt||Yl(e)),a=null,t=e;;){if(t.tag===5||t.tag===26){if(a===null){T=a=t;try{if(r=T.stateNode,n)u=r.style,typeof u.setProperty=="function"?u.setProperty("display","none","important"):u.display="none";else{g=T.stateNode;var ee=T.memoizedProps.style,L=ee!=null&&ee.hasOwnProperty("display")?ee.display:null;g.style.display=L==null||typeof L=="boolean"?"":(""+L).trim()}}catch(be){Je(T,T.return,be)}}}else if(t.tag===6){if(a===null){T=t;try{T.stateNode.nodeValue=n?"":T.memoizedProps}catch(be){Je(T,T.return,be)}}}else if(t.tag===18){if(a===null){T=t;try{var Q=T.stateNode;n?Hm(Q,!0):Hm(T.stateNode,!1)}catch(be){Je(T,T.return,be)}}}else if((t.tag!==22&&t.tag!==23||t.memoizedState===null||t===e)&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;a===t&&(a=null),t=t.return}a===t&&(a=null),t.sibling.return=t.return,t=t.sibling}s&4&&(s=e.updateQueue,s!==null&&(a=s.retryQueue,a!==null&&(s.retryQueue=null,gi(e,a))));break;case 19:Kt(t,e),It(e),s&4&&(s=e.updateQueue,s!==null&&(e.updateQueue=null,gi(e,s)));break;case 30:break;case 21:break;default:Kt(t,e),It(e)}}function It(e){var t=e.flags;if(t&2){try{for(var a,s=e.return;s!==null;){if(Gd(s)){a=s;break}s=s.return}if(a==null)throw Error(o(160));switch(a.tag){case 27:var n=a.stateNode,r=dc(e);xi(e,r,n);break;case 5:var u=a.stateNode;a.flags&32&&(Wl(u,""),a.flags&=-33);var g=dc(e);xi(e,g,u);break;case 3:case 4:var T=a.stateNode.containerInfo,U=dc(e);mc(e,U,T);break;default:throw Error(o(161))}}catch(V){Je(e,e.return,V)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function Fd(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var t=e;Fd(t),t.tag===5&&t.flags&1024&&t.stateNode.reset(),e=e.sibling}}function Ia(e,t){if(t.subtreeFlags&8772)for(t=t.child;t!==null;)Qd(e,t.alternate,t),t=t.sibling}function Yl(e){for(e=e.child;e!==null;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:hl(4,t,t.return),Yl(t);break;case 1:Aa(t,t.return);var a=t.stateNode;typeof a.componentWillUnmount=="function"&&Hd(t,t.return,a),Yl(t);break;case 27:yn(t.stateNode);case 26:case 5:Aa(t,t.return),Yl(t);break;case 22:t.memoizedState===null&&Yl(t);break;case 30:Yl(t);break;default:Yl(t)}e=e.sibling}}function Fa(e,t,a){for(a=a&&(t.subtreeFlags&8772)!==0,t=t.child;t!==null;){var s=t.alternate,n=e,r=t,u=r.flags;switch(r.tag){case 0:case 11:case 15:Fa(n,r,a),cn(4,r);break;case 1:if(Fa(n,r,a),s=r,n=s.stateNode,typeof n.componentDidMount=="function")try{n.componentDidMount()}catch(U){Je(s,s.return,U)}if(s=r,n=s.updateQueue,n!==null){var g=s.stateNode;try{var T=n.shared.hiddenCallbacks;if(T!==null)for(n.shared.hiddenCallbacks=null,n=0;n<T.length;n++)Eu(T[n],g)}catch(U){Je(s,s.return,U)}}a&&u&64&&Ud(r),on(r,r.return);break;case 27:Yd(r);case 26:case 5:Fa(n,r,a),a&&s===null&&u&4&&Ld(r),on(r,r.return);break;case 12:Fa(n,r,a);break;case 31:Fa(n,r,a),a&&u&4&&$d(n,r);break;case 13:Fa(n,r,a),a&&u&4&&Kd(n,r);break;case 22:r.memoizedState===null&&Fa(n,r,a),on(r,r.return);break;case 30:break;default:Fa(n,r,a)}t=t.sibling}}function hc(e,t){var a=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),e=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(e=t.memoizedState.cachePool.pool),e!==a&&(e!=null&&e.refCount++,a!=null&&Ks(a))}function xc(e,t){e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&Ks(e))}function Sa(e,t,a,s){if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Pd(e,t,a,s),t=t.sibling}function Pd(e,t,a,s){var n=t.flags;switch(t.tag){case 0:case 11:case 15:Sa(e,t,a,s),n&2048&&cn(9,t);break;case 1:Sa(e,t,a,s);break;case 3:Sa(e,t,a,s),n&2048&&(e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&Ks(e)));break;case 12:if(n&2048){Sa(e,t,a,s),e=t.stateNode;try{var r=t.memoizedProps,u=r.id,g=r.onPostCommit;typeof g=="function"&&g(u,t.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(T){Je(t,t.return,T)}}else Sa(e,t,a,s);break;case 31:Sa(e,t,a,s);break;case 13:Sa(e,t,a,s);break;case 23:break;case 22:r=t.stateNode,u=t.alternate,t.memoizedState!==null?r._visibility&2?Sa(e,t,a,s):un(e,t):r._visibility&2?Sa(e,t,a,s):(r._visibility|=2,ps(e,t,a,s,(t.subtreeFlags&10256)!==0||!1)),n&2048&&hc(u,t);break;case 24:Sa(e,t,a,s),n&2048&&xc(t.alternate,t);break;default:Sa(e,t,a,s)}}function ps(e,t,a,s,n){for(n=n&&((t.subtreeFlags&10256)!==0||!1),t=t.child;t!==null;){var r=e,u=t,g=a,T=s,U=u.flags;switch(u.tag){case 0:case 11:case 15:ps(r,u,g,T,n),cn(8,u);break;case 23:break;case 22:var V=u.stateNode;u.memoizedState!==null?V._visibility&2?ps(r,u,g,T,n):un(r,u):(V._visibility|=2,ps(r,u,g,T,n)),n&&U&2048&&hc(u.alternate,u);break;case 24:ps(r,u,g,T,n),n&&U&2048&&xc(u.alternate,u);break;default:ps(r,u,g,T,n)}t=t.sibling}}function un(e,t){if(t.subtreeFlags&10256)for(t=t.child;t!==null;){var a=e,s=t,n=s.flags;switch(s.tag){case 22:un(a,s),n&2048&&hc(s.alternate,s);break;case 24:un(a,s),n&2048&&xc(s.alternate,s);break;default:un(a,s)}t=t.sibling}}var dn=8192;function vs(e,t,a){if(e.subtreeFlags&dn)for(e=e.child;e!==null;)Jd(e,t,a),e=e.sibling}function Jd(e,t,a){switch(e.tag){case 26:vs(e,t,a),e.flags&dn&&e.memoizedState!==null&&Ph(a,ja,e.memoizedState,e.memoizedProps);break;case 5:vs(e,t,a);break;case 3:case 4:var s=ja;ja=Ci(e.stateNode.containerInfo),vs(e,t,a),ja=s;break;case 22:e.memoizedState===null&&(s=e.alternate,s!==null&&s.memoizedState!==null?(s=dn,dn=16777216,vs(e,t,a),dn=s):vs(e,t,a));break;default:vs(e,t,a)}}function Wd(e){var t=e.alternate;if(t!==null&&(e=t.child,e!==null)){t.child=null;do t=e.sibling,e.sibling=null,e=t;while(e!==null)}}function mn(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var a=0;a<t.length;a++){var s=t[a];Et=s,tm(s,e)}Wd(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)em(e),e=e.sibling}function em(e){switch(e.tag){case 0:case 11:case 15:mn(e),e.flags&2048&&hl(9,e,e.return);break;case 3:mn(e);break;case 12:mn(e);break;case 22:var t=e.stateNode;e.memoizedState!==null&&t._visibility&2&&(e.return===null||e.return.tag!==13)?(t._visibility&=-3,bi(e)):mn(e);break;default:mn(e)}}function bi(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var a=0;a<t.length;a++){var s=t[a];Et=s,tm(s,e)}Wd(e)}for(e=e.child;e!==null;){switch(t=e,t.tag){case 0:case 11:case 15:hl(8,t,t.return),bi(t);break;case 22:a=t.stateNode,a._visibility&2&&(a._visibility&=-3,bi(t));break;default:bi(t)}e=e.sibling}}function tm(e,t){for(;Et!==null;){var a=Et;switch(a.tag){case 0:case 11:case 15:hl(8,a,t);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var s=a.memoizedState.cachePool.pool;s!=null&&s.refCount++}break;case 24:Ks(a.memoizedState.cache)}if(s=a.child,s!==null)s.return=a,Et=s;else e:for(a=e;Et!==null;){s=Et;var n=s.sibling,r=s.return;if(Zd(s),s===a){Et=null;break e}if(n!==null){n.return=r,Et=n;break e}Et=r}}}var mh={getCacheForType:function(e){var t=Bt(Nt),a=t.data.get(e);return a===void 0&&(a=e(),t.data.set(e,a)),a},cacheSignal:function(){return Bt(Nt).controller.signal}},fh=typeof WeakMap=="function"?WeakMap:Map,Ke=0,st=null,ke=null,De=0,Pe=0,sa=null,xl=!1,Ns=!1,gc=!1,Pa=0,ut=0,gl=0,Xl=0,bc=0,na=0,js=0,fn=null,Ft=null,yc=!1,yi=0,am=0,pi=1/0,vi=null,bl=null,Tt=0,yl=null,Ss=null,Ja=0,pc=0,vc=null,lm=null,hn=0,Nc=null;function ia(){return(Ke&2)!==0&&De!==0?De&-De:z.T!==null?Ec():Rt()}function sm(){if(na===0)if((De&536870912)===0||Le){var e=Se;Se<<=1,(Se&3932160)===0&&(Se=262144),na=e}else na=536870912;return e=aa.current,e!==null&&(e.flags|=32),na}function Pt(e,t,a){(e===st&&(Pe===2||Pe===9)||e.cancelPendingCommit!==null)&&(ws(e,0),pl(e,De,na,!1)),Xe(e,a),((Ke&2)===0||e!==st)&&(e===st&&((Ke&2)===0&&(Xl|=a),ut===4&&pl(e,De,na,!1)),Ra(e))}function nm(e,t,a){if((Ke&6)!==0)throw Error(o(327));var s=!a&&(t&127)===0&&(t&e.expiredLanes)===0||ie(e,t),n=s?gh(e,t):Sc(e,t,!0),r=s;do{if(n===0){Ns&&!s&&pl(e,t,0,!1);break}else{if(a=e.current.alternate,r&&!hh(a)){n=Sc(e,t,!1),r=!1;continue}if(n===2){if(r=t,e.errorRecoveryDisabledLanes&r)var u=0;else u=e.pendingLanes&-536870913,u=u!==0?u:u&536870912?536870912:0;if(u!==0){t=u;e:{var g=e;n=fn;var T=g.current.memoizedState.isDehydrated;if(T&&(ws(g,u).flags|=256),u=Sc(g,u,!1),u!==2){if(gc&&!T){g.errorRecoveryDisabledLanes|=r,Xl|=r,n=4;break e}r=Ft,Ft=n,r!==null&&(Ft===null?Ft=r:Ft.push.apply(Ft,r))}n=u}if(r=!1,n!==2)continue}}if(n===1){ws(e,0),pl(e,t,0,!0);break}e:{switch(s=e,r=n,r){case 0:case 1:throw Error(o(345));case 4:if((t&4194048)!==t)break;case 6:pl(s,t,na,!xl);break e;case 2:Ft=null;break;case 3:case 5:break;default:throw Error(o(329))}if((t&62914560)===t&&(n=yi+300-Be(),10<n)){if(pl(s,t,na,!xl),$(s,0,!0)!==0)break e;Ja=t,s.timeoutHandle=_m(im.bind(null,s,a,Ft,vi,yc,t,na,Xl,js,xl,r,"Throttled",-0,0),n);break e}im(s,a,Ft,vi,yc,t,na,Xl,js,xl,r,null,-0,0)}}break}while(!0);Ra(e)}function im(e,t,a,s,n,r,u,g,T,U,V,ee,L,Q){if(e.timeoutHandle=-1,ee=t.subtreeFlags,ee&8192||(ee&16785408)===16785408){ee={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:qa},Jd(t,r,ee);var be=(r&62914560)===r?yi-Be():(r&4194048)===r?am-Be():0;if(be=Jh(ee,be),be!==null){Ja=r,e.cancelPendingCommit=be(hm.bind(null,e,t,r,a,s,n,u,g,T,V,ee,null,L,Q)),pl(e,r,u,!U);return}}hm(e,t,r,a,s,n,u,g,T)}function hh(e){for(var t=e;;){var a=t.tag;if((a===0||a===11||a===15)&&t.flags&16384&&(a=t.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var s=0;s<a.length;s++){var n=a[s],r=n.getSnapshot;n=n.value;try{if(!ea(r(),n))return!1}catch{return!1}}if(a=t.child,t.subtreeFlags&16384&&a!==null)a.return=t,t=a;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function pl(e,t,a,s){t&=~bc,t&=~Xl,e.suspendedLanes|=t,e.pingedLanes&=~t,s&&(e.warmLanes|=t),s=e.expirationTimes;for(var n=t;0<n;){var r=31-I(n),u=1<<r;s[r]=-1,n&=~u}a!==0&&ca(e,a,t)}function Ni(){return(Ke&6)===0?(xn(0),!1):!0}function jc(){if(ke!==null){if(Pe===0)var e=ke.return;else e=ke,Ga=zl=null,Ur(e),hs=null,Fs=0,e=ke;for(;e!==null;)qd(e.alternate,e),e=e.return;ke=null}}function ws(e,t){var a=e.timeoutHandle;a!==-1&&(e.timeoutHandle=-1,zh(a)),a=e.cancelPendingCommit,a!==null&&(e.cancelPendingCommit=null,a()),Ja=0,jc(),st=e,ke=a=Ha(e.current,null),De=t,Pe=0,sa=null,xl=!1,Ns=ie(e,t),gc=!1,js=na=bc=Xl=gl=ut=0,Ft=fn=null,yc=!1,(t&8)!==0&&(t|=t&32);var s=e.entangledLanes;if(s!==0)for(e=e.entanglements,s&=t;0<s;){var n=31-I(s),r=1<<n;t|=e[n],s&=~r}return Pa=t,Yn(),a}function rm(e,t){Re=null,z.H=sn,t===fs||t===Fn?(t=Su(),Pe=3):t===Mr?(t=Su(),Pe=4):Pe=t===ec?8:t!==null&&typeof t=="object"&&typeof t.then=="function"?6:1,sa=t,ke===null&&(ut=1,ui(e,ma(t,e.current)))}function cm(){var e=aa.current;return e===null?!0:(De&4194048)===De?ga===null:(De&62914560)===De||(De&536870912)!==0?e===ga:!1}function om(){var e=z.H;return z.H=sn,e===null?sn:e}function um(){var e=z.A;return z.A=mh,e}function ji(){ut=4,xl||(De&4194048)!==De&&aa.current!==null||(Ns=!0),(gl&134217727)===0&&(Xl&134217727)===0||st===null||pl(st,De,na,!1)}function Sc(e,t,a){var s=Ke;Ke|=2;var n=om(),r=um();(st!==e||De!==t)&&(vi=null,ws(e,t)),t=!1;var u=ut;e:do try{if(Pe!==0&&ke!==null){var g=ke,T=sa;switch(Pe){case 8:jc(),u=6;break e;case 3:case 2:case 9:case 6:aa.current===null&&(t=!0);var U=Pe;if(Pe=0,sa=null,Ts(e,g,T,U),a&&Ns){u=0;break e}break;default:U=Pe,Pe=0,sa=null,Ts(e,g,T,U)}}xh(),u=ut;break}catch(V){rm(e,V)}while(!0);return t&&e.shellSuspendCounter++,Ga=zl=null,Ke=s,z.H=n,z.A=r,ke===null&&(st=null,De=0,Yn()),u}function xh(){for(;ke!==null;)dm(ke)}function gh(e,t){var a=Ke;Ke|=2;var s=om(),n=um();st!==e||De!==t?(vi=null,pi=Be()+500,ws(e,t)):Ns=ie(e,t);e:do try{if(Pe!==0&&ke!==null){t=ke;var r=sa;t:switch(Pe){case 1:Pe=0,sa=null,Ts(e,t,r,1);break;case 2:case 9:if(Nu(r)){Pe=0,sa=null,mm(t);break}t=function(){Pe!==2&&Pe!==9||st!==e||(Pe=7),Ra(e)},r.then(t,t);break e;case 3:Pe=7;break e;case 4:Pe=5;break e;case 7:Nu(r)?(Pe=0,sa=null,mm(t)):(Pe=0,sa=null,Ts(e,t,r,7));break;case 5:var u=null;switch(ke.tag){case 26:u=ke.memoizedState;case 5:case 27:var g=ke;if(u?Pm(u):g.stateNode.complete){Pe=0,sa=null;var T=g.sibling;if(T!==null)ke=T;else{var U=g.return;U!==null?(ke=U,Si(U)):ke=null}break t}}Pe=0,sa=null,Ts(e,t,r,5);break;case 6:Pe=0,sa=null,Ts(e,t,r,6);break;case 8:jc(),ut=6;break e;default:throw Error(o(462))}}bh();break}catch(V){rm(e,V)}while(!0);return Ga=zl=null,z.H=s,z.A=n,Ke=a,ke!==null?0:(st=null,De=0,Yn(),ut)}function bh(){for(;ke!==null&&!Ht();)dm(ke)}function dm(e){var t=Dd(e.alternate,e,Pa);e.memoizedProps=e.pendingProps,t===null?Si(e):ke=t}function mm(e){var t=e,a=t.alternate;switch(t.tag){case 15:case 0:t=Rd(a,t,t.pendingProps,t.type,void 0,De);break;case 11:t=Rd(a,t,t.pendingProps,t.type.render,t.ref,De);break;case 5:Ur(t);default:qd(a,t),t=ke=uu(t,Pa),t=Dd(a,t,Pa)}e.memoizedProps=e.pendingProps,t===null?Si(e):ke=t}function Ts(e,t,a,s){Ga=zl=null,Ur(t),hs=null,Fs=0;var n=t.return;try{if(nh(e,n,t,a,De)){ut=1,ui(e,ma(a,e.current)),ke=null;return}}catch(r){if(n!==null)throw ke=n,r;ut=1,ui(e,ma(a,e.current)),ke=null;return}t.flags&32768?(Le||s===1?e=!0:Ns||(De&536870912)!==0?e=!1:(xl=e=!0,(s===2||s===9||s===3||s===6)&&(s=aa.current,s!==null&&s.tag===13&&(s.flags|=16384))),fm(t,e)):Si(t)}function Si(e){var t=e;do{if((t.flags&32768)!==0){fm(t,xl);return}e=t.return;var a=ch(t.alternate,t,Pa);if(a!==null){ke=a;return}if(t=t.sibling,t!==null){ke=t;return}ke=t=e}while(t!==null);ut===0&&(ut=5)}function fm(e,t){do{var a=oh(e.alternate,e);if(a!==null){a.flags&=32767,ke=a;return}if(a=e.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!t&&(e=e.sibling,e!==null)){ke=e;return}ke=e=a}while(e!==null);ut=6,ke=null}function hm(e,t,a,s,n,r,u,g,T){e.cancelPendingCommit=null;do wi();while(Tt!==0);if((Ke&6)!==0)throw Error(o(327));if(t!==null){if(t===e.current)throw Error(o(177));if(r=t.lanes|t.childLanes,r|=dr,Ye(e,a,r,u,g,T),e===st&&(ke=st=null,De=0),Ss=t,yl=e,Ja=a,pc=r,vc=n,lm=s,(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,Nh(Ta,function(){return pm(),null})):(e.callbackNode=null,e.callbackPriority=0),s=(t.flags&13878)!==0,(t.subtreeFlags&13878)!==0||s){s=z.T,z.T=null,n=K.p,K.p=2,u=Ke,Ke|=4;try{uh(e,t,a)}finally{Ke=u,K.p=n,z.T=s}}Tt=1,xm(),gm(),bm()}}function xm(){if(Tt===1){Tt=0;var e=yl,t=Ss,a=(t.flags&13878)!==0;if((t.subtreeFlags&13878)!==0||a){a=z.T,z.T=null;var s=K.p;K.p=2;var n=Ke;Ke|=4;try{Id(t,e);var r=Dc,u=tu(e.containerInfo),g=r.focusedElem,T=r.selectionRange;if(u!==g&&g&&g.ownerDocument&&eu(g.ownerDocument.documentElement,g)){if(T!==null&&ir(g)){var U=T.start,V=T.end;if(V===void 0&&(V=U),"selectionStart"in g)g.selectionStart=U,g.selectionEnd=Math.min(V,g.value.length);else{var ee=g.ownerDocument||document,L=ee&&ee.defaultView||window;if(L.getSelection){var Q=L.getSelection(),be=g.textContent.length,we=Math.min(T.start,be),at=T.end===void 0?we:Math.min(T.end,be);!Q.extend&&we>at&&(u=at,at=we,we=u);var D=Wo(g,we),C=Wo(g,at);if(D&&C&&(Q.rangeCount!==1||Q.anchorNode!==D.node||Q.anchorOffset!==D.offset||Q.focusNode!==C.node||Q.focusOffset!==C.offset)){var q=ee.createRange();q.setStart(D.node,D.offset),Q.removeAllRanges(),we>at?(Q.addRange(q),Q.extend(C.node,C.offset)):(q.setEnd(C.node,C.offset),Q.addRange(q))}}}}for(ee=[],Q=g;Q=Q.parentNode;)Q.nodeType===1&&ee.push({element:Q,left:Q.scrollLeft,top:Q.scrollTop});for(typeof g.focus=="function"&&g.focus(),g=0;g<ee.length;g++){var P=ee[g];P.element.scrollLeft=P.left,P.element.scrollTop=P.top}}_i=!!zc,Dc=zc=null}finally{Ke=n,K.p=s,z.T=a}}e.current=t,Tt=2}}function gm(){if(Tt===2){Tt=0;var e=yl,t=Ss,a=(t.flags&8772)!==0;if((t.subtreeFlags&8772)!==0||a){a=z.T,z.T=null;var s=K.p;K.p=2;var n=Ke;Ke|=4;try{Qd(e,t.alternate,t)}finally{Ke=n,K.p=s,z.T=a}}Tt=3}}function bm(){if(Tt===4||Tt===3){Tt=0,ve();var e=yl,t=Ss,a=Ja,s=lm;(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?Tt=5:(Tt=0,Ss=yl=null,ym(e,e.pendingLanes));var n=e.pendingLanes;if(n===0&&(bl=null),mt(a),t=t.stateNode,yt&&typeof yt.onCommitFiberRoot=="function")try{yt.onCommitFiberRoot(Ba,t,void 0,(t.current.flags&128)===128)}catch{}if(s!==null){t=z.T,n=K.p,K.p=2,z.T=null;try{for(var r=e.onRecoverableError,u=0;u<s.length;u++){var g=s[u];r(g.value,{componentStack:g.stack})}}finally{z.T=t,K.p=n}}(Ja&3)!==0&&wi(),Ra(e),n=e.pendingLanes,(a&261930)!==0&&(n&42)!==0?e===Nc?hn++:(hn=0,Nc=e):hn=0,xn(0)}}function ym(e,t){(e.pooledCacheLanes&=t)===0&&(t=e.pooledCache,t!=null&&(e.pooledCache=null,Ks(t)))}function wi(){return xm(),gm(),bm(),pm()}function pm(){if(Tt!==5)return!1;var e=yl,t=pc;pc=0;var a=mt(Ja),s=z.T,n=K.p;try{K.p=32>a?32:a,z.T=null,a=vc,vc=null;var r=yl,u=Ja;if(Tt=0,Ss=yl=null,Ja=0,(Ke&6)!==0)throw Error(o(331));var g=Ke;if(Ke|=4,em(r.current),Pd(r,r.current,u,a),Ke=g,xn(0,!1),yt&&typeof yt.onPostCommitFiberRoot=="function")try{yt.onPostCommitFiberRoot(Ba,r)}catch{}return!0}finally{K.p=n,z.T=s,ym(e,t)}}function vm(e,t,a){t=ma(a,t),t=Wr(e.stateNode,t,2),e=dl(e,t,2),e!==null&&(Xe(e,2),Ra(e))}function Je(e,t,a){if(e.tag===3)vm(e,e,a);else for(;t!==null;){if(t.tag===3){vm(t,e,a);break}else if(t.tag===1){var s=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof s.componentDidCatch=="function"&&(bl===null||!bl.has(s))){e=ma(a,e),a=Nd(2),s=dl(t,a,2),s!==null&&(jd(a,s,t,e),Xe(s,2),Ra(s));break}}t=t.return}}function wc(e,t,a){var s=e.pingCache;if(s===null){s=e.pingCache=new fh;var n=new Set;s.set(t,n)}else n=s.get(t),n===void 0&&(n=new Set,s.set(t,n));n.has(a)||(gc=!0,n.add(a),e=yh.bind(null,e,t,a),t.then(e,e))}function yh(e,t,a){var s=e.pingCache;s!==null&&s.delete(t),e.pingedLanes|=e.suspendedLanes&a,e.warmLanes&=~a,st===e&&(De&a)===a&&(ut===4||ut===3&&(De&62914560)===De&&300>Be()-yi?(Ke&2)===0&&ws(e,0):bc|=a,js===De&&(js=0)),Ra(e)}function Nm(e,t){t===0&&(t=me()),e=Ol(e,t),e!==null&&(Xe(e,t),Ra(e))}function ph(e){var t=e.memoizedState,a=0;t!==null&&(a=t.retryLane),Nm(e,a)}function vh(e,t){var a=0;switch(e.tag){case 31:case 13:var s=e.stateNode,n=e.memoizedState;n!==null&&(a=n.retryLane);break;case 19:s=e.stateNode;break;case 22:s=e.stateNode._retryCache;break;default:throw Error(o(314))}s!==null&&s.delete(t),Nm(e,a)}function Nh(e,t){return Ca(e,t)}var Ti=null,Ms=null,Tc=!1,Mi=!1,Mc=!1,vl=0;function Ra(e){e!==Ms&&e.next===null&&(Ms===null?Ti=Ms=e:Ms=Ms.next=e),Mi=!0,Tc||(Tc=!0,Sh())}function xn(e,t){if(!Mc&&Mi){Mc=!0;do for(var a=!1,s=Ti;s!==null;){if(e!==0){var n=s.pendingLanes;if(n===0)var r=0;else{var u=s.suspendedLanes,g=s.pingedLanes;r=(1<<31-I(42|e)+1)-1,r&=n&~(u&~g),r=r&201326741?r&201326741|1:r?r|2:0}r!==0&&(a=!0,Tm(s,r))}else r=De,r=$(s,s===st?r:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),(r&3)===0||ie(s,r)||(a=!0,Tm(s,r));s=s.next}while(a);Mc=!1}}function jh(){jm()}function jm(){Mi=Tc=!1;var e=0;vl!==0&&kh()&&(e=vl);for(var t=Be(),a=null,s=Ti;s!==null;){var n=s.next,r=Sm(s,t);r===0?(s.next=null,a===null?Ti=n:a.next=n,n===null&&(Ms=a)):(a=s,(e!==0||(r&3)!==0)&&(Mi=!0)),s=n}Tt!==0&&Tt!==5||xn(e),vl!==0&&(vl=0)}function Sm(e,t){for(var a=e.suspendedLanes,s=e.pingedLanes,n=e.expirationTimes,r=e.pendingLanes&-62914561;0<r;){var u=31-I(r),g=1<<u,T=n[u];T===-1?((g&a)===0||(g&s)!==0)&&(n[u]=ce(g,t)):T<=t&&(e.expiredLanes|=g),r&=~g}if(t=st,a=De,a=$(e,e===t?a:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),s=e.callbackNode,a===0||e===t&&(Pe===2||Pe===9)||e.cancelPendingCommit!==null)return s!==null&&s!==null&&Oa(s),e.callbackNode=null,e.callbackPriority=0;if((a&3)===0||ie(e,a)){if(t=a&-a,t===e.callbackPriority)return t;switch(s!==null&&Oa(s),mt(a)){case 2:case 8:a=bt;break;case 32:a=Ta;break;case 268435456:a=tl;break;default:a=Ta}return s=wm.bind(null,e),a=Ca(a,s),e.callbackPriority=t,e.callbackNode=a,t}return s!==null&&s!==null&&Oa(s),e.callbackPriority=2,e.callbackNode=null,2}function wm(e,t){if(Tt!==0&&Tt!==5)return e.callbackNode=null,e.callbackPriority=0,null;var a=e.callbackNode;if(wi()&&e.callbackNode!==a)return null;var s=De;return s=$(e,e===st?s:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),s===0?null:(nm(e,s,t),Sm(e,Be()),e.callbackNode!=null&&e.callbackNode===a?wm.bind(null,e):null)}function Tm(e,t){if(wi())return null;nm(e,t,!0)}function Sh(){Dh(function(){(Ke&6)!==0?Ca(Il,jh):jm()})}function Ec(){if(vl===0){var e=ds;e===0&&(e=oe,oe<<=1,(oe&261888)===0&&(oe=256)),vl=e}return vl}function Mm(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:zn(""+e)}function Em(e,t){var a=t.ownerDocument.createElement("input");return a.name=t.name,a.value=t.value,e.id&&a.setAttribute("form",e.id),t.parentNode.insertBefore(a,t),e=new FormData(e),a.parentNode.removeChild(a),e}function wh(e,t,a,s,n){if(t==="submit"&&a&&a.stateNode===n){var r=Mm((n[pt]||null).action),u=s.submitter;u&&(t=(t=u[pt]||null)?Mm(t.formAction):u.getAttribute("formAction"),t!==null&&(r=t,u=null));var g=new Un("action","action",null,s,n);e.push({event:g,listeners:[{instance:null,listener:function(){if(s.defaultPrevented){if(vl!==0){var T=u?Em(n,u):new FormData(n);$r(a,{pending:!0,data:T,method:n.method,action:r},null,T)}}else typeof r=="function"&&(g.preventDefault(),T=u?Em(n,u):new FormData(n),$r(a,{pending:!0,data:T,method:n.method,action:r},r,T))},currentTarget:n}]})}}for(var Ac=0;Ac<ur.length;Ac++){var Rc=ur[Ac],Th=Rc.toLowerCase(),Mh=Rc[0].toUpperCase()+Rc.slice(1);Na(Th,"on"+Mh)}Na(su,"onAnimationEnd"),Na(nu,"onAnimationIteration"),Na(iu,"onAnimationStart"),Na("dblclick","onDoubleClick"),Na("focusin","onFocus"),Na("focusout","onBlur"),Na(Yf,"onTransitionRun"),Na(Xf,"onTransitionStart"),Na(Qf,"onTransitionCancel"),Na(ru,"onTransitionEnd"),Pl("onMouseEnter",["mouseout","mouseover"]),Pl("onMouseLeave",["mouseout","mouseover"]),Pl("onPointerEnter",["pointerout","pointerover"]),Pl("onPointerLeave",["pointerout","pointerover"]),Xt("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Xt("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Xt("onBeforeInput",["compositionend","keypress","textInput","paste"]),Xt("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Xt("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Xt("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var gn="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Eh=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(gn));function Am(e,t){t=(t&4)!==0;for(var a=0;a<e.length;a++){var s=e[a],n=s.event;s=s.listeners;e:{var r=void 0;if(t)for(var u=s.length-1;0<=u;u--){var g=s[u],T=g.instance,U=g.currentTarget;if(g=g.listener,T!==r&&n.isPropagationStopped())break e;r=g,n.currentTarget=U;try{r(n)}catch(V){Gn(V)}n.currentTarget=null,r=T}else for(u=0;u<s.length;u++){if(g=s[u],T=g.instance,U=g.currentTarget,g=g.listener,T!==r&&n.isPropagationStopped())break e;r=g,n.currentTarget=U;try{r(n)}catch(V){Gn(V)}n.currentTarget=null,r=T}}}}function ze(e,t){var a=t[Ct];a===void 0&&(a=t[Ct]=new Set);var s=e+"__bubble";a.has(s)||(Rm(t,e,2,!1),a.add(s))}function Cc(e,t,a){var s=0;t&&(s|=4),Rm(a,e,s,t)}var Ei="_reactListening"+Math.random().toString(36).slice(2);function Oc(e){if(!e[Ei]){e[Ei]=!0,pa.forEach(function(a){a!=="selectionchange"&&(Eh.has(a)||Cc(a,!1,e),Cc(a,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Ei]||(t[Ei]=!0,Cc("selectionchange",!1,t))}}function Rm(e,t,a,s){switch(s0(t)){case 2:var n=tx;break;case 8:n=ax;break;default:n=Vc}a=n.bind(null,t,a,e),n=void 0,!Pi||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(n=!0),s?n!==void 0?e.addEventListener(t,a,{capture:!0,passive:n}):e.addEventListener(t,a,!0):n!==void 0?e.addEventListener(t,a,{passive:n}):e.addEventListener(t,a,!1)}function Bc(e,t,a,s,n){var r=s;if((t&1)===0&&(t&2)===0&&s!==null)e:for(;;){if(s===null)return;var u=s.tag;if(u===3||u===4){var g=s.stateNode.containerInfo;if(g===n)break;if(u===4)for(u=s.return;u!==null;){var T=u.tag;if((T===3||T===4)&&u.stateNode.containerInfo===n)return;u=u.return}for(;g!==null;){if(u=za(g),u===null)return;if(T=u.tag,T===5||T===6||T===26||T===27){s=r=u;continue e}g=g.parentNode}}s=s.return}zo(function(){var U=r,V=Ii(a),ee=[];e:{var L=cu.get(e);if(L!==void 0){var Q=Un,be=e;switch(e){case"keypress":if(_n(a)===0)break e;case"keydown":case"keyup":Q=vf;break;case"focusin":be="focus",Q=tr;break;case"focusout":be="blur",Q=tr;break;case"beforeblur":case"afterblur":Q=tr;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Q=qo;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Q=cf;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Q=Sf;break;case su:case nu:case iu:Q=df;break;case ru:Q=Tf;break;case"scroll":case"scrollend":Q=nf;break;case"wheel":Q=Ef;break;case"copy":case"cut":case"paste":Q=ff;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Q=Ho;break;case"toggle":case"beforetoggle":Q=Rf}var we=(t&4)!==0,at=!we&&(e==="scroll"||e==="scrollend"),D=we?L!==null?L+"Capture":null:L;we=[];for(var C=U,q;C!==null;){var P=C;if(q=P.stateNode,P=P.tag,P!==5&&P!==26&&P!==27||q===null||D===null||(P=qs(C,D),P!=null&&we.push(bn(C,P,q))),at)break;C=C.return}0<we.length&&(L=new Q(L,be,null,a,V),ee.push({event:L,listeners:we}))}}if((t&7)===0){e:{if(L=e==="mouseover"||e==="pointerover",Q=e==="mouseout"||e==="pointerout",L&&a!==Ki&&(be=a.relatedTarget||a.fromElement)&&(za(be)||be[vt]))break e;if((Q||L)&&(L=V.window===V?V:(L=V.ownerDocument)?L.defaultView||L.parentWindow:window,Q?(be=a.relatedTarget||a.toElement,Q=U,be=be?za(be):null,be!==null&&(at=m(be),we=be.tag,be!==at||we!==5&&we!==27&&we!==6)&&(be=null)):(Q=null,be=U),Q!==be)){if(we=qo,P="onMouseLeave",D="onMouseEnter",C="mouse",(e==="pointerout"||e==="pointerover")&&(we=Ho,P="onPointerLeave",D="onPointerEnter",C="pointer"),at=Q==null?L:ll(Q),q=be==null?L:ll(be),L=new we(P,C+"leave",Q,a,V),L.target=at,L.relatedTarget=q,P=null,za(V)===U&&(we=new we(D,C+"enter",be,a,V),we.target=q,we.relatedTarget=at,P=we),at=P,Q&&be)t:{for(we=Ah,D=Q,C=be,q=0,P=D;P;P=we(P))q++;P=0;for(var je=C;je;je=we(je))P++;for(;0<q-P;)D=we(D),q--;for(;0<P-q;)C=we(C),P--;for(;q--;){if(D===C||C!==null&&D===C.alternate){we=D;break t}D=we(D),C=we(C)}we=null}else we=null;Q!==null&&Cm(ee,L,Q,we,!1),be!==null&&at!==null&&Cm(ee,at,be,we,!0)}}e:{if(L=U?ll(U):window,Q=L.nodeName&&L.nodeName.toLowerCase(),Q==="select"||Q==="input"&&L.type==="file")var Qe=$o;else if(Zo(L))if(Ko)Qe=Hf;else{Qe=qf;var pe=_f}else Q=L.nodeName,!Q||Q.toLowerCase()!=="input"||L.type!=="checkbox"&&L.type!=="radio"?U&&$i(U.elementType)&&(Qe=$o):Qe=Uf;if(Qe&&(Qe=Qe(e,U))){Vo(ee,Qe,a,V);break e}pe&&pe(e,L,U),e==="focusout"&&U&&L.type==="number"&&U.memoizedProps.value!=null&&Vi(L,"number",L.value)}switch(pe=U?ll(U):window,e){case"focusin":(Zo(pe)||pe.contentEditable==="true")&&(ls=pe,rr=U,Zs=null);break;case"focusout":Zs=rr=ls=null;break;case"mousedown":cr=!0;break;case"contextmenu":case"mouseup":case"dragend":cr=!1,au(ee,a,V);break;case"selectionchange":if(Gf)break;case"keydown":case"keyup":au(ee,a,V)}var Ce;if(lr)e:{switch(e){case"compositionstart":var _e="onCompositionStart";break e;case"compositionend":_e="onCompositionEnd";break e;case"compositionupdate":_e="onCompositionUpdate";break e}_e=void 0}else as?Xo(e,a)&&(_e="onCompositionEnd"):e==="keydown"&&a.keyCode===229&&(_e="onCompositionStart");_e&&(Lo&&a.locale!=="ko"&&(as||_e!=="onCompositionStart"?_e==="onCompositionEnd"&&as&&(Ce=Do()):(sl=V,Ji="value"in sl?sl.value:sl.textContent,as=!0)),pe=Ai(U,_e),0<pe.length&&(_e=new Uo(_e,e,null,a,V),ee.push({event:_e,listeners:pe}),Ce?_e.data=Ce:(Ce=Qo(a),Ce!==null&&(_e.data=Ce)))),(Ce=Of?Bf(e,a):kf(e,a))&&(_e=Ai(U,"onBeforeInput"),0<_e.length&&(pe=new Uo("onBeforeInput","beforeinput",null,a,V),ee.push({event:pe,listeners:_e}),pe.data=Ce)),wh(ee,e,U,a,V)}Am(ee,t)})}function bn(e,t,a){return{instance:e,listener:t,currentTarget:a}}function Ai(e,t){for(var a=t+"Capture",s=[];e!==null;){var n=e,r=n.stateNode;if(n=n.tag,n!==5&&n!==26&&n!==27||r===null||(n=qs(e,a),n!=null&&s.unshift(bn(e,n,r)),n=qs(e,t),n!=null&&s.push(bn(e,n,r))),e.tag===3)return s;e=e.return}return[]}function Ah(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function Cm(e,t,a,s,n){for(var r=t._reactName,u=[];a!==null&&a!==s;){var g=a,T=g.alternate,U=g.stateNode;if(g=g.tag,T!==null&&T===s)break;g!==5&&g!==26&&g!==27||U===null||(T=U,n?(U=qs(a,r),U!=null&&u.unshift(bn(a,U,T))):n||(U=qs(a,r),U!=null&&u.push(bn(a,U,T)))),a=a.return}u.length!==0&&e.push({event:t,listeners:u})}var Rh=/\r\n?/g,Ch=/\u0000|\uFFFD/g;function Om(e){return(typeof e=="string"?e:""+e).replace(Rh,`
`).replace(Ch,"")}function Bm(e,t){return t=Om(t),Om(e)===t}function tt(e,t,a,s,n,r){switch(a){case"children":typeof s=="string"?t==="body"||t==="textarea"&&s===""||Wl(e,s):(typeof s=="number"||typeof s=="bigint")&&t!=="body"&&Wl(e,""+s);break;case"className":Bn(e,"class",s);break;case"tabIndex":Bn(e,"tabindex",s);break;case"dir":case"role":case"viewBox":case"width":case"height":Bn(e,a,s);break;case"style":Bo(e,s,r);break;case"data":if(t!=="object"){Bn(e,"data",s);break}case"src":case"href":if(s===""&&(t!=="a"||a!=="href")){e.removeAttribute(a);break}if(s==null||typeof s=="function"||typeof s=="symbol"||typeof s=="boolean"){e.removeAttribute(a);break}s=zn(""+s),e.setAttribute(a,s);break;case"action":case"formAction":if(typeof s=="function"){e.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof r=="function"&&(a==="formAction"?(t!=="input"&&tt(e,t,"name",n.name,n,null),tt(e,t,"formEncType",n.formEncType,n,null),tt(e,t,"formMethod",n.formMethod,n,null),tt(e,t,"formTarget",n.formTarget,n,null)):(tt(e,t,"encType",n.encType,n,null),tt(e,t,"method",n.method,n,null),tt(e,t,"target",n.target,n,null)));if(s==null||typeof s=="symbol"||typeof s=="boolean"){e.removeAttribute(a);break}s=zn(""+s),e.setAttribute(a,s);break;case"onClick":s!=null&&(e.onclick=qa);break;case"onScroll":s!=null&&ze("scroll",e);break;case"onScrollEnd":s!=null&&ze("scrollend",e);break;case"dangerouslySetInnerHTML":if(s!=null){if(typeof s!="object"||!("__html"in s))throw Error(o(61));if(a=s.__html,a!=null){if(n.children!=null)throw Error(o(60));e.innerHTML=a}}break;case"multiple":e.multiple=s&&typeof s!="function"&&typeof s!="symbol";break;case"muted":e.muted=s&&typeof s!="function"&&typeof s!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(s==null||typeof s=="function"||typeof s=="boolean"||typeof s=="symbol"){e.removeAttribute("xlink:href");break}a=zn(""+s),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":s!=null&&typeof s!="function"&&typeof s!="symbol"?e.setAttribute(a,""+s):e.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":s&&typeof s!="function"&&typeof s!="symbol"?e.setAttribute(a,""):e.removeAttribute(a);break;case"capture":case"download":s===!0?e.setAttribute(a,""):s!==!1&&s!=null&&typeof s!="function"&&typeof s!="symbol"?e.setAttribute(a,s):e.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":s!=null&&typeof s!="function"&&typeof s!="symbol"&&!isNaN(s)&&1<=s?e.setAttribute(a,s):e.removeAttribute(a);break;case"rowSpan":case"start":s==null||typeof s=="function"||typeof s=="symbol"||isNaN(s)?e.removeAttribute(a):e.setAttribute(a,s);break;case"popover":ze("beforetoggle",e),ze("toggle",e),On(e,"popover",s);break;case"xlinkActuate":_a(e,"http://www.w3.org/1999/xlink","xlink:actuate",s);break;case"xlinkArcrole":_a(e,"http://www.w3.org/1999/xlink","xlink:arcrole",s);break;case"xlinkRole":_a(e,"http://www.w3.org/1999/xlink","xlink:role",s);break;case"xlinkShow":_a(e,"http://www.w3.org/1999/xlink","xlink:show",s);break;case"xlinkTitle":_a(e,"http://www.w3.org/1999/xlink","xlink:title",s);break;case"xlinkType":_a(e,"http://www.w3.org/1999/xlink","xlink:type",s);break;case"xmlBase":_a(e,"http://www.w3.org/XML/1998/namespace","xml:base",s);break;case"xmlLang":_a(e,"http://www.w3.org/XML/1998/namespace","xml:lang",s);break;case"xmlSpace":_a(e,"http://www.w3.org/XML/1998/namespace","xml:space",s);break;case"is":On(e,"is",s);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=lf.get(a)||a,On(e,a,s))}}function kc(e,t,a,s,n,r){switch(a){case"style":Bo(e,s,r);break;case"dangerouslySetInnerHTML":if(s!=null){if(typeof s!="object"||!("__html"in s))throw Error(o(61));if(a=s.__html,a!=null){if(n.children!=null)throw Error(o(60));e.innerHTML=a}}break;case"children":typeof s=="string"?Wl(e,s):(typeof s=="number"||typeof s=="bigint")&&Wl(e,""+s);break;case"onScroll":s!=null&&ze("scroll",e);break;case"onScrollEnd":s!=null&&ze("scrollend",e);break;case"onClick":s!=null&&(e.onclick=qa);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!va.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(n=a.endsWith("Capture"),t=a.slice(2,n?a.length-7:void 0),r=e[pt]||null,r=r!=null?r[a]:null,typeof r=="function"&&e.removeEventListener(t,r,n),typeof s=="function")){typeof r!="function"&&r!==null&&(a in e?e[a]=null:e.hasAttribute(a)&&e.removeAttribute(a)),e.addEventListener(t,s,n);break e}a in e?e[a]=s:s===!0?e.setAttribute(a,""):On(e,a,s)}}}function zt(e,t,a){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":ze("error",e),ze("load",e);var s=!1,n=!1,r;for(r in a)if(a.hasOwnProperty(r)){var u=a[r];if(u!=null)switch(r){case"src":s=!0;break;case"srcSet":n=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(o(137,t));default:tt(e,t,r,u,a,null)}}n&&tt(e,t,"srcSet",a.srcSet,a,null),s&&tt(e,t,"src",a.src,a,null);return;case"input":ze("invalid",e);var g=r=u=n=null,T=null,U=null;for(s in a)if(a.hasOwnProperty(s)){var V=a[s];if(V!=null)switch(s){case"name":n=V;break;case"type":u=V;break;case"checked":T=V;break;case"defaultChecked":U=V;break;case"value":r=V;break;case"defaultValue":g=V;break;case"children":case"dangerouslySetInnerHTML":if(V!=null)throw Error(o(137,t));break;default:tt(e,t,s,V,a,null)}}Ao(e,r,g,T,U,u,n,!1);return;case"select":ze("invalid",e),s=u=r=null;for(n in a)if(a.hasOwnProperty(n)&&(g=a[n],g!=null))switch(n){case"value":r=g;break;case"defaultValue":u=g;break;case"multiple":s=g;default:tt(e,t,n,g,a,null)}t=r,a=u,e.multiple=!!s,t!=null?Jl(e,!!s,t,!1):a!=null&&Jl(e,!!s,a,!0);return;case"textarea":ze("invalid",e),r=n=s=null;for(u in a)if(a.hasOwnProperty(u)&&(g=a[u],g!=null))switch(u){case"value":s=g;break;case"defaultValue":n=g;break;case"children":r=g;break;case"dangerouslySetInnerHTML":if(g!=null)throw Error(o(91));break;default:tt(e,t,u,g,a,null)}Co(e,s,n,r);return;case"option":for(T in a)a.hasOwnProperty(T)&&(s=a[T],s!=null)&&(T==="selected"?e.selected=s&&typeof s!="function"&&typeof s!="symbol":tt(e,t,T,s,a,null));return;case"dialog":ze("beforetoggle",e),ze("toggle",e),ze("cancel",e),ze("close",e);break;case"iframe":case"object":ze("load",e);break;case"video":case"audio":for(s=0;s<gn.length;s++)ze(gn[s],e);break;case"image":ze("error",e),ze("load",e);break;case"details":ze("toggle",e);break;case"embed":case"source":case"link":ze("error",e),ze("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(U in a)if(a.hasOwnProperty(U)&&(s=a[U],s!=null))switch(U){case"children":case"dangerouslySetInnerHTML":throw Error(o(137,t));default:tt(e,t,U,s,a,null)}return;default:if($i(t)){for(V in a)a.hasOwnProperty(V)&&(s=a[V],s!==void 0&&kc(e,t,V,s,a,void 0));return}}for(g in a)a.hasOwnProperty(g)&&(s=a[g],s!=null&&tt(e,t,g,s,a,null))}function Oh(e,t,a,s){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var n=null,r=null,u=null,g=null,T=null,U=null,V=null;for(Q in a){var ee=a[Q];if(a.hasOwnProperty(Q)&&ee!=null)switch(Q){case"checked":break;case"value":break;case"defaultValue":T=ee;default:s.hasOwnProperty(Q)||tt(e,t,Q,null,s,ee)}}for(var L in s){var Q=s[L];if(ee=a[L],s.hasOwnProperty(L)&&(Q!=null||ee!=null))switch(L){case"type":r=Q;break;case"name":n=Q;break;case"checked":U=Q;break;case"defaultChecked":V=Q;break;case"value":u=Q;break;case"defaultValue":g=Q;break;case"children":case"dangerouslySetInnerHTML":if(Q!=null)throw Error(o(137,t));break;default:Q!==ee&&tt(e,t,L,Q,s,ee)}}Zi(e,u,g,T,U,V,r,n);return;case"select":Q=u=g=L=null;for(r in a)if(T=a[r],a.hasOwnProperty(r)&&T!=null)switch(r){case"value":break;case"multiple":Q=T;default:s.hasOwnProperty(r)||tt(e,t,r,null,s,T)}for(n in s)if(r=s[n],T=a[n],s.hasOwnProperty(n)&&(r!=null||T!=null))switch(n){case"value":L=r;break;case"defaultValue":g=r;break;case"multiple":u=r;default:r!==T&&tt(e,t,n,r,s,T)}t=g,a=u,s=Q,L!=null?Jl(e,!!a,L,!1):!!s!=!!a&&(t!=null?Jl(e,!!a,t,!0):Jl(e,!!a,a?[]:"",!1));return;case"textarea":Q=L=null;for(g in a)if(n=a[g],a.hasOwnProperty(g)&&n!=null&&!s.hasOwnProperty(g))switch(g){case"value":break;case"children":break;default:tt(e,t,g,null,s,n)}for(u in s)if(n=s[u],r=a[u],s.hasOwnProperty(u)&&(n!=null||r!=null))switch(u){case"value":L=n;break;case"defaultValue":Q=n;break;case"children":break;case"dangerouslySetInnerHTML":if(n!=null)throw Error(o(91));break;default:n!==r&&tt(e,t,u,n,s,r)}Ro(e,L,Q);return;case"option":for(var be in a)L=a[be],a.hasOwnProperty(be)&&L!=null&&!s.hasOwnProperty(be)&&(be==="selected"?e.selected=!1:tt(e,t,be,null,s,L));for(T in s)L=s[T],Q=a[T],s.hasOwnProperty(T)&&L!==Q&&(L!=null||Q!=null)&&(T==="selected"?e.selected=L&&typeof L!="function"&&typeof L!="symbol":tt(e,t,T,L,s,Q));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var we in a)L=a[we],a.hasOwnProperty(we)&&L!=null&&!s.hasOwnProperty(we)&&tt(e,t,we,null,s,L);for(U in s)if(L=s[U],Q=a[U],s.hasOwnProperty(U)&&L!==Q&&(L!=null||Q!=null))switch(U){case"children":case"dangerouslySetInnerHTML":if(L!=null)throw Error(o(137,t));break;default:tt(e,t,U,L,s,Q)}return;default:if($i(t)){for(var at in a)L=a[at],a.hasOwnProperty(at)&&L!==void 0&&!s.hasOwnProperty(at)&&kc(e,t,at,void 0,s,L);for(V in s)L=s[V],Q=a[V],!s.hasOwnProperty(V)||L===Q||L===void 0&&Q===void 0||kc(e,t,V,L,s,Q);return}}for(var D in a)L=a[D],a.hasOwnProperty(D)&&L!=null&&!s.hasOwnProperty(D)&&tt(e,t,D,null,s,L);for(ee in s)L=s[ee],Q=a[ee],!s.hasOwnProperty(ee)||L===Q||L==null&&Q==null||tt(e,t,ee,L,s,Q)}function km(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function Bh(){if(typeof performance.getEntriesByType=="function"){for(var e=0,t=0,a=performance.getEntriesByType("resource"),s=0;s<a.length;s++){var n=a[s],r=n.transferSize,u=n.initiatorType,g=n.duration;if(r&&g&&km(u)){for(u=0,g=n.responseEnd,s+=1;s<a.length;s++){var T=a[s],U=T.startTime;if(U>g)break;var V=T.transferSize,ee=T.initiatorType;V&&km(ee)&&(T=T.responseEnd,u+=V*(T<g?1:(g-U)/(T-U)))}if(--s,t+=8*(r+u)/(n.duration/1e3),e++,10<e)break}}if(0<e)return t/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var zc=null,Dc=null;function Ri(e){return e.nodeType===9?e:e.ownerDocument}function zm(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Dm(e,t){if(e===0)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&t==="foreignObject"?0:e}function _c(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.children=="bigint"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var qc=null;function kh(){var e=window.event;return e&&e.type==="popstate"?e===qc?!1:(qc=e,!0):(qc=null,!1)}var _m=typeof setTimeout=="function"?setTimeout:void 0,zh=typeof clearTimeout=="function"?clearTimeout:void 0,qm=typeof Promise=="function"?Promise:void 0,Dh=typeof queueMicrotask=="function"?queueMicrotask:typeof qm<"u"?function(e){return qm.resolve(null).then(e).catch(_h)}:_m;function _h(e){setTimeout(function(){throw e})}function Nl(e){return e==="head"}function Um(e,t){var a=t,s=0;do{var n=a.nextSibling;if(e.removeChild(a),n&&n.nodeType===8)if(a=n.data,a==="/$"||a==="/&"){if(s===0){e.removeChild(n),Cs(t);return}s--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")s++;else if(a==="html")yn(e.ownerDocument.documentElement);else if(a==="head"){a=e.ownerDocument.head,yn(a);for(var r=a.firstChild;r;){var u=r.nextSibling,g=r.nodeName;r[Mt]||g==="SCRIPT"||g==="STYLE"||g==="LINK"&&r.rel.toLowerCase()==="stylesheet"||a.removeChild(r),r=u}}else a==="body"&&yn(e.ownerDocument.body);a=n}while(a);Cs(t)}function Hm(e,t){var a=e;e=0;do{var s=a.nextSibling;if(a.nodeType===1?t?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(t?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),s&&s.nodeType===8)if(a=s.data,a==="/$"){if(e===0)break;e--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||e++;a=s}while(a)}function Uc(e){var t=e.firstChild;for(t&&t.nodeType===10&&(t=t.nextSibling);t;){var a=t;switch(t=t.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":Uc(a),_s(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}e.removeChild(a)}}function qh(e,t,a,s){for(;e.nodeType===1;){var n=a;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!s&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(s){if(!e[Mt])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(r=e.getAttribute("rel"),r==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(r!==n.rel||e.getAttribute("href")!==(n.href==null||n.href===""?null:n.href)||e.getAttribute("crossorigin")!==(n.crossOrigin==null?null:n.crossOrigin)||e.getAttribute("title")!==(n.title==null?null:n.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(r=e.getAttribute("src"),(r!==(n.src==null?null:n.src)||e.getAttribute("type")!==(n.type==null?null:n.type)||e.getAttribute("crossorigin")!==(n.crossOrigin==null?null:n.crossOrigin))&&r&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(t==="input"&&e.type==="hidden"){var r=n.name==null?null:""+n.name;if(n.type==="hidden"&&e.getAttribute("name")===r)return e}else return e;if(e=ba(e.nextSibling),e===null)break}return null}function Uh(e,t,a){if(t==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!a||(e=ba(e.nextSibling),e===null))return null;return e}function Lm(e,t){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!t||(e=ba(e.nextSibling),e===null))return null;return e}function Hc(e){return e.data==="$?"||e.data==="$~"}function Lc(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function Hh(e,t){var a=e.ownerDocument;if(e.data==="$~")e._reactRetry=t;else if(e.data!=="$?"||a.readyState!=="loading")t();else{var s=function(){t(),a.removeEventListener("DOMContentLoaded",s)};a.addEventListener("DOMContentLoaded",s),e._reactRetry=s}}function ba(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?"||t==="$~"||t==="&"||t==="F!"||t==="F")break;if(t==="/$"||t==="/&")return null}}return e}var Gc=null;function Gm(e){e=e.nextSibling;for(var t=0;e;){if(e.nodeType===8){var a=e.data;if(a==="/$"||a==="/&"){if(t===0)return ba(e.nextSibling);t--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||t++}e=e.nextSibling}return null}function Ym(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var a=e.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(t===0)return e;t--}else a!=="/$"&&a!=="/&"||t++}e=e.previousSibling}return null}function Xm(e,t,a){switch(t=Ri(a),e){case"html":if(e=t.documentElement,!e)throw Error(o(452));return e;case"head":if(e=t.head,!e)throw Error(o(453));return e;case"body":if(e=t.body,!e)throw Error(o(454));return e;default:throw Error(o(451))}}function yn(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);_s(e)}var ya=new Map,Qm=new Set;function Ci(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var Wa=K.d;K.d={f:Lh,r:Gh,D:Yh,C:Xh,L:Qh,m:Zh,X:$h,S:Vh,M:Kh};function Lh(){var e=Wa.f(),t=Ni();return e||t}function Gh(e){var t=al(e);t!==null&&t.tag===5&&t.type==="form"?rd(t):Wa.r(e)}var Es=typeof document>"u"?null:document;function Zm(e,t,a){var s=Es;if(s&&typeof t=="string"&&t){var n=ua(t);n='link[rel="'+e+'"][href="'+n+'"]',typeof a=="string"&&(n+='[crossorigin="'+a+'"]'),Qm.has(n)||(Qm.add(n),e={rel:e,crossOrigin:a,href:t},s.querySelector(n)===null&&(t=s.createElement("link"),zt(t,"link",e),ft(t),s.head.appendChild(t)))}}function Yh(e){Wa.D(e),Zm("dns-prefetch",e,null)}function Xh(e,t){Wa.C(e,t),Zm("preconnect",e,t)}function Qh(e,t,a){Wa.L(e,t,a);var s=Es;if(s&&e&&t){var n='link[rel="preload"][as="'+ua(t)+'"]';t==="image"&&a&&a.imageSrcSet?(n+='[imagesrcset="'+ua(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(n+='[imagesizes="'+ua(a.imageSizes)+'"]')):n+='[href="'+ua(e)+'"]';var r=n;switch(t){case"style":r=As(e);break;case"script":r=Rs(e)}ya.has(r)||(e=p({rel:"preload",href:t==="image"&&a&&a.imageSrcSet?void 0:e,as:t},a),ya.set(r,e),s.querySelector(n)!==null||t==="style"&&s.querySelector(pn(r))||t==="script"&&s.querySelector(vn(r))||(t=s.createElement("link"),zt(t,"link",e),ft(t),s.head.appendChild(t)))}}function Zh(e,t){Wa.m(e,t);var a=Es;if(a&&e){var s=t&&typeof t.as=="string"?t.as:"script",n='link[rel="modulepreload"][as="'+ua(s)+'"][href="'+ua(e)+'"]',r=n;switch(s){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":r=Rs(e)}if(!ya.has(r)&&(e=p({rel:"modulepreload",href:e},t),ya.set(r,e),a.querySelector(n)===null)){switch(s){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(vn(r)))return}s=a.createElement("link"),zt(s,"link",e),ft(s),a.head.appendChild(s)}}}function Vh(e,t,a){Wa.S(e,t,a);var s=Es;if(s&&e){var n=Da(s).hoistableStyles,r=As(e);t=t||"default";var u=n.get(r);if(!u){var g={loading:0,preload:null};if(u=s.querySelector(pn(r)))g.loading=5;else{e=p({rel:"stylesheet",href:e,"data-precedence":t},a),(a=ya.get(r))&&Yc(e,a);var T=u=s.createElement("link");ft(T),zt(T,"link",e),T._p=new Promise(function(U,V){T.onload=U,T.onerror=V}),T.addEventListener("load",function(){g.loading|=1}),T.addEventListener("error",function(){g.loading|=2}),g.loading|=4,Oi(u,t,s)}u={type:"stylesheet",instance:u,count:1,state:g},n.set(r,u)}}}function $h(e,t){Wa.X(e,t);var a=Es;if(a&&e){var s=Da(a).hoistableScripts,n=Rs(e),r=s.get(n);r||(r=a.querySelector(vn(n)),r||(e=p({src:e,async:!0},t),(t=ya.get(n))&&Xc(e,t),r=a.createElement("script"),ft(r),zt(r,"link",e),a.head.appendChild(r)),r={type:"script",instance:r,count:1,state:null},s.set(n,r))}}function Kh(e,t){Wa.M(e,t);var a=Es;if(a&&e){var s=Da(a).hoistableScripts,n=Rs(e),r=s.get(n);r||(r=a.querySelector(vn(n)),r||(e=p({src:e,async:!0,type:"module"},t),(t=ya.get(n))&&Xc(e,t),r=a.createElement("script"),ft(r),zt(r,"link",e),a.head.appendChild(r)),r={type:"script",instance:r,count:1,state:null},s.set(n,r))}}function Vm(e,t,a,s){var n=(n=Ae.current)?Ci(n):null;if(!n)throw Error(o(446));switch(e){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(t=As(a.href),a=Da(n).hoistableStyles,s=a.get(t),s||(s={type:"style",instance:null,count:0,state:null},a.set(t,s)),s):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){e=As(a.href);var r=Da(n).hoistableStyles,u=r.get(e);if(u||(n=n.ownerDocument||n,u={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},r.set(e,u),(r=n.querySelector(pn(e)))&&!r._p&&(u.instance=r,u.state.loading=5),ya.has(e)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},ya.set(e,a),r||Ih(n,e,a,u.state))),t&&s===null)throw Error(o(528,""));return u}if(t&&s!==null)throw Error(o(529,""));return null;case"script":return t=a.async,a=a.src,typeof a=="string"&&t&&typeof t!="function"&&typeof t!="symbol"?(t=Rs(a),a=Da(n).hoistableScripts,s=a.get(t),s||(s={type:"script",instance:null,count:0,state:null},a.set(t,s)),s):{type:"void",instance:null,count:0,state:null};default:throw Error(o(444,e))}}function As(e){return'href="'+ua(e)+'"'}function pn(e){return'link[rel="stylesheet"]['+e+"]"}function $m(e){return p({},e,{"data-precedence":e.precedence,precedence:null})}function Ih(e,t,a,s){e.querySelector('link[rel="preload"][as="style"]['+t+"]")?s.loading=1:(t=e.createElement("link"),s.preload=t,t.addEventListener("load",function(){return s.loading|=1}),t.addEventListener("error",function(){return s.loading|=2}),zt(t,"link",a),ft(t),e.head.appendChild(t))}function Rs(e){return'[src="'+ua(e)+'"]'}function vn(e){return"script[async]"+e}function Km(e,t,a){if(t.count++,t.instance===null)switch(t.type){case"style":var s=e.querySelector('style[data-href~="'+ua(a.href)+'"]');if(s)return t.instance=s,ft(s),s;var n=p({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return s=(e.ownerDocument||e).createElement("style"),ft(s),zt(s,"style",n),Oi(s,a.precedence,e),t.instance=s;case"stylesheet":n=As(a.href);var r=e.querySelector(pn(n));if(r)return t.state.loading|=4,t.instance=r,ft(r),r;s=$m(a),(n=ya.get(n))&&Yc(s,n),r=(e.ownerDocument||e).createElement("link"),ft(r);var u=r;return u._p=new Promise(function(g,T){u.onload=g,u.onerror=T}),zt(r,"link",s),t.state.loading|=4,Oi(r,a.precedence,e),t.instance=r;case"script":return r=Rs(a.src),(n=e.querySelector(vn(r)))?(t.instance=n,ft(n),n):(s=a,(n=ya.get(r))&&(s=p({},a),Xc(s,n)),e=e.ownerDocument||e,n=e.createElement("script"),ft(n),zt(n,"link",s),e.head.appendChild(n),t.instance=n);case"void":return null;default:throw Error(o(443,t.type))}else t.type==="stylesheet"&&(t.state.loading&4)===0&&(s=t.instance,t.state.loading|=4,Oi(s,a.precedence,e));return t.instance}function Oi(e,t,a){for(var s=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),n=s.length?s[s.length-1]:null,r=n,u=0;u<s.length;u++){var g=s[u];if(g.dataset.precedence===t)r=g;else if(r!==n)break}r?r.parentNode.insertBefore(e,r.nextSibling):(t=a.nodeType===9?a.head:a,t.insertBefore(e,t.firstChild))}function Yc(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.title==null&&(e.title=t.title)}function Xc(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.integrity==null&&(e.integrity=t.integrity)}var Bi=null;function Im(e,t,a){if(Bi===null){var s=new Map,n=Bi=new Map;n.set(a,s)}else n=Bi,s=n.get(a),s||(s=new Map,n.set(a,s));if(s.has(e))return s;for(s.set(e,null),a=a.getElementsByTagName(e),n=0;n<a.length;n++){var r=a[n];if(!(r[Mt]||r[He]||e==="link"&&r.getAttribute("rel")==="stylesheet")&&r.namespaceURI!=="http://www.w3.org/2000/svg"){var u=r.getAttribute(t)||"";u=e+u;var g=s.get(u);g?g.push(r):s.set(u,[r])}}return s}function Fm(e,t,a){e=e.ownerDocument||e,e.head.insertBefore(a,t==="title"?e.querySelector("head > title"):null)}function Fh(e,t,a){if(a===1||t.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof t.precedence!="string"||typeof t.href!="string"||t.href==="")break;return!0;case"link":if(typeof t.rel!="string"||typeof t.href!="string"||t.href===""||t.onLoad||t.onError)break;return t.rel==="stylesheet"?(e=t.disabled,typeof t.precedence=="string"&&e==null):!0;case"script":if(t.async&&typeof t.async!="function"&&typeof t.async!="symbol"&&!t.onLoad&&!t.onError&&t.src&&typeof t.src=="string")return!0}return!1}function Pm(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function Ph(e,t,a,s){if(a.type==="stylesheet"&&(typeof s.media!="string"||matchMedia(s.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var n=As(s.href),r=t.querySelector(pn(n));if(r){t=r._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(e.count++,e=ki.bind(e),t.then(e,e)),a.state.loading|=4,a.instance=r,ft(r);return}r=t.ownerDocument||t,s=$m(s),(n=ya.get(n))&&Yc(s,n),r=r.createElement("link"),ft(r);var u=r;u._p=new Promise(function(g,T){u.onload=g,u.onerror=T}),zt(r,"link",s),a.instance=r}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(a,t),(t=a.state.preload)&&(a.state.loading&3)===0&&(e.count++,a=ki.bind(e),t.addEventListener("load",a),t.addEventListener("error",a))}}var Qc=0;function Jh(e,t){return e.stylesheets&&e.count===0&&Di(e,e.stylesheets),0<e.count||0<e.imgCount?function(a){var s=setTimeout(function(){if(e.stylesheets&&Di(e,e.stylesheets),e.unsuspend){var r=e.unsuspend;e.unsuspend=null,r()}},6e4+t);0<e.imgBytes&&Qc===0&&(Qc=62500*Bh());var n=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&Di(e,e.stylesheets),e.unsuspend)){var r=e.unsuspend;e.unsuspend=null,r()}},(e.imgBytes>Qc?50:800)+t);return e.unsuspend=a,function(){e.unsuspend=null,clearTimeout(s),clearTimeout(n)}}:null}function ki(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Di(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var zi=null;function Di(e,t){e.stylesheets=null,e.unsuspend!==null&&(e.count++,zi=new Map,t.forEach(Wh,e),zi=null,ki.call(e))}function Wh(e,t){if(!(t.state.loading&4)){var a=zi.get(e);if(a)var s=a.get(null);else{a=new Map,zi.set(e,a);for(var n=e.querySelectorAll("link[data-precedence],style[data-precedence]"),r=0;r<n.length;r++){var u=n[r];(u.nodeName==="LINK"||u.getAttribute("media")!=="not all")&&(a.set(u.dataset.precedence,u),s=u)}s&&a.set(null,s)}n=t.instance,u=n.getAttribute("data-precedence"),r=a.get(u)||s,r===s&&a.set(null,n),a.set(u,n),this.count++,s=ki.bind(this),n.addEventListener("load",s),n.addEventListener("error",s),r?r.parentNode.insertBefore(n,r.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(n,e.firstChild)),t.state.loading|=4}}var Nn={$$typeof:B,Provider:null,Consumer:null,_currentValue:te,_currentValue2:te,_threadCount:0};function ex(e,t,a,s,n,r,u,g,T){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Ue(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ue(0),this.hiddenUpdates=Ue(null),this.identifierPrefix=s,this.onUncaughtError=n,this.onCaughtError=r,this.onRecoverableError=u,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=T,this.incompleteTransitions=new Map}function Jm(e,t,a,s,n,r,u,g,T,U,V,ee){return e=new ex(e,t,a,u,T,U,V,ee,g),t=1,r===!0&&(t|=24),r=ta(3,null,null,t),e.current=r,r.stateNode=e,t=Sr(),t.refCount++,e.pooledCache=t,t.refCount++,r.memoizedState={element:s,isDehydrated:a,cache:t},Er(r),e}function Wm(e){return e?(e=is,e):is}function e0(e,t,a,s,n,r){n=Wm(n),s.context===null?s.context=n:s.pendingContext=n,s=ul(t),s.payload={element:a},r=r===void 0?null:r,r!==null&&(s.callback=r),a=dl(e,s,t),a!==null&&(Pt(a,e,t),Js(a,e,t))}function t0(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var a=e.retryLane;e.retryLane=a!==0&&a<t?a:t}}function Zc(e,t){t0(e,t),(e=e.alternate)&&t0(e,t)}function a0(e){if(e.tag===13||e.tag===31){var t=Ol(e,67108864);t!==null&&Pt(t,e,67108864),Zc(e,67108864)}}function l0(e){if(e.tag===13||e.tag===31){var t=ia();t=$e(t);var a=Ol(e,t);a!==null&&Pt(a,e,t),Zc(e,t)}}var _i=!0;function tx(e,t,a,s){var n=z.T;z.T=null;var r=K.p;try{K.p=2,Vc(e,t,a,s)}finally{K.p=r,z.T=n}}function ax(e,t,a,s){var n=z.T;z.T=null;var r=K.p;try{K.p=8,Vc(e,t,a,s)}finally{K.p=r,z.T=n}}function Vc(e,t,a,s){if(_i){var n=$c(s);if(n===null)Bc(e,t,s,qi,a),n0(e,s);else if(sx(n,e,t,a,s))s.stopPropagation();else if(n0(e,s),t&4&&-1<lx.indexOf(e)){for(;n!==null;){var r=al(n);if(r!==null)switch(r.tag){case 3:if(r=r.stateNode,r.current.memoizedState.isDehydrated){var u=H(r.pendingLanes);if(u!==0){var g=r;for(g.pendingLanes|=2,g.entangledLanes|=2;u;){var T=1<<31-I(u);g.entanglements[1]|=T,u&=~T}Ra(r),(Ke&6)===0&&(pi=Be()+500,xn(0))}}break;case 31:case 13:g=Ol(r,2),g!==null&&Pt(g,r,2),Ni(),Zc(r,2)}if(r=$c(s),r===null&&Bc(e,t,s,qi,a),r===n)break;n=r}n!==null&&s.stopPropagation()}else Bc(e,t,s,null,a)}}function $c(e){return e=Ii(e),Kc(e)}var qi=null;function Kc(e){if(qi=null,e=za(e),e!==null){var t=m(e);if(t===null)e=null;else{var a=t.tag;if(a===13){if(e=b(t),e!==null)return e;e=null}else if(a===31){if(e=y(t),e!==null)return e;e=null}else if(a===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return qi=e,null}function s0(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Ee()){case Il:return 2;case bt:return 8;case Ta:case El:return 32;case tl:return 268435456;default:return 32}default:return 32}}var Ic=!1,jl=null,Sl=null,wl=null,jn=new Map,Sn=new Map,Tl=[],lx="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function n0(e,t){switch(e){case"focusin":case"focusout":jl=null;break;case"dragenter":case"dragleave":Sl=null;break;case"mouseover":case"mouseout":wl=null;break;case"pointerover":case"pointerout":jn.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Sn.delete(t.pointerId)}}function wn(e,t,a,s,n,r){return e===null||e.nativeEvent!==r?(e={blockedOn:t,domEventName:a,eventSystemFlags:s,nativeEvent:r,targetContainers:[n]},t!==null&&(t=al(t),t!==null&&a0(t)),e):(e.eventSystemFlags|=s,t=e.targetContainers,n!==null&&t.indexOf(n)===-1&&t.push(n),e)}function sx(e,t,a,s,n){switch(t){case"focusin":return jl=wn(jl,e,t,a,s,n),!0;case"dragenter":return Sl=wn(Sl,e,t,a,s,n),!0;case"mouseover":return wl=wn(wl,e,t,a,s,n),!0;case"pointerover":var r=n.pointerId;return jn.set(r,wn(jn.get(r)||null,e,t,a,s,n)),!0;case"gotpointercapture":return r=n.pointerId,Sn.set(r,wn(Sn.get(r)||null,e,t,a,s,n)),!0}return!1}function i0(e){var t=za(e.target);if(t!==null){var a=m(t);if(a!==null){if(t=a.tag,t===13){if(t=b(a),t!==null){e.blockedOn=t,Ds(e.priority,function(){l0(a)});return}}else if(t===31){if(t=y(a),t!==null){e.blockedOn=t,Ds(e.priority,function(){l0(a)});return}}else if(t===3&&a.stateNode.current.memoizedState.isDehydrated){e.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Ui(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var a=$c(e.nativeEvent);if(a===null){a=e.nativeEvent;var s=new a.constructor(a.type,a);Ki=s,a.target.dispatchEvent(s),Ki=null}else return t=al(a),t!==null&&a0(t),e.blockedOn=a,!1;t.shift()}return!0}function r0(e,t,a){Ui(e)&&a.delete(t)}function nx(){Ic=!1,jl!==null&&Ui(jl)&&(jl=null),Sl!==null&&Ui(Sl)&&(Sl=null),wl!==null&&Ui(wl)&&(wl=null),jn.forEach(r0),Sn.forEach(r0)}function Hi(e,t){e.blockedOn===t&&(e.blockedOn=null,Ic||(Ic=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,nx)))}var Li=null;function c0(e){Li!==e&&(Li=e,i.unstable_scheduleCallback(i.unstable_NormalPriority,function(){Li===e&&(Li=null);for(var t=0;t<e.length;t+=3){var a=e[t],s=e[t+1],n=e[t+2];if(typeof s!="function"){if(Kc(s||a)===null)continue;break}var r=al(a);r!==null&&(e.splice(t,3),t-=3,$r(r,{pending:!0,data:n,method:a.method,action:s},s,n))}}))}function Cs(e){function t(T){return Hi(T,e)}jl!==null&&Hi(jl,e),Sl!==null&&Hi(Sl,e),wl!==null&&Hi(wl,e),jn.forEach(t),Sn.forEach(t);for(var a=0;a<Tl.length;a++){var s=Tl[a];s.blockedOn===e&&(s.blockedOn=null)}for(;0<Tl.length&&(a=Tl[0],a.blockedOn===null);)i0(a),a.blockedOn===null&&Tl.shift();if(a=(e.ownerDocument||e).$$reactFormReplay,a!=null)for(s=0;s<a.length;s+=3){var n=a[s],r=a[s+1],u=n[pt]||null;if(typeof r=="function")u||c0(a);else if(u){var g=null;if(r&&r.hasAttribute("formAction")){if(n=r,u=r[pt]||null)g=u.formAction;else if(Kc(n)!==null)continue}else g=u.action;typeof g=="function"?a[s+1]=g:(a.splice(s,3),s-=3),c0(a)}}}function o0(){function e(r){r.canIntercept&&r.info==="react-transition"&&r.intercept({handler:function(){return new Promise(function(u){return n=u})},focusReset:"manual",scroll:"manual"})}function t(){n!==null&&(n(),n=null),s||setTimeout(a,20)}function a(){if(!s&&!navigation.transition){var r=navigation.currentEntry;r&&r.url!=null&&navigation.navigate(r.url,{state:r.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var s=!1,n=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",t),navigation.addEventListener("navigateerror",t),setTimeout(a,100),function(){s=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",t),navigation.removeEventListener("navigateerror",t),n!==null&&(n(),n=null)}}}function Fc(e){this._internalRoot=e}Gi.prototype.render=Fc.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(o(409));var a=t.current,s=ia();e0(a,s,e,t,null,null)},Gi.prototype.unmount=Fc.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;e0(e.current,2,null,e,null,null),Ni(),t[vt]=null}};function Gi(e){this._internalRoot=e}Gi.prototype.unstable_scheduleHydration=function(e){if(e){var t=Rt();e={blockedOn:null,target:e,priority:t};for(var a=0;a<Tl.length&&t!==0&&t<Tl[a].priority;a++);Tl.splice(a,0,e),a===0&&i0(e)}};var u0=d.version;if(u0!=="19.2.3")throw Error(o(527,u0,"19.2.3"));K.findDOMNode=function(e){var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(o(188)):(e=Object.keys(e).join(","),Error(o(268,e)));return e=h(t),e=e!==null?v(e):null,e=e===null?null:e.stateNode,e};var ix={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:z,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Yi=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Yi.isDisabled&&Yi.supportsFiber)try{Ba=Yi.inject(ix),yt=Yi}catch{}}return Mn.createRoot=function(e,t){if(!f(e))throw Error(o(299));var a=!1,s="",n=bd,r=yd,u=pd;return t!=null&&(t.unstable_strictMode===!0&&(a=!0),t.identifierPrefix!==void 0&&(s=t.identifierPrefix),t.onUncaughtError!==void 0&&(n=t.onUncaughtError),t.onCaughtError!==void 0&&(r=t.onCaughtError),t.onRecoverableError!==void 0&&(u=t.onRecoverableError)),t=Jm(e,1,!1,null,null,a,s,null,n,r,u,o0),e[vt]=t.current,Oc(e),new Fc(t)},Mn.hydrateRoot=function(e,t,a){if(!f(e))throw Error(o(299));var s=!1,n="",r=bd,u=yd,g=pd,T=null;return a!=null&&(a.unstable_strictMode===!0&&(s=!0),a.identifierPrefix!==void 0&&(n=a.identifierPrefix),a.onUncaughtError!==void 0&&(r=a.onUncaughtError),a.onCaughtError!==void 0&&(u=a.onCaughtError),a.onRecoverableError!==void 0&&(g=a.onRecoverableError),a.formState!==void 0&&(T=a.formState)),t=Jm(e,1,!0,t,a??null,s,n,T,r,u,g,o0),t.context=Wm(null),a=t.current,s=ia(),s=$e(s),n=ul(s),n.callback=null,dl(a,n,s),a=s,t.current.lanes=a,Xe(t,a),Ra(t),e[vt]=t.current,Oc(e),new Gi(t)},Mn.version="19.2.3",Mn}var g0;function bx(){if(g0)return Jc.exports;g0=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(d){console.error(d)}}return i(),Jc.exports=gx(),Jc.exports}var yx=bx();const px="modulepreload",vx=function(i){return"/cricket-management/"+i},b0={},Nx=function(d,c,o){let f=Promise.resolve();if(c&&c.length>0){let x=function(h){return Promise.all(h.map(v=>Promise.resolve(v).then(p=>({status:"fulfilled",value:p}),p=>({status:"rejected",reason:p}))))};document.getElementsByTagName("link");const b=document.querySelector("meta[property=csp-nonce]"),y=b?.nonce||b?.getAttribute("nonce");f=x(c.map(h=>{if(h=vx(h),h in b0)return;b0[h]=!0;const v=h.endsWith(".css"),p=v?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${h}"]${p}`))return;const A=document.createElement("link");if(A.rel=v?"stylesheet":px,v||(A.as="script"),A.crossOrigin="",A.href=h,y&&A.setAttribute("nonce",y),document.head.appendChild(A),v)return new Promise((S,j)=>{A.addEventListener("load",S),A.addEventListener("error",()=>j(new Error(`Unable to preload CSS for ${h}`)))})}))}function m(b){const y=new Event("vite:preloadError",{cancelable:!0});if(y.payload=b,window.dispatchEvent(y),!y.defaultPrevented)throw b}return f.then(b=>{for(const y of b||[])y.status==="rejected"&&m(y.reason);return d().catch(m)})};function jx(i,d){let c;try{c=i()}catch{return}return{getItem:f=>{var m;const b=x=>x===null?null:JSON.parse(x,void 0),y=(m=c.getItem(f))!=null?m:null;return y instanceof Promise?y.then(b):b(y)},setItem:(f,m)=>c.setItem(f,JSON.stringify(m,void 0)),removeItem:f=>c.removeItem(f)}}const lo=i=>d=>{try{const c=i(d);return c instanceof Promise?c:{then(o){return lo(o)(c)},catch(o){return this}}}catch(c){return{then(o){return this},catch(o){return lo(o)(c)}}}},Sx=(i,d)=>(c,o,f)=>{let m={storage:jx(()=>localStorage),partialize:N=>N,version:0,merge:(N,w)=>({...w,...N}),...d},b=!1;const y=new Set,x=new Set;let h=m.storage;if(!h)return i((...N)=>{console.warn(`[zustand persist middleware] Unable to update item '${m.name}', the given storage is currently unavailable.`),c(...N)},o,f);const v=()=>{const N=m.partialize({...o()});return h.setItem(m.name,{state:N,version:m.version})},p=f.setState;f.setState=(N,w)=>(p(N,w),v());const A=i((...N)=>(c(...N),v()),o,f);f.getInitialState=()=>A;let S;const j=()=>{var N,w;if(!h)return;b=!1,y.forEach(k=>{var B;return k((B=o())!=null?B:A)});const E=((w=m.onRehydrateStorage)==null?void 0:w.call(m,(N=o())!=null?N:A))||void 0;return lo(h.getItem.bind(h))(m.name).then(k=>{if(k)if(typeof k.version=="number"&&k.version!==m.version){if(m.migrate){const B=m.migrate(k.state,k.version);return B instanceof Promise?B.then(W=>[!0,W]):[!0,B]}console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return[!1,k.state];return[!1,void 0]}).then(k=>{var B;const[W,_]=k;if(S=m.merge(_,(B=o())!=null?B:A),c(S,!0),W)return v()}).then(()=>{E?.(S,void 0),S=o(),b=!0,x.forEach(k=>k(S))}).catch(k=>{E?.(void 0,k)})};return f.persist={setOptions:N=>{m={...m,...N},N.storage&&(h=N.storage)},clearStorage:()=>{h?.removeItem(m.name)},getOptions:()=>m,rehydrate:()=>j(),hasHydrated:()=>b,onHydrate:N=>(y.add(N),()=>{y.delete(N)}),onFinishHydration:N=>(x.add(N),()=>{x.delete(N)})},m.skipHydration||j(),S||A},wx=Sx,xo="cricket-manager-slot-",go="cricket-manager-slots";function bo(){try{const i=localStorage.getItem(go);return i?JSON.parse(i):[]}catch{return[]}}function Tx(i,d,c,o,f,m){try{const b={id:i,name:d||`Save ${i}`,teamId:c.playerTeamId,teamName:m,season:c.season,matchDay:c.matchDay,phase:c.phase,savedAt:new Date().toISOString()},y={slot:b,gameState:c,auctionState:o,liveMatchState:f};localStorage.setItem(`${xo}${i}`,JSON.stringify(y));const x=bo().filter(h=>h.id!==i);return x.push(b),x.sort((h,v)=>h.id-v.id),localStorage.setItem(go,JSON.stringify(x)),!0}catch(b){return console.error("Failed to save game:",b),!1}}function Mx(i){try{const d=localStorage.getItem(`${xo}${i}`);return d?JSON.parse(d):null}catch(d){return console.error("Failed to load game:",d),null}}function Ex(i){try{localStorage.removeItem(`${xo}${i}`);const d=bo().filter(c=>c.id!==i);return localStorage.setItem(go,JSON.stringify(d)),!0}catch(d){return console.error("Failed to delete save:",d),!1}}function yo(i){return new Date(i).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric",hour:"2-digit",minute:"2-digit"})}const _t=[];for(let i=0;i<256;++i)_t.push((i+256).toString(16).slice(1));function Ax(i,d=0){return(_t[i[d+0]]+_t[i[d+1]]+_t[i[d+2]]+_t[i[d+3]]+"-"+_t[i[d+4]]+_t[i[d+5]]+"-"+_t[i[d+6]]+_t[i[d+7]]+"-"+_t[i[d+8]]+_t[i[d+9]]+"-"+_t[i[d+10]]+_t[i[d+11]]+_t[i[d+12]]+_t[i[d+13]]+_t[i[d+14]]+_t[i[d+15]]).toLowerCase()}let to;const Rx=new Uint8Array(16);function Cx(){if(!to){if(typeof crypto>"u"||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");to=crypto.getRandomValues.bind(crypto)}return to(Rx)}const Ox=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),y0={randomUUID:Ox};function Bx(i,d,c){i=i||{};const o=i.random??i.rng?.()??Cx();if(o.length<16)throw new Error("Random bytes length must be >= 16");return o[6]=o[6]&15|64,o[8]=o[8]&63|128,Ax(o)}function po(i,d,c){return y0.randomUUID&&!i?y0.randomUUID():Bx(i)}const H0=i=>{const c={"Wankhede Stadium":{pace:70,spin:45,bounce:75,deterioration:30},"MA Chidambaram Stadium":{pace:40,spin:85,bounce:55,deterioration:50},"M. Chinnaswamy Stadium":{pace:65,spin:50,bounce:70,deterioration:25},"Eden Gardens":{pace:55,spin:70,bounce:60,deterioration:40},"Arun Jaitley Stadium":{pace:60,spin:60,bounce:65,deterioration:35},"Sawai Mansingh Stadium":{pace:50,spin:75,bounce:55,deterioration:45},"Punjab Cricket Association Stadium":{pace:75,spin:40,bounce:80,deterioration:20},"Narendra Modi Stadium":{pace:60,spin:55,bounce:65,deterioration:30},"Rajiv Gandhi International Stadium":{pace:65,spin:55,bounce:70,deterioration:35},"BRSABV Ekana Cricket Stadium":{pace:55,spin:65,bounce:60,deterioration:40}}[i]||{pace:60,spin:55,bounce:65,deterioration:30};return{pace:Math.max(30,Math.min(90,c.pace+Math.floor(Math.random()*11)-5)),spin:Math.max(30,Math.min(90,c.spin+Math.floor(Math.random()*11)-5)),bounce:Math.max(30,Math.min(90,c.bounce+Math.floor(Math.random()*11)-5)),deterioration:Math.max(10,Math.min(60,c.deterioration+Math.floor(Math.random()*11)-5))}},Ql=["mi","csk","rcb","kkr","dc","rr","pk","gt","srh","lsg"],kx={mi:"Wankhede Stadium",csk:"MA Chidambaram Stadium",rcb:"M. Chinnaswamy Stadium",kkr:"Eden Gardens",dc:"Arun Jaitley Stadium",rr:"Sawai Mansingh Stadium",pk:"Punjab Cricket Association Stadium",gt:"Narendra Modi Stadium",srh:"Rajiv Gandhi International Stadium",lsg:"BRSABV Ekana Cricket Stadium"},vo=i=>{const d=[],c=[];for(let S=0;S<Ql.length;S++)for(let j=S+1;j<Ql.length;j++){const N=Math.random()<.5;c.push({home:N?Ql[S]:Ql[j],away:N?Ql[j]:Ql[S]})}const o={};Ql.forEach(S=>o[S]=0);const f=[],m=[...c].sort(()=>Math.random()-.5);for(const S of m)o[S.home]<5&&o[S.away]<5&&(f.push({home:S.away,away:S.home}),o[S.home]++,o[S.away]++);const y=[...c,...f].sort(()=>Math.random()-.5),x=y.filter(S=>S.home===i||S.away===i),h=y.filter(S=>S.home!==i&&S.away!==i),v=[];let p=0,A=0;for(;p<x.length||A<h.length;){p<x.length&&v.push(x[p++]);const S=3+Math.floor(Math.random()*2);for(let j=0;j<S&&A<h.length;j++)v.push(h[A++])}return v.forEach((S,j)=>{const N=kx[S.home]||"Wankhede Stadium";d.push({id:po(),homeTeam:S.home,awayTeam:S.away,venue:N,matchNumber:j+1,matchType:"league",pitch:H0(N),weather:["clear","cloudy","humid"][Math.floor(Math.random()*3)],homeTactics:null,awayTactics:null,status:"upcoming",tossWinner:null,tossDecision:null,currentInnings:null,innings1:null,innings2:null,result:null})}),d},Zl=(i,d,c,o)=>{const f=["Narendra Modi Stadium","MA Chidambaram Stadium","Wankhede Stadium"],m=f[Math.floor(Math.random()*f.length)];return{id:po(),homeTeam:i,awayTeam:d,venue:m,matchNumber:o,matchType:c,pitch:H0(m),weather:["clear","cloudy","humid"][Math.floor(Math.random()*3)],homeTactics:null,awayTactics:null,status:"upcoming",tossWinner:null,tossDecision:null,currentInnings:null,innings1:null,innings2:null,result:null}};vo("mi");const zx=Object.freeze(Object.defineProperty({__proto__:null,generateFixtures:vo,generatePlayoffMatch:Zl},Symbol.toStringTag,{value:"Module"})),Dx=[{id:"player-unhappy-playtime",category:"player",title:"Playing Time Complaint",description:i=>`${i.player?.name} has approached you expressing frustration about lack of playing time. "I didn't join this team to sit on the bench," he says.`,condition:i=>i.player!==void 0&&i.player.morale<70,options:[{id:"promise-chances",label:"Promise more chances",description:"Assure him he'll get more opportunities soon",effects:i=>[{target:"player",targetId:i.player?.id,attribute:"morale",change:15}]},{id:"explain-competition",label:"Explain the competition",description:"Tell him he needs to earn his spot in training",effects:i=>[{target:"player",targetId:i.player?.id,attribute:"morale",change:-5},{target:"player",targetId:i.player?.id,attribute:"form",change:3}]},{id:"dismiss-concerns",label:"Dismiss his concerns",description:"Tell him to focus on being ready when called upon",effects:i=>[{target:"player",targetId:i.player?.id,attribute:"morale",change:-15}]}]},{id:"player-form-slump",category:"player",title:"Crisis of Confidence",description:i=>`${i.player?.name} is struggling with form and seems to have lost confidence. He's been seen practicing alone late into the night.`,condition:i=>i.player!==void 0&&i.player.form<-5,options:[{id:"personal-coaching",label:"Arrange personal coaching",description:"Get specialist coaches to work with him",effects:i=>[{target:"player",targetId:i.player?.id,attribute:"form",change:8},{target:"player",targetId:i.player?.id,attribute:"morale",change:10}]},{id:"rest-player",label:"Give him a break",description:"Rest him for a match to clear his head",effects:i=>[{target:"player",targetId:i.player?.id,attribute:"fatigue",change:-20},{target:"player",targetId:i.player?.id,attribute:"morale",change:5}]},{id:"tough-love",label:"Tough love approach",description:"Tell him to figure it out - he's a professional",effects:i=>[{target:"player",targetId:i.player?.id,attribute:"morale",change:-10},{target:"player",targetId:i.player?.id,attribute:"form",change:-3}]}]},{id:"player-nightlife",category:"player",title:"Late Night Controversy",description:i=>`Photos of ${i.player?.name} partying late before a match day have surfaced on social media. The press is asking questions.`,options:[{id:"fine-player",label:"Fine the player",description:"Issue a formal fine and warning",effects:i=>[{target:"player",targetId:i.player?.id,attribute:"morale",change:-20},{target:"team",attribute:"pressHeat",change:-10}]},{id:"defend-publicly",label:"Defend him publicly",description:"Tell the press players have personal lives too",effects:i=>[{target:"player",targetId:i.player?.id,attribute:"morale",change:10},{target:"team",attribute:"pressHeat",change:15}]},{id:"no-comment",label:"No comment",description:"Decline to address it publicly, handle internally",effects:i=>[{target:"player",targetId:i.player?.id,attribute:"morale",change:-5},{target:"team",attribute:"pressHeat",change:5}]}]},{id:"media-losing-streak",category:"media",title:"Press Conference: Losing Streak",description:()=>`"You've lost your last few matches. Are you concerned about the team's direction?" The press room falls silent awaiting your response.`,condition:i=>{const d=i.recentResults||[];return d.length<2?!1:d.slice(-2).every(o=>o==="loss")},options:[{id:"accept-responsibility",label:"Accept responsibility",description:`"The buck stops with me. We'll work harder."`,effects:()=>[{target:"team",attribute:"pressHeat",change:-15},{target:"team",attribute:"morale",change:5}]},{id:"deflect-luck",label:"Blame bad luck",description:`"Cricket is a game of margins. Luck hasn't been with us."`,effects:()=>[{target:"team",attribute:"pressHeat",change:10}]},{id:"attack-press",label:"Attack the question",description:`"We're three matches in. Let's not overreact."`,effects:()=>[{target:"team",attribute:"pressHeat",change:20},{target:"team",attribute:"morale",change:-5}]}]},{id:"media-star-player",category:"media",title:"Star Player Speculation",description:i=>`Reporters are asking about ${i.player?.name}'s future. "There are rumors other franchises are interested. Any comment?"`,options:[{id:"commit-player",label:"Publicly commit to player",description:`"He's central to our plans. Not going anywhere."`,effects:i=>[{target:"player",targetId:i.player?.id,attribute:"morale",change:15},{target:"team",attribute:"pressHeat",change:-5}]},{id:"diplomatic",label:"Diplomatic response",description:`"We don't discuss contracts in public."`,effects:i=>[{target:"player",targetId:i.player?.id,attribute:"morale",change:-5}]},{id:"open-door",label:"Leave door open",description:`"In cricket, anything can happen. We'll see."`,effects:i=>[{target:"player",targetId:i.player?.id,attribute:"morale",change:-20},{target:"team",attribute:"pressHeat",change:10}]}]},{id:"board-expectations",category:"board",title:"Board Meeting: Expectations",description:()=>'The franchise owners have called a meeting. "We need to discuss expectations for this season. The sponsors are watching."',options:[{id:"promise-playoffs",label:"Promise playoff qualification",description:"Commit to making the top 4",effects:()=>[{target:"manager",attribute:"boardExpectations",change:1},{target:"team",attribute:"boardPatience",change:10}]},{id:"building-phase",label:"Emphasize building phase",description:`"We're building something special. Need time."`,effects:()=>[{target:"team",attribute:"boardPatience",change:20},{target:"team",attribute:"pressHeat",change:-10}]},{id:"no-promises",label:"Make no promises",description:`"We'll compete hard. That's all I can guarantee."`,effects:()=>[{target:"team",attribute:"boardPatience",change:5}]}]},{id:"board-sponsor-concern",category:"board",title:"Sponsor Concerns",description:()=>"The title sponsor has expressed concerns about the team's performance. The board wants to know your plan.",condition:i=>{const d=i.recentResults||[];return d.length<2?!1:d.slice(-2).every(o=>o==="loss")},options:[{id:"tactical-changes",label:"Promise tactical changes",description:`"We're adjusting our approach. Results will come."`,effects:()=>[{target:"team",attribute:"boardPatience",change:10},{target:"team",attribute:"pressHeat",change:-5}]},{id:"back-players",label:"Back your players",description:'"The squad is good enough. We need time to gel."',effects:()=>[{target:"team",attribute:"morale",change:10},{target:"team",attribute:"boardPatience",change:-5}]},{id:"request-patience",label:"Request patience",description:`"Rome wasn't built in a day. Trust the process."`,effects:()=>[{target:"team",attribute:"boardPatience",change:15}]}]}],_x=(i,d,c,o,f)=>{if(Math.random()>.35)return null;const m={recentResults:d,teamMorale:c,boardPatience:o,pressHeat:f},b=Dx.filter(p=>!(p.condition&&!p.condition(m)));if(b.length===0)return null;const y=b[Math.floor(Math.random()*b.length)];let x;if(y.category==="player"||y.id==="media-star-player"){if(y.id==="player-unhappy-playtime"){const p=i.filter(A=>A.morale<70);p.length>0&&(x=p[Math.floor(Math.random()*p.length)])}else if(y.id==="player-form-slump"){const p=i.filter(A=>A.form<-5);p.length>0&&(x=p[Math.floor(Math.random()*p.length)])}else x=i[Math.floor(Math.random()*i.length)];if(!x&&(y.category==="player"||y.id==="media-star-player"))return null}const h={...m,player:x};return{id:po(),type:"random",category:y.category,title:y.title,description:y.description(h),involvedPlayers:x?[x.id]:[],urgency:"end-of-day",options:y.options.map(p=>({id:p.id,label:p.label,description:p.description,effects:p.effects(h)})),createdAt:new Date().toISOString(),resolved:!1}},dt={TOTAL_PURSE:12e3,MIN_SQUAD_SIZE:18,MAX_SQUAD_SIZE:25,MAX_OVERSEAS:8,MAX_RETENTIONS:4,RTM_CARDS_PER_TEAM:2,RETENTION_COSTS:{1:1800,2:1400,3:1100,4:1800},BID_INCREMENTS:[{upTo:100,increment:5},{upTo:200,increment:10},{upTo:500,increment:20},{upTo:1e3,increment:25},{upTo:1/0,increment:50}],MIN_RESERVE_PER_SLOT:50,MEGA_AUCTION_POOL_SIZE:250,MINI_AUCTION_POOL_SIZE:100};function Rn(i){const d=(i.batting.technique+i.batting.power+i.batting.timing+i.batting.temperament)/4,c=(i.bowling.speed+i.bowling.accuracy+i.bowling.variation+i.bowling.stamina)/4,o=(i.fielding.catching+i.fielding.ground+i.fielding.throwing+i.fielding.athleticism)/4;let f=0;switch(i.role){case"batsman":f=d*.85+c*.05+o*.1;break;case"bowler":f=c*.85+d*.05+o*.1;break;case"allrounder":f=(d+c)/2*.9+o*.1;break;case"keeper":f=d*.7+o*.3;break}let m=1;i.age<23?m=1.3:i.age<26?m=1.2:i.age<30?m=1:i.age<34?m=.85:m=.7;const b=1+i.form/50,y=i.contract.isOverseas?1.1:1;return f*m*b*y}function Vl(i){const d=Rn(i);return d>=85?200:d>=70?150:d>=55?100:d>=40?75:50}const An=dt.RETENTION_COSTS;function qx(i){let d=0;for(let c=1;c<=Math.min(i,4);c++)d+=An[c];return d}function p0(i,d,c,o=[],f=[]){const m=c.flatMap(x=>x.squad);let b;if(i==="mega"){const x=d.filter(v=>!o.includes(v.id)),h=dt.MEGA_AUCTION_POOL_SIZE;b=x.map(v=>({player:v,value:Rn(v)})).sort((v,p)=>p.value-v.value).slice(0,h).map(v=>v.player)}else{const x=d.filter(v=>!!(f.includes(v.id)||v.contract.yearsRemaining===0&&!m.includes(v.id))),h=dt.MINI_AUCTION_POOL_SIZE;b=x.map(v=>({player:v,value:Rn(v)})).sort((v,p)=>p.value-v.value).slice(0,h).map(v=>v.player)}return b.map(x=>{const h=c.find(v=>v.squad.includes(x.id));return{playerId:x.id,basePrice:Vl(x),currentBid:Vl(x),currentBidder:null,status:"available",bidHistory:[],setNumber:Ux(x),previousTeamId:h?.id||null}}).sort((x,h)=>x.setNumber!==h.setNumber?x.setNumber-h.setNumber:h.basePrice-x.basePrice)}function Ux(i){if(Rn(i)>=75)return 1;switch(i.role){case"batsman":return 2;case"bowler":return 3;case"allrounder":case"keeper":return 4;default:return 5}}const L0=dt.BID_INCREMENTS;function Hx(i){return{auctionType:i,totalPurse:dt.TOTAL_PURSE,minSquadSize:dt.MIN_SQUAD_SIZE,maxSquadSize:dt.MAX_SQUAD_SIZE,maxOverseas:dt.MAX_OVERSEAS,maxRetentions:i==="mega"?dt.MAX_RETENTIONS:0,rtmCardsPerTeam:i==="mega"?dt.RTM_CARDS_PER_TEAM:0,bidIncrements:L0}}function Lx(i){return L0.find(c=>i<c.upTo)?.increment||50}function $l(i){return i+Lx(i)}function Gx(i,d,c,o=0){const f=c==="mega"?[]:d.filter(x=>i.squad.includes(x.id)),m=c==="mega"?0:f.filter(x=>x.contract.isOverseas).length,b=x=>c==="mega"?0:f.filter(h=>h.role===x).length,y=c==="mini"?f.reduce((x,h)=>x+h.contract.salary,0):0;return{teamId:i.id,remainingPurse:dt.TOTAL_PURSE-o-y,squadSize:c==="mega"?0:f.length,overseasCount:m,retentions:[{playerId:null,cost:An[1],slotNumber:1},{playerId:null,cost:An[2],slotNumber:2},{playerId:null,cost:An[3],slotNumber:3},{playerId:null,cost:An[4],slotNumber:4}],rtmCardsRemaining:c==="mega"?dt.RTM_CARDS_PER_TEAM:0,batsmen:b("batsman"),bowlers:b("bowler"),allrounders:b("allrounder"),keepers:b("keeper"),hasPassedCurrentPlayer:!1}}function Yx(i){const d={},c={mi:{priorities:{batsmen:80,bowlers:75,allrounders:90,keepers:60,overseas:85},aggression:75,budgetConservation:35},csk:{priorities:{batsmen:85,bowlers:70,allrounders:80,keepers:75,overseas:65},aggression:55,budgetConservation:50},rcb:{priorities:{batsmen:95,bowlers:60,allrounders:70,keepers:55,overseas:90},aggression:90,budgetConservation:20},kkr:{priorities:{batsmen:75,bowlers:80,allrounders:85,keepers:60,overseas:80},aggression:70,budgetConservation:40},dc:{priorities:{batsmen:80,bowlers:75,allrounders:80,keepers:70,overseas:75},aggression:65,budgetConservation:45},rr:{priorities:{batsmen:75,bowlers:80,allrounders:85,keepers:65,overseas:70},aggression:60,budgetConservation:50},pk:{priorities:{batsmen:85,bowlers:70,allrounders:75,keepers:60,overseas:80},aggression:80,budgetConservation:30},gt:{priorities:{batsmen:70,bowlers:85,allrounders:90,keepers:60,overseas:75},aggression:65,budgetConservation:45},srh:{priorities:{batsmen:70,bowlers:90,allrounders:75,keepers:60,overseas:85},aggression:70,budgetConservation:40}};return i.forEach(o=>{const f=c[o.id]||{priorities:{batsmen:70,bowlers:70,allrounders:70,keepers:70,overseas:70},aggression:65,budgetConservation:45};d[o.id]={teamId:o.id,priorities:f.priorities,aggression:f.aggression,budgetConservation:f.budgetConservation,targetPlayers:[]}}),d}function so(i,d,c){if(i.remainingPurse<d)return!1;const f=(c.minSquadSize-i.squadSize-1)*dt.MIN_RESERVE_PER_SLOT;return!(i.remainingPurse-d<f)}function G0(i,d){return i.overseasCount<d.maxOverseas}function Y0(i,d){return i.squadSize>=d.maxSquadSize}function Xx(i,d){return i.squadSize>=d.minSquadSize}function no(i,d,c){const o=d.flatMap(f=>f.squad);return i.filter(f=>!o.includes(f.id)).map(f=>({player:f,isUnsold:c.includes(f.id),basePrice:Vl(f)})).sort((f,m)=>f.isUnsold!==m.isUnsold?f.isUnsold?-1:1:f.basePrice-m.basePrice)}function io(i,d,c,o){if(i.squadSize>=o.maxSquadSize)return{canPick:!1,reason:"Squad is full (25 players)"};if(d.contract.isOverseas&&i.overseasCount>=dt.MAX_OVERSEAS)return{canPick:!1,reason:"Overseas limit reached (8 players)"};if(i.remainingPurse<dt.MIN_RESERVE_PER_SLOT&&i.squadSize<o.minSquadSize)return{canPick:!0,isFreePickup:!0};const b=Math.max(0,o.minSquadSize-i.squadSize-1)*dt.MIN_RESERVE_PER_SLOT;return i.remainingPurse<c+b?{canPick:!1,reason:"Insufficient budget"}:{canPick:!0}}function v0(i,d,c){const o=[];let f=i.squadSize,m=i.remainingPurse,b=i.overseasCount;const y=[...d].sort((x,h)=>x.basePrice-h.basePrice);for(const{player:x,basePrice:h}of y){if(f>=c.minSquadSize)break;if(x.contract.isOverseas&&b>=dt.MAX_OVERSEAS)continue;if(m<dt.MIN_RESERVE_PER_SLOT){o.push(x.id),f++,x.contract.isOverseas&&b++;continue}const A=Math.max(0,c.minSquadSize-f-1)*dt.MIN_RESERVE_PER_SLOT;m>=h+A&&(o.push(x.id),f++,m-=h,x.contract.isOverseas&&b++)}return o}function Dt(i){if(i>=100){const d=i/100;return`${d.toFixed(d%1===0?0:2)} Cr`}return`${i}L`}function Os(i){return i>=100?`${(i/100).toFixed(1)}Cr`:`${i}L`}function Qx(i,d,c,o,f){const m=f.settings;if(!$x(i,c,o,m))return{shouldBid:!1,maxBid:0,urgency:0,reason:"Cannot bid - constraints"};const b=Rn(c),y=Zx(b),x=Kx(i,c,d),h=c.contract.isOverseas?i.overseasCount>=6?.5:i.overseasCount>=4?.8:1:1,v=Vx(b,i,d,x,m);if($l(o.currentBid)>v)return{shouldBid:!1,maxBid:v,urgency:0,reason:"Price exceeds max bid"};if(d.targetPlayers.includes(c.id))return{shouldBid:!0,maxBid:v*1.2,urgency:95,reason:"Target player"};const A=o.currentBid/Math.max(v,1),S=Math.max(.3,1-A*.7),j=Math.max(.5,1-o.bidHistory.length*.05),N=1+(d.aggression-50)/200,w=Math.min(.95,y*x*h*S*j*N),E=Math.random()<w,k=Fx(i,c,d,m,b);return{shouldBid:E,maxBid:v,urgency:k,reason:E?`Value: ${b.toFixed(0)}`:"Passing"}}function Zx(i){return i>=80?.85+(i-80)*.005:i>=70?.7+(i-70)*.015:i>=60?.5+(i-60)*.02:i>=50?.3+(i-50)*.02:i>=40?.15+(i-40)*.015:.05+i*.0025}function Vx(i,d,c,o,f){let m;i>=85?m=1500+(i-85)*60:i>=75?m=800+(i-75)*70:i>=65?m=400+(i-65)*40:i>=55?m=200+(i-55)*20:i>=45?m=75+(i-45)*12.5:m=50+(i-35)*2.5;const b=.8+c.aggression/100*.4,y=1.2-c.budgetConservation/100*.4,x=1+(o-1)*.2;f.minSquadSize-d.squadSize;const h=Ix(d,f),v=d.remainingPurse*h,p=m*b*y*x;return Math.min(p,v)}function $x(i,d,c,o){if(i.hasPassedCurrentPlayer||Y0(i,o)||d.contract.isOverseas&&!G0(i,o))return!1;const f=$l(c.currentBid);return!!so(i,f,o)}function Kx(i,d,c){const o={batsman:6,bowler:6,allrounder:4,keeper:2},f={batsman:Math.max(0,o.batsman-i.batsmen),bowler:Math.max(0,o.bowler-i.bowlers),allrounder:Math.max(0,o.allrounder-i.allrounders),keeper:Math.max(0,o.keeper-i.keepers)};let m=1;const b=c.priorities[d.role==="keeper"?"keepers":`${d.role}s`]/100;switch(d.role){case"batsman":m=1+f.batsman/o.batsman*b;break;case"bowler":m=1+f.bowler/o.bowler*b;break;case"allrounder":m=1.2+f.allrounder/o.allrounder*b;break;case"keeper":m=i.keepers===0?2:1+f.keeper/o.keeper*b;break}const y=18-i.squadSize;return y<=5&&y>0&&(m*=1+(5-y)*.1),Math.min(2.5,m)}function Ix(i,d){const c=d.minSquadSize-i.squadSize;return c<=1?.9:c<=3?.7:c<=6?.5:c<=10?.35:.25}function Fx(i,d,c,o,f){let m=30+f*.4;c.targetPlayers.includes(d.id)&&(m+=25),{batsman:i.batsmen<4,bowler:i.bowlers<4,allrounder:i.allrounders<2,keeper:i.keepers<1}[d.role]&&(m+=15);const y=o.minSquadSize-i.squadSize;return y<=5&&(m+=(5-y)*4),m+=(c.aggression-50)*.2,Math.min(100,Math.max(0,m))}function X0(i,d,c){const o=i.currentPlayer;if(!o)return[];const f=d.find(b=>b.id===o.playerId);if(!f)return[];const m=[];return Object.entries(i.teamStates).forEach(([b,y])=>{if(b===c||b===o.currentBidder)return;const x=i.aiStrategies[b];if(!x)return;const h=Qx(y,x,f,o,i);h.shouldBid&&m.push({teamId:b,decision:h})}),m.sort((b,y)=>y.decision.urgency-b.decision.urgency)}function Q0(i){if(i.length===0)return null;const d=i.reduce((o,f)=>o+f.decision.urgency,0);if(d===0)return i[Math.floor(Math.random()*i.length)].teamId;let c=Math.random()*d;for(const o of i)if(c-=o.decision.urgency,c<=0)return o.teamId;return i[0].teamId}function Px(i,d,c){const o=i.currentPlayer;if(!o)return{soldTo:null,finalBid:0,bidHistory:null};let f=0;const m=100;for(;f<m;){const b=X0(i,d,c);if(b.length===0)break;const y=Q0(b);if(!y)break;const x=$l(o.currentBid);o.currentBid=x,o.currentBidder=y,o.bidHistory.push({teamId:y,amount:x,timestamp:Date.now(),isRTM:!1}),i.teamStates[y]&&Object.keys(i.teamStates).forEach(v=>{v!==y&&(i.teamStates[v].hasPassedCurrentPlayer=!1)}),f++}return{soldTo:o.currentBidder,finalBid:o.currentBid,bidHistory:o}}const N0=()=>{const i="ABCDEFGHJKLMNPQRSTUVWXYZ23456789";let d="";for(let c=0;c<4;c++)d+=i.charAt(Math.floor(Math.random()*i.length));return`BETA-${d}`},ao={initialized:!1,testerId:"",startMode:"real-squads",currentDate:new Date().toISOString().split("T")[0],season:1,phase:"season",matchDay:1,manager:{name:"",reputation:50,identity:{tacticalStyle:"balanced",youthFocus:50,manManagement:50},history:{seasonsManaged:0,titlesWon:0,playoffAppearances:0}},playerTeamId:"",teams:[],players:[],fixtures:[],pointsTable:[],activeEvents:[],pressHeat:30,lastMeetingMatchDay:0,releasedPlayers:[],unsoldPlayers:[]},j0={currentScreen:"home",selectedPlayerId:null,selectedMatchId:null,selectedEventId:null,simulationSpeed:"over-by-over",modalStack:[]},Jx=null,Wx=null,Ve=ux()(wx((i,d)=>({...ao,...j0,auctionState:Jx,liveMatchState:Wx,initializeGame:(c,o,f)=>{const m=f==="real-squads"?"season":"auction";i({initialized:!0,testerId:N0(),startMode:f,playerTeamId:c,manager:{...ao.manager,name:o},currentDate:"2025-03-22",season:1,phase:m,matchDay:1,liveMatchState:null,auctionState:null,selectedMatchId:null});const y=d().teams.map(x=>({teamId:x.id,played:0,won:0,lost:0,noResult:0,points:0,netRunRate:0}));if(i({pointsTable:y}),f==="mini-auction"||f==="mega-auction"){const x=f==="mini-auction"?"mini":"mega";d().initializeAuction(x)}},resetGame:()=>{i({...ao,...j0})},navigateTo:c=>{i({currentScreen:c})},selectPlayer:c=>{i({selectedPlayerId:c,currentScreen:c?"player-detail":d().currentScreen})},selectMatch:c=>{i({selectedMatchId:c})},selectEvent:c=>{i({selectedEventId:c,currentScreen:c?"event":d().currentScreen})},setSimulationSpeed:c=>{i({simulationSpeed:c})},openPlayerModal:(c,o=!1)=>{i(f=>({modalStack:o?[...f.modalStack,{type:"player",id:c}]:[{type:"player",id:c}]}))},openTeamModal:(c,o=!1)=>{i(f=>({modalStack:o?[...f.modalStack,{type:"team",id:c}]:[{type:"team",id:c}]}))},closeModal:()=>{i(c=>({modalStack:c.modalStack.slice(0,-1)}))},closeAllModals:()=>{i({modalStack:[]})},updatePlayer:(c,o)=>{i(f=>({players:f.players.map(m=>m.id===c?{...m,...o}:m)}))},updatePlayerState:(c,o)=>{i(f=>({players:f.players.map(m=>m.id!==c?m:{...m,form:Math.max(-20,Math.min(20,o.form??m.form)),fitness:Math.max(0,Math.min(100,o.fitness??m.fitness)),morale:Math.max(0,Math.min(100,o.morale??m.morale)),fatigue:Math.max(0,Math.min(100,o.fatigue??m.fatigue))})}))},updateTeam:(c,o)=>{i(f=>({teams:f.teams.map(m=>m.id===c?{...m,...o}:m)}))},setCaptain:(c,o)=>{i(f=>({teams:f.teams.map(m=>m.id===c?{...m,captain:o}:m)}))},setViceCaptain:(c,o)=>{i(f=>({teams:f.teams.map(m=>m.id===c?{...m,viceCaptain:o}:m)}))},setMatchTactics:(c,o,f)=>{i(m=>({fixtures:m.fixtures.map(b=>b.id!==c?b:b.homeTeam===o?{...b,homeTactics:f}:b.awayTeam===o?{...b,awayTactics:f}:b)}))},updateMatch:(c,o)=>{i(f=>({fixtures:f.fixtures.map(m=>m.id===c?{...m,...o}:m)}))},updatePointsTable:c=>{i({pointsTable:c})},simulateBackgroundMatches:()=>{const{teams:c,playerTeamId:o,pointsTable:f,fixtures:m,players:b}=d(),y=(S,j,N,w)=>{const E=c.find(O=>O.id===S);if(!E)return{batterStats:new Map,fallOfWickets:[]};const k=b.filter(O=>E.squad.includes(O.id)).slice(0,11),B=new Map,W=[],_=Math.min(N+2,11),ne=k.slice(0,_);let R=j,G=w*6,ue=0;return ne.forEach((O,ae)=>{const J=ae===ne.length-1,Z=ae>=N,fe=J?R:Math.floor(R*(.3-ae*.02)*(.8+Math.random()*.4)),se=Math.max(0,Math.min(fe,R));R-=se;const z=J?G:Math.floor(G*(.25-ae*.015)*(.8+Math.random()*.4)),K=Math.max(1,Math.min(z,G));G-=K;const xe=(K>0?se/K*100:0)>150?Math.floor(se/30):Math.floor(se/50),Y=Math.floor((se-xe*6)/10);if(B.set(O.id,{runs:se,balls:K,fours:Y,sixes:xe}),!Z&&ae<N){ue+=se;const M=Math.round(w*(ae+1)/_*10)/10;W.push({player:O.id,runs:ue,overs:Math.min(M,w)})}}),{batterStats:B,fallOfWickets:W}},x=(S,j,N,w)=>{const E=c.find(G=>G.id===S);if(!E)return new Map;const B=b.filter(G=>E.squad.includes(G.id)).filter(G=>G.role==="bowler"||G.role==="allrounder").slice(0,5),W=new Map;let _=w,ne=j,R=N;return B.forEach((G,ue)=>{const O=ue===B.length-1,ae=O?Math.min(_,4):Math.min(3+Math.floor(Math.random()*2),_,4);_-=ae;const J=O?ne:Math.floor(ne*(ae/w)*(.8+Math.random()*.4));ne-=J;const Z=O?R:Math.floor(R*(.3+Math.random()*.2));R=Math.max(0,R-Z);const fe=ae>0?J/ae:8,se=Math.floor(ae*6*(fe<7?.4:fe<9?.3:.2));ae>0&&W.set(G.id,{overs:ae,runs:J,wickets:Z,dots:se})}),W},v=m.filter(S=>S.status==="upcoming"&&S.matchType==="league"&&S.homeTeam!==o&&S.awayTeam!==o).slice(0,4);if(v.length===0)return;const p=[...f],A=[...m];for(const S of v){const j=c.find(re=>re.id===S.homeTeam),N=c.find(re=>re.id===S.awayTeam);if(!j||!N)continue;const w=j.reputation+Math.random()*30+5,E=N.reputation+Math.random()*30,k=w>E,B=140+Math.floor(Math.random()*60),W=4+Math.floor(Math.random()*5),_=W>=10?17+Math.floor(Math.random()*3):20;let ne,R,G;k?(ne=B+1,R=2+Math.floor(Math.random()*6),G=16+Math.floor(Math.random()*4)):(ne=B-5-Math.floor(Math.random()*35),R=7+Math.floor(Math.random()*4),G=R>=10?15+Math.floor(Math.random()*5):20);const ue=y(S.awayTeam,B,W,_),O=x(S.homeTeam,B,W,_),ae=y(S.homeTeam,ne,R,G),J=x(S.awayTeam,ne,R,G),Z={battingTeam:S.awayTeam,bowlingTeam:S.homeTeam,runs:B,wickets:W,overs:_,balls:_*6,currentBatters:["",""],currentBowler:"",overSummaries:[],fallOfWickets:ue.fallOfWickets,batterStats:ue.batterStats,bowlerStats:O},fe={battingTeam:S.homeTeam,bowlingTeam:S.awayTeam,runs:ne,wickets:R,overs:G,balls:G*6,currentBatters:["",""],currentBowler:"",overSummaries:[],fallOfWickets:ae.fallOfWickets,batterStats:ae.batterStats,bowlerStats:J},se=A.findIndex(re=>re.id===S.id);se!==-1&&(A[se]={...A[se],status:"completed",innings1:Z,innings2:fe,tossWinner:S.awayTeam,tossDecision:"bat"});const z=k?S.homeTeam:S.awayTeam,K=k?S.awayTeam:S.homeTeam,te=p.find(re=>re.teamId===z),xe=p.find(re=>re.teamId===K),Y=k?G:_,M=k?ne:B,F=k?_:G,de=k?B:ne;if(te){te.played+=1,te.won+=1,te.points+=2;const re=M/Y-de/F;te.netRunRate+=re*.1}if(xe){xe.played+=1,xe.lost+=1;const re=de/F-M/Y;xe.netRunRate+=re*.1}}p.forEach(S=>{S.netRunRate=Math.round(S.netRunRate*1e3)/1e3}),i({fixtures:A,pointsTable:p})},checkAndStartPlayoffs:()=>{const{fixtures:c,pointsTable:o,playerTeamId:f,phase:m}=d();if(m!=="season"||!c.filter(j=>j.matchType==="league").filter(j=>j.homeTeam===f||j.awayTeam===f).every(j=>j.status==="completed"))return!1;const h=[...o].sort((j,N)=>N.points!==j.points?N.points-j.points:N.netRunRate-j.netRunRate),v=h.slice(0,4).map(j=>j.teamId);if(h.findIndex(j=>j.teamId===f)+1>4)return i({phase:"off-season"}),!1;const A=Zl(v[0],v[1],"qualifier1",6),S=Zl(v[2],v[3],"eliminator",7);return i({phase:"playoffs",fixtures:[...c,A,S]}),!0},progressPlayoffs:(c,o,f)=>{const{fixtures:m,playerTeamId:b,teams:y}=d(),x=m.find(j=>j.id===c);if(!x)return;let h=[...m];const v=new Set(h.map(j=>j.matchType)),p=j=>{const N=y.find(_=>_.id===j.homeTeam),w=y.find(_=>_.id===j.awayTeam),E=(N?.reputation||50)+Math.random()*30,k=(w?.reputation||50)+Math.random()*30,B=E>k?j.homeTeam:j.awayTeam,W=B===j.homeTeam?j.awayTeam:j.homeTeam;return h=h.map(_=>_.id===j.id?{..._,status:"completed"}:_),{winner:B,loser:W}},A=j=>j.homeTeam!==b&&j.awayTeam!==b,S=j=>!j.innings1||!j.innings2?null:j.innings2.runs>=j.innings1.runs+1?j.innings2.battingTeam:j.innings1.battingTeam;if(x.matchType==="qualifier1"){const j=h.find(N=>N.matchType==="eliminator"&&N.status==="upcoming");if(j&&A(j)){const N=p(j);if(!v.has("qualifier2")){const w=Zl(f,N.winner,"qualifier2",8);if(A(w)){h=[...h,{...w,status:"upcoming"}];const E=h.find(k=>k.matchType==="qualifier2");if(E){const k=p(E),B=Zl(o,k.winner,"final",9);h=[...h,B]}}else h=[...h,w]}}else if(j){i({fixtures:h});return}}else if(x.matchType==="eliminator"){if(f===b){i({fixtures:h,phase:"off-season"});return}const j=h.find(N=>N.matchType==="qualifier1"&&N.status==="completed");if(j){const w=S(j)===j.homeTeam?j.awayTeam:j.homeTeam;if(!v.has("qualifier2")){const E=Zl(w,o,"qualifier2",8);h=[...h,E]}}}else if(x.matchType==="qualifier2"){if(f===b){i({fixtures:h,phase:"off-season"});return}const j=h.find(N=>N.matchType==="qualifier1"&&N.status==="completed");if(j&&!v.has("final")){const N=S(j)||j.homeTeam,w=Zl(N,o,"final",9);h=[...h,w]}}else if(x.matchType==="final"){i({fixtures:h,phase:"off-season"});return}i({fixtures:h})},isSeasonComplete:()=>{const{phase:c,fixtures:o}=d();return c==="off-season"?!0:o.find(m=>m.matchType==="final")?.status==="completed"},getSeasonResult:()=>{const{fixtures:c,pointsTable:o,playerTeamId:f,phase:m}=d(),y=[...o].sort((h,v)=>v.points!==h.points?v.points-h.points:v.netRunRate-h.netRunRate).findIndex(h=>h.teamId===f)+1,x=c.find(h=>h.matchType==="final"&&h.status==="completed");if(x){const h=x.innings2&&x.innings1?x.innings2.runs>=x.innings1.runs+1?x.innings2.battingTeam:x.innings1.battingTeam:null,v=h===x.homeTeam?x.awayTeam:x.homeTeam;return{champion:h,runnerUp:v,playerFinish:h===f?1:v===f?2:y}}if(m==="off-season"){const h=c.find(p=>p.matchType==="eliminator"&&p.status==="completed"&&(p.homeTeam===f||p.awayTeam===f));if(h&&h.innings1&&h.innings2&&(h.innings2.runs>=h.innings1.runs+1?h.innings2.battingTeam:h.innings1.battingTeam)!==f)return{champion:null,runnerUp:null,playerFinish:4};const v=c.find(p=>p.matchType==="qualifier2"&&p.status==="completed"&&(p.homeTeam===f||p.awayTeam===f));return v&&v.innings1&&v.innings2&&(v.innings2.runs>=v.innings1.runs+1?v.innings2.battingTeam:v.innings1.battingTeam)!==f?{champion:null,runnerUp:null,playerFinish:3}:{champion:null,runnerUp:null,playerFinish:y}}return null},isMegaAuctionYear:c=>c%3===1,processSeasonEnd:()=>{const{players:c,teams:o,playerTeamId:f,getSeasonResult:m,manager:b}=d(),y=m(),x={...b.history};x.seasonsManaged+=1,y?.champion===f&&(x.titlesWon+=1),y&&y.playerFinish<=4&&(x.playoffAppearances+=1);const h=c.map(S=>({...S,age:S.age+1,contract:{...S.contract,yearsRemaining:Math.max(0,S.contract.yearsRemaining-1)},form:Math.round(S.form*.3),fitness:70+Math.floor(Math.random()*10),morale:60+Math.floor(Math.random()*10),fatigue:0,lastTalkedMatchDay:0})),v=c.filter(S=>S.contract.yearsRemaining===1).map(S=>S.id),p=o.flatMap(S=>S.squad),A=c.filter(S=>!p.includes(S.id)).map(S=>S.id);i({players:h,manager:{...b,history:x},phase:"off-season",releasedPlayers:v,unsoldPlayers:[...d().unsoldPlayers,...A]})},startNextSeason:()=>{const{season:c,processSeasonEnd:o,isMegaAuctionYear:f,navigateTo:m}=d();o();const b=c+1,y=f(b);i({season:b}),m(y?"auction":"release-phase")},releasePlayer:c=>{const{releasedPlayers:o}=d();o.includes(c)||i({releasedPlayers:[...o,c]})},confirmReleases:()=>{const{releasedPlayers:c,teams:o,players:f,playerTeamId:m,unsoldPlayers:b}=d(),y=o.map(v=>({...v,squad:v.squad.filter(p=>!c.includes(p))})),x=f.map(v=>c.includes(v.id)?{...v,contract:{...v.contract,yearsRemaining:0}}:v),h=[...new Set([...c,...b])];i({teams:y,players:x,unsoldPlayers:h}),d().initializeAuction("mini","bidding"),d().navigateTo("auction")},resetForNewSeason:()=>{const{teams:c,players:o,season:f,playerTeamId:m}=d();Nx(async()=>{const{generateFixtures:b}=await Promise.resolve().then(()=>zx);return{generateFixtures:b}},void 0).then(({generateFixtures:b})=>{const y=b(m),x=c.map(h=>({teamId:h.id,played:0,won:0,lost:0,noResult:0,points:0,netRunRate:0}));i({fixtures:y,pointsTable:x,matchDay:1,phase:"season",activeEvents:[],pressHeat:30,lastMeetingMatchDay:0,releasedPlayers:[]})})},addEvent:c=>{i(o=>({activeEvents:[...o.activeEvents,c]}))},resolveEvent:(c,o)=>{const f=d().activeEvents.find(b=>b.id===c);if(!f)return;const m=f.options.find(b=>b.id===o);m&&(d().applyEventEffects(m),i(b=>({activeEvents:b.activeEvents.map(y=>y.id===c?{...y,resolved:!0,chosenOption:o}:y)})))},applyEventEffects:c=>{c.effects.forEach(o=>{if(o.target==="player"&&o.targetId){const f=d().getPlayer(o.targetId);if(f){const m=f[o.attribute];d().updatePlayerState(o.targetId,{[o.attribute]:Math.max(0,Math.min(100,m+o.change))})}}else if(o.target==="team"){if(o.attribute==="pressHeat")i(f=>({pressHeat:Math.max(0,Math.min(100,f.pressHeat+o.change))}));else if(o.attribute==="boardPatience"){const{playerTeamId:f}=d();i(m=>({teams:m.teams.map(b=>b.id===f?{...b,boardPatience:Math.max(0,Math.min(100,(b.boardPatience||50)+o.change))}:b)}))}else if(o.attribute==="morale"){const{playerTeamId:f,teams:m}=d(),b=m.find(y=>y.id===f);b&&i(y=>({players:y.players.map(x=>b.squad.includes(x.id)?{...x,morale:Math.max(0,Math.min(100,x.morale+o.change))}:x)}))}}})},generatePostMatchEvent:c=>{const{players:o,playerTeamId:f,teams:m,fixtures:b,pressHeat:y}=d(),x=m.find(j=>j.id===f);if(!x)return;const h=o.filter(j=>x.squad.includes(j.id)),p=b.filter(j=>j.status==="completed"&&(j.homeTeam===f||j.awayTeam===f)).slice(-5).map(j=>{if(!j.innings1||!j.innings2)return"loss";const N=j.innings1.battingTeam;return j.innings2.runs>=j.innings1.runs+1?j.innings2.battingTeam===f?"win":"loss":N===f?"win":"loss"});p.push(c?"win":"loss");const A=Math.round(h.reduce((j,N)=>j+N.morale,0)/h.length),S=_x(h,p,A,x.boardPatience||50,y);S&&i(j=>({activeEvents:[...j.activeEvents,S]}))},advanceDay:()=>{i(c=>{const o=new Date(c.currentDate);o.setDate(o.getDate()+1);const f=c.players.map(m=>{let b=m.form;return m.form>0?b=Math.max(0,m.form-.5):m.form<0&&(b=Math.min(0,m.form+.5)),{...m,fatigue:Math.max(0,m.fatigue-8),fitness:Math.min(100,m.fitness+3),form:Math.round(b*10)/10}});return{currentDate:o.toISOString().split("T")[0],players:f}})},advanceToNextMatch:()=>{i(c=>({matchDay:c.matchDay+1})),d().advanceDay(),d().advanceDay(),d().advanceDay()},canHoldTeamMeeting:()=>{const{matchDay:c,lastMeetingMatchDay:o}=d();return c-o>=3},getTeamMeetingOptions:()=>{const{fixtures:c,playerTeamId:o,matchDay:f}=d(),m=c.filter(v=>v.status==="completed"&&(v.homeTeam===o||v.awayTeam===o)).slice(-3),b=c.some(v=>v.status==="upcoming"&&(v.homeTeam===o||v.awayTeam===o)),y=m.filter(v=>!v.innings1||!v.innings2?!1:(v.innings2.runs>=v.innings1.runs+1?v.innings2.battingTeam:v.innings1.battingTeam)===o).length,x=m.length-y,h=[];return b&&(h.push({id:"rally",type:"pre-match",label:`"Let's go out there and win this!"`,description:"Fire up the squad before the next match",baseMoraleDelta:6}),h.push({id:"focus",type:"pre-match",label:'"Stay focused, stick to the plan"',description:"Calm, tactical approach to the upcoming match",baseMoraleDelta:3})),y>0&&h.push({id:"celebrate",type:"post-win",label:'"Great work, but stay hungry"',description:"Acknowledge success while maintaining focus",baseMoraleDelta:5}),x>=2?(h.push({id:"crisis-calm",type:"crisis",label:`"We've been through rough patches before"`,description:"Reassure the squad, reduce panic",baseMoraleDelta:4}),h.push({id:"crisis-demand",type:"crisis",label:'"This is not good enough!"',description:"Demand better from everyone (risky with some players)",baseMoraleDelta:-2})):x>0&&h.push({id:"bounce-back",type:"post-loss",label:'"Forget that loss, we go again"',description:"Move on quickly from the setback",baseMoraleDelta:4}),h.push({id:"general",type:"pre-match",label:'"I believe in every one of you"',description:"General motivational address",baseMoraleDelta:4}),h},holdTeamMeeting:c=>{const{playerTeamId:o,teams:f,players:m,matchDay:b}=d(),y=f.find(S=>S.id===o);if(!y)return{success:!1,message:"Team not found",avgMoraleChange:0,notableReactions:[]};const x=m.filter(S=>y.squad.includes(S.id)),h=[];let v=0;x.forEach(S=>{let j=c.baseMoraleDelta;c.type==="crisis"&&c.id==="crisis-demand"?S.personality.temperament==="fiery"?Math.random()<.3?(j=-8,h.push({playerName:S.shortName,reaction:"Looked angry. May have taken it personally."})):(j=3,h.push({playerName:S.shortName,reaction:"Fired up! Ready to prove you wrong."})):S.personality.temperament==="calm"?j=2:j=Math.random()<.5?-4:4:(c.type==="post-win"||c.type==="pre-match")&&(S.personality.professionalism>70?j=Math.round(j*.7):S.personality.ambition>70&&(j=Math.round(j*1.2))),j=Math.max(-10,Math.min(10,j)),v+=j,d().updatePlayerState(S.id,{morale:Math.max(0,Math.min(100,S.morale+j))})});const p=x.length>0?Math.round(v/x.length):0;i({lastMeetingMatchDay:b});let A="";return p>3?A="The squad is fired up and ready to go!":p>0?A="The team seems motivated after your address.":p<-2?A="Some players didn't take that well...":A="The team listened but reactions were mixed.",{success:p>=0,message:A,avgMoraleChange:p,notableReactions:h.slice(0,3)}},initializeAuction:(c,o)=>{const{teams:f,players:m,playerTeamId:b,unsoldPlayers:y,releasedPlayers:x}=d(),h=Hx(c),v={};f.forEach(w=>{v[w.id]=Gx(w,m,c,0)});const p=c==="mini"?[...new Set([...y,...x])]:[],A=p0(c,m,f,[],p),S=Yx(f);let j;o?j=o:c==="mega"?j="retention_phase":j="release_phase",i({auctionState:{status:j,settings:h,auctionType:c,currentPlayer:null,auctionPool:A,soldPlayers:[],unsoldPlayers:[],teamStates:v,aiStrategies:S,bidTimer:15,bidTimerDefault:15,currentSet:1,playersInCurrentSet:0,totalPlayersAuctioned:0,playerMode:"active",rtmPhase:!1,rtmTeamId:null},phase:"auction"})},setRetention:(c,o)=>{const{auctionState:f,playerTeamId:m}=d();if(!f||f.status!=="retention_phase")return;const b=f.teamStates[m];if(!b)return;const y=b.retentions.map(h=>h.slotNumber===o?{...h,playerId:c}:h),x={...b,retentions:y};i({auctionState:{...f,teamStates:{...f.teamStates,[m]:x}}})},removeRetention:c=>{const{auctionState:o,playerTeamId:f}=d();if(!o||o.status!=="retention_phase")return;const m=o.teamStates[f];if(!m)return;const b=m.retentions.map(y=>y.slotNumber===c?{...y,playerId:null}:y);i({auctionState:{...o,teamStates:{...o.teamStates,[f]:{...m,retentions:b}}}})},confirmRetentions:()=>{const{auctionState:c,playerTeamId:o,players:f,teams:m}=d();if(!c||c.status!=="retention_phase")return;const b=[],y={...c.teamStates};Object.entries(y).forEach(([h,v])=>{const p=v.retentions.filter(N=>N.playerId!==null).map(N=>N.playerId);b.push(...p);const A=p.length,S=qx(A),j=f.filter(N=>p.includes(N.id));y[h]={...v,remainingPurse:dt.TOTAL_PURSE-S,squadSize:p.length,overseasCount:j.filter(N=>N.contract.isOverseas).length,batsmen:j.filter(N=>N.role==="batsman").length,bowlers:j.filter(N=>N.role==="bowler").length,allrounders:j.filter(N=>N.role==="allrounder").length,keepers:j.filter(N=>N.role==="keeper").length}});const x=p0(c.auctionType,f,m,b);i({auctionState:{...c,status:"bidding",auctionPool:x,teamStates:y}})},startBidding:()=>{const{auctionState:c}=d();c&&d().nextPlayer()},placeBid:()=>{const{auctionState:c,playerTeamId:o}=d();if(!c||!c.currentPlayer)return;const f=c.teamStates[o];if(!f)return;const m=$l(c.currentPlayer.currentBid);if(!so(f,m,c.settings))return;const b={...c.currentPlayer,currentBid:m,currentBidder:o,bidHistory:[...c.currentPlayer.bidHistory,{teamId:o,amount:m,timestamp:Date.now(),isRTM:!1}]},y={...c.teamStates};Object.keys(y).forEach(x=>{x!==o&&(y[x]={...y[x],hasPassedCurrentPlayer:!1})}),i({auctionState:{...c,currentPlayer:b,teamStates:y,bidTimer:c.bidTimerDefault}})},passBid:()=>{const{auctionState:c,playerTeamId:o}=d();if(!c||!c.currentPlayer)return;const f=c.teamStates[o];f&&i({auctionState:{...c,teamStates:{...c.teamStates,[o]:{...f,hasPassedCurrentPlayer:!0}}}})},processAIBidRound:()=>{const{auctionState:c,players:o,playerTeamId:f}=d();if(!c||!c.currentPlayer)return!1;const m=c.playerMode==="active"?f:void 0,b=X0(c,o,m);if(b.length===0)return!1;const y=Q0(b);if(!y)return!1;const x=$l(c.currentPlayer.currentBid),h={...c.currentPlayer,currentBid:x,currentBidder:y,bidHistory:[...c.currentPlayer.bidHistory,{teamId:y,amount:x,timestamp:Date.now(),isRTM:!1}]},v={...c.teamStates};return Object.keys(v).forEach(p=>{p!==y&&(v[p]={...v[p],hasPassedCurrentPlayer:!1})}),i({auctionState:{...c,currentPlayer:h,teamStates:v,bidTimer:c.bidTimerDefault}}),!0},nextPlayer:()=>{const{auctionState:c}=d();if(!c)return;const o=c.auctionPool.find(b=>b.status==="available");if(!o){d().completeAuction();return}const f=c.auctionPool.map(b=>b.playerId===o.playerId?{...b,status:"current"}:b),m={...c.teamStates};Object.keys(m).forEach(b=>{m[b]={...m[b],hasPassedCurrentPlayer:!1}}),i({auctionState:{...c,currentPlayer:{...o,status:"current"},auctionPool:f,teamStates:m,bidTimer:c.bidTimerDefault,totalPlayersAuctioned:c.totalPlayersAuctioned+1}})},markPlayerSold:()=>{const{auctionState:c,players:o}=d();if(!c||!c.currentPlayer||!c.currentPlayer.currentBidder)return;const f=c.currentPlayer.currentBidder,m={...c.currentPlayer,status:"sold"},b=o.find(v=>v.id===m.playerId),y=c.teamStates[f],x={...y,remainingPurse:y.remainingPurse-m.currentBid,squadSize:y.squadSize+1,overseasCount:y.overseasCount+(b?.contract.isOverseas?1:0),batsmen:y.batsmen+(b?.role==="batsman"?1:0),bowlers:y.bowlers+(b?.role==="bowler"?1:0),allrounders:y.allrounders+(b?.role==="allrounder"?1:0),keepers:y.keepers+(b?.role==="keeper"?1:0)},h=c.auctionPool.map(v=>v.playerId===m.playerId?m:v);i({auctionState:{...c,currentPlayer:null,auctionPool:h,soldPlayers:[...c.soldPlayers,m],teamStates:{...c.teamStates,[f]:x}}})},markPlayerUnsold:()=>{const{auctionState:c}=d();if(!c||!c.currentPlayer)return;const o={...c.currentPlayer,status:"unsold"},f=c.auctionPool.map(m=>m.playerId===o.playerId?o:m);i({auctionState:{...c,currentPlayer:null,auctionPool:f,unsoldPlayers:[...c.unsoldPlayers,o]}})},setAuctionMode:c=>{const{auctionState:o}=d();o&&i({auctionState:{...o,playerMode:c}})},simRestOfAuction:()=>{const{auctionState:c,players:o,playerTeamId:f}=d();if(!c)return;let m={...c};for(;;){const b=m.auctionPool.find(v=>v.status==="available");if(!b)break;const y={...b,status:"current"};m={...m,currentPlayer:y};const x=Px(m,o,f),h={...y,currentBid:x.finalBid,currentBidder:x.soldTo,status:x.soldTo?"sold":"unsold"};if(m.auctionPool=m.auctionPool.map(v=>v.playerId===h.playerId?h:v),x.soldTo){m.soldPlayers=[...m.soldPlayers,h];const v=o.find(A=>A.id===h.playerId),p=m.teamStates[x.soldTo];m.teamStates={...m.teamStates,[x.soldTo]:{...p,remainingPurse:p.remainingPurse-h.currentBid,squadSize:p.squadSize+1,overseasCount:p.overseasCount+(v?.contract.isOverseas?1:0),batsmen:p.batsmen+(v?.role==="batsman"?1:0),bowlers:p.bowlers+(v?.role==="bowler"?1:0),allrounders:p.allrounders+(v?.role==="allrounder"?1:0),keepers:p.keepers+(v?.role==="keeper"?1:0)}}}else m.unsoldPlayers=[...m.unsoldPlayers,h];m.totalPlayersAuctioned++}m.status="completed",m.currentPlayer=null,i({auctionState:m})},completeAuction:()=>{const{auctionState:c,teams:o,players:f,playerTeamId:m}=d();if(!c)return;let b=o.map(j=>{const N=c.teamStates[j.id],w=c.soldPlayers.filter(k=>k.currentBidder===j.id).map(k=>k.playerId);let E;return c.auctionType==="mega"?E=[...N.retentions.filter(B=>B.playerId!==null).map(B=>B.playerId),...w]:E=[...j.squad,...w],{...j,squad:E,budget:N.remainingPurse/100}}),y=f.map(j=>{const N=c.soldPlayers.find(w=>w.playerId===j.id);return N?{...j,contract:{...j.contract,salary:N.currentBid,yearsRemaining:3}}:j});const x=c.unsoldPlayers.map(j=>j.playerId),v=b.filter(j=>j.squad.length<c.settings.minSquadSize).filter(j=>j.id!==m),p={...c.teamStates};for(const j of v){const N=no(y,b,x),w=p[j.id],E=v0(w,N,c.settings);if(E.length>0){const k=b.findIndex(W=>W.id===j.id);b[k]={...b[k],squad:[...b[k].squad,...E]},y=y.map(W=>{if(E.includes(W.id)){const _=Vl(W);return{...W,contract:{...W.contract,salary:_,yearsRemaining:3}}}return W});const B=E.reduce((W,_)=>{const ne=y.find(R=>R.id===_);return W+(ne?Vl(ne):0)},0);p[j.id]={...w,squadSize:w.squadSize+E.length,remainingPurse:w.remainingPurse-B,overseasCount:w.overseasCount+E.filter(W=>y.find(_=>_.id===W)?.contract.isOverseas).length}}}const A=b.find(j=>j.id===m);A&&A.squad.length<c.settings.minSquadSize?i({teams:b,players:y,auctionState:{...c,status:"squad_fill",teamStates:p},unsoldPlayers:x}):(i({teams:b,players:y,auctionState:{...c,status:"completed",teamStates:p},unsoldPlayers:x}),d().resetForNewSeason())},pickSquadFillPlayer:c=>{const{auctionState:o,teams:f,players:m,playerTeamId:b,unsoldPlayers:y}=d();if(!o||o.status!=="squad_fill")return;const x=m.find(E=>E.id===c);if(!x)return;const h=o.teamStates[b],v=Vl(x),{canPick:p,isFreePickup:A}=io(h,x,v,o.settings);if(!p)return;const S=A?0:v,j=f.map(E=>E.id===b?{...E,squad:[...E.squad,c]}:E),N=m.map(E=>E.id===c?{...E,contract:{...E.contract,salary:S,yearsRemaining:3}}:E),w={...h,squadSize:h.squadSize+1,remainingPurse:h.remainingPurse-S,overseasCount:h.overseasCount+(x.contract.isOverseas?1:0),batsmen:h.batsmen+(x.role==="batsman"?1:0),bowlers:h.bowlers+(x.role==="bowler"?1:0),allrounders:h.allrounders+(x.role==="allrounder"?1:0),keepers:h.keepers+(x.role==="keeper"?1:0)};i({teams:j,players:N,auctionState:{...o,teamStates:{...o.teamStates,[b]:w}}})},autoFillPlayerSquad:()=>{const{auctionState:c,teams:o,players:f,playerTeamId:m,unsoldPlayers:b}=d();if(!c||c.status!=="squad_fill")return;const y=c.teamStates[m],x=no(f,o,b),h=v0(y,x,c.settings);if(h.length===0)return;const v=o.map(_=>_.id===m?{..._,squad:[..._.squad,...h]}:_);let p=y.remainingPurse;const A={};for(const _ of h){const ne=f.find(R=>R.id===_);if(ne){const R=Vl(ne),G=p<dt.MIN_RESERVE_PER_SLOT?0:R;A[_]=G,p-=G}}const S=f.map(_=>h.includes(_.id)?{..._,contract:{..._.contract,salary:A[_.id]??0,yearsRemaining:3}}:_);let j=y.squadSize,N=y.remainingPurse,w=y.overseasCount,E=y.batsmen,k=y.bowlers,B=y.allrounders,W=y.keepers;for(const _ of h){const ne=f.find(R=>R.id===_);ne&&(j++,N-=A[_]??0,ne.contract.isOverseas&&w++,ne.role==="batsman"&&E++,ne.role==="bowler"&&k++,ne.role==="allrounder"&&B++,ne.role==="keeper"&&W++)}i({teams:v,players:S,auctionState:{...c,teamStates:{...c.teamStates,[m]:{...y,squadSize:j,remainingPurse:N,overseasCount:w,batsmen:E,bowlers:k,allrounders:B,keepers:W}}}})},completeSquadFill:()=>{const{auctionState:c,resetForNewSeason:o}=d();!c||c.status!=="squad_fill"||(i({auctionState:{...c,status:"completed"}}),o())},canPlayerBid:()=>{const{auctionState:c,playerTeamId:o,players:f}=d();if(!c||!c.currentPlayer)return!1;const m=c.teamStates[o];if(!m||m.hasPassedCurrentPlayer||c.currentPlayer.currentBidder===o||Y0(m,c.settings)||f.find(x=>x.id===c.currentPlayer?.playerId)?.contract.isOverseas&&!G0(m,c.settings))return!1;const y=$l(c.currentPlayer.currentBid);return!!so(m,y,c.settings)},getNextBidAmountForPlayer:()=>{const{auctionState:c}=d();return!c||!c.currentPlayer?0:$l(c.currentPlayer.currentBid)},shouldTriggerAuction:()=>{const{season:c,phase:o,startMode:f}=d();if(c===1&&o==="auction"){if(f==="mini-auction")return{trigger:!0,type:"mini"};if(f==="mega-auction")return{trigger:!0,type:"mega"}}return o==="off-season"?{trigger:!0,type:(c-1)%3===0&&c>1?"mega":"mini"}:{trigger:!1,type:"mini"}},loadInitialData:(c,o,f)=>{i({players:c,teams:o,fixtures:f})},canTalkToPlayer:c=>{const{matchDay:o}=d(),f=d().getPlayer(c);if(!f)return!1;const m=f.lastTalkedMatchDay??0;return o-m>=2},getInteractionOptions:c=>{if(!d().getPlayer(c))return[];const f=[];return f.push({id:"praise-performance",category:"praise",label:'"Great job out there"',description:"Acknowledge their recent efforts",baseEffects:{morale:8,form:1}}),f.push({id:"praise-key-player",category:"praise",label:`"You're key to our plans"`,description:"Express how important they are to the team",baseEffects:{morale:12,form:0}}),f.push({id:"correct-improve",category:"correct",label:'"I need more from you"',description:"Push them to do better (risky with some personalities)",baseEffects:{morale:-5,form:3}}),f.push({id:"correct-warning",category:"correct",label:'"This is your last chance"',description:"Issue a warning (high risk, high reward)",baseEffects:{morale:-10,form:5}}),f.push({id:"motivate-big-match",category:"motivate",label:'"Big match coming up, I need you"',description:"Fire them up for an important game",baseEffects:{morale:5,form:2}}),f.push({id:"motivate-patience",category:"motivate",label:'"Your time will come"',description:"Reassure them about future opportunities",baseEffects:{morale:6,form:0}}),f},talkToPlayer:(c,o)=>{const{matchDay:f,pressHeat:m}=d(),b=d().getPlayer(c);if(!b)return{success:!1,message:"Player not found",playerResponse:"",effects:{morale:0,form:0}};let y=o.baseEffects.morale,x=o.baseEffects.form,h=0,v="",p=!0;const{temperament:A,professionalism:S,ambition:j}=b.personality;return o.category==="praise"?S>70?(y=Math.round(y*.7),v=`${b.shortName} nods professionally. "Thanks, but there's still work to do."`):j>70?(y=Math.round(y*1.3),v=`${b.shortName}'s eyes light up. "I knew you noticed! I'm ready to do even more."`):v=`${b.shortName} smiles. "Appreciate the support, boss."`:o.category==="correct"?A==="fiery"?Math.random()<.4?(y=-15,x=-2,h=10,p=!1,v=`${b.shortName} doesn't take it well. "Maybe look at your own decisions first!" The exchange might leak to the press.`):v=`${b.shortName} takes it on the chin, barely. "Fine. I'll show you."`:A==="calm"?(x=Math.round(x*1.5),y=Math.round(y*.5),v=`${b.shortName} listens carefully. "You're right. I'll work on it."`):A==="moody"&&(Math.random()<.3?(y=-12,v=`${b.shortName} walks away silently. Not a good sign.`):v=`${b.shortName} seems to accept the feedback. "Okay."`):o.category==="motivate"&&(j>70&&o.id==="motivate-patience"?(y=Math.round(y*.3),v=`${b.shortName} frowns slightly. "I've been patient long enough..."`):A==="fiery"?(y=Math.round(y*1.3),x=Math.round(x*1.3),v=`${b.shortName} is fired up! "I'm ready. Let's do this!"`):v=`${b.shortName} nods confidently. "Count on me."`),d().updatePlayerState(c,{morale:b.morale+y,form:b.form+x}),i(N=>({players:N.players.map(w=>w.id===c?{...w,lastTalkedMatchDay:f}:w)})),h>0&&i(N=>({pressHeat:Math.min(100,N.pressHeat+h)})),{success:p,message:p?"Conversation completed":"The conversation didn't go well",playerResponse:v,effects:{morale:y,form:x,pressHeat:h>0?h:void 0}}},getPlayer:c=>d().players.find(o=>o.id===c),getTeam:c=>d().teams.find(o=>o.id===c),getMatch:c=>d().fixtures.find(o=>o.id===c),getPlayerTeam:()=>d().teams.find(c=>c.id===d().playerTeamId),getNextMatch:()=>{const{fixtures:c,playerTeamId:o,matchDay:f}=d();return c.find(m=>m.status==="upcoming"&&(m.homeTeam===o||m.awayTeam===o))},getTeamPlayers:c=>{const o=d().getTeam(c);return o?d().players.filter(f=>o.squad.includes(f.id)):[]},getSaveSlots:()=>bo(),saveToSlot:(c,o)=>{const f=d(),b=f.teams.find(h=>h.id===f.playerTeamId)?.name||"Unknown Team",y={initialized:f.initialized,testerId:f.testerId,startMode:f.startMode,currentDate:f.currentDate,season:f.season,phase:f.phase,matchDay:f.matchDay,manager:f.manager,playerTeamId:f.playerTeamId,teams:f.teams,players:f.players,fixtures:f.fixtures,pointsTable:f.pointsTable,activeEvents:f.activeEvents,pressHeat:f.pressHeat,lastMeetingMatchDay:f.lastMeetingMatchDay,releasedPlayers:f.releasedPlayers,unsoldPlayers:f.unsoldPlayers},x=o||`${b} - S${f.season} M${f.matchDay}`;return Tx(c,x,y,f.auctionState,f.liveMatchState,b)},loadFromSlot:c=>{const o=Mx(c);if(!o)return!1;let f="home";return o.liveMatchState?f="match-live":o.gameState.phase==="auction"&&(f="auction"),i({...o.gameState,auctionState:o.auctionState,liveMatchState:o.liveMatchState||null,currentScreen:f,selectedPlayerId:null,selectedMatchId:o.liveMatchState?.matchId||null,selectedEventId:null}),!0},deleteSlot:c=>Ex(c),exportForBugReport:()=>{const c=d(),o={version:"0.8",testerId:c.testerId,timestamp:new Date().toISOString(),gameState:{initialized:c.initialized,testerId:c.testerId,startMode:c.startMode,currentDate:c.currentDate,season:c.season,phase:c.phase,matchDay:c.matchDay,manager:c.manager,playerTeamId:c.playerTeamId,teams:c.teams,players:c.players,fixtures:c.fixtures,pointsTable:c.pointsTable,activeEvents:c.activeEvents,pressHeat:c.pressHeat,lastMeetingMatchDay:c.lastMeetingMatchDay,releasedPlayers:c.releasedPlayers,unsoldPlayers:c.unsoldPlayers},auctionState:c.auctionState,liveMatchState:c.liveMatchState,uiState:{currentScreen:c.currentScreen,selectedMatchId:c.selectedMatchId,selectedPlayerId:c.selectedPlayerId,selectedEventId:c.selectedEventId}};return JSON.stringify(o)},saveLiveMatchState:c=>{i({liveMatchState:c})},clearLiveMatchState:()=>{i({liveMatchState:null})}}),{name:"cricket-manager-save",partialize:i=>({initialized:i.initialized,testerId:i.testerId,startMode:i.startMode,currentDate:i.currentDate,season:i.season,phase:i.phase,matchDay:i.matchDay,manager:i.manager,playerTeamId:i.playerTeamId,teams:i.teams,players:i.players,fixtures:i.fixtures,pointsTable:i.pointsTable,activeEvents:i.activeEvents,pressHeat:i.pressHeat,lastMeetingMatchDay:i.lastMeetingMatchDay,releasedPlayers:i.releasedPlayers,unsoldPlayers:i.unsoldPlayers,auctionState:i.auctionState,liveMatchState:i.liveMatchState}),onRehydrateStorage:()=>i=>{if(i){i.initialized&&!i.testerId&&Ve.setState({testerId:N0()});try{Array.isArray(i.modalStack)||Ve.setState({modalStack:[]}),i.auctionState&&typeof i.auctionState.status!="string"&&(console.warn("Invalid auctionState.status, resetting auction"),Ve.setState({auctionState:null})),i.liveMatchState&&(!i.liveMatchState.matchId||!i.liveMatchState.inningsState)&&(console.warn("Invalid liveMatchState, clearing"),Ve.setState({liveMatchState:null})),Array.isArray(i.pointsTable)||console.warn("Invalid pointsTable, regenerating"),Array.isArray(i.fixtures)||console.warn("Invalid fixtures, this may cause issues")}catch(d){console.error("State migration error:",d)}}}})),eg=[{screen:"home",label:"Home",icon:""},{screen:"squad",label:"Squad",icon:""},{screen:"stats",label:"Stats",icon:""},{screen:"schedule",label:"Schedule",icon:""},{screen:"club",label:"Club",icon:""}],tg=()=>{const{currentScreen:i,navigateTo:d}=Ve();return l.jsx("nav",{className:"fixed bottom-0 left-0 right-0 bg-gray-900 border-t border-gray-800 px-2 py-2 z-50",children:l.jsx("div",{className:"max-w-lg mx-auto flex justify-around",children:eg.map(({screen:c,label:o,icon:f})=>l.jsxs("button",{onClick:()=>d(c),className:`flex flex-col items-center py-2 px-2 rounded-lg transition-all min-w-0
              ${i===c?"text-blue-400 bg-blue-900/30":"text-gray-400 hover:text-gray-200"}`,children:[l.jsx("span",{className:"text-lg",children:f}),l.jsx("span",{className:"text-[10px] mt-1",children:o})]},c))})})},Z0="http://localhost:8000",ag=1e4;let ks=!1,ro=0;async function S0(){try{const i=new AbortController,d=setTimeout(()=>i.abort(),3e3),c=await fetch(`${Z0}/health`,{signal:i.signal});return clearTimeout(d),ks=c.ok,ro=Date.now(),ks}catch{return ks=!1,ro=Date.now(),!1}}function w0(){return{connected:ks,lastCheck:ro}}async function lg(i,d){const c=`${Z0}${i}`;try{const o=new AbortController,f=setTimeout(()=>o.abort(),ag),m=await fetch(c,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(d),signal:o.signal});if(clearTimeout(f),!m.ok){const y=await m.text();return{ok:!1,error:{code:m.status>=500?"SERVER_ERROR":"VALIDATION_ERROR",message:y||`HTTP ${m.status}`,status:m.status}}}const b=await m.json();return ks=!0,{ok:!0,data:b}}catch(o){return ks=!1,o instanceof Error&&o.name==="AbortError"?{ok:!1,error:{code:"TIMEOUT",message:"Request timed out"}}:{ok:!1,error:{code:"NETWORK_ERROR",message:o instanceof Error?o.message:"Network error"}}}}const sg=()=>{const[i,d]=le.useState(!1),[c,o]=le.useState(""),[f,m]=le.useState(null),[b,y]=le.useState(null),[x,h]=le.useState(!1),[v,p]=le.useState(!1),[A,S]=le.useState(!1),[j,N]=le.useState(!1),[w,E]=le.useState(null);le.useEffect(()=>{const M=async()=>{await S0();const de=w0();N(de.connected),E(new Date)};M();const F=setInterval(M,3e4);return()=>clearInterval(F)},[]);const{initialized:k,testerId:B,getSaveSlots:W,saveToSlot:_,loadFromSlot:ne,deleteSlot:R,resetGame:G,season:ue,matchDay:O,phase:ae}=Ve(),J=async()=>{try{await navigator.clipboard.writeText(B),p(!0),setTimeout(()=>p(!1),1500)}catch{const M=document.createElement("textarea");M.value=B,document.body.appendChild(M),M.select(),document.execCommand("copy"),document.body.removeChild(M),p(!0),setTimeout(()=>p(!1),1500)}};if(!k)return null;const Z=W(),fe=M=>Z.find(F=>F.id===M),se=M=>{fe(M)?(m(M),o(`Save ${M}`)):(m(M),o(`Save ${M}`))},z=()=>{f&&(_(f,c||`Save ${f}`)&&(h(!0),setTimeout(()=>h(!1),1500)),m(null),o(""))},K=M=>{ne(M),d(!1)},te=M=>{b===M?(R(M),y(null)):(y(M),setTimeout(()=>y(null),3e3))},xe=()=>{A?(G(),d(!1),S(!1)):(S(!0),setTimeout(()=>S(!1),3e3))},Y=M=>{switch(M){case"auction":return"Auction";case"season":return"Season";case"playoffs":return"Playoffs";case"off-season":return"Off-Season";default:return M}};return l.jsxs(l.Fragment,{children:[l.jsxs("div",{className:"fixed top-4 right-4 z-50 flex items-center gap-2",children:[l.jsxs("div",{className:`flex items-center gap-1.5 px-2 py-1.5 rounded-lg text-xs font-medium transition-colors ${j?"bg-green-900/80 text-green-400 border border-green-700/50":"bg-amber-900/80 text-amber-400 border border-amber-700/50"}`,title:j?"Connected to backend server":"Using offline simulation",children:[l.jsx("span",{className:`w-2 h-2 rounded-full ${j?"bg-green-400 animate-pulse":"bg-amber-400"}`}),l.jsx("span",{className:"hidden sm:inline",children:j?"Online":"Offline"})]}),l.jsx("button",{onClick:()=>d(!0),className:`w-10 h-10 rounded-lg bg-gray-800 border border-gray-700
            flex items-center justify-center hover:bg-gray-700 transition-colors shadow-lg`,title:"Menu",children:l.jsx("span",{className:"text-xl text-gray-300",children:""})})]}),i&&l.jsxs("div",{className:"fixed inset-0 z-[100]",children:[l.jsx("div",{className:"absolute inset-0 bg-black/60",onClick:()=>{d(!1),m(null),y(null)}}),l.jsxs("div",{className:"absolute right-0 top-0 h-full w-80 max-w-[90vw] bg-gray-900 border-l border-gray-700 shadow-2xl overflow-y-auto",children:[l.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-gray-700",children:[l.jsx("h2",{className:"text-lg font-semibold text-white",children:"Save & Load"}),l.jsx("button",{onClick:()=>{d(!1),m(null),y(null)},className:"text-gray-400 hover:text-white text-xl",children:""})]}),l.jsxs("div",{className:`px-4 py-3 text-sm border-b ${j?"bg-green-900/30 border-green-800/50":"bg-amber-900/30 border-amber-800/50"}`,children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("span",{className:`w-2.5 h-2.5 rounded-full ${j?"bg-green-400 animate-pulse":"bg-amber-400"}`}),l.jsx("span",{className:j?"text-green-400":"text-amber-400",children:j?"Backend Connected":"Offline Mode"})]}),l.jsx("button",{onClick:async()=>{await S0();const M=w0();N(M.connected),E(new Date)},className:"text-xs text-gray-500 hover:text-gray-300 px-2 py-1 rounded bg-gray-800/50",children:"Refresh"})]}),l.jsx("p",{className:"text-xs text-gray-500 mt-1",children:j?"Using server for match & event simulation":"Using local engine (start backend for full features)"})]}),l.jsxs("div",{className:"px-4 py-3 bg-gray-800/50 text-sm text-gray-400",children:[l.jsx("div",{className:"flex items-center justify-between mb-1",children:l.jsxs("span",{children:["Season ",ue,"  Match ",O,"  ",Y(ae)]})}),l.jsxs("button",{onClick:J,className:`flex items-center gap-2 text-xs px-2 py-1 rounded transition-colors ${v?"bg-green-900/50 text-green-400":"bg-gray-700/50 text-gray-500 hover:text-gray-300"}`,title:"Click to copy Tester ID",children:[l.jsx("span",{className:"font-mono",children:B||"No ID"}),l.jsx("span",{children:v?" Copied":""})]})]}),x&&l.jsx("div",{className:"mx-4 mt-4 p-3 bg-green-900/50 border border-green-700 rounded-lg text-green-400 text-sm text-center",children:"Game saved successfully!"}),l.jsxs("div",{className:"p-4 border-b border-gray-800",children:[l.jsx("h3",{className:"text-sm font-semibold text-gray-400 mb-3",children:"SAVE GAME"}),l.jsx("div",{className:"space-y-2",children:[1,2,3].map(M=>{const F=fe(M);return f===M?l.jsxs("div",{className:"bg-gray-800 rounded-lg p-3 border border-blue-600",children:[l.jsx("input",{type:"text",value:c,onChange:re=>o(re.target.value),placeholder:`Save ${M}`,className:"w-full bg-gray-700 border border-gray-600 rounded px-3 py-2 text-white text-sm mb-2",autoFocus:!0}),l.jsxs("div",{className:"flex gap-2",children:[l.jsx("button",{onClick:z,className:"flex-1 bg-blue-600 hover:bg-blue-700 text-white py-2 rounded text-sm font-medium",children:F?"Overwrite":"Save"}),l.jsx("button",{onClick:()=>{m(null),o("")},className:"px-3 bg-gray-700 hover:bg-gray-600 text-gray-300 py-2 rounded text-sm",children:"Cancel"})]})]},M):l.jsxs("button",{onClick:()=>se(M),className:"w-full text-left bg-gray-800 hover:bg-gray-750 rounded-lg p-3 transition-colors",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("span",{className:"text-white font-medium",children:["Slot ",M]}),F?l.jsx("span",{className:"text-xs text-gray-500",children:"Overwrite"}):l.jsx("span",{className:"text-xs text-green-500",children:"Empty"})]}),F&&l.jsxs("div",{className:"text-xs text-gray-500 mt-1",children:[F.name,"  ",F.teamName]})]},M)})})]}),l.jsxs("div",{className:"p-4 border-b border-gray-800",children:[l.jsx("h3",{className:"text-sm font-semibold text-gray-400 mb-3",children:"LOAD GAME"}),Z.length===0?l.jsx("p",{className:"text-sm text-gray-500 text-center py-4",children:"No saved games"}):l.jsx("div",{className:"space-y-2",children:Z.map(M=>l.jsxs("div",{className:"bg-gray-800 rounded-lg p-3",children:[l.jsxs("div",{className:"flex items-center justify-between mb-1",children:[l.jsx("span",{className:"text-white font-medium",children:M.name}),l.jsxs("span",{className:"text-xs text-gray-500",children:["Slot ",M.id]})]}),l.jsxs("div",{className:"text-xs text-gray-400 mb-2",children:[M.teamName,"  S",M.season," M",M.matchDay,"  ",Y(M.phase)]}),l.jsx("div",{className:"text-xs text-gray-500 mb-3",children:yo(M.savedAt)}),l.jsxs("div",{className:"flex gap-2",children:[l.jsx("button",{onClick:()=>K(M.id),className:"flex-1 bg-blue-600 hover:bg-blue-700 text-white py-2 rounded text-sm font-medium",children:"Load"}),l.jsx("button",{onClick:()=>te(M.id),className:`px-3 py-2 rounded text-sm font-medium transition-colors ${b===M.id?"bg-red-600 hover:bg-red-700 text-white":"bg-gray-700 hover:bg-gray-600 text-gray-300"}`,children:b===M.id?"Confirm?":"Delete"})]})]},M.id))})]}),l.jsx("div",{className:"p-4",children:l.jsx("button",{onClick:xe,className:`w-full py-3 rounded-lg text-sm font-medium transition-colors ${A?"bg-red-600 hover:bg-red-700 text-white":"bg-gray-800 hover:bg-gray-700 text-gray-300 border border-gray-700"}`,children:A?"Confirm? Current progress will be lost":"New Game"})})]})]})]})},No=20,co=6,T0=4,ng={dot:.326,single:.382,two:.065,three:.003,four:.119,six:.053,wicket:.051},ig={powerplay:{boundaryMod:1.08,wicketMod:.76,runRate:7.5},middle:{boundaryMod:.85,wicketMod:.89,runRate:7.8},death:{boundaryMod:1.23,wicketMod:1.78,runRate:9.8}},rg={aggressive:{boundaryMod:1.25,wicketMod:1.1},balanced:{boundaryMod:1,wicketMod:1},cautious:{boundaryMod:.75,wicketMod:.9}},V0={"good-length":{boundaryMod:1,wicketMod:1,dotMod:1,skillType:"accuracy",minSkill:0},short:{boundaryMod:1.3,wicketMod:1.08,dotMod:.85,skillType:"speed",minSkill:65},yorkers:{boundaryMod:.7,wicketMod:1.05,dotMod:1.3,skillType:"accuracy",minSkill:70},"full-pitched":{boundaryMod:1.15,wicketMod:1.1,dotMod:.95,skillType:"accuracy",minSkill:50}},$0={attacking:{boundaryMod:1.25,wicketMod:1.1,catchMod:1.15,runOutMod:.9},balanced:{boundaryMod:1,wicketMod:1,catchMod:1,runOutMod:1},defensive:{boundaryMod:.7,wicketMod:.9,catchMod:.85,runOutMod:1.1},"death-field":{boundaryMod:.6,wicketMod:.95,catchMod:1.05,runOutMod:1.15}},Bs=60,M0={new:6,settling:15},cg={new:{boundaryMod:.78,wicketMod:.9,dotMod:1.3,singleMod:.88},settling:{boundaryMod:1.12,wicketMod:1.01,dotMod:.97,singleMod:.98},set:{boundaryMod:1.11,wicketMod:1.08,dotMod:.74,singleMod:1.13}},E0={pace:{powerplay:.495,middle:.274,death:.231},spin:{powerplay:.228,middle:.659,death:.113}},og=i=>{let d=1,c=1,o=1;return i.recentWickets>=3?(d*=.738,c*=1.38,o*=1.096):i.recentWickets===2?(d*=.834,c*=1.12,o*=1.054):i.recentWickets===1?(d*=.935,c*=1.026,o*=.967):(d*=1.058,c*=.958,o*=1.008),i.bowlerWickets>=3?(d*=.92,c*=1.1):i.bowlerWickets>=2&&(d*=.96,c*=1.05),i.partnershipRuns>=100?(d*=1.424,c*=1.233,o*=.572):i.partnershipRuns>=75?(d*=1.21,c*=1.178,o*=.624):i.partnershipRuns>=50?(d*=1.143,c*=1.111,o*=.732):i.partnershipRuns>=30?(d*=1.188,c*=1.056,o*=.811):i.partnershipRuns>=20?(d*=1.13,c*=1.037,o*=.87):i.partnershipRuns>=10?(d*=1.071,c*=1.017,o*=.957):(d*=.816,c*=.925,o*=1.202),i.recentRuns>=15?(d*=1.345,c*=1.227):i.recentRuns>=8?(d*=1.08,c*=1.049):i.recentRuns>=3?(d*=.911,c*=.959):(d*=.819,c*=.831),i.recentBoundaries>=3?(d*=1.334,c*=1.128):i.recentBoundaries===2?(d*=1.143,c*=1.018):i.recentBoundaries===1?(d*=1.001,c*=1.018):(d*=.858,c*=.947),i.recentDots>=5?(d*=.865,c*=.889):i.recentDots===4?(d*=.917,c*=.894):i.recentDots===3?(d*=.95,c*=.971):i.recentDots===2?(d*=1.016,c*=1.005):i.recentDots===1?(d*=1.068,c*=1.069):(d*=1.08,c*=1.078),{boundaryMod:d,wicketMod:c,dotMod:o}},ug=i=>i<M0.new?"new":i<M0.settling?"settling":"set",jo=i=>i<6?"powerplay":i<16?"middle":"death",K0=(i,d)=>{const c=i.overs,o=i.fallOfWickets.filter(E=>E.overs>=c-3).length,m=i.bowlerStats.get(d)?.wickets??0,b=i.overSummaries.slice(-3),y=b.reduce((E,k)=>E+k.runs,0),x=b.length||1,h=y/x*6/6,v=i.fallOfWickets[i.fallOfWickets.length-1],p=v?i.runs-v.runs:i.runs,A=[];for(const E of i.overSummaries)A.push(...E.balls);const S=A.slice(-6);let j=0,N=0,w=0;for(const E of S){const k=E.outcome;k.type==="runs"?(j+=k.runs,k.runs===0?w++:(k.runs===4||k.runs===6)&&N++):(k.type==="wicket"||k.type==="extra")&&(j+=k.runs)}return{recentWickets:o,bowlerWickets:m,recentRunRate:h,partnershipRuns:p,recentRuns:j,recentBoundaries:N,recentDots:w}},dg=i=>{const{technique:d,power:c,timing:o,temperament:f}=i.batting;return d*.25+c*.25+o*.3+f*.2},I0=i=>{const{speed:d,accuracy:c,variation:o,stamina:f}=i.bowling;return d*.2+c*.35+o*.25+f*.2},A0=(i,d)=>i*(1+d/200),R0=(i,d)=>i*(1-d/200),mg=(i,d)=>{const c=V0[d];let o;if(c.skillType==="speed"?o=i.bowling.speed:c.skillType==="variation"?o=i.bowling.variation:o=i.bowling.accuracy,d==="yorkers"&&i.bowlingStyle?.includes("spin")&&(o=i.bowling.variation),o<c.minSkill){const m=(c.minSkill-o)/100;return Math.max(.5,1-m*2)}const f=(o-c.minSkill)/100;return Math.min(1.3,1+f*.5)},fg=(i="balanced",d={catching:Bs,throwing:Bs})=>{let c=.65,o=.17,f=.06,m=.08,b=.03,y=.01;const x=$0[i];c*=x.catchMod,m*=x.runOutMod;const h=1+(d.catching-Bs)/200;c*=h;const v=1+(d.throwing-Bs)/200;m*=v;const p=c+o+f+m+b+y,A=Math.random()*p;let S=0;return A<(S+=c)?"caught":A<(S+=o)?"bowled":A<(S+=f)?"lbw":A<(S+=m)?"runout":A<(S+=b)?"stumped":"hitwicket"},hg=(i,d,c)=>{const o=d.shortName,f=c.shortName;if(i.type==="wicket"){const x={bowled:[`Clean bowled! ${f} beats ${o} all ends up!`,`TIMBER! ${f} crashes through the defense!`,`The stumps are rattled! ${o} has to go!`],caught:[`Caught! ${o} finds the fielder!`,`In the air and taken! ${f} gets the breakthrough!`,`That's a good catch! ${o} is gone!`],lbw:[`LBW! That looked plumb! ${o} departs!`,`Given out leg before! ${f} strikes!`,"Trapped in front! The umpire raises the finger!"],runout:["Run out! Brilliant work in the field!",`Direct hit! ${o} is short of the crease!`,`Terrible mix-up and ${o} has to go!`],stumped:["Stumped! Lightning quick work behind the stumps!",`${o} beaten in the flight and stumped!`,"Down the track and stumped! Great keeping!"],hitwicket:[`Hit wicket! ${o} has knocked the bails off!`,`Oh no! ${o} has hit his own stumps!`,"Unfortunate dismissal - hit wicket!"]}[i.dismissal];return x[Math.floor(Math.random()*x.length)]}if(i.type==="extra")return i.extraType==="wide"?`Wide ball from ${f}`:i.extraType==="noball"?"No ball! Free hit coming up!":`${i.runs} ${i.extraType}s`;const m=i.runs;if(m===0){const y=[`Dot ball. Good tight bowling from ${f}.`,"Defended back to the bowler.",`${o} can't get it away.`,"Good length, no run.","Beaten outside off! Great delivery!"];return y[Math.floor(Math.random()*y.length)]}if(m===1)return["Single taken.","Pushed for one.","Quick single.","Rotates the strike."][Math.floor(Math.random()*4)];if(m===2)return["Two runs.","Good running between the wickets!","Pushed into the gap for two."][Math.floor(Math.random()*3)];if(m===3)return["Three runs! Excellent running!","They come back for three!"][Math.floor(Math.random()*2)];if(m===4){const y=[`FOUR! ${o} times that beautifully!`,"Boundary! That raced away to the fence!","FOUR! Cracking shot through the covers!","Swept away for FOUR!","Cut away and that's FOUR!"];return y[Math.floor(Math.random()*y.length)]}const b=[`SIX! ${o} launches it into the stands!`,"HUGE SIX! That's gone miles!",`Maximum! ${o} clears the boundary with ease!`,`SIX! What a strike from ${o}!`,"Into the crowd! Massive hit!"];return b[Math.floor(Math.random()*b.length)]},F0=(i,d,c,o,f,m,b,y,x,h,v=0,p)=>{const A=jo(c),S=ig[A],j=b.battingApproach[A],N=rg[j],w=b.bowlingPlan?.bowlingApproach,E=w?.[A]?.length??"good-length",k=w?.[A]?.field??"balanced",B=V0[E],W=$0[k],_=mg(d,E),ne=dg(i),R=I0(d),G=(ne-R)/100,ue=A0(1,i.form),O=A0(1,-d.form),ae=R0(1,i.fatigue),J=R0(1,d.fatigue),Z=ug(v),fe=cg[Z];let se={...ng};const z=1+G*.15,K=S.boundaryMod*N.boundaryMod*B.boundaryMod*W.boundaryMod*_*fe.boundaryMod;se.four*=z*ue*ae*K,se.six*=z*ue*ae*K;const te=S.wicketMod*N.wicketMod*B.wicketMod*W.wicketMod*_*fe.wicketMod;if(se.wicket*=1/z*O*J*te,se.dot*=B.dotMod*_*fe.dotMod,se.single*=fe.singleMod,p){const re=og(p);se.four*=re.boundaryMod,se.six*=re.boundaryMod,se.wicket*=re.wicketMod,se.dot*=re.dotMod}if(d.bowlingStyle?.includes("spin")?se.wicket*=1+(y.spin-50)/100:d.bowlingStyle?.includes("fast")&&(se.wicket*=1+(y.pace-50)/100),f!==null){const re=(No-c)*6,Ae=(f-m)/re*6;Ae>12?(se.six*=1.3,se.four*=1.2,se.wicket*=1.4):Ae>9&&(se.six*=1.15,se.four*=1.1,se.wicket*=1.2)}const xe=Object.values(se).reduce((re,Oe)=>re+Oe,0);Object.keys(se).forEach(re=>{se[re]/=xe});const Y=Math.random();let M=0,F;if(Y<(M+=se.dot)?F={type:"runs",runs:0}:Y<(M+=se.single)?F={type:"runs",runs:1}:Y<(M+=se.two)?F={type:"runs",runs:2}:Y<(M+=se.three)?F={type:"runs",runs:3}:Y<(M+=se.four)?F={type:"runs",runs:4}:Y<(M+=se.six)?F={type:"runs",runs:6}:F={type:"wicket",dismissal:fg(k,{catching:Bs,throwing:Bs}),runs:0},F.type==="runs"){const re=Math.random();re<.0326?F={type:"extra",extraType:"wide",runs:1}:re<.0326+.0041&&(F={type:"extra",extraType:"noball",runs:1})}const de=hg(F,i,d);return{outcome:F,narrative:de}},xg=(i,d,c,o,f,m)=>{const b=c.overs,y=c.balls,x=0,h=i.find(J=>J.id===c.currentBatters[x]);if(!h)return{ballEvent:null,updatedInnings:c,newBatsmanNeeded:!1,inningsComplete:!0};const p=c.batterStats.get(h.id)?.balls??0,A=K0(c,d.id),{outcome:S,narrative:j}=F0(h,d,b+y/6,c.wickets,m,c.runs,o,f,void 0,void 0,p,A),N={over:b,ball:y+1,batter:h.id,bowler:d.id,outcome:S,narrative:j};let w=c.runs,E=c.wickets,k=y,B=b,W=[...c.currentBatters],_=0,ne=!1,R=!0;if(S.type==="wicket"){E++,w+=S.runs,k++,ne=E<10;const J=i.filter(Z=>!W.includes(Z.id)&&!c.fallOfWickets.some(fe=>fe.player===Z.id));J.length>0&&E<10&&(W[_]=J[0].id)}else S.type==="extra"?(w+=S.runs,S.extraType==="wide"||S.extraType==="noball"?R=!1:k++):(w+=S.runs,k++,S.runs%2===1&&(W=[W[1],W[0]]));k>=co&&(B++,k=0,W=[W[1],W[0]]);const G=E>=10||B>=No||m!==null&&w>=m,ue={...c,runs:w,wickets:E,overs:B,balls:k,currentBatters:W,currentBowler:d.id,overSummaries:c.overSummaries,fallOfWickets:S.type==="wicket"?[...c.fallOfWickets,{player:h.id,runs:w,overs:b+(y+1)/10}]:c.fallOfWickets,batterStats:new Map(c.batterStats),bowlerStats:new Map(c.bowlerStats)},O=ue.batterStats.get(h.id)||{runs:0,balls:0,fours:0,sixes:0};S.type==="runs"?(O.runs+=S.runs,O.balls+=1,S.runs===4&&(O.fours+=1),S.runs===6&&(O.sixes+=1)):S.type==="wicket"&&(O.runs+=S.runs,O.balls+=1),ue.batterStats.set(h.id,O);const ae=ue.bowlerStats.get(d.id)||{overs:0,runs:0,wickets:0,dots:0};return S.type==="runs"?(ae.runs+=S.runs,S.runs===0&&(ae.dots+=1)):S.type==="wicket"?(ae.wickets+=1,ae.runs+=S.runs):S.type==="extra"&&(ae.runs+=S.runs),k===0&&R&&(ae.overs+=1),ue.bowlerStats.set(d.id,ae),{ballEvent:N,updatedInnings:ue,newBatsmanNeeded:ne,inningsComplete:G}},So=(i,d,c,o,f,m)=>{const b=Math.floor(c.overs),y=[];let x=0,h=0,v=[...c.currentBatters],p=0;new Set(Array.from(c.batterStats.keys()));const A=i.filter(B=>!c.fallOfWickets.some(W=>W.player===B.id)),S=new Map;let j=K0(c,d.id),N=0;for(;N<co;){const B=i.find(O=>O.id===v[p]);if(!B)break;const W=c.batterStats.get(B.id)?.balls??0,_=S.get(B.id)??0,ne=W+_,R={...j,recentWickets:j.recentWickets+h,partnershipRuns:j.partnershipRuns+x},{outcome:G,narrative:ue}=F0(B,d,c.overs+N/6,c.wickets+h,m,c.runs+x,o,f,void 0,void 0,ne,R);if((G.type!=="extra"||G.extraType!=="wide"&&G.extraType!=="noball")&&S.set(B.id,(S.get(B.id)??0)+1),y.push({over:b,ball:N+1,batter:B.id,bowler:d.id,outcome:G,narrative:ue}),G.type==="wicket"){h++,x+=G.runs,j={...j,partnershipRuns:0,recentWickets:j.recentWickets+1};const O=A.find(ae=>!v.includes(ae.id)&&!c.fallOfWickets.some(J=>J.player===ae.id));if(O&&c.wickets+h<10)v[p]=O.id;else break;N++}else if(G.type==="extra"){if(x+=G.runs,G.extraType==="wide"||G.extraType==="noball")continue;N++}else x+=G.runs,G.runs%2===1&&(p=1-p),N++;if(m!==null&&c.runs+x>=m)break}const w=N>=co;w&&(p=1-p);const E={overNumber:b,bowler:d.id,runs:x,wickets:h,balls:y},k={...c,runs:c.runs+x,wickets:c.wickets+h,overs:w?b+1:b,balls:w?0:N,currentBatters:[v[p],v[1-p]],currentBowler:d.id,overSummaries:[...c.overSummaries,E],batterStats:new Map(c.batterStats),bowlerStats:new Map(c.bowlerStats)};if(y.forEach(B=>{B.outcome.type==="wicket"&&k.fallOfWickets.push({player:B.batter,runs:k.runs,overs:B.over+B.ball/10});const W=B.batter,_=k.batterStats.get(W)||{runs:0,balls:0,fours:0,sixes:0};B.outcome.type==="runs"?(_.runs+=B.outcome.runs,_.balls+=1,B.outcome.runs===4&&(_.fours+=1),B.outcome.runs===6&&(_.sixes+=1)):B.outcome.type==="wicket"&&(_.runs+=B.outcome.runs,_.balls+=1),k.batterStats.set(W,_);const ne=k.bowlerStats.get(d.id)||{overs:0,runs:0,wickets:0,dots:0};B.outcome.type==="runs"?(ne.runs+=B.outcome.runs,B.outcome.runs===0&&(ne.dots+=1)):B.outcome.type==="wicket"?(ne.wickets+=1,ne.runs+=B.outcome.runs):B.outcome.type==="extra"&&(ne.runs+=B.outcome.runs),k.bowlerStats.set(d.id,ne)}),w){const B=k.bowlerStats.get(d.id);B&&(B.overs+=1,k.bowlerStats.set(d.id,B))}return{overSummary:E,updatedInnings:k}},C0=(i,d,c,o,f=null)=>{const m=c.playingXI.map(v=>i.find(p=>p.id===v)).filter(Boolean),b=d.filter(v=>v.role==="bowler"||v.role==="allrounder"),y=new Map;b.forEach(v=>y.set(v.id,0));let x={battingTeam:m[0]?.contract.isOverseas?"overseas":"domestic",bowlingTeam:"",runs:0,wickets:0,overs:0,balls:0,currentBatters:[m[0]?.id||"",m[1]?.id||""],currentBowler:b[0]?.id||"",overSummaries:[],fallOfWickets:[],batterStats:new Map,bowlerStats:new Map},h=null;for(let v=0;v<No;v++){const p=b.filter(j=>(y.get(j.id)||0)<T0&&j.id!==h);if(p.length===0){const j=b.filter(N=>(y.get(N.id)||0)<T0);if(j.length===0)break;p.push(j[0])}let A=p[0];if(v>=16&&c.bowlingPlan.deathBowler){const j=p.find(N=>N.id===c.bowlingPlan.deathBowler);j&&(A=j)}else A=p[Math.floor(Math.random()*p.length)];h=A.id,y.set(A.id,(y.get(A.id)||0)+1);const{updatedInnings:S}=So(m,A,x,c,o,f);if(x=S,x.wickets>=10||f!==null&&x.runs>=f)break}return x},gg=(i,d,c)=>{const{homeTactics:o,awayTactics:f,pitch:m}=c;if(!o||!f)throw new Error("Both teams must have tactics set");const b=Math.random()<.5?"home":"away",y=Math.random()<.6?"bat":"bowl";let x,h,v,p;b==="home"&&y==="bat"||b==="away"&&y==="bowl"?(x=i,h=d,v=o,p=f):(x=d,h=i,v=f,p=o);const A=C0(x,h,v,m,null),S=A.runs+1,j=C0(h,x,p,m,S);let N,w;const E=x===i?c.homeTeam:c.awayTeam,k=x===i?c.awayTeam:c.homeTeam;j.runs>=S?(N=k,w={type:"wickets",value:10-j.wickets}):j.runs<A.runs?(N=E,w={type:"runs",value:A.runs-j.runs}):(N=null,w=null);const B=[...i,...d],W=B[Math.floor(Math.random()*B.length)]?.id||"";return{winner:N,winMargin:w,playerOfMatch:W,firstInnings:A,secondInnings:j}},oo=(i,d)=>{const c=i.filter(h=>h.role==="batsman"||h.role==="keeper"),o=i.filter(h=>h.role==="allrounder"),f=i.filter(h=>h.role==="bowler"),m=[...c.slice(0,4),...o.slice(0,2),...f.slice(0,4),...c.slice(4,5)].slice(0,11).map(h=>h.id),b=i.find(h=>h.role==="keeper"),y=f.filter(h=>h.bowlingStyle?.includes("fast")||h.bowlingStyle?.includes("medium")),x=[y[0]?.id||f[0]?.id||"",y[1]?.id||f[1]?.id||""];return{playingXI:m,captain:d,wicketkeeper:b?.id||m[0],battingApproach:{powerplay:"aggressive",middle:"balanced",death:"aggressive"},bowlingPlan:{openingBowlers:x,deathBowler:y[0]?.id||f[0]?.id||"",spinStrategy:"middle",bowlingApproach:{powerplay:{length:"full-pitched",field:"attacking"},middle:{length:"good-length",field:"balanced"},death:{length:"yorkers",field:"death-field"}}},playerInstructions:[]}},bg=i=>{const d=i.bowlingStyle?.includes("fast")||i.bowlingStyle?.includes("medium"),c=i.bowlingStyle?.includes("spin")||i.bowlingStyle?.includes("leg"),o=i.bowling.accuracy;return i.bowling.variation,d&&o>=70?"death":d&&i.bowling.speed>=70?"powerplay":"middle"},uo=(i,d,c,o=4)=>{const f=d.overs,m=jo(f),b=i.filter(x=>x.id===c?!1:(d.bowlerStats.get(x.id)?.overs??0)<o);if(b.length===0)return i.filter(h=>(d.bowlerStats.get(h.id)?.overs??0)<o)[0]||null;const y=b.map(x=>{const h=d.bowlerStats.get(x.id),v=h?.overs??0,p=h?.runs??0,A=h?.wickets??0,S=v>0?p/v:0,j=bg(x),N=A>=2;let w=50;const E=x.bowlingStyle?.includes("fast")||x.bowlingStyle?.includes("medium"),k=x.bowlingStyle?.includes("spin")||x.bowlingStyle?.includes("leg");if(E){const _=E0.pace[m];w+=_*50}else if(k){const _=E0.spin[m];w+=_*50}else m==="powerplay"&&j==="powerplay"&&(w+=20),m==="middle"&&j==="middle"&&(w+=20),m==="death"&&j==="death"&&(w+=25);N&&(w+=30),v>=1&&(S<6?w+=15:S<8?w+=5:S>10?w-=10:S>12&&(w-=20)),w+=A*8,v===0&&(w+=5),o-v<=1&&m!=="death"&&(w-=10);const W=I0(x);return w+=(W-55)*.3,w+=x.form*.5,{bowler:x,role:j,score:w,overs:v,economy:S,wickets:A,isHot:N}});return y.sort((x,h)=>h.score-x.score),y[0]?.bowler||null},el={avgScore:{min:145,max:180},avgWickets:{min:5,max:8},boundaryRate:{min:.14,max:.22},dotBallRate:{min:.3,max:.45},avgRunRate:{min:7,max:9.5},chaseSuccessRate:{min:.4,max:.6},allOutRate:{min:.05,max:.15},scoresUnder100Rate:{min:0,max:.05},scoresOver200Rate:{min:.02,max:.2}},O0=i=>{let d=0,c=0,o=0,f=0;i.batterStats.forEach(b=>{d+=b.fours,c+=b.sixes,f+=b.balls}),i.bowlerStats.forEach(b=>{o+=b.dots});const m=i.overs*6+i.balls;return{runs:i.runs,wickets:i.wickets,overs:i.overs+i.balls/6,fours:d,sixes:c,dots:o,totalBalls:m||f}},Xi=i=>{const d=Kl.find(c=>c.id===i);return d?U0.filter(c=>d.squad.includes(c.id)):[]},yg=()=>{const i=[...Kl].sort(()=>Math.random()-.5);return[i[0].id,i[1].id]},pg=(i,d)=>{const c=Xi(i),o=Xi(d),f=Kl.find(h=>h.id===i),m=Kl.find(h=>h.id===d),b={pace:50+Math.floor(Math.random()*20)-10,spin:50+Math.floor(Math.random()*20)-10,bounce:50+Math.floor(Math.random()*20)-10,deterioration:0},y=f.captain||c[0]?.id||"",x=m.captain||o[0]?.id||"";return{id:`test-${Date.now()}-${Math.random()}`,homeTeam:i,awayTeam:d,venue:f.homeVenue,matchNumber:0,matchType:"league",weather:"clear",status:"upcoming",tossWinner:null,tossDecision:null,currentInnings:null,innings1:null,innings2:null,result:null,homeTactics:oo(c,y),awayTactics:oo(o,x),pitch:b}},mo=(i=100,d={})=>{const c=Date.now(),o=[];for(let m=0;m<i;m++){const[b,y]=d.specificTeams||yg(),x=Xi(b),h=Xi(y);if(x.length<11||h.length<11){d.verbose&&console.log(`Skipping match ${m+1}: Not enough players`);continue}const v=pg(b,y);try{const p=gg(x,h,v),A=O0(p.firstInnings),S=O0(p.secondInnings),j={firstInnings:A,secondInnings:S,winMarginRuns:p.winMargin?.type==="runs"?p.winMargin.value:null,winMarginWickets:p.winMargin?.type==="wickets"?p.winMargin.value:null,wasTie:p.winner===null,chaseSuccessful:p.winMargin?.type==="wickets"||!1};o.push(j),d.verbose&&console.log(`Match ${m+1}: ${A.runs}/${A.wickets} vs ${S.runs}/${S.wickets} | ${j.chaseSuccessful?"Chase won":j.wasTie?"Tie":"Defended"}`)}catch(p){d.verbose&&console.error(`Match ${m+1} failed:`,p)}}const f=Date.now()-c;return vg(o,f)},vg=(i,d)=>{if(i.length===0)throw new Error("No matches completed successfully");const c=i.flatMap(M=>[M.firstInnings,M.secondInnings]),o=i.map(M=>M.firstInnings),f=i.map(M=>M.secondInnings),m=c.map(M=>M.runs),b=o.reduce((M,F)=>M+F.runs,0)/o.length,y=f.reduce((M,F)=>M+F.runs,0)/f.length,x=c.reduce((M,F)=>M+F.wickets,0)/c.length,h=Math.min(...m),v=Math.max(...m),p=m.filter(M=>M<100).length,A=m.filter(M=>M>=100&&M<140).length,S=m.filter(M=>M>=140&&M<170).length,j=m.filter(M=>M>=170&&M<200).length,N=m.filter(M=>M>=200).length,w=c.reduce((M,F)=>M+F.totalBalls,0),E=c.reduce((M,F)=>M+F.fours,0),k=c.reduce((M,F)=>M+F.sixes,0),B=c.reduce((M,F)=>M+F.dots,0),W=c.reduce((M,F)=>M+F.runs,0),_=c.reduce((M,F)=>M+F.overs,0),ne=w>0?(E+k)/w:0,R=w>0?E/w:0,G=w>0?k/w:0,ue=w>0?B/w:0,O=_>0?W/_:0,ae=i.filter(M=>M.chaseSuccessful).length,J=i.filter(M=>M.wasTie).length;i.filter(M=>!M.chaseSuccessful&&!M.wasTie).length;const Z=i.filter(M=>M.winMarginRuns!==null),fe=i.filter(M=>M.winMarginWickets!==null),se=Z.length>0?Z.reduce((M,F)=>M+(F.winMarginRuns||0),0)/Z.length:0,z=fe.length>0?fe.reduce((M,F)=>M+(F.winMarginWickets||0),0)/fe.length:0,te=c.filter(M=>M.wickets>=10).length/c.length,xe=o.reduce((M,F)=>M+F.wickets,0)/o.length,Y=f.reduce((M,F)=>M+F.wickets,0)/f.length;return{matchCount:i.length,timeElapsedMs:d,avgFirstInningsScore:b,avgSecondInningsScore:y,avgWickets:x,minScore:h,maxScore:v,scoresUnder100:p,scores100to140:A,scores140to170:S,scores170to200:j,scoresOver200:N,boundaryRate:ne,fourRate:R,sixRate:G,dotBallRate:ue,avgRunRate:O,chaseSuccessRate:ae/i.length,avgWinByRuns:se,avgWinByWickets:z,tieRate:J/i.length,allOutRate:te,avgWicketsFirst:xe,avgWicketsSecond:Y}},Ng=i=>{const d=[],c=(b,y,x,h)=>{let v;return x>=h.min&&x<=h.max?v="PASS":x>=h.min*.9&&x<=h.max*1.1?v="WARN":v="FAIL",{passed:v==="PASS",category:b,metric:y,actual:x,expected:h,status:v}},o=(i.avgFirstInningsScore+i.avgSecondInningsScore)/2;d.push(c("Scoring","Average Score",o,el.avgScore)),d.push(c("Scoring","Average Wickets",i.avgWickets,el.avgWickets));const f=i.scoresUnder100/(i.matchCount*2);d.push(c("Scoring","Low Scores (<100) Rate",f,el.scoresUnder100Rate));const m=i.scoresOver200/(i.matchCount*2);return d.push(c("Scoring","High Scores (>200) Rate",m,el.scoresOver200Rate)),d.push(c("Ball-level","Boundary Rate",i.boundaryRate,el.boundaryRate)),d.push(c("Ball-level","Dot Ball Rate",i.dotBallRate,el.dotBallRate)),d.push(c("Ball-level","Run Rate",i.avgRunRate,el.avgRunRate)),d.push(c("Outcomes","Chase Success Rate",i.chaseSuccessRate,el.chaseSuccessRate)),d.push(c("Outcomes","All Out Rate",i.allOutRate,el.allOutRate)),d},fo=i=>{const d=Ng(i),c=d.filter(y=>y.status==="PASS").length,o=d.filter(y=>y.status==="WARN").length,f=d.filter(y=>y.status==="FAIL").length,m=["","           MATCH ENGINE SIMULATION REPORT                    ","","",`Matches Simulated: ${i.matchCount}`,`Time Elapsed: ${(i.timeElapsedMs/1e3).toFixed(2)}s`,`Speed: ${(i.matchCount/(i.timeElapsedMs/1e3)).toFixed(1)} matches/sec`,""," SCORE DISTRIBUTION ","",`Average 1st Innings: ${i.avgFirstInningsScore.toFixed(1)}`,`Average 2nd Innings: ${i.avgSecondInningsScore.toFixed(1)}`,`Score Range: ${i.minScore} - ${i.maxScore}`,"",`Under 100:   ${i.scoresUnder100} (${(i.scoresUnder100/(i.matchCount*2)*100).toFixed(1)}%)`,`100-140:     ${i.scores100to140} (${(i.scores100to140/(i.matchCount*2)*100).toFixed(1)}%)`,`140-170:     ${i.scores140to170} (${(i.scores140to170/(i.matchCount*2)*100).toFixed(1)}%)`,`170-200:     ${i.scores170to200} (${(i.scores170to200/(i.matchCount*2)*100).toFixed(1)}%)`,`Over 200:    ${i.scoresOver200} (${(i.scoresOver200/(i.matchCount*2)*100).toFixed(1)}%)`,""," BALL-LEVEL STATS ","",`Boundary Rate: ${(i.boundaryRate*100).toFixed(1)}% (4s: ${(i.fourRate*100).toFixed(1)}%, 6s: ${(i.sixRate*100).toFixed(1)}%)`,`Dot Ball Rate: ${(i.dotBallRate*100).toFixed(1)}%`,`Run Rate: ${i.avgRunRate.toFixed(2)} per over`,""," MATCH OUTCOMES ","",`Chase Success Rate: ${(i.chaseSuccessRate*100).toFixed(1)}%`,`Avg Win by Runs: ${i.avgWinByRuns.toFixed(1)}`,`Avg Win by Wickets: ${i.avgWinByWickets.toFixed(1)}`,`Tie Rate: ${(i.tieRate*100).toFixed(1)}%`,""," WICKET STATS ","",`Average Wickets: ${i.avgWickets.toFixed(1)}`,`1st Innings Avg: ${i.avgWicketsFirst.toFixed(1)}`,`2nd Innings Avg: ${i.avgWicketsSecond.toFixed(1)}`,`All-Out Rate: ${(i.allOutRate*100).toFixed(1)}%`,""," VALIDATION RESULTS ",""],b=[...new Set(d.map(y=>y.category))];for(const y of b){m.push(`[${y}]`);const x=d.filter(h=>h.category===y);for(const h of x){const v=h.status==="PASS"?"":h.status==="WARN"?"":"",p=typeof h.actual=="number"&&h.actual<1?`${(h.actual*100).toFixed(1)}%`:h.actual.toFixed(1),A=h.expected.max<1?`${(h.expected.min*100).toFixed(0)}-${(h.expected.max*100).toFixed(0)}%`:`${h.expected.min.toFixed(0)}-${h.expected.max.toFixed(0)}`;m.push(`  ${v} ${h.metric}: ${p} (expected: ${A})`)}m.push("")}return m.push(""),m.push(`SUMMARY: ${c} PASS, ${o} WARN, ${f} FAIL`),m.push(""),f>0?m.push("  Some validations failed. Consider adjusting match engine parameters."):o>0?m.push(" All critical validations passed. Some metrics are borderline."):m.push(" All validations passed! Match engine is producing realistic results."),m.join(`
`)};typeof window<"u"&&(window.runSimulation=(i=100)=>{console.log(`
Running ${i} match simulation...
`);const d=mo(i);return console.log(fo(d)),d},window.quickTest=()=>{console.log(`
Running quick 50-match test...
`);const i=mo(50);return console.log(fo(i)),i});const jg=()=>{const[i,d]=le.useState(!1),[c,o]=le.useState(!1),[f,m]=le.useState(!1),[b,y]=le.useState(null),{exportForBugReport:x}=Ve(),h=async()=>{try{const p=x();await navigator.clipboard.writeText(p),d(!0),setTimeout(()=>d(!1),2e3)}catch{const A=document.createElement("textarea");A.value=x(),document.body.appendChild(A),A.select(),document.execCommand("copy"),document.body.removeChild(A),d(!0),setTimeout(()=>d(!1),2e3)}},v=async p=>{m(!0),y(null),setTimeout(()=>{try{const A=mo(p),S=fo(A);y(S)}catch(A){y(`Error: ${A instanceof Error?A.message:"Unknown error"}`)}finally{m(!1)}},50)};return l.jsxs(l.Fragment,{children:[l.jsx("button",{onClick:h,onContextMenu:p=>{p.preventDefault(),o(!0)},className:`fixed bottom-20 right-4 z-50 w-10 h-10 rounded-full shadow-lg
          flex items-center justify-center transition-all duration-200
          ${i?"bg-green-600 scale-110":"bg-gray-700 hover:bg-gray-600"}`,title:"Click to copy state | Right-click for simulation",children:i?l.jsx("span",{className:"text-white text-sm",children:"OK"}):l.jsx("span",{className:"text-lg",children:""})}),c&&l.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center bg-black/70",children:l.jsxs("div",{className:"bg-gray-800 rounded-lg shadow-xl max-w-2xl w-full mx-4 max-h-[80vh] flex flex-col",children:[l.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-gray-700",children:[l.jsx("h2",{className:"text-lg font-bold text-white",children:"Match Engine Simulator"}),l.jsx("button",{onClick:()=>o(!1),className:"text-gray-400 hover:text-white text-xl",children:""})]}),l.jsx("div",{className:"p-4 flex-1 overflow-auto",children:b?l.jsxs("div",{className:"space-y-4",children:[l.jsx("pre",{className:"bg-gray-900 p-4 rounded text-xs text-gray-300 overflow-auto max-h-96 font-mono whitespace-pre",children:b}),l.jsxs("div",{className:"flex gap-3",children:[l.jsx("button",{onClick:()=>y(null),className:"flex-1 bg-gray-600 hover:bg-gray-500 text-white py-2 px-4 rounded-lg",children:"Run Again"}),l.jsx("button",{onClick:async()=>{await navigator.clipboard.writeText(b)},className:"flex-1 bg-blue-600 hover:bg-blue-700 text-white py-2 px-4 rounded-lg",children:"Copy Report"})]})]}):l.jsxs("div",{className:"space-y-4",children:[l.jsx("p",{className:"text-gray-300 text-sm",children:"Run batch simulations to validate the match engine produces realistic T20 statistics."}),l.jsxs("div",{className:"grid grid-cols-3 gap-3",children:[l.jsx("button",{onClick:()=>v(50),disabled:f,className:"bg-blue-600 hover:bg-blue-700 disabled:bg-gray-600 text-white py-3 px-4 rounded-lg font-medium",children:"Quick (50)"}),l.jsx("button",{onClick:()=>v(200),disabled:f,className:"bg-blue-600 hover:bg-blue-700 disabled:bg-gray-600 text-white py-3 px-4 rounded-lg font-medium",children:"Standard (200)"}),l.jsx("button",{onClick:()=>v(500),disabled:f,className:"bg-blue-600 hover:bg-blue-700 disabled:bg-gray-600 text-white py-3 px-4 rounded-lg font-medium",children:"Full (500)"})]}),f&&l.jsxs("div",{className:"text-center py-8",children:[l.jsx("div",{className:"text-4xl animate-bounce",children:""}),l.jsx("p",{className:"text-gray-400 mt-2",children:"Simulating matches..."})]}),l.jsxs("div",{className:"bg-gray-700/50 rounded p-3 text-xs text-gray-400",children:[l.jsx("p",{className:"font-medium text-gray-300 mb-1",children:"Console Access:"}),l.jsx("code",{className:"text-green-400",children:"runSimulation(100)"})," - Run N matches",l.jsx("br",{}),l.jsx("code",{className:"text-green-400",children:"quickTest()"})," - Quick 50-match test"]})]})})]})})]})},Sg={green:"bg-green-500",blue:"bg-blue-500",red:"bg-red-500",yellow:"bg-yellow-500",purple:"bg-purple-500"},qe=({value:i,max:d=100,label:c,showValue:o=!0,color:f="blue",size:m="md"})=>{const b=Math.min(100,Math.max(0,i/d*100));return l.jsxs("div",{className:"w-full",children:[c&&l.jsxs("div",{className:"flex justify-between text-sm mb-1",children:[l.jsx("span",{className:"text-gray-400",children:c}),o&&l.jsx("span",{className:"text-gray-300",children:i})]}),l.jsx("div",{className:`w-full bg-gray-700 rounded-full ${m==="sm"?"h-1.5":"h-2"}`,children:l.jsx("div",{className:`${Sg[f]} rounded-full transition-all duration-300 ${m==="sm"?"h-1.5":"h-2"}`,style:{width:`${b}%`}})})]})},Cn=({form:i,size:d="md"})=>{const c=()=>i>=10?"text-green-400 bg-green-900/30":i>=5?"text-green-300 bg-green-900/20":i>=0?"text-gray-300 bg-gray-700/30":i>=-5?"text-yellow-300 bg-yellow-900/20":i>=-10?"text-orange-300 bg-orange-900/20":"text-red-400 bg-red-900/30",o={sm:"text-xs px-1.5 py-0.5",md:"text-sm px-2 py-1",lg:"text-base px-3 py-1.5"};return l.jsxs("span",{className:`rounded-md font-medium ${c()} ${o[d]}`,children:[i>=0?"+":"",i]})},wg=({playerId:i,onClose:d,allowStacking:c=!1})=>{const{players:o,teams:f,openTeamModal:m,selectPlayer:b,navigateTo:y,closeAllModals:x}=Ve(),[h,v]=le.useState("overview"),p=o.find(_=>_.id===i),A=f.find(_=>_.squad.includes(i));if(!p)return null;const S=()=>{A&&m(A.id,c)},j=()=>{x(),b(i),y("player-detail")},N=()=>{switch(p.role){case"batsman":return"bg-blue-900/50 text-blue-300";case"bowler":return"bg-green-900/50 text-green-300";case"allrounder":return"bg-purple-900/50 text-purple-300";case"keeper":return"bg-yellow-900/50 text-yellow-300";default:return"bg-gray-700 text-gray-300"}},w=_=>_>=70?"green":_>=40?"yellow":"red",E=_=>_>=100?`${(_/100).toFixed(1)} Cr`:`${_} L`,k=()=>l.jsx("div",{className:"space-y-4",children:l.jsxs("div",{className:"space-y-3",children:[l.jsx(qe,{label:"Fitness",value:p.fitness,color:w(p.fitness)}),l.jsx(qe,{label:"Morale",value:p.morale,color:w(p.morale)}),l.jsx(qe,{label:"Fatigue",value:p.fatigue,color:p.fatigue>60?"red":p.fatigue>30?"yellow":"green"})]})}),B=()=>{const _=p.role!=="bowler",ne=p.role!=="batsman"&&p.role!=="keeper";return l.jsxs("div",{className:"space-y-4",children:[_&&l.jsxs("div",{children:[l.jsx("h4",{className:"text-sm font-medium text-gray-400 mb-2",children:"Batting"}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(qe,{label:"Technique",value:p.batting.technique,color:"blue",size:"sm"}),l.jsx(qe,{label:"Power",value:p.batting.power,color:"blue",size:"sm"}),l.jsx(qe,{label:"Timing",value:p.batting.timing,color:"blue",size:"sm"}),l.jsx(qe,{label:"Temperament",value:p.batting.temperament,color:"blue",size:"sm"})]})]}),ne&&l.jsxs("div",{children:[l.jsx("h4",{className:"text-sm font-medium text-gray-400 mb-2",children:"Bowling"}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(qe,{label:"Speed/Spin",value:p.bowling.speed,color:"green",size:"sm"}),l.jsx(qe,{label:"Accuracy",value:p.bowling.accuracy,color:"green",size:"sm"}),l.jsx(qe,{label:"Variation",value:p.bowling.variation,color:"green",size:"sm"}),l.jsx(qe,{label:"Stamina",value:p.bowling.stamina,color:"green",size:"sm"})]})]}),l.jsxs("div",{children:[l.jsx("h4",{className:"text-sm font-medium text-gray-400 mb-2",children:"Fielding"}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(qe,{label:"Catching",value:p.fielding.catching,color:"purple",size:"sm"}),l.jsx(qe,{label:"Ground",value:p.fielding.ground,color:"purple",size:"sm"}),l.jsx(qe,{label:"Throwing",value:p.fielding.throwing,color:"purple",size:"sm"})]})]})]})},W=()=>l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{className:"bg-gray-700/30 rounded-lg p-3 space-y-2",children:[l.jsxs("div",{className:"flex justify-between",children:[l.jsx("span",{className:"text-gray-400",children:"Salary"}),l.jsx("span",{className:"text-white font-medium",children:E(p.contract.salary)})]}),l.jsxs("div",{className:"flex justify-between",children:[l.jsx("span",{className:"text-gray-400",children:"Years Left"}),l.jsx("span",{className:"text-white",children:p.contract.yearsRemaining})]}),p.contract.releaseClause&&l.jsxs("div",{className:"flex justify-between",children:[l.jsx("span",{className:"text-gray-400",children:"Release Clause"}),l.jsx("span",{className:"text-white",children:E(p.contract.releaseClause)})]})]}),l.jsxs("div",{children:[l.jsx("h4",{className:"text-sm font-medium text-gray-400 mb-2",children:"Personality"}),l.jsxs("div",{className:"bg-gray-700/30 rounded-lg p-3 space-y-2",children:[l.jsxs("div",{className:"flex justify-between",children:[l.jsx("span",{className:"text-gray-400",children:"Temperament"}),l.jsx("span",{className:"text-white capitalize",children:p.personality.temperament})]}),l.jsxs("div",{className:"flex justify-between",children:[l.jsx("span",{className:"text-gray-400",children:"Leadership"}),l.jsx("span",{className:"text-white",children:p.personality.leadership})]}),l.jsxs("div",{className:"flex justify-between",children:[l.jsx("span",{className:"text-gray-400",children:"Professionalism"}),l.jsx("span",{className:"text-white",children:p.personality.professionalism})]}),l.jsxs("div",{className:"flex justify-between",children:[l.jsx("span",{className:"text-gray-400",children:"Ambition"}),l.jsx("span",{className:"text-white",children:p.personality.ambition})]})]})]})]});return l.jsxs("div",{className:"bg-gray-800 rounded-xl w-[400px] max-h-[85vh] overflow-hidden flex flex-col",children:[l.jsxs("div",{className:"p-4 border-b border-gray-700",children:[l.jsxs("div",{className:"flex items-start gap-3",children:[l.jsx("div",{className:"w-12 h-12 rounded-full bg-gray-700 flex items-center justify-center text-lg font-bold shrink-0",children:p.shortName.charAt(0)}),l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsx("h2",{className:"font-bold text-lg text-white truncate",children:p.name}),l.jsxs("div",{className:"flex items-center gap-2 text-sm flex-wrap",children:[A&&l.jsx("button",{onClick:S,className:"text-blue-400 hover:text-blue-300 hover:underline",children:A.shortName}),l.jsx("span",{className:"text-gray-500",children:""}),l.jsx("span",{className:`px-1.5 py-0.5 rounded text-xs ${N()}`,children:p.role}),p.contract.isOverseas&&l.jsxs(l.Fragment,{children:[l.jsx("span",{className:"text-gray-500",children:""}),l.jsx("span",{className:"text-xs text-orange-400",children:"OS"})]})]}),l.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[l.jsxs("span",{className:"text-sm text-gray-400",children:[p.age," yrs"]}),l.jsx("span",{className:"text-gray-500",children:""}),l.jsx("span",{className:"text-sm text-gray-400",children:p.nationality})]})]}),l.jsx("button",{onClick:d,className:"text-gray-400 hover:text-white text-2xl leading-none shrink-0 w-8 h-8 flex items-center justify-center",children:""})]}),l.jsx("div",{className:"mt-3",children:l.jsx(Cn,{form:p.form,size:"md"})})]}),l.jsx("div",{className:"flex border-b border-gray-700",children:["overview","skills","contract"].map(_=>l.jsx("button",{onClick:()=>v(_),className:`flex-1 py-2 text-sm font-medium transition-colors ${h===_?"text-blue-400 border-b-2 border-blue-400":"text-gray-400 hover:text-gray-300"}`,children:_.charAt(0).toUpperCase()+_.slice(1)},_))}),l.jsxs("div",{className:"flex-1 overflow-y-auto p-4",children:[h==="overview"&&k(),h==="skills"&&B(),h==="contract"&&W()]}),l.jsx("div",{className:"p-3 border-t border-gray-700 text-center",children:l.jsx("button",{onClick:j,className:"text-sm text-blue-400 hover:text-blue-300 hover:underline",children:"View full profile "})})]})},Tg=({teamId:i,onClose:d,allowStacking:c=!1})=>{const{teams:o,players:f,fixtures:m,pointsTable:b,openPlayerModal:y,navigateTo:x,closeAllModals:h,selectPlayer:v}=Ve(),p=o.find(R=>R.id===i),A=b.find(R=>R.teamId===i);if(!p)return null;const j=m.filter(G=>G.status==="completed"&&(G.homeTeam===i||G.awayTeam===i)&&G.result).slice(-5).map(G=>{const ue=G.result?.winner===i,O=G.result?.winner===null;return{matchId:G.id,result:O?"T":ue?"W":"L"}}),N=p.squad.map(R=>f.find(G=>G.id===R)).filter(R=>R!==void 0).sort((R,G)=>{const ue={keeper:0,batsman:1,allrounder:2,bowler:3};return ue[R.role]-ue[G.role]}),w=R=>{c&&y(R,!0)},E=()=>{h(),p.squad.length>0&&v(p.squad[0]),x("squad")},k=R=>{switch(R){case"batsman":return"text-blue-400";case"bowler":return"text-green-400";case"allrounder":return"text-purple-400";case"keeper":return"text-yellow-400";default:return"text-gray-400"}},B=R=>{switch(R){case"batsman":return"BAT";case"bowler":return"BOWL";case"allrounder":return"AR";case"keeper":return"WK";default:return""}},W=R=>{switch(R){case"W":return"bg-green-500";case"L":return"bg-red-500";case"T":return"bg-yellow-500";default:return"bg-gray-500"}},_=R=>`${R>=0?"+":""}${R.toFixed(3)}`,ne=()=>{if(!A)return null;const R=b.findIndex(ue=>ue.teamId===i)+1;return`${R}${R===1?"st":R===2?"nd":R===3?"rd":"th"}`};return l.jsxs("div",{className:"bg-gray-800 rounded-xl w-[400px] max-h-[85vh] overflow-hidden flex flex-col",children:[l.jsxs("div",{className:"p-4 border-b border-gray-700",children:[l.jsxs("div",{className:"flex items-start gap-3",children:[l.jsx("div",{className:"w-12 h-12 rounded-lg flex items-center justify-center text-sm font-bold shrink-0",style:{backgroundColor:p.colors.primary},children:p.shortName}),l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsx("h2",{className:"font-bold text-lg text-white truncate",children:p.name}),l.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[l.jsx("span",{className:"text-gray-400",children:p.homeCity}),ne()&&l.jsxs(l.Fragment,{children:[l.jsx("span",{className:"text-gray-500",children:""}),l.jsxs("span",{className:"text-blue-400",children:[ne()," in table"]})]})]})]}),l.jsx("button",{onClick:d,className:"text-gray-400 hover:text-white text-2xl leading-none shrink-0 w-8 h-8 flex items-center justify-center",children:""})]}),j.length>0&&l.jsxs("div",{className:"mt-3 flex items-center gap-2",children:[l.jsx("span",{className:"text-xs text-gray-400",children:"Recent:"}),l.jsx("div",{className:"flex gap-1",children:j.map((R,G)=>l.jsx("div",{className:`w-6 h-6 rounded flex items-center justify-center text-xs font-bold ${W(R.result)}`,children:R.result},G))})]})]}),A&&l.jsxs("div",{className:"p-4 border-b border-gray-700",children:[l.jsxs("div",{className:"grid grid-cols-4 gap-4 text-center",children:[l.jsxs("div",{children:[l.jsx("div",{className:"text-xl font-bold",children:A.played}),l.jsx("div",{className:"text-xs text-gray-400",children:"Played"})]}),l.jsxs("div",{children:[l.jsx("div",{className:"text-xl font-bold text-green-400",children:A.won}),l.jsx("div",{className:"text-xs text-gray-400",children:"Won"})]}),l.jsxs("div",{children:[l.jsx("div",{className:"text-xl font-bold text-red-400",children:A.lost}),l.jsx("div",{className:"text-xs text-gray-400",children:"Lost"})]}),l.jsxs("div",{children:[l.jsx("div",{className:`text-xl font-bold ${A.netRunRate>=0?"text-green-400":"text-red-400"}`,children:_(A.netRunRate)}),l.jsx("div",{className:"text-xs text-gray-400",children:"NRR"})]})]}),l.jsxs("div",{className:"mt-2 text-center",children:[l.jsx("span",{className:"text-2xl font-bold text-blue-400",children:A.points}),l.jsx("span",{className:"text-sm text-gray-400 ml-1",children:"pts"})]})]}),l.jsxs("div",{className:"flex-1 overflow-y-auto p-4",children:[l.jsxs("h3",{className:"text-sm font-medium text-gray-400 mb-3",children:["Squad (",N.length,")"]}),l.jsx("div",{className:"space-y-2",children:N.map(R=>l.jsxs("button",{onClick:()=>w(R.id),disabled:!c,className:`w-full flex items-center gap-3 p-2 rounded-lg ${c?"hover:bg-gray-700/50 cursor-pointer":"cursor-default"} transition-colors`,children:[l.jsx("div",{className:"w-8 h-8 rounded-full bg-gray-700 flex items-center justify-center text-sm font-medium",children:R.shortName.charAt(0)}),l.jsxs("div",{className:"flex-1 text-left",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("span",{className:`${c?"text-blue-400":"text-white"} font-medium text-sm`,children:R.shortName}),R.contract.isOverseas&&l.jsx("span",{className:"text-xs text-orange-400",children:"OS"}),p.captain===R.id&&l.jsx("span",{className:"text-xs text-yellow-400",children:"(C)"})]}),l.jsx("span",{className:`text-xs ${k(R.role)}`,children:B(R.role)})]}),l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx(Cn,{form:R.form,size:"sm"}),l.jsx("div",{className:"w-16",children:l.jsx(qe,{label:"",value:R.fitness,color:R.fitness>=70?"green":R.fitness>=40?"yellow":"red",size:"sm",showValue:!1})})]})]},R.id))})]}),l.jsx("div",{className:"p-3 border-t border-gray-700 text-center",children:l.jsx("button",{onClick:E,className:"text-sm text-blue-400 hover:text-blue-300 hover:underline",children:"View full squad "})})]})},Mg=({allowStacking:i=!1})=>{const{modalStack:d,closeModal:c}=Ve(),o=le.useCallback(f=>{f.key==="Escape"&&d.length>0&&c()},[d.length,c]);return le.useEffect(()=>(window.addEventListener("keydown",o),()=>window.removeEventListener("keydown",o)),[o]),le.useEffect(()=>(d.length>0?document.body.style.overflow="hidden":document.body.style.overflow="",()=>{document.body.style.overflow=""}),[d.length]),d.length===0?null:l.jsx(l.Fragment,{children:d.map((f,m)=>{const b=m===d.length-1,y=60+m;return l.jsxs("div",{className:"fixed inset-0 flex items-center justify-center p-4",style:{zIndex:y},children:[l.jsx("div",{className:`absolute inset-0 bg-black/80 ${b?"cursor-pointer":""}`,onClick:b?c:void 0}),l.jsx("div",{className:"relative",style:{transform:`translate(${m*8}px, ${m*8}px)`},children:f.type==="player"?l.jsx(wg,{playerId:f.id,onClose:c,allowStacking:i}):l.jsx(Tg,{teamId:f.id,onClose:c,allowStacking:i})})]},`${f.type}-${f.id}-${m}`)})})};class B0 extends le.Component{constructor(d){super(d),this.state={hasError:!1,error:null,errorInfo:null}}static getDerivedStateFromError(d){return{hasError:!0,error:d}}componentDidCatch(d,c){console.error("ErrorBoundary caught an error:",d,c),this.setState({errorInfo:c})}handleReset=()=>{this.setState({hasError:!1,error:null,errorInfo:null})};handleClearData=()=>{confirm("This will clear all saved game data. Are you sure?")&&(localStorage.removeItem("cricket-manager-save"),window.location.reload())};render(){return this.state.hasError?l.jsx("div",{className:"min-h-screen bg-gray-900 text-white flex items-center justify-center p-4",children:l.jsxs("div",{className:"max-w-lg w-full bg-gray-800 rounded-xl p-6 border border-red-700",children:[l.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[l.jsx("span",{className:"text-3xl",children:""}),l.jsx("h1",{className:"text-xl font-bold text-red-400",children:"Something went wrong"})]}),l.jsx("p",{className:"text-gray-300 mb-4",children:"The game encountered an error. This might be due to corrupted save data or a bug in the game."}),this.state.error&&l.jsxs("details",{className:"mb-4",children:[l.jsx("summary",{className:"text-sm text-gray-400 cursor-pointer hover:text-gray-300",children:"Technical details"}),l.jsxs("pre",{className:"mt-2 p-3 bg-gray-900 rounded text-xs text-red-300 overflow-auto max-h-40",children:[this.state.error.toString(),this.state.errorInfo?.componentStack]})]}),l.jsxs("div",{className:"flex flex-col gap-2",children:[l.jsx("button",{onClick:this.handleReset,className:"w-full py-2 bg-blue-600 hover:bg-blue-700 rounded-lg font-medium transition-colors",children:"Try Again"}),l.jsx("button",{onClick:()=>window.location.reload(),className:"w-full py-2 bg-gray-700 hover:bg-gray-600 rounded-lg font-medium transition-colors",children:"Reload Page"}),l.jsx("button",{onClick:this.handleClearData,className:"w-full py-2 bg-red-900/50 hover:bg-red-900 text-red-400 rounded-lg font-medium transition-colors",children:"Clear Save Data & Restart"})]}),l.jsxs("p",{className:"text-xs text-gray-500 mt-4 text-center",children:["If this keeps happening, please report it at"," ",l.jsx("a",{href:"https://github.com/anthropics/claude-code/issues",className:"text-blue-400 hover:underline",target:"_blank",rel:"noopener noreferrer",children:"GitHub Issues"})]})]})}):this.props.children}}const Eg=()=>{const{loadInitialData:i,initializeGame:d,navigateTo:c,getSaveSlots:o,loadFromSlot:f,deleteSlot:m}=Ve(),[b,y]=le.useState("welcome"),[x,h]=le.useState("real-squads"),[v,p]=le.useState(""),[A,S]=le.useState("mi"),[j,N]=le.useState(null),w=o(),E=()=>{if(!v.trim())return;const _=vo(A);i(U0,Kl,_),d(A,v,x),c(x==="mini-auction"?"release-phase":x==="mega-auction"?"auction":"home")},k=_=>{f(_)},B=_=>{m(_),N(null)},W=Kl.find(_=>_.id===A);return l.jsx("div",{className:"min-h-screen bg-gray-900 text-white flex flex-col items-center justify-center p-4",children:l.jsxs("div",{className:"max-w-lg w-full space-y-6",children:[l.jsxs("div",{className:"text-center",children:[l.jsx("h1",{className:"text-4xl font-bold mb-2",children:"Cricket Manager"}),l.jsx("p",{className:"text-gray-400",children:"Build your dynasty. Make tough calls. Win trophies."})]}),b==="welcome"&&l.jsxs("div",{className:"space-y-4",children:[l.jsx("button",{onClick:()=>y("setup"),className:"w-full bg-blue-600 hover:bg-blue-700 text-white py-4 rounded-lg font-semibold text-lg transition-colors",children:"New Game"}),w.length>0&&l.jsxs("div",{className:"bg-gray-800 rounded-xl p-4 border border-gray-700",children:[l.jsx("h3",{className:"text-sm font-semibold text-gray-400 mb-3",children:"Continue"}),l.jsx("div",{className:"space-y-2",children:w.map(_=>l.jsxs("div",{className:"bg-gray-700/50 rounded-lg p-3 flex items-center justify-between",children:[l.jsxs("button",{onClick:()=>k(_.id),className:"flex-1 text-left hover:text-blue-400 transition-colors",children:[l.jsx("div",{className:"font-medium",children:_.name}),l.jsxs("div",{className:"text-xs text-gray-400",children:[_.teamName,"  Season ",_.season,"  ",_.phase==="auction"?"Auction":`Match ${_.matchDay}`]}),l.jsx("div",{className:"text-xs text-gray-500 mt-1",children:yo(_.savedAt)})]}),l.jsx("button",{onClick:()=>N(_.id),className:"ml-2 p-2 text-gray-500 hover:text-red-400 transition-colors",title:"Delete save",children:""})]},_.id))})]}),j&&l.jsx("div",{className:"fixed inset-0 bg-black/80 flex items-center justify-center z-50 p-4",children:l.jsxs("div",{className:"bg-gray-800 rounded-xl max-w-sm w-full p-6",children:[l.jsx("h3",{className:"font-bold mb-2",children:"Delete Save?"}),l.jsx("p",{className:"text-sm text-gray-400 mb-4",children:"This cannot be undone."}),l.jsxs("div",{className:"flex gap-3",children:[l.jsx("button",{onClick:()=>N(null),className:"flex-1 bg-gray-700 text-white py-2 rounded-lg",children:"Cancel"}),l.jsx("button",{onClick:()=>B(j),className:"flex-1 bg-red-600 hover:bg-red-700 text-white py-2 rounded-lg",children:"Delete"})]})]})})]}),b==="setup"&&l.jsxs("div",{className:"bg-gray-800 rounded-xl p-6 border border-gray-700 space-y-6",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("button",{onClick:()=>y("welcome"),className:"text-blue-400 hover:text-blue-300",children:""}),l.jsx("h2",{className:"text-lg font-semibold",children:"New Game Setup"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm text-gray-400 mb-2",children:"Manager Name"}),l.jsx("input",{type:"text",value:v,onChange:_=>p(_.target.value),placeholder:"Enter your name...",className:"w-full bg-gray-700 border border-gray-600 rounded-lg px-4 py-3 text-white placeholder-gray-500 focus:outline-none focus:border-blue-500",autoFocus:!0})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm text-gray-400 mb-2",children:"Select Your Franchise"}),l.jsx("div",{className:"grid grid-cols-5 gap-2",children:Kl.map(_=>l.jsxs("button",{onClick:()=>S(_.id),className:`p-2 rounded-lg border-2 transition-all ${A===_.id?"border-blue-500 bg-blue-900/30":"border-gray-700 bg-gray-700/30 hover:border-gray-500"}`,children:[l.jsx("div",{className:"w-8 h-8 rounded-full mx-auto mb-1 flex items-center justify-center text-xs font-bold",style:{backgroundColor:_.colors.primary},children:_.shortName}),l.jsx("div",{className:"text-xs text-center truncate",children:_.shortName})]},_.id))}),W&&l.jsxs("div",{className:"mt-2 text-sm text-gray-400 text-center",children:[W.name,"  ",W.homeCity]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm text-gray-400 mb-2",children:"Starting Auction"}),l.jsxs("div",{className:"grid grid-cols-3 gap-2",children:[l.jsxs("button",{onClick:()=>h("real-squads"),className:`p-3 rounded-lg border-2 text-center transition-all ${x==="real-squads"?"border-green-500 bg-green-900/30":"border-gray-700 bg-gray-700/30 hover:border-gray-500"}`,children:[l.jsx("div",{className:"font-semibold text-sm",children:"No Auction"}),l.jsx("div",{className:"text-xs text-gray-400 mt-1",children:"Real squads"})]}),l.jsxs("button",{onClick:()=>h("mini-auction"),className:`p-3 rounded-lg border-2 text-center transition-all ${x==="mini-auction"?"border-blue-500 bg-blue-900/30":"border-gray-700 bg-gray-700/30 hover:border-gray-500"}`,children:[l.jsx("div",{className:"font-semibold text-sm",children:"Mini"}),l.jsx("div",{className:"text-xs text-gray-400 mt-1",children:"Tune squad"})]}),l.jsxs("button",{onClick:()=>h("mega-auction"),className:`p-3 rounded-lg border-2 text-center transition-all ${x==="mega-auction"?"border-yellow-500 bg-yellow-900/30":"border-gray-700 bg-gray-700/30 hover:border-gray-500"}`,children:[l.jsx("div",{className:"font-semibold text-sm",children:"Mega"}),l.jsx("div",{className:"text-xs text-gray-400 mt-1",children:"Full rebuild"})]})]}),l.jsxs("div",{className:"mt-2 text-xs text-gray-500 text-center",children:[x==="real-squads"&&"Start Season 1 with current IPL rosters. First auction after the season.",x==="mini-auction"&&"Release players and bid on free agents before Season 1.",x==="mega-auction"&&"Retain up to 4 players, then rebuild your squad from scratch."]})]}),l.jsx("button",{onClick:E,disabled:!v.trim(),className:"w-full bg-blue-600 hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed text-white py-4 rounded-lg font-semibold text-lg transition-colors",children:x==="real-squads"?"Start Career":x==="mini-auction"?"Enter Mini Auction":"Enter Mega Auction"})]}),l.jsx("p",{className:"text-center text-xs text-gray-500",children:"v0.8 Beta"})]})})},Ag={league:"League Match",qualifier1:"Qualifier 1",eliminator:"Eliminator",qualifier2:"Qualifier 2",final:"FINAL"},k0=()=>{const{manager:i,playerTeamId:d,teams:c,players:o,fixtures:f,pointsTable:m,activeEvents:b,phase:y,season:x,navigateTo:h,selectMatch:v,selectEvent:p,getSeasonResult:A,checkAndStartPlayoffs:S}=Ve(),j=c.find(J=>J.id===d),N=o.filter(J=>j?.squad.includes(J.id));dx.useEffect(()=>{if(y==="season"){const J=f.filter(fe=>fe.matchType==="league"&&(fe.homeTeam===d||fe.awayTeam===d));J.every(fe=>fe.status==="completed")&&J.length>0&&S()}},[f,y,d,S]);const w=f.find(J=>J.status==="upcoming"&&(J.homeTeam===d||J.awayTeam===d)),E=w?c.find(J=>J.id===(w.homeTeam===d?w.awayTeam:w.homeTeam)):null,k=A(),B=N.length?Math.round(N.reduce((J,Z)=>J+Z.morale,0)/N.length):0,W=N.length?Math.round(N.reduce((J,Z)=>J+Z.fitness,0)/N.length):0,_=N.filter(J=>J.fatigue>80||J.form<-10||J.fitness<50||J.morale<40),ne=b.filter(J=>!J.resolved),G=[...m].sort((J,Z)=>Z.points!==J.points?Z.points-J.points:Z.netRunRate-J.netRunRate).findIndex(J=>J.teamId===d)+1,ue=m.find(J=>J.teamId===d),O=()=>{w&&(v(w.id),h("match-prep"))},ae=J=>{p(J)};return l.jsxs("div",{className:"min-h-screen bg-gray-900 text-white pb-24",children:[l.jsx("header",{className:"bg-gray-800 p-4 border-b border-gray-700",children:l.jsxs("div",{className:"max-w-lg mx-auto flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx("h1",{className:"text-xl font-bold",children:j?.name||"Cricket Manager"}),l.jsxs("p",{className:"text-sm text-gray-400",children:["Season ",x,"  ",i.name]})]}),l.jsxs("div",{className:"text-right",children:[l.jsxs("div",{className:"text-2xl font-bold",children:["#",G]}),l.jsxs("div",{className:"text-xs text-gray-400",children:[ue?.won||0,"W ",ue?.lost||0,"L"]})]})]})}),l.jsxs("div",{className:"max-w-lg mx-auto p-4 space-y-4",children:[y==="off-season"&&l.jsxs("div",{className:"bg-gradient-to-r from-yellow-900/50 to-amber-900/50 rounded-xl p-6 border border-yellow-700",children:[l.jsx("h2",{className:"text-xl font-bold text-center mb-4",children:"Season Complete!"}),k&&l.jsxs("div",{className:"text-center space-y-2",children:[k.playerFinish===1?l.jsx("div",{className:"text-2xl text-yellow-400 font-bold",children:"CHAMPIONS!"}):k.playerFinish===2?l.jsx("div",{className:"text-xl text-gray-300",children:"Runners Up"}):k.playerFinish<=4?l.jsxs("div",{className:"text-lg text-gray-400",children:["Finished #",k.playerFinish," (Playoffs)"]}):l.jsxs("div",{className:"text-lg text-gray-400",children:["Finished #",k.playerFinish," (Missed Playoffs)"]}),k.champion&&l.jsxs("div",{className:"text-sm text-gray-500 mt-2",children:["Champion: ",c.find(J=>J.id===k.champion)?.name]})]}),l.jsx("button",{onClick:()=>h("season-summary"),className:"w-full mt-4 bg-yellow-600 hover:bg-yellow-700 text-white py-3 rounded-lg font-medium transition-colors",children:"View Season Summary"})]}),w&&E&&y!=="off-season"&&l.jsxs("div",{className:`rounded-xl p-4 border ${w.matchType!=="league"?"bg-gradient-to-r from-purple-900/50 to-blue-900/50 border-purple-700":"bg-gray-800 border-gray-700"}`,children:[l.jsxs("div",{className:"flex justify-between items-center mb-3",children:[l.jsx("span",{className:`text-sm font-medium ${w.matchType!=="league"?"text-purple-400":"text-gray-400"}`,children:Ag[w.matchType]||"NEXT MATCH"}),w.matchType==="league"&&l.jsxs("span",{className:"text-sm text-blue-400",children:["Match ",w.matchNumber]}),w.matchType!=="league"&&l.jsx("span",{className:"text-xs bg-purple-600 px-2 py-1 rounded",children:"PLAYOFFS"})]}),l.jsxs("div",{className:"flex items-center justify-between mb-4",children:[l.jsxs("div",{className:"text-center flex-1",children:[l.jsx("div",{className:"w-14 h-14 rounded-full mx-auto mb-2 flex items-center justify-center text-lg font-bold",style:{backgroundColor:j?.colors.primary},children:j?.shortName}),l.jsx("div",{className:"text-sm font-medium",children:j?.shortName})]}),l.jsx("div",{className:"text-gray-500 text-lg px-4",children:"vs"}),l.jsxs("div",{className:"text-center flex-1",children:[l.jsx("div",{className:"w-14 h-14 rounded-full mx-auto mb-2 flex items-center justify-center text-lg font-bold",style:{backgroundColor:E.colors.primary},children:E.shortName}),l.jsx("div",{className:"text-sm",children:E.shortName})]})]}),l.jsx("div",{className:"text-center text-sm text-gray-400 mb-4",children:w.venue}),l.jsx("button",{onClick:O,className:`w-full py-3 rounded-lg font-medium transition-colors ${w.matchType!=="league"?"bg-purple-600 hover:bg-purple-700":"bg-blue-600 hover:bg-blue-700"} text-white`,children:"Prepare for Match"})]}),!w&&y==="playoffs"&&l.jsx("div",{className:"bg-gray-800 rounded-xl p-4 border border-gray-700 text-center",children:l.jsx("p",{className:"text-gray-400",children:"Waiting for other playoff matches to complete..."})}),(ne.length>0||_.length>0)&&l.jsxs("div",{className:"bg-gray-800 rounded-xl p-4 border border-red-900/50",children:[l.jsx("h2",{className:"text-sm font-semibold text-red-400 mb-3",children:"ATTENTION NEEDED"}),ne.map(J=>l.jsxs("div",{onClick:()=>ae(J.id),className:"flex items-center gap-3 p-3 bg-red-900/20 rounded-lg mb-2 cursor-pointer hover:bg-red-900/30 transition-colors",children:[l.jsx("span",{className:"text-red-400 text-lg",children:"!"}),l.jsxs("div",{children:[l.jsx("span",{className:"text-sm font-medium",children:J.title}),l.jsx("span",{className:"text-xs text-gray-500 ml-2",children:"Tap to resolve"})]})]},J.id)),_.slice(0,2).map(J=>l.jsxs("div",{onClick:()=>h("squad"),className:"flex items-center justify-between p-3 bg-yellow-900/20 rounded-lg mb-2 cursor-pointer hover:bg-yellow-900/30",children:[l.jsx("span",{className:"text-sm",children:J.shortName}),l.jsxs("div",{className:"flex gap-2 text-xs",children:[J.fatigue>80&&l.jsx("span",{className:"text-orange-400",children:"Exhausted"}),J.form<-10&&l.jsx("span",{className:"text-red-400",children:"Poor form"}),J.fitness<50&&l.jsx("span",{className:"text-yellow-400",children:"Injured"}),J.morale<40&&l.jsx("span",{className:"text-purple-400",children:"Unhappy"})]})]},J.id))]}),l.jsx("div",{className:"bg-gray-800 rounded-xl p-4 border border-gray-700",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{className:"flex items-center gap-6",children:[l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:`text-lg font-bold ${B>70?"text-green-400":B<50?"text-red-400":"text-yellow-400"}`,children:B}),l.jsx("div",{className:"text-xs text-gray-500",children:"Morale"})]}),l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:`text-lg font-bold ${W>70?"text-green-400":W<50?"text-red-400":"text-yellow-400"}`,children:W}),l.jsx("div",{className:"text-xs text-gray-500",children:"Fitness"})]}),l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:"text-lg font-bold",children:N.length}),l.jsx("div",{className:"text-xs text-gray-500",children:"Squad"})]})]}),l.jsx("button",{onClick:()=>h("club"),className:"text-sm text-blue-400 hover:text-blue-300",children:"More "})]})}),l.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[l.jsxs("button",{onClick:()=>h("schedule"),className:"bg-gray-800 rounded-xl p-4 border border-gray-700 text-left hover:bg-gray-700/50 transition-colors",children:[l.jsx("div",{className:"text-lg mb-1",children:""}),l.jsx("div",{className:"text-sm font-medium",children:"Schedule"}),l.jsx("div",{className:"text-xs text-gray-500",children:"View fixtures & standings"})]}),l.jsxs("button",{onClick:()=>h("stats"),className:"bg-gray-800 rounded-xl p-4 border border-gray-700 text-left hover:bg-gray-700/50 transition-colors",children:[l.jsx("div",{className:"text-lg mb-1",children:""}),l.jsx("div",{className:"text-sm font-medium",children:"Stats"}),l.jsx("div",{className:"text-xs text-gray-500",children:"Season leaderboards"})]})]})]})]})},z0={batsman:"bg-blue-600",bowler:"bg-green-600",allrounder:"bg-purple-600",keeper:"bg-yellow-600"},D0={batsman:"BAT",bowler:"BOWL",allrounder:"ALL",keeper:"WK"},ho=({player:i,onClick:d,selected:c,compact:o})=>o?l.jsxs("div",{onClick:d,className:`flex items-center justify-between p-3 rounded-lg cursor-pointer transition-all
          ${c?"bg-blue-600/30 border-blue-500":"bg-gray-800 hover:bg-gray-700"}
          border ${c?"border-blue-500":"border-gray-700"}`,children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("div",{className:`w-8 h-8 rounded-full ${z0[i.role]} flex items-center justify-center text-xs font-bold`,children:D0[i.role]}),l.jsxs("div",{children:[l.jsxs("div",{className:"font-medium text-white flex items-center gap-2",children:[i.shortName,i.contract.isOverseas&&l.jsx("span",{className:"text-xs text-yellow-400",children:"OS"})]}),l.jsxs("div",{className:"text-xs text-gray-400",children:[i.age,"y  ",i.battingStyle==="left"?"LHB":"RHB",i.bowlingStyle&&`  ${i.bowlingStyle.split("-")[0]}`]})]})]}),l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx(Cn,{form:i.form,size:"sm"}),l.jsxs("div",{className:"text-right",children:[l.jsxs("div",{className:"text-sm text-gray-300",children:[i.fitness,"%"]}),l.jsx("div",{className:"text-xs text-gray-500",children:"FIT"})]})]})]}):l.jsxs("div",{onClick:d,className:`p-4 rounded-xl cursor-pointer transition-all
        ${c?"bg-blue-600/20 border-blue-500":"bg-gray-800 hover:bg-gray-750"}
        border ${c?"border-blue-500":"border-gray-700"}`,children:[l.jsxs("div",{className:"flex justify-between items-start mb-3",children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("div",{className:`w-12 h-12 rounded-full ${z0[i.role]} flex items-center justify-center text-sm font-bold`,children:D0[i.role]}),l.jsxs("div",{children:[l.jsxs("div",{className:"font-semibold text-white flex items-center gap-2",children:[i.name,i.contract.isOverseas&&l.jsx("span",{className:"text-xs bg-yellow-600/30 text-yellow-400 px-1.5 py-0.5 rounded",children:"OS"})]}),l.jsxs("div",{className:"text-sm text-gray-400",children:[i.age,"y  ",i.nationality]})]})]}),l.jsx(Cn,{form:i.form})]}),l.jsxs("div",{className:"grid grid-cols-3 gap-3 mb-3",children:[l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:"text-lg font-bold text-white",children:i.fitness}),l.jsx("div",{className:"text-xs text-gray-500",children:"Fitness"})]}),l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:"text-lg font-bold text-white",children:i.morale}),l.jsx("div",{className:"text-xs text-gray-500",children:"Morale"})]}),l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:"text-lg font-bold text-white",children:i.fatigue}),l.jsx("div",{className:"text-xs text-gray-500",children:"Fatigue"})]})]}),l.jsxs("div",{className:"space-y-2",children:[(i.role==="batsman"||i.role==="allrounder"||i.role==="keeper")&&l.jsx(qe,{value:Math.round((i.batting.technique+i.batting.power+i.batting.timing+i.batting.temperament)/4),label:"Batting",color:"blue",size:"sm"}),(i.role==="bowler"||i.role==="allrounder")&&l.jsx(qe,{value:Math.round((i.bowling.speed+i.bowling.accuracy+i.bowling.variation+i.bowling.stamina)/4),label:"Bowling",color:"green",size:"sm"})]})]}),Rg=()=>{const{playerTeamId:i,teams:d,players:c,navigateTo:o,selectPlayer:f}=Ve(),[m,b]=le.useState("name"),[y,x]=le.useState("all"),h=d.find(w=>w.id===i),v=c.filter(w=>h?.squad.includes(w.id)),A=[...y==="all"?v:v.filter(w=>w.role===y)].sort((w,E)=>{switch(m){case"form":return E.form-w.form;case"fitness":return E.fitness-w.fitness;case"morale":return E.morale-w.morale;default:return w.name.localeCompare(E.name)}}),S={batsman:A.filter(w=>w.role==="batsman"),keeper:A.filter(w=>w.role==="keeper"),allrounder:A.filter(w=>w.role==="allrounder"),bowler:A.filter(w=>w.role==="bowler")},j=w=>{f(w),o("player-detail")},N=v.filter(w=>w.contract.isOverseas).length;return l.jsxs("div",{className:"min-h-screen bg-gray-900 text-white pb-24",children:[l.jsx("header",{className:"bg-gray-800 p-4 border-b border-gray-700 sticky top-0 z-10",children:l.jsxs("div",{className:"max-w-lg mx-auto",children:[l.jsx("h1",{className:"text-xl font-bold mb-2",children:"Squad"}),l.jsxs("div",{className:"flex gap-2 text-sm text-gray-400",children:[l.jsxs("span",{children:[v.length," players"]}),l.jsx("span",{children:""}),l.jsxs("span",{children:[N,"/8 overseas"]})]})]})}),l.jsxs("div",{className:"max-w-lg mx-auto p-4 sticky top-[72px] bg-gray-900 z-10",children:[l.jsx("div",{className:"flex gap-2 overflow-x-auto pb-2",children:["all","batsman","keeper","allrounder","bowler"].map(w=>l.jsxs("button",{onClick:()=>x(w),className:`px-3 py-1.5 rounded-full text-sm whitespace-nowrap transition-colors
                ${y===w?"bg-blue-600 text-white":"bg-gray-800 text-gray-400 hover:bg-gray-700"}`,children:[w==="all"?"All":w.charAt(0).toUpperCase()+w.slice(1),"s"]},w))}),l.jsx("div",{className:"flex justify-end mt-2",children:l.jsxs("select",{value:m,onChange:w=>b(w.target.value),className:"bg-gray-800 border border-gray-700 rounded-lg px-3 py-1.5 text-sm",children:[l.jsx("option",{value:"name",children:"Sort by Name"}),l.jsx("option",{value:"form",children:"Sort by Form"}),l.jsx("option",{value:"fitness",children:"Sort by Fitness"}),l.jsx("option",{value:"morale",children:"Sort by Morale"})]})})]}),l.jsx("div",{className:"max-w-lg mx-auto px-4 space-y-6",children:y==="all"?Object.entries(S).map(([w,E])=>E.length>0&&l.jsxs("div",{children:[l.jsx("h2",{className:"text-sm font-semibold text-gray-400 mb-3 uppercase",children:w==="keeper"?"Wicketkeepers":w+"s"}),l.jsx("div",{className:"space-y-2",children:E.map(k=>l.jsx(ho,{player:k,onClick:()=>j(k.id),compact:!0},k.id))})]},w)):l.jsx("div",{className:"space-y-2",children:A.map(w=>l.jsx(ho,{player:w,onClick:()=>j(w.id),compact:!0},w.id))})})]})},Cg={batsman:"bg-blue-600",bowler:"bg-green-600",allrounder:"bg-purple-600",keeper:"bg-yellow-600"},Og=i=>i&&{"opening-batter":"Opening Batter","top-order-batter":"Top Order Batter","middle-order-batter":"Middle Order Batter",finisher:"Finisher","wicketkeeper-batter":"Wicketkeeper Batter","batting-allrounder":"Batting Allrounder","bowling-allrounder":"Bowling Allrounder","spin-bowling-allrounder":"Spin Bowling Allrounder","opening-bowler":"Opening Bowler","pace-bowler":"Pace Bowler","spin-bowler":"Spin Bowler","death-bowler":"Death Bowler"}[i]||null,Bg=()=>{const{selectedPlayerId:i,players:d,playerTeamId:c,teams:o,navigateTo:f,canTalkToPlayer:m}=Ve(),[b,y]=le.useState(!1),x=d.find(S=>S.id===i),v=o.find(S=>S.id===c)?.squad.includes(x?.id||"")||!1,p=i?m(i):!1,A=Og(x?.playingRole);return x?l.jsxs("div",{className:"min-h-screen bg-gray-900 text-white pb-24",children:[l.jsx("header",{className:"bg-gray-800 p-4 border-b border-gray-700",children:l.jsx("button",{onClick:()=>f("squad"),className:"text-blue-400 hover:text-blue-300 mb-2",children:" Back"})}),l.jsxs("div",{className:"max-w-lg mx-auto p-4 space-y-4",children:[l.jsxs("div",{className:"bg-gray-800 rounded-xl p-4 border border-gray-700",children:[l.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[x.imageUrl&&!b?l.jsx("img",{src:x.imageUrl,alt:x.name,className:"w-16 h-16 rounded-full object-cover border-2 border-gray-600",onError:()=>y(!0)}):l.jsx("div",{className:`w-16 h-16 rounded-full ${Cg[x.role]} flex items-center justify-center text-xl font-bold`,children:x.shortName.slice(0,2).toUpperCase()}),l.jsxs("div",{className:"flex-1",children:[l.jsxs("h1",{className:"text-xl font-bold flex items-center gap-2",children:[x.name,x.contract.isOverseas&&l.jsx("span",{className:"text-xs bg-yellow-600/30 text-yellow-400 px-2 py-0.5 rounded",children:"Overseas"})]}),l.jsxs("p",{className:"text-gray-400",children:[x.age," years  ",x.nationality]}),l.jsxs("p",{className:"text-sm text-gray-500",children:[A||x.role.charAt(0).toUpperCase()+x.role.slice(1)," ",""," ",x.battingStyle==="left"?"Left-hand bat":"Right-hand bat",x.bowlingStyle&&`  ${x.bowlingStyle.replace(/-/g," ")}`]})]})]}),l.jsxs("div",{className:"flex justify-between items-center",children:[l.jsx(Cn,{form:x.form,size:"lg"}),l.jsxs("div",{className:"text-right",children:[l.jsx("div",{className:"text-sm text-gray-400",children:"Contract"}),l.jsxs("div",{className:"font-bold text-green-400",children:["",x.contract.salary," L"]}),l.jsxs("div",{className:"text-xs text-gray-500",children:[x.contract.yearsRemaining," yrs left"]})]})]}),v&&l.jsxs("button",{onClick:()=>f("player-talk"),className:`w-full mt-4 py-3 rounded-lg font-medium transition-colors flex items-center justify-center gap-2 ${p?"bg-blue-600 hover:bg-blue-700 text-white":"bg-gray-700 text-gray-400 cursor-not-allowed"}`,disabled:!p,children:[l.jsx("span",{children:""}),l.jsx("span",{children:p?"Talk to Player":"Recently Talked"})]})]}),l.jsxs("div",{className:"bg-gray-800 rounded-xl p-4 border border-gray-700",children:[l.jsx("h2",{className:"text-sm font-semibold text-gray-400 mb-4",children:"CURRENT STATE"}),l.jsxs("div",{className:"space-y-3",children:[l.jsx(qe,{value:x.fitness,label:"Fitness",color:x.fitness>=80?"green":x.fitness>=60?"yellow":"red"}),l.jsx(qe,{value:x.morale,label:"Morale",color:x.morale>=80?"green":x.morale>=60?"yellow":"red"}),l.jsx(qe,{value:x.fatigue,label:"Fatigue",color:x.fatigue<=30?"green":x.fatigue<=60?"yellow":"red"})]})]}),(x.role==="batsman"||x.role==="allrounder"||x.role==="keeper")&&l.jsxs("div",{className:"bg-gray-800 rounded-xl p-4 border border-gray-700",children:[l.jsxs("div",{className:"flex justify-between items-center mb-4",children:[l.jsx("h2",{className:"text-sm font-semibold text-gray-400",children:"BATTING"}),l.jsxs("span",{className:"text-sm text-blue-400",children:["Potential: ",x.potential.batting]})]}),l.jsxs("div",{className:"space-y-3",children:[l.jsx(qe,{value:x.batting.technique,label:"Technique",color:"blue"}),l.jsx(qe,{value:x.batting.power,label:"Power",color:"blue"}),l.jsx(qe,{value:x.batting.timing,label:"Timing",color:"blue"}),l.jsx(qe,{value:x.batting.temperament,label:"Temperament",color:"blue"})]})]}),(x.role==="bowler"||x.role==="allrounder")&&x.bowlingStyle&&l.jsxs("div",{className:"bg-gray-800 rounded-xl p-4 border border-gray-700",children:[l.jsxs("div",{className:"flex justify-between items-center mb-4",children:[l.jsx("h2",{className:"text-sm font-semibold text-gray-400",children:"BOWLING"}),l.jsxs("span",{className:"text-sm text-green-400",children:["Potential: ",x.potential.bowling]})]}),l.jsxs("div",{className:"space-y-3",children:[l.jsx(qe,{value:x.bowling.speed,label:"Speed/Spin",color:"green"}),l.jsx(qe,{value:x.bowling.accuracy,label:"Accuracy",color:"green"}),l.jsx(qe,{value:x.bowling.variation,label:"Variation",color:"green"}),l.jsx(qe,{value:x.bowling.stamina,label:"Stamina",color:"green"})]})]}),l.jsxs("div",{className:"bg-gray-800 rounded-xl p-4 border border-gray-700",children:[l.jsxs("div",{className:"flex justify-between items-center mb-4",children:[l.jsx("h2",{className:"text-sm font-semibold text-gray-400",children:"FIELDING"}),l.jsxs("span",{className:"text-sm text-purple-400",children:["Potential: ",x.potential.fielding]})]}),l.jsxs("div",{className:"space-y-3",children:[l.jsx(qe,{value:x.fielding.catching,label:"Catching",color:"purple"}),l.jsx(qe,{value:x.fielding.ground,label:"Ground Fielding",color:"purple"}),l.jsx(qe,{value:x.fielding.throwing,label:"Throwing",color:"purple"}),l.jsx(qe,{value:x.fielding.athleticism,label:"Athleticism",color:"purple"})]})]}),l.jsxs("div",{className:"bg-gray-800 rounded-xl p-4 border border-gray-700",children:[l.jsx("h2",{className:"text-sm font-semibold text-gray-400 mb-4",children:"PERSONALITY"}),l.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsx("div",{className:"text-sm text-gray-400",children:"Temperament"}),l.jsx("div",{className:"font-medium capitalize",children:x.personality.temperament})]}),l.jsxs("div",{children:[l.jsx("div",{className:"text-sm text-gray-400",children:"Leadership"}),l.jsx("div",{className:"font-medium",children:x.personality.leadership})]}),l.jsxs("div",{children:[l.jsx("div",{className:"text-sm text-gray-400",children:"Professionalism"}),l.jsx("div",{className:"font-medium",children:x.personality.professionalism})]}),l.jsxs("div",{children:[l.jsx("div",{className:"text-sm text-gray-400",children:"Ambition"}),l.jsx("div",{className:"font-medium",children:x.personality.ambition})]})]})]})]})]}):l.jsx("div",{className:"min-h-screen bg-gray-900 text-white flex items-center justify-center",children:l.jsx("p",{children:"Player not found"})})},kg={batsman:"bg-blue-600",bowler:"bg-green-600",allrounder:"bg-purple-600",keeper:"bg-yellow-600"},_0={praise:{label:"Praise",color:"text-green-400",icon:""},correct:{label:"Correct",color:"text-orange-400",icon:""},motivate:{label:"Motivate",color:"text-blue-400",icon:""}},zg=()=>{const{selectedPlayerId:i,players:d,navigateTo:c,canTalkToPlayer:o,getInteractionOptions:f,talkToPlayer:m}=Ve(),[b,y]=le.useState(null),[x,h]=le.useState(null),v=d.find(E=>E.id===i),p=i?f(i):[],A=i?o(i):!1;if(!v)return l.jsx("div",{className:"min-h-screen bg-gray-900 text-white flex items-center justify-center",children:l.jsx("p",{children:"Player not found"})});const S=E=>{if(!i)return;const k=m(i,E);y(k)},j=()=>{c("player-detail")},N=()=>{c("player-detail")};p.reduce((E,k)=>(E[k.category]||(E[k.category]=[]),E[k.category].push(k),E),{});const w=x?p.filter(E=>E.category===x):p;return l.jsxs("div",{className:"min-h-screen bg-gray-900 text-white pb-24",children:[l.jsxs("header",{className:"bg-gray-800 p-4 border-b border-gray-700",children:[l.jsx("button",{onClick:j,className:"text-blue-400 hover:text-blue-300 mb-2",children:" Back"}),l.jsx("h1",{className:"text-lg font-bold",children:"Talk to Player"})]}),l.jsxs("div",{className:"max-w-lg mx-auto p-4 space-y-4",children:[l.jsxs("div",{className:"bg-gray-800 rounded-xl p-4 border border-gray-700",children:[l.jsxs("div",{className:"flex items-center gap-4",children:[l.jsx("div",{className:`w-14 h-14 rounded-full ${kg[v.role]} flex items-center justify-center text-lg font-bold`,children:v.shortName.slice(0,2).toUpperCase()}),l.jsxs("div",{className:"flex-1",children:[l.jsx("h2",{className:"text-lg font-bold",children:v.name}),l.jsx("p",{className:"text-sm text-gray-400",children:v.role.charAt(0).toUpperCase()+v.role.slice(1)})]})]}),l.jsxs("div",{className:"mt-4 grid grid-cols-2 gap-3",children:[l.jsxs("div",{children:[l.jsx("div",{className:"text-xs text-gray-500 mb-1",children:"Morale"}),l.jsx(qe,{value:v.morale,label:"",color:v.morale>=70?"green":v.morale>=50?"yellow":"red"})]}),l.jsxs("div",{children:[l.jsx("div",{className:"text-xs text-gray-500 mb-1",children:"Form"}),l.jsxs("div",{className:`text-lg font-bold ${v.form>5?"text-green-400":v.form<-5?"text-red-400":"text-gray-400"}`,children:[v.form>0?"+":"",v.form]})]})]}),l.jsxs("div",{className:"mt-4 p-3 bg-gray-700/50 rounded-lg",children:[l.jsx("div",{className:"text-xs text-gray-500 mb-1",children:"Personality"}),l.jsxs("div",{className:"flex flex-wrap gap-2 text-xs",children:[l.jsx("span",{className:`px-2 py-1 rounded ${v.personality.temperament==="fiery"?"bg-red-900/50 text-red-400":v.personality.temperament==="calm"?"bg-green-900/50 text-green-400":"bg-purple-900/50 text-purple-400"}`,children:v.personality.temperament.charAt(0).toUpperCase()+v.personality.temperament.slice(1)}),v.personality.professionalism>70&&l.jsx("span",{className:"px-2 py-1 rounded bg-blue-900/50 text-blue-400",children:"Professional"}),v.personality.ambition>70&&l.jsx("span",{className:"px-2 py-1 rounded bg-yellow-900/50 text-yellow-400",children:"Ambitious"}),v.personality.leadership>70&&l.jsx("span",{className:"px-2 py-1 rounded bg-cyan-900/50 text-cyan-400",children:"Leader"})]})]})]}),b&&l.jsxs("div",{className:`rounded-xl p-4 border ${b.success?"bg-gray-800 border-gray-700":"bg-red-900/30 border-red-700"}`,children:[l.jsx("h3",{className:"font-semibold mb-2",children:b.success?"Conversation Complete":"That didn't go well..."}),l.jsxs("div",{className:"bg-gray-700/50 rounded-lg p-3 mb-4 italic text-gray-300",children:['"',b.playerResponse,'"']}),l.jsxs("div",{className:"flex flex-wrap gap-3 text-sm",children:[b.effects.morale!==0&&l.jsxs("div",{className:`flex items-center gap-1 ${b.effects.morale>0?"text-green-400":"text-red-400"}`,children:[l.jsx("span",{children:"Morale"}),l.jsxs("span",{className:"font-bold",children:[b.effects.morale>0?"+":"",b.effects.morale]})]}),b.effects.form!==0&&l.jsxs("div",{className:`flex items-center gap-1 ${b.effects.form>0?"text-green-400":"text-red-400"}`,children:[l.jsx("span",{children:"Form"}),l.jsxs("span",{className:"font-bold",children:[b.effects.form>0?"+":"",b.effects.form]})]}),b.effects.pressHeat&&l.jsxs("div",{className:"flex items-center gap-1 text-orange-400",children:[l.jsx("span",{children:"Press Heat"}),l.jsxs("span",{className:"font-bold",children:["+",b.effects.pressHeat]})]})]}),l.jsx("button",{onClick:N,className:"w-full mt-4 bg-blue-600 hover:bg-blue-700 text-white py-3 rounded-lg font-medium transition-colors",children:"Done"})]}),!b&&A&&l.jsxs(l.Fragment,{children:[l.jsxs("div",{className:"flex gap-2",children:[l.jsx("button",{onClick:()=>h(null),className:`flex-1 py-2 px-3 rounded-lg text-sm font-medium transition-colors ${x===null?"bg-gray-600 text-white":"bg-gray-800 text-gray-400 hover:bg-gray-700"}`,children:"All"}),Object.entries(_0).map(([E,{label:k,icon:B}])=>l.jsxs("button",{onClick:()=>h(E),className:`flex-1 py-2 px-3 rounded-lg text-sm font-medium transition-colors ${x===E?"bg-gray-600 text-white":"bg-gray-800 text-gray-400 hover:bg-gray-700"}`,children:[B," ",k]},E))]}),l.jsx("div",{className:"space-y-3",children:w.map(E=>{const k=_0[E.category];return l.jsx("button",{onClick:()=>S(E),className:"w-full bg-gray-800 rounded-xl p-4 border border-gray-700 text-left hover:bg-gray-700/50 transition-colors",children:l.jsxs("div",{className:"flex items-start gap-3",children:[l.jsx("span",{className:"text-xl",children:k.icon}),l.jsxs("div",{className:"flex-1",children:[l.jsx("div",{className:"font-medium mb-1",children:E.label}),l.jsx("div",{className:"text-sm text-gray-400",children:E.description}),l.jsxs("div",{className:"flex gap-3 mt-2 text-xs",children:[E.baseEffects.morale!==0&&l.jsxs("span",{className:E.baseEffects.morale>0?"text-green-500":"text-red-500",children:["Morale ",E.baseEffects.morale>0?"+":"",E.baseEffects.morale]}),E.baseEffects.form!==0&&l.jsxs("span",{className:E.baseEffects.form>0?"text-blue-500":"text-orange-500",children:["Form ",E.baseEffects.form>0?"+":"",E.baseEffects.form]})]})]})]})},E.id)})})]}),!b&&!A&&l.jsxs("div",{className:"bg-gray-800 rounded-xl p-6 border border-gray-700 text-center",children:[l.jsx("div",{className:"text-4xl mb-3",children:""}),l.jsx("h3",{className:"font-semibold mb-2",children:"Recently Talked"}),l.jsxs("p",{className:"text-gray-400 text-sm",children:["You've already spoken to ",v.shortName," recently. Give them some time before your next conversation."]}),l.jsx("button",{onClick:j,className:"mt-4 text-blue-400 hover:text-blue-300",children:"Go Back"})]})]})]})},Dg={"pre-match":{label:"Pre-Match",color:"text-blue-400",icon:""},"post-win":{label:"After Victory",color:"text-green-400",icon:""},"post-loss":{label:"After Defeat",color:"text-orange-400",icon:""},crisis:{label:"Crisis Meeting",color:"text-red-400",icon:""}},_g=()=>{const{playerTeamId:i,teams:d,players:c,navigateTo:o,canHoldTeamMeeting:f,getTeamMeetingOptions:m,holdTeamMeeting:b}=Ve(),[y,x]=le.useState(null),h=d.find(B=>B.id===i),v=c.filter(B=>h?.squad.includes(B.id)),p=m(),A=f(),S=v.length?Math.round(v.reduce((B,W)=>B+W.morale,0)/v.length):0,j=v.filter(B=>B.morale<50).length,N=v.filter(B=>B.morale>=70).length,w=B=>{const W=b(B);x(W)},E=()=>{o("club")},k=()=>{o("home")};return l.jsxs("div",{className:"min-h-screen bg-gray-900 text-white pb-24",children:[l.jsxs("header",{className:"bg-gray-800 p-4 border-b border-gray-700",children:[l.jsx("button",{onClick:E,className:"text-blue-400 hover:text-blue-300 mb-2",children:" Back"}),l.jsx("h1",{className:"text-lg font-bold",children:"Team Meeting"})]}),l.jsxs("div",{className:"max-w-lg mx-auto p-4 space-y-4",children:[l.jsxs("div",{className:"bg-gray-800 rounded-xl p-4 border border-gray-700",children:[l.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[l.jsx("div",{className:"w-14 h-14 rounded-full flex items-center justify-center text-lg font-bold",style:{backgroundColor:h?.colors.primary},children:h?.shortName}),l.jsxs("div",{className:"flex-1",children:[l.jsx("h2",{className:"text-lg font-bold",children:h?.name}),l.jsxs("p",{className:"text-sm text-gray-400",children:[v.length," players in squad"]})]})]}),l.jsxs("div",{className:"mb-4",children:[l.jsx("div",{className:"text-xs text-gray-500 mb-1",children:"Team Morale"}),l.jsx(qe,{value:S,label:"",color:S>=70?"green":S>=50?"yellow":"red"})]}),l.jsxs("div",{className:"grid grid-cols-2 gap-3 text-sm",children:[l.jsx("div",{className:"bg-gray-700/50 rounded-lg p-3",children:l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("span",{className:"text-red-400 text-lg",children:""}),l.jsxs("div",{children:[l.jsx("div",{className:"font-bold text-red-400",children:j}),l.jsx("div",{className:"text-xs text-gray-500",children:"Low morale"})]})]})}),l.jsx("div",{className:"bg-gray-700/50 rounded-lg p-3",children:l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("span",{className:"text-green-400 text-lg",children:""}),l.jsxs("div",{children:[l.jsx("div",{className:"font-bold text-green-400",children:N}),l.jsx("div",{className:"text-xs text-gray-500",children:"High morale"})]})]})})]})]}),y&&l.jsxs("div",{className:`rounded-xl p-4 border ${y.success?"bg-gray-800 border-gray-700":"bg-red-900/30 border-red-700"}`,children:[l.jsx("h3",{className:"font-semibold mb-2",children:y.success?"Meeting Complete":"That didn't go well..."}),l.jsx("div",{className:"bg-gray-700/50 rounded-lg p-3 mb-4 text-gray-300",children:y.message}),y.notableReactions.length>0&&l.jsxs("div",{className:"mb-4",children:[l.jsx("div",{className:"text-xs text-gray-500 mb-2",children:"Notable Reactions"}),l.jsx("div",{className:"space-y-2",children:y.notableReactions.map((B,W)=>l.jsxs("div",{className:"bg-gray-700/30 rounded-lg p-2 text-sm",children:[l.jsxs("span",{className:"font-medium text-blue-400",children:[B.playerName,":"]})," ",l.jsxs("span",{className:"text-gray-300 italic",children:['"',B.reaction,'"']})]},W))})]}),l.jsx("div",{className:"flex items-center gap-4 text-sm",children:l.jsxs("div",{className:`flex items-center gap-1 ${y.avgMoraleChange>0?"text-green-400":"text-red-400"}`,children:[l.jsx("span",{children:"Avg Morale"}),l.jsxs("span",{className:"font-bold",children:[y.avgMoraleChange>0?"+":"",y.avgMoraleChange]})]})}),l.jsx("button",{onClick:k,className:"w-full mt-4 bg-blue-600 hover:bg-blue-700 text-white py-3 rounded-lg font-medium transition-colors",children:"Done"})]}),!y&&A&&l.jsxs("div",{className:"space-y-3",children:[l.jsx("h3",{className:"text-sm font-semibold text-gray-400",children:"CHOOSE YOUR MESSAGE"}),p.map(B=>{const W=Dg[B.type]||{label:B.type,icon:""};return l.jsx("button",{onClick:()=>w(B),className:"w-full bg-gray-800 rounded-xl p-4 border border-gray-700 text-left hover:bg-gray-700/50 transition-colors",children:l.jsxs("div",{className:"flex items-start gap-3",children:[l.jsx("span",{className:"text-xl",children:W.icon}),l.jsxs("div",{className:"flex-1",children:[l.jsx("div",{className:"font-medium mb-1",children:B.label}),l.jsx("div",{className:"text-sm text-gray-400",children:B.description}),l.jsx("div",{className:"flex gap-3 mt-2 text-xs",children:l.jsxs("span",{className:B.baseMoraleDelta>0?"text-green-500":B.baseMoraleDelta<0?"text-red-500":"text-gray-500",children:["Morale"," ",B.baseMoraleDelta>0?"+":"",B.baseMoraleDelta]})})]})]})},B.id)})]}),!y&&!A&&l.jsxs("div",{className:"bg-gray-800 rounded-xl p-6 border border-gray-700 text-center",children:[l.jsx("div",{className:"text-4xl mb-3",children:""}),l.jsx("h3",{className:"font-semibold mb-2",children:"Recent Meeting"}),l.jsx("p",{className:"text-gray-400 text-sm",children:"You've already held a team meeting recently. Give the players some time to absorb your message before calling another meeting."}),l.jsx("button",{onClick:E,className:"mt-4 text-blue-400 hover:text-blue-300",children:"Go Back"})]})]})]})},qg=()=>{const{fixtures:i,players:d,teams:c,playerTeamId:o}=Ve(),[f,m]=le.useState("batting"),b=c.find(N=>N.id===o),y=le.useMemo(()=>{const N=new Map;return d.forEach(w=>{const E=c.find(k=>k.squad.includes(w.id));N.set(w.id,{playerId:w.id,name:w.name,shortName:w.shortName,teamId:E?.id||"",teamShortName:E?.shortName||"",runs:0,balls:0,fours:0,sixes:0,fifties:0,wickets:0,oversBowled:0,runsConceded:0,dots:0,fourWickets:0,matches:0})}),i.filter(w=>w.status==="completed").forEach(w=>{const E=k=>{if(!k)return;const B=k.batterStats;B&&(B instanceof Map?Array.from(B.entries()):Object.entries(B)).forEach(([ne,R])=>{const G=N.get(ne);G&&R&&(G.runs+=R.runs||0,G.balls+=R.balls||0,G.fours+=R.fours||0,G.sixes+=R.sixes||0,(R.runs||0)>=50&&(G.fifties+=1))});const W=k.bowlerStats;W&&(W instanceof Map?Array.from(W.entries()):Object.entries(W)).forEach(([ne,R])=>{const G=N.get(ne);G&&R&&(G.wickets+=R.wickets||0,G.oversBowled+=R.overs||0,G.runsConceded+=R.runs||0,G.dots+=R.dots||0,(R.wickets||0)>=4&&(G.fourWickets+=1))})};E(w.innings1),E(w.innings2),c.find(k=>k.id===w.homeTeam),c.find(k=>k.id===w.awayTeam),w.homeTactics?.playingXI.forEach(k=>{const B=N.get(k);B&&(B.matches+=1)}),w.awayTactics?.playingXI.forEach(k=>{const B=N.get(k);B&&(B.matches+=1)})}),Array.from(N.values())},[i,d,c]),x=le.useMemo(()=>[...y].filter(N=>N.runs>0).sort((N,w)=>w.runs-N.runs).slice(0,10),[y]),h=le.useMemo(()=>[...y].filter(N=>N.wickets>0).sort((N,w)=>w.wickets-N.wickets).slice(0,10),[y]),v=le.useMemo(()=>[...y].filter(N=>N.balls>=30).map(N=>({...N,strikeRate:N.runs/N.balls*100})).sort((N,w)=>w.strikeRate-N.strikeRate).slice(0,10),[y]),p=le.useMemo(()=>[...y].filter(N=>N.oversBowled>=6).map(N=>({...N,economy:N.runsConceded/N.oversBowled})).sort((N,w)=>N.economy-w.economy).slice(0,10),[y]),A=le.useMemo(()=>y.filter(N=>N.teamId===o),[y,o]),S=le.useMemo(()=>[...A].sort((N,w)=>w.runs-N.runs)[0],[A]),j=le.useMemo(()=>[...A].sort((N,w)=>w.wickets-N.wickets)[0],[A]);return l.jsxs("div",{className:"min-h-screen bg-gray-900 text-white pb-24",children:[l.jsx("header",{className:"bg-gray-800 p-4 border-b border-gray-700",children:l.jsxs("div",{className:"max-w-lg mx-auto",children:[l.jsx("h1",{className:"text-xl font-bold",children:"Season Stats"}),l.jsx("p",{className:"text-sm text-gray-400",children:"Leaderboards & Records"})]})}),l.jsxs("div",{className:"max-w-lg mx-auto p-4 space-y-4",children:[l.jsx("div",{className:"flex gap-2",children:["batting","bowling","team"].map(N=>l.jsx("button",{onClick:()=>m(N),className:`flex-1 py-2 rounded-lg text-sm font-medium transition-colors ${f===N?"bg-blue-600 text-white":"bg-gray-700 text-gray-300 hover:bg-gray-600"}`,children:N.charAt(0).toUpperCase()+N.slice(1)},N))}),f==="batting"&&l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{className:"bg-gray-800 rounded-xl p-4 border border-gray-700",children:[l.jsx("h3",{className:"text-sm font-semibold text-orange-400 mb-3",children:"TOP RUN SCORERS"}),x.length===0?l.jsx("p",{className:"text-gray-500 text-sm",children:"No data yet"}):l.jsxs("div",{className:"space-y-2",children:[l.jsxs("div",{className:"grid grid-cols-12 gap-1 text-xs text-gray-500 border-b border-gray-700 pb-1",children:[l.jsx("div",{className:"col-span-1",children:"#"}),l.jsx("div",{className:"col-span-5",children:"Player"}),l.jsx("div",{className:"col-span-2 text-right",children:"Runs"}),l.jsx("div",{className:"col-span-2 text-right",children:"SR"}),l.jsx("div",{className:"col-span-2 text-right",children:"50s"})]}),x.map((N,w)=>{const E=N.balls>0?(N.runs/N.balls*100).toFixed(1):"-",k=N.teamId===o;return l.jsxs("div",{className:`grid grid-cols-12 gap-1 text-sm ${k?"text-blue-400":""}`,children:[l.jsx("div",{className:"col-span-1 text-gray-500",children:w+1}),l.jsxs("div",{className:"col-span-5 truncate",children:[N.shortName,l.jsxs("span",{className:"text-xs text-gray-500 ml-1",children:["(",N.teamShortName,")"]})]}),l.jsx("div",{className:"col-span-2 text-right font-medium",children:N.runs}),l.jsx("div",{className:"col-span-2 text-right text-gray-400",children:E}),l.jsx("div",{className:"col-span-2 text-right text-yellow-400",children:N.fifties||"-"})]},N.playerId)})]})]}),l.jsxs("div",{className:"bg-gray-800 rounded-xl p-4 border border-gray-700",children:[l.jsx("h3",{className:"text-sm font-semibold text-green-400 mb-3",children:"BEST STRIKE RATES (min 30 balls)"}),v.length===0?l.jsx("p",{className:"text-gray-500 text-sm",children:"No data yet"}):l.jsxs("div",{className:"space-y-2",children:[l.jsxs("div",{className:"grid grid-cols-12 gap-1 text-xs text-gray-500 border-b border-gray-700 pb-1",children:[l.jsx("div",{className:"col-span-1",children:"#"}),l.jsx("div",{className:"col-span-5",children:"Player"}),l.jsx("div",{className:"col-span-2 text-right",children:"SR"}),l.jsx("div",{className:"col-span-2 text-right",children:"Runs"}),l.jsx("div",{className:"col-span-2 text-right",children:"6s"})]}),v.slice(0,5).map((N,w)=>{const E=N.teamId===o;return l.jsxs("div",{className:`grid grid-cols-12 gap-1 text-sm ${E?"text-blue-400":""}`,children:[l.jsx("div",{className:"col-span-1 text-gray-500",children:w+1}),l.jsxs("div",{className:"col-span-5 truncate",children:[N.shortName,l.jsxs("span",{className:"text-xs text-gray-500 ml-1",children:["(",N.teamShortName,")"]})]}),l.jsx("div",{className:"col-span-2 text-right font-medium text-green-400",children:N.strikeRate.toFixed(1)}),l.jsx("div",{className:"col-span-2 text-right text-gray-400",children:N.runs}),l.jsx("div",{className:"col-span-2 text-right text-purple-400",children:N.sixes||"-"})]},N.playerId)})]})]})]}),f==="bowling"&&l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{className:"bg-gray-800 rounded-xl p-4 border border-gray-700",children:[l.jsx("h3",{className:"text-sm font-semibold text-purple-400 mb-3",children:"TOP WICKET TAKERS"}),h.length===0?l.jsx("p",{className:"text-gray-500 text-sm",children:"No data yet"}):l.jsxs("div",{className:"space-y-2",children:[l.jsxs("div",{className:"grid grid-cols-12 gap-1 text-xs text-gray-500 border-b border-gray-700 pb-1",children:[l.jsx("div",{className:"col-span-1",children:"#"}),l.jsx("div",{className:"col-span-5",children:"Player"}),l.jsx("div",{className:"col-span-2 text-right",children:"Wkts"}),l.jsx("div",{className:"col-span-2 text-right",children:"Econ"}),l.jsx("div",{className:"col-span-2 text-right",children:"4W"})]}),h.map((N,w)=>{const E=N.oversBowled>0?(N.runsConceded/N.oversBowled).toFixed(1):"-",k=N.teamId===o;return l.jsxs("div",{className:`grid grid-cols-12 gap-1 text-sm ${k?"text-blue-400":""}`,children:[l.jsx("div",{className:"col-span-1 text-gray-500",children:w+1}),l.jsxs("div",{className:"col-span-5 truncate",children:[N.shortName,l.jsxs("span",{className:"text-xs text-gray-500 ml-1",children:["(",N.teamShortName,")"]})]}),l.jsx("div",{className:"col-span-2 text-right font-medium",children:N.wickets}),l.jsx("div",{className:"col-span-2 text-right text-gray-400",children:E}),l.jsx("div",{className:"col-span-2 text-right text-yellow-400",children:N.fourWickets||"-"})]},N.playerId)})]})]}),l.jsxs("div",{className:"bg-gray-800 rounded-xl p-4 border border-gray-700",children:[l.jsx("h3",{className:"text-sm font-semibold text-green-400 mb-3",children:"BEST ECONOMY (min 6 overs)"}),p.length===0?l.jsx("p",{className:"text-gray-500 text-sm",children:"No data yet"}):l.jsxs("div",{className:"space-y-2",children:[l.jsxs("div",{className:"grid grid-cols-12 gap-1 text-xs text-gray-500 border-b border-gray-700 pb-1",children:[l.jsx("div",{className:"col-span-1",children:"#"}),l.jsx("div",{className:"col-span-5",children:"Player"}),l.jsx("div",{className:"col-span-2 text-right",children:"Econ"}),l.jsx("div",{className:"col-span-2 text-right",children:"Overs"}),l.jsx("div",{className:"col-span-2 text-right",children:"Wkts"})]}),p.slice(0,5).map((N,w)=>{const E=N.teamId===o;return l.jsxs("div",{className:`grid grid-cols-12 gap-1 text-sm ${E?"text-blue-400":""}`,children:[l.jsx("div",{className:"col-span-1 text-gray-500",children:w+1}),l.jsxs("div",{className:"col-span-5 truncate",children:[N.shortName,l.jsxs("span",{className:"text-xs text-gray-500 ml-1",children:["(",N.teamShortName,")"]})]}),l.jsx("div",{className:"col-span-2 text-right font-medium text-green-400",children:N.economy.toFixed(2)}),l.jsx("div",{className:"col-span-2 text-right text-gray-400",children:N.oversBowled}),l.jsx("div",{className:"col-span-2 text-right text-purple-400",children:N.wickets})]},N.playerId)})]})]})]}),f==="team"&&l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{className:"bg-blue-900/30 rounded-xl p-4 border border-blue-700",children:[l.jsxs("h3",{className:"text-sm font-semibold text-blue-400 mb-3",children:[b?.name," TOP PERFORMERS"]}),l.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[l.jsxs("div",{className:"bg-gray-800/50 rounded-lg p-3",children:[l.jsx("div",{className:"text-xs text-gray-400 mb-1",children:"Top Scorer"}),S&&S.runs>0?l.jsxs(l.Fragment,{children:[l.jsx("div",{className:"font-medium",children:S.shortName}),l.jsxs("div",{className:"text-orange-400 text-lg font-bold",children:[S.runs," runs"]}),l.jsxs("div",{className:"text-xs text-gray-500",children:["SR: ",S.balls>0?(S.runs/S.balls*100).toFixed(1):"-"]})]}):l.jsx("div",{className:"text-gray-500 text-sm",children:"No data yet"})]}),l.jsxs("div",{className:"bg-gray-800/50 rounded-lg p-3",children:[l.jsx("div",{className:"text-xs text-gray-400 mb-1",children:"Top Wicket Taker"}),j&&j.wickets>0?l.jsxs(l.Fragment,{children:[l.jsx("div",{className:"font-medium",children:j.shortName}),l.jsxs("div",{className:"text-purple-400 text-lg font-bold",children:[j.wickets," wickets"]}),l.jsxs("div",{className:"text-xs text-gray-500",children:["Econ: ",j.oversBowled>0?(j.runsConceded/j.oversBowled).toFixed(2):"-"]})]}):l.jsx("div",{className:"text-gray-500 text-sm",children:"No data yet"})]})]})]}),l.jsxs("div",{className:"bg-gray-800 rounded-xl p-4 border border-gray-700",children:[l.jsx("h3",{className:"text-sm font-semibold text-gray-400 mb-3",children:"YOUR SQUAD STATS"}),l.jsxs("div",{className:"space-y-2",children:[l.jsxs("div",{className:"grid grid-cols-12 gap-1 text-xs text-gray-500 border-b border-gray-700 pb-1",children:[l.jsx("div",{className:"col-span-4",children:"Player"}),l.jsx("div",{className:"col-span-2 text-right",children:"Runs"}),l.jsx("div",{className:"col-span-2 text-right",children:"SR"}),l.jsx("div",{className:"col-span-2 text-right",children:"Wkts"}),l.jsx("div",{className:"col-span-2 text-right",children:"Econ"})]}),A.filter(N=>N.runs>0||N.wickets>0).sort((N,w)=>w.runs+w.wickets*20-(N.runs+N.wickets*20)).map(N=>{const w=N.balls>0?(N.runs/N.balls*100).toFixed(0):"-",E=N.oversBowled>0?(N.runsConceded/N.oversBowled).toFixed(1):"-";return l.jsxs("div",{className:"grid grid-cols-12 gap-1 text-sm",children:[l.jsx("div",{className:"col-span-4 truncate",children:N.shortName}),l.jsx("div",{className:"col-span-2 text-right text-orange-400",children:N.runs||"-"}),l.jsx("div",{className:"col-span-2 text-right text-gray-400",children:w}),l.jsx("div",{className:"col-span-2 text-right text-purple-400",children:N.wickets||"-"}),l.jsx("div",{className:"col-span-2 text-right text-gray-400",children:E})]},N.playerId)})]})]})]})]})]})},Ug=()=>{const{fixtures:i,teams:d,players:c,playerTeamId:o,pointsTable:f,navigateTo:m,selectMatch:b,openPlayerModal:y,openTeamModal:x}=Ve(),[h,v]=le.useState("your"),[p,A]=le.useState(null),[S,j]=le.useState(null),N=d.find(O=>O.id===o),w=O=>O?.batterStats?O.batterStats instanceof Map?Array.from(O.batterStats.entries()):Object.entries(O.batterStats):[],E=O=>O?.bowlerStats?O.bowlerStats instanceof Map?Array.from(O.bowlerStats.entries()):Object.entries(O.bowlerStats):[],B=[...i.filter(O=>h==="your"?O.homeTeam===o||O.awayTeam===o:h==="upcoming"?O.status==="upcoming":h==="completed"?O.status==="completed":!0)].sort((O,ae)=>O.matchNumber-ae.matchNumber),W=O=>{const ae=d.find(te=>te.id===O);if(!ae)return null;const J=c.filter(te=>ae.squad.includes(te.id)),fe=i.filter(te=>te.status==="completed"&&(te.homeTeam===O||te.awayTeam===O)).slice(-3).map(te=>!te.innings1||!te.innings2?"unknown":te.innings2.runs>=te.innings1.runs+1?te.innings2.battingTeam===O?"W":"L":te.innings1.battingTeam===O?"W":"L"),se=J.filter(te=>te.role==="batsman"||te.role==="allrounder"||te.role==="keeper").sort((te,xe)=>xe.form-te.form)[0],z=J.filter(te=>te.role==="bowler"||te.role==="allrounder").sort((te,xe)=>xe.form-te.form)[0],K=f.find(te=>te.teamId===O);return{team:ae,recentResults:fe,topBatter:se,topBowler:z,tableEntry:K,avgMorale:Math.round(J.reduce((te,xe)=>te+xe.morale,0)/J.length)}},_=O=>{A(p===O?null:O)},ne=O=>{b(O),m("match-prep")},R=O=>({league:"League",qualifier1:"Qualifier 1",eliminator:"Eliminator",qualifier2:"Qualifier 2",final:"Final"})[O]||O,G=O=>{if(O.status!=="completed"||!O.innings1||!O.innings2)return null;const ae=O.innings2.runs>=O.innings1.runs+1,J=ae?O.innings2.battingTeam:O.innings1.battingTeam,Z=d.find(fe=>fe.id===J);if(ae){const fe=10-O.innings2.wickets;return`${Z?.shortName} won by ${fe} wickets`}else{const fe=O.innings1.runs-O.innings2.runs;return`${Z?.shortName} won by ${fe} runs`}},ue=[...f].sort((O,ae)=>ae.points!==O.points?ae.points-O.points:ae.netRunRate-O.netRunRate);return l.jsxs("div",{className:"min-h-screen bg-gray-900 text-white pb-24",children:[l.jsx("header",{className:"bg-gray-800 p-4 border-b border-gray-700",children:l.jsxs("div",{className:"max-w-lg mx-auto",children:[l.jsx("h1",{className:"text-xl font-bold",children:"Schedule"}),l.jsx("p",{className:"text-sm text-gray-400",children:N?.name})]})}),l.jsxs("div",{className:"max-w-lg mx-auto p-4 space-y-4",children:[l.jsx("div",{className:"flex gap-2 overflow-x-auto pb-2",children:["your","all","upcoming","completed"].map(O=>l.jsx("button",{onClick:()=>v(O),className:`px-4 py-2 rounded-full text-sm whitespace-nowrap transition-colors ${h===O?"bg-blue-600 text-white":"bg-gray-700 text-gray-300 hover:bg-gray-600"}`,children:O==="your"?"Your Matches":O.charAt(0).toUpperCase()+O.slice(1)},O))}),l.jsxs("details",{className:"bg-gray-800 rounded-xl border border-gray-700",children:[l.jsx("summary",{className:"p-4 cursor-pointer text-sm font-semibold text-gray-400 hover:text-gray-200",children:"POINTS TABLE"}),l.jsxs("div",{className:"px-4 pb-4",children:[l.jsxs("div",{className:"flex items-center justify-between px-2 py-1 text-xs text-gray-500 border-b border-gray-700 mb-2",children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("span",{className:"w-4",children:"#"}),l.jsx("span",{className:"w-12",children:"Team"})]}),l.jsxs("div",{className:"flex items-center gap-2 text-right",children:[l.jsx("span",{className:"w-6",children:"P"}),l.jsx("span",{className:"w-6",children:"W"}),l.jsx("span",{className:"w-6",children:"L"}),l.jsx("span",{className:"w-12",children:"NRR"}),l.jsx("span",{className:"w-8",children:"Pts"})]})]}),l.jsx("div",{className:"space-y-1",children:ue.map((O,ae)=>{const J=d.find(z=>z.id===O.teamId),Z=O.teamId===o,fe=O.netRunRate>=0?`+${O.netRunRate.toFixed(2)}`:O.netRunRate.toFixed(2),se=O.netRunRate>=0?"text-green-400":"text-red-400";return l.jsxs("div",{className:`flex items-center justify-between px-2 py-2 rounded-lg ${Z?"bg-blue-900/30 border border-blue-800/50":"bg-gray-700/30"} ${ae===3?"border-b-2 border-dashed border-gray-600":""}`,children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("span",{className:`w-4 text-sm ${ae<4?"text-green-400 font-bold":"text-gray-500"}`,children:ae+1}),l.jsx("span",{className:`w-12 text-sm ${Z?"text-blue-400 font-bold":ae<4?"font-semibold":""}`,children:J?.shortName})]}),l.jsxs("div",{className:`flex items-center gap-2 text-sm text-right ${ae<4?"font-medium":""}`,children:[l.jsx("span",{className:"w-6 text-gray-400",children:O.played}),l.jsx("span",{className:"w-6 text-green-400",children:O.won}),l.jsx("span",{className:"w-6 text-red-400",children:O.lost}),l.jsx("span",{className:`w-12 text-xs ${se}`,children:fe}),l.jsx("span",{className:`w-8 ${ae<4?"font-bold text-green-400":"font-bold"}`,children:O.points})]})]},O.teamId)})})]})]}),l.jsx("div",{className:"space-y-3",children:B.length===0?l.jsx("div",{className:"text-center text-gray-500 py-8",children:"No matches found"}):B.map(O=>{const ae=d.find(te=>te.id===O.homeTeam),J=d.find(te=>te.id===O.awayTeam),Z=O.homeTeam===o||O.awayTeam===o,fe=p===O.id,se=O.homeTeam===o?O.awayTeam:O.homeTeam,z=Z&&fe?W(se):null,K=O.matchType!=="league";return l.jsxs("div",{className:`rounded-xl border overflow-hidden ${K?"bg-purple-900/20 border-purple-700":Z?"bg-gray-800 border-blue-700/50":"bg-gray-800 border-gray-700"}`,children:[l.jsxs("button",{onClick:()=>_(O.id),className:"w-full p-4 text-left",children:[l.jsxs("div",{className:"flex justify-between items-center mb-2",children:[l.jsxs("span",{className:`text-xs ${K?"text-purple-400":"text-gray-400"}`,children:[R(O.matchType)," #",O.matchNumber]}),l.jsx("span",{className:`text-xs px-2 py-0.5 rounded ${O.status==="completed"?"bg-green-900/50 text-green-400":"bg-blue-900/50 text-blue-400"}`,children:O.status==="completed"?"Completed":"Upcoming"})]}),l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("div",{className:"w-8 h-8 rounded-full flex items-center justify-center text-xs font-bold",style:{backgroundColor:ae?.colors.primary},children:ae?.shortName}),l.jsx("span",{className:`text-sm ${O.homeTeam===o?"text-blue-400 font-medium":""}`,children:ae?.shortName})]}),l.jsx("span",{className:"text-gray-500 text-sm",children:"vs"}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("span",{className:`text-sm ${O.awayTeam===o?"text-blue-400 font-medium":""}`,children:J?.shortName}),l.jsx("div",{className:"w-8 h-8 rounded-full flex items-center justify-center text-xs font-bold",style:{backgroundColor:J?.colors.primary},children:J?.shortName})]})]}),O.status==="completed"&&l.jsx("div",{className:"text-center text-sm text-gray-400 mt-2",children:G(O)}),O.status==="completed"&&O.innings1&&O.innings2&&l.jsxs("div",{className:"flex justify-between text-sm mt-2 text-gray-300",children:[l.jsx("span",{children:O.innings1.battingTeam===O.homeTeam?`${O.innings1.runs}/${O.innings1.wickets}`:`${O.innings2.runs}/${O.innings2.wickets}`}),l.jsx("span",{children:O.innings1.battingTeam===O.awayTeam?`${O.innings1.runs}/${O.innings1.wickets}`:`${O.innings2.runs}/${O.innings2.wickets}`})]})]}),O.status==="completed"&&O.innings1&&O.innings2&&l.jsx("div",{className:"px-4 pb-3",children:l.jsx("button",{onClick:te=>{te.stopPropagation(),j(O.id)},className:"w-full py-2 bg-gray-700 hover:bg-gray-600 rounded-lg text-sm text-gray-300 transition-colors",children:"View Scorecard"})}),fe&&Z&&z&&O.status==="upcoming"&&l.jsxs("div",{className:"px-4 pb-4 border-t border-gray-700",children:[l.jsx("h4",{className:"text-xs text-gray-400 mt-3 mb-2",children:"OPPONENT SCOUTING"}),l.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[l.jsx("span",{className:"text-xs text-gray-500",children:"Recent:"}),l.jsx("div",{className:"flex gap-1",children:z.recentResults.length>0?z.recentResults.map((te,xe)=>l.jsx("span",{className:`w-6 h-6 rounded flex items-center justify-center text-xs font-bold ${te==="W"?"bg-green-900 text-green-400":"bg-red-900 text-red-400"}`,children:te},xe)):l.jsx("span",{className:"text-xs text-gray-500",children:"No matches yet"})}),z.tableEntry&&l.jsxs("span",{className:"text-xs text-gray-500 ml-auto",children:[z.tableEntry.won,"W ",z.tableEntry.lost,"L"]})]}),l.jsxs("div",{className:"grid grid-cols-2 gap-2 mb-3",children:[z.topBatter&&l.jsxs("button",{onClick:()=>y(z.topBatter.id,!0),className:"bg-gray-700/50 rounded p-2 text-left hover:bg-gray-700 transition-colors",children:[l.jsx("div",{className:"text-xs text-gray-400",children:"Top Batter"}),l.jsx("div",{className:"text-sm text-blue-400 hover:text-blue-300",children:z.topBatter.shortName}),l.jsxs("div",{className:`text-xs ${z.topBatter.form>5?"text-green-400":z.topBatter.form<-5?"text-red-400":"text-gray-400"}`,children:["Form: ",z.topBatter.form>0?"+":"",z.topBatter.form]})]}),z.topBowler&&l.jsxs("button",{onClick:()=>y(z.topBowler.id,!0),className:"bg-gray-700/50 rounded p-2 text-left hover:bg-gray-700 transition-colors",children:[l.jsx("div",{className:"text-xs text-gray-400",children:"Top Bowler"}),l.jsx("div",{className:"text-sm text-blue-400 hover:text-blue-300",children:z.topBowler.shortName}),l.jsxs("div",{className:`text-xs ${z.topBowler.form>5?"text-green-400":z.topBowler.form<-5?"text-red-400":"text-gray-400"}`,children:["Form: ",z.topBowler.form>0?"+":"",z.topBowler.form]})]})]}),l.jsxs("div",{className:"flex gap-2",children:[l.jsx("button",{onClick:()=>x(se,!0),className:"flex-1 py-2 bg-gray-700 hover:bg-gray-600 rounded-lg text-sm font-medium transition-colors",children:"View Squad"}),l.jsx("button",{onClick:()=>ne(O.id),className:"flex-1 py-2 bg-blue-600 hover:bg-blue-700 rounded-lg text-sm font-medium transition-colors",children:"Prepare for Match"})]})]}),!fe&&Z&&O.status==="upcoming"&&l.jsx("div",{className:"px-4 pb-2 text-center",children:l.jsx("span",{className:"text-xs text-gray-500",children:"Tap to scout opponent"})})]},O.id)})}),S&&(()=>{const O=i.find(se=>se.id===S);if(!O||!O.innings1||!O.innings2)return null;const ae=d.find(se=>se.id===O.homeTeam),J=d.find(se=>se.id===O.awayTeam),Z=d.find(se=>se.id===O.innings1?.battingTeam),fe=d.find(se=>se.id===O.innings2?.battingTeam);return l.jsx("div",{className:"fixed inset-0 bg-black/80 z-50 flex items-center justify-center p-4",children:l.jsxs("div",{className:"bg-gray-800 rounded-xl max-w-lg w-full max-h-[90vh] overflow-y-auto",children:[l.jsxs("div",{className:"sticky top-0 bg-gray-800 p-4 border-b border-gray-700 flex justify-between items-center",children:[l.jsxs("div",{children:[l.jsxs("h2",{className:"font-bold",children:[ae?.shortName," vs ",J?.shortName]}),l.jsx("p",{className:"text-sm text-gray-400",children:G(O)})]}),l.jsx("button",{onClick:()=>j(null),className:"text-gray-400 hover:text-white text-2xl",children:""})]}),l.jsxs("div",{className:"p-4 space-y-6",children:[l.jsxs("div",{children:[l.jsxs("h3",{className:"font-semibold mb-2 flex items-center gap-2",children:[l.jsx("div",{className:"w-6 h-6 rounded-full flex items-center justify-center text-xs font-bold",style:{backgroundColor:Z?.colors.primary},children:Z?.shortName?.charAt(0)}),Z?.shortName," - ",O.innings1.runs,"/",O.innings1.wickets,l.jsxs("span",{className:"text-sm text-gray-400",children:["(",O.innings1.overs," ov)"]})]}),l.jsxs("div",{className:"bg-gray-700/50 rounded-lg p-3 mb-2",children:[l.jsx("div",{className:"text-xs text-gray-400 mb-2",children:"BATTING"}),l.jsx("div",{className:"space-y-1 text-sm",children:(()=>{const se=w(O.innings1),z=new Set(se.map(([ye])=>ye)),K=O.innings1?.battingTeam,Y=(K===O.homeTeam?O.homeTactics:O.awayTactics)?.playingXI||[],M=d.find(ye=>ye.id===K),F=Y.length>0?Y:M?.squad.slice(0,11)||[],de=O.innings1?.fallOfWickets||[],re=new Set(de.map(ye=>ye.player)),Oe=new Set([...z,...re]),Ae=F.filter(ye=>!Oe.has(ye));return l.jsxs(l.Fragment,{children:[se.map(([ye,lt])=>{const ct=c.find(Ie=>Ie.id===ye),Zt=lt.balls>0?(lt.runs/lt.balls*100).toFixed(0):"0";return l.jsxs("div",{className:"flex justify-between",children:[l.jsx("button",{onClick:()=>y(ye,!1),className:"text-blue-400 hover:text-blue-300 hover:underline text-left",children:ct?.shortName||"Unknown"}),l.jsxs("span",{children:[lt.runs," (",lt.balls,")",l.jsxs("span",{className:"text-gray-500 text-xs ml-1",children:["SR ",Zt]})]})]},ye)}),Ae.map(ye=>{const lt=c.find(ct=>ct.id===ye);return l.jsxs("div",{className:"flex justify-between text-gray-600",children:[l.jsx("span",{children:lt?.shortName||"Unknown"}),l.jsx("span",{className:"text-xs italic",children:"did not bat"})]},ye)})]})})()})]}),l.jsxs("div",{className:"bg-gray-700/50 rounded-lg p-3",children:[l.jsx("div",{className:"text-xs text-gray-400 mb-2",children:"BOWLING"}),l.jsx("div",{className:"space-y-1 text-sm",children:E(O.innings1).map(([se,z])=>{const K=c.find(xe=>xe.id===se),te=z.overs>0?(z.runs/z.overs).toFixed(1):"0.0";return l.jsxs("div",{className:"flex justify-between",children:[l.jsx("button",{onClick:()=>y(se,!1),className:"text-blue-400 hover:text-blue-300 hover:underline text-left",children:K?.shortName||"Unknown"}),l.jsxs("span",{children:[z.wickets,"/",z.runs," (",z.overs," ov)",l.jsxs("span",{className:"text-gray-500 text-xs ml-1",children:["Econ ",te]})]})]},se)})})]})]}),l.jsxs("div",{children:[l.jsxs("h3",{className:"font-semibold mb-2 flex items-center gap-2",children:[l.jsx("div",{className:"w-6 h-6 rounded-full flex items-center justify-center text-xs font-bold",style:{backgroundColor:fe?.colors.primary},children:fe?.shortName?.charAt(0)}),fe?.shortName," - ",O.innings2.runs,"/",O.innings2.wickets,l.jsxs("span",{className:"text-sm text-gray-400",children:["(",O.innings2.overs,O.innings2.balls>0?`.${O.innings2.balls}`:""," ov)"]})]}),l.jsxs("div",{className:"bg-gray-700/50 rounded-lg p-3 mb-2",children:[l.jsx("div",{className:"text-xs text-gray-400 mb-2",children:"BATTING"}),l.jsx("div",{className:"space-y-1 text-sm",children:(()=>{const se=w(O.innings2),z=new Set(se.map(([ye])=>ye)),K=O.innings2?.battingTeam,Y=(K===O.homeTeam?O.homeTactics:O.awayTactics)?.playingXI||[],M=d.find(ye=>ye.id===K),F=Y.length>0?Y:M?.squad.slice(0,11)||[],de=O.innings2?.fallOfWickets||[],re=new Set(de.map(ye=>ye.player)),Oe=new Set([...z,...re]),Ae=F.filter(ye=>!Oe.has(ye));return l.jsxs(l.Fragment,{children:[se.map(([ye,lt])=>{const ct=c.find(Ie=>Ie.id===ye),Zt=lt.balls>0?(lt.runs/lt.balls*100).toFixed(0):"0";return l.jsxs("div",{className:"flex justify-between",children:[l.jsx("button",{onClick:()=>y(ye,!1),className:"text-blue-400 hover:text-blue-300 hover:underline text-left",children:ct?.shortName||"Unknown"}),l.jsxs("span",{children:[lt.runs," (",lt.balls,")",l.jsxs("span",{className:"text-gray-500 text-xs ml-1",children:["SR ",Zt]})]})]},ye)}),Ae.map(ye=>{const lt=c.find(ct=>ct.id===ye);return l.jsxs("div",{className:"flex justify-between text-gray-600",children:[l.jsx("span",{children:lt?.shortName||"Unknown"}),l.jsx("span",{className:"text-xs italic",children:"did not bat"})]},ye)})]})})()})]}),l.jsxs("div",{className:"bg-gray-700/50 rounded-lg p-3",children:[l.jsx("div",{className:"text-xs text-gray-400 mb-2",children:"BOWLING"}),l.jsx("div",{className:"space-y-1 text-sm",children:E(O.innings2).map(([se,z])=>{const K=c.find(xe=>xe.id===se),te=z.overs>0?(z.runs/z.overs).toFixed(1):"0.0";return l.jsxs("div",{className:"flex justify-between",children:[l.jsx("button",{onClick:()=>y(se,!1),className:"text-blue-400 hover:text-blue-300 hover:underline text-left",children:K?.shortName||"Unknown"}),l.jsxs("span",{children:[z.wickets,"/",z.runs," (",z.overs," ov)",l.jsxs("span",{className:"text-gray-500 text-xs ml-1",children:["Econ ",te]})]})]},se)})})]})]})]}),l.jsx("div",{className:"p-4 border-t border-gray-700",children:l.jsx("button",{onClick:()=>j(null),className:"w-full py-2 bg-gray-700 hover:bg-gray-600 rounded-lg font-medium transition-colors",children:"Close"})})]})})})()]})]})},Hg=()=>{const{playerTeamId:i,teams:d,players:c,manager:o,pressHeat:f,fixtures:m,pointsTable:b,navigateTo:y,canHoldTeamMeeting:x}=Ve(),h=x(),v=d.find(Z=>Z.id===i),p=c.filter(Z=>v?.squad.includes(Z.id)),A=p.length?Math.round(p.reduce((Z,fe)=>Z+fe.morale,0)/p.length):0,S=p.length?Math.round(p.reduce((Z,fe)=>Z+fe.fitness,0)/p.length):0;p.length&&Math.round(p.reduce((Z,fe)=>Z+fe.form,0)/p.length);const j=v?.boardPatience??50,w=m.filter(Z=>Z.status==="completed"&&(Z.homeTeam===i||Z.awayTeam===i)).slice(-5),E=w.filter(Z=>!Z.innings1||!Z.innings2?!1:Z.innings2.runs>=Z.innings1.runs+1?Z.innings2.battingTeam===i:Z.innings1.battingTeam===i).length,k=w.length>0?Math.round(E/w.length*100):50,W=[...b].sort((Z,fe)=>fe.points!==Z.points?fe.points-Z.points:fe.netRunRate-Z.netRunRate).findIndex(Z=>Z.teamId===i)+1,_=b.find(Z=>Z.teamId===i),ne=p.filter(Z=>Z.contract.isOverseas).length,R=p.length-ne,G=p.filter(Z=>Z.role==="batsman").length,ue=p.filter(Z=>Z.role==="bowler").length,O=p.filter(Z=>Z.role==="allrounder").length,ae=p.filter(Z=>Z.role==="keeper").length,J=p.reduce((Z,fe)=>Z+fe.contract.salary,0);return l.jsxs("div",{className:"min-h-screen bg-gray-900 text-white pb-24",children:[l.jsx("header",{className:"bg-gray-800 p-4 border-b border-gray-700",children:l.jsxs("div",{className:"max-w-lg mx-auto flex items-center gap-4",children:[l.jsx("div",{className:"w-16 h-16 rounded-full flex items-center justify-center text-xl font-bold",style:{backgroundColor:v?.colors.primary},children:v?.shortName}),l.jsxs("div",{children:[l.jsx("h1",{className:"text-xl font-bold",children:v?.name}),l.jsxs("p",{className:"text-sm text-gray-400",children:["Manager: ",o.name]})]})]})}),l.jsxs("div",{className:"max-w-lg mx-auto p-4 space-y-4",children:[l.jsxs("div",{className:"bg-gray-800 rounded-xl p-4 border border-gray-700",children:[l.jsx("h2",{className:"text-sm font-semibold text-gray-400 mb-3",children:"SEASON PERFORMANCE"}),l.jsxs("div",{className:"flex items-center justify-between mb-4",children:[l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:"text-3xl font-bold",children:W}),l.jsx("div",{className:"text-xs text-gray-400",children:"Position"})]}),l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:"text-3xl font-bold text-green-400",children:_?.won||0}),l.jsx("div",{className:"text-xs text-gray-400",children:"Wins"})]}),l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:"text-3xl font-bold text-red-400",children:_?.lost||0}),l.jsx("div",{className:"text-xs text-gray-400",children:"Losses"})]}),l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:`text-xl font-bold ${(_?.netRunRate||0)>=0?"text-green-400":"text-red-400"}`,children:_?.netRunRate!==void 0?(_.netRunRate>=0?"+":"")+_.netRunRate.toFixed(2):"-"}),l.jsx("div",{className:"text-xs text-gray-400",children:"NRR"})]})]}),W<=4?l.jsx("div",{className:"bg-green-900/30 rounded-lg p-2 text-center",children:l.jsx("span",{className:"text-green-400 text-sm",children:"Playoff Position"})}):l.jsx("div",{className:"bg-red-900/30 rounded-lg p-2 text-center",children:l.jsxs("span",{className:"text-red-400 text-sm",children:[5-W," more wins needed for playoffs"]})})]}),l.jsxs("div",{className:"bg-gray-800 rounded-xl p-4 border border-gray-700",children:[l.jsx("h2",{className:"text-sm font-semibold text-gray-400 mb-3",children:"CLUB HEALTH"}),l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{children:[l.jsxs("div",{className:"flex justify-between text-sm mb-1",children:[l.jsx("span",{children:"Board Confidence"}),l.jsxs("span",{className:j>60?"text-green-400":j<40?"text-red-400":"text-yellow-400",children:[j,"%"]})]}),l.jsx("div",{className:"h-2 bg-gray-700 rounded-full overflow-hidden",children:l.jsx("div",{className:`h-full transition-all ${j>60?"bg-green-500":j<40?"bg-red-500":"bg-yellow-500"}`,style:{width:`${j}%`}})})]}),l.jsxs("div",{children:[l.jsxs("div",{className:"flex justify-between text-sm mb-1",children:[l.jsx("span",{children:"Fan Support"}),l.jsxs("span",{className:k>60?"text-green-400":k<40?"text-red-400":"text-yellow-400",children:[k,"%"]})]}),l.jsx("div",{className:"h-2 bg-gray-700 rounded-full overflow-hidden",children:l.jsx("div",{className:`h-full transition-all ${k>60?"bg-green-500":k<40?"bg-red-500":"bg-yellow-500"}`,style:{width:`${k}%`}})})]}),l.jsxs("div",{children:[l.jsxs("div",{className:"flex justify-between text-sm mb-1",children:[l.jsx("span",{children:"Press Heat"}),l.jsxs("span",{className:f<40?"text-green-400":f>60?"text-red-400":"text-yellow-400",children:[f,"%"]})]}),l.jsx("div",{className:"h-2 bg-gray-700 rounded-full overflow-hidden",children:l.jsx("div",{className:`h-full transition-all ${f<40?"bg-green-500":f>60?"bg-red-500":"bg-yellow-500"}`,style:{width:`${f}%`}})})]})]})]}),l.jsxs("div",{className:"bg-gray-800 rounded-xl p-4 border border-gray-700",children:[l.jsx("h2",{className:"text-sm font-semibold text-gray-400 mb-3",children:"SQUAD OVERVIEW"}),l.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-4",children:[l.jsx("div",{children:l.jsx(qe,{value:A,label:"Team Morale",color:"purple"})}),l.jsx("div",{children:l.jsx(qe,{value:S,label:"Team Fitness",color:"green"})})]}),l.jsxs("div",{className:"grid grid-cols-3 gap-2 text-center text-sm",children:[l.jsxs("div",{className:"bg-gray-700/50 rounded-lg p-2",children:[l.jsx("div",{className:"font-bold",children:p.length}),l.jsx("div",{className:"text-xs text-gray-400",children:"Squad Size"})]}),l.jsxs("div",{className:"bg-gray-700/50 rounded-lg p-2",children:[l.jsx("div",{className:"font-bold",children:R}),l.jsx("div",{className:"text-xs text-gray-400",children:"Domestic"})]}),l.jsxs("div",{className:"bg-gray-700/50 rounded-lg p-2",children:[l.jsx("div",{className:"font-bold text-blue-400",children:ne}),l.jsx("div",{className:"text-xs text-gray-400",children:"Overseas"})]})]}),l.jsxs("div",{className:"mt-4 grid grid-cols-4 gap-2 text-center text-xs",children:[l.jsxs("div",{className:"bg-orange-900/30 rounded p-2",children:[l.jsx("div",{className:"font-bold text-orange-400",children:G}),l.jsx("div",{className:"text-gray-500",children:"BAT"})]}),l.jsxs("div",{className:"bg-purple-900/30 rounded p-2",children:[l.jsx("div",{className:"font-bold text-purple-400",children:ue}),l.jsx("div",{className:"text-gray-500",children:"BOWL"})]}),l.jsxs("div",{className:"bg-green-900/30 rounded p-2",children:[l.jsx("div",{className:"font-bold text-green-400",children:O}),l.jsx("div",{className:"text-gray-500",children:"AR"})]}),l.jsxs("div",{className:"bg-blue-900/30 rounded p-2",children:[l.jsx("div",{className:"font-bold text-blue-400",children:ae}),l.jsx("div",{className:"text-gray-500",children:"WK"})]})]})]}),l.jsxs("div",{className:"bg-gray-800 rounded-xl p-4 border border-gray-700",children:[l.jsx("h2",{className:"text-sm font-semibold text-gray-400 mb-3",children:"FINANCES"}),l.jsxs("div",{className:"space-y-3",children:[l.jsxs("div",{className:"flex justify-between items-center",children:[l.jsx("span",{className:"text-gray-400",children:"Budget"}),l.jsxs("span",{className:"font-bold text-green-400",children:["",(v?.budget||0).toFixed(1)," Cr"]})]}),l.jsxs("div",{className:"flex justify-between items-center",children:[l.jsx("span",{className:"text-gray-400",children:"Total Salary"}),l.jsxs("span",{className:"font-bold",children:["",(J/100).toFixed(1)," Cr"]})]}),l.jsxs("div",{className:"flex justify-between items-center",children:[l.jsx("span",{className:"text-gray-400",children:"Salary Cap"}),l.jsxs("span",{className:"text-gray-500",children:["",(v?.salaryCap||0).toFixed(1)," Cr"]})]}),l.jsxs("div",{className:"pt-2 border-t border-gray-700",children:[l.jsxs("div",{className:"flex justify-between text-sm mb-1",children:[l.jsx("span",{className:"text-gray-400",children:"Cap Usage"}),l.jsxs("span",{children:[(J/100/(v?.salaryCap||100)*100).toFixed(0),"%"]})]}),l.jsx("div",{className:"h-2 bg-gray-700 rounded-full overflow-hidden",children:l.jsx("div",{className:"h-full bg-blue-500",style:{width:`${Math.min(100,J/100/(v?.salaryCap||100)*100)}%`}})})]})]})]}),l.jsxs("div",{className:"bg-gray-800 rounded-xl p-4 border border-gray-700",children:[l.jsx("h2",{className:"text-sm font-semibold text-gray-400 mb-3",children:"MANAGER"}),l.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[l.jsx("div",{className:"w-12 h-12 rounded-full bg-gray-700 flex items-center justify-center text-xl",children:""}),l.jsxs("div",{children:[l.jsx("div",{className:"font-bold",children:o.name}),l.jsxs("div",{className:"text-sm text-gray-400",children:["Reputation: ",o.reputation]})]})]}),l.jsxs("div",{className:"grid grid-cols-3 gap-2 text-center text-sm",children:[l.jsxs("div",{className:"bg-gray-700/50 rounded-lg p-2",children:[l.jsx("div",{className:"font-bold",children:o.history.seasonsManaged}),l.jsx("div",{className:"text-xs text-gray-400",children:"Seasons"})]}),l.jsxs("div",{className:"bg-gray-700/50 rounded-lg p-2",children:[l.jsx("div",{className:"font-bold text-yellow-400",children:o.history.titlesWon}),l.jsx("div",{className:"text-xs text-gray-400",children:"Titles"})]}),l.jsxs("div",{className:"bg-gray-700/50 rounded-lg p-2",children:[l.jsx("div",{className:"font-bold",children:o.history.playoffAppearances}),l.jsx("div",{className:"text-xs text-gray-400",children:"Playoffs"})]})]})]}),l.jsxs("div",{className:"bg-gray-800 rounded-xl p-4 border border-gray-700",children:[l.jsx("h2",{className:"text-sm font-semibold text-gray-400 mb-3",children:"TEAM ACTIONS"}),l.jsxs("button",{onClick:()=>y("team-meeting"),className:`w-full p-4 rounded-lg flex items-center gap-3 transition-colors ${h?"bg-purple-900/30 hover:bg-purple-900/50 border border-purple-700":"bg-gray-700/30 border border-gray-600 opacity-50"}`,children:[l.jsx("span",{className:"text-2xl",children:""}),l.jsxs("div",{className:"text-left flex-1",children:[l.jsx("div",{className:"font-medium",children:"Team Meeting"}),l.jsx("div",{className:"text-xs text-gray-400",children:h?"Motivate or address the squad":"Recently held a meeting"})]}),h&&l.jsx("span",{className:"text-purple-400",children:""})]})]}),l.jsxs("div",{className:"bg-gray-700/30 rounded-xl p-4 border border-dashed border-gray-600 text-center",children:[l.jsx("div",{className:"text-gray-500 text-sm",children:"Staff Management"}),l.jsx("div",{className:"text-gray-600 text-xs mt-1",children:"Coming Soon"})]})]})]})},Lg=[{value:"default",label:"Default",desc:"Bat in assigned order"},{value:"promote",label:"Promote",desc:"Send up the order when needed"},{value:"finisher",label:"Finisher",desc:"Save for death overs"},{value:"anchor",label:"Anchor",desc:"Play steady, rotate strike"}],Gg=[{value:"default",label:"Default",desc:"Bowl full quota if needed"},{value:"max-2-overs",label:"Max 2 Overs",desc:"Limit to 2 overs"},{value:"max-3-overs",label:"Max 3 Overs",desc:"Limit to 3 overs"},{value:"death-specialist",label:"Death Overs",desc:"Save for overs 16-20"},{value:"powerplay-only",label:"Powerplay Only",desc:"Bowl in overs 1-6"}],Yg=[{value:"good-length",label:"Good Length",desc:"Balanced, default approach"},{value:"short",label:"Short",desc:"Bouncers, needs pace"},{value:"yorkers",label:"Yorkers",desc:"Death specialty, needs accuracy"},{value:"full-pitched",label:"Full",desc:"Swing bowling, wicket-taking"}],Xg=[{value:"attacking",label:"Attacking",desc:"More catchers, wicket-focused"},{value:"balanced",label:"Balanced",desc:"Standard field"},{value:"defensive",label:"Defensive",desc:"Boundary protection"},{value:"death-field",label:"Death Field",desc:"Long boundaries covered"}],Qg=()=>{const{selectedMatchId:i,playerTeamId:d,teams:c,players:o,fixtures:f,setMatchTactics:m,navigateTo:b}=Ve(),[y,x]=le.useState("select"),[h,v]=le.useState([]),[p,A]=le.useState({powerplay:"aggressive",middle:"balanced",death:"aggressive"}),[S,j]=le.useState({powerplay:{length:"full-pitched",field:"attacking"},middle:{length:"good-length",field:"balanced"},death:{length:"yorkers",field:"death-field"}}),[N,w]=le.useState("batting"),[E,k]=le.useState([]),[B,W]=le.useState(null),_=f.find(Y=>Y.id===i),ne=c.find(Y=>Y.id===d),R=o.filter(Y=>ne?.squad.includes(Y.id)),G=_?c.find(Y=>Y.id===(_.homeTeam===d?_.awayTeam:_.homeTeam)):null;le.useEffect(()=>{_&&_.status!=="upcoming"&&b("home")},[_,b]);const ue=le.useMemo(()=>h.filter(Y=>o.find(M=>M.id===Y)?.contract.isOverseas).length,[h,o]),O=le.useMemo(()=>h.some(Y=>o.find(M=>M.id===Y)?.role==="keeper"),[h,o]),ae=le.useMemo(()=>h.filter(Y=>{const M=o.find(F=>F.id===Y);return M?.role==="bowler"||M?.role==="allrounder"}).length,[h,o]),J=Y=>E.find(M=>M.playerId===Y)||{playerId:Y},Z=(Y,M)=>{k(F=>F.find(re=>re.playerId===Y)?F.map(re=>re.playerId===Y?{...re,...M}:re):[...F,{playerId:Y,...M}])},fe=Y=>{const M=E.find(F=>F.playerId===Y);return!!(M&&(M.batting!=="default"||M.bowling!=="default"))},se=()=>{const Y=[...R],M=[];let F=0;const de=he=>!(he.contract.isOverseas&&F>=4),re=he=>{M.push(he),he.contract.isOverseas&&F++;const We=Y.findIndex(X=>X.id===he.id);We!==-1&&Y.splice(We,1)},Oe=he=>{let We=100;return We-=he.fatigue*.5,We+=he.form*2,We+=he.fitness*.3,he.role==="batsman"&&(We+=(he.batting.technique+he.batting.power)/4),he.role==="bowler"&&(We+=(he.bowling.accuracy+he.bowling.variation)/4),he.role==="allrounder"&&(We+=(he.batting.technique+he.bowling.accuracy)/4),he.role==="keeper"&&(We+=(he.batting.technique+he.fielding.catching)/4),We};Y.sort((he,We)=>Oe(We)-Oe(he));const Ae=Y.filter(he=>he.role==="keeper"&&de(he));Ae.length>0&&(Ae.sort((he,We)=>Oe(We)-Oe(he)),re(Ae[0]));const ye=Y.filter(he=>he.role==="bowler"&&de(he));ye.sort((he,We)=>Oe(We)-Oe(he));let lt=0;for(const he of ye){if(lt>=4)break;de(he)&&(re(he),lt++)}const ct=Y.filter(he=>he.role==="allrounder"&&de(he));ct.sort((he,We)=>Oe(We)-Oe(he));let Zt=0;for(const he of ct){if(Zt>=2)break;de(he)&&(re(he),Zt++)}const Ie=Y.filter(he=>he.role==="batsman"&&de(he));Ie.sort((he,We)=>Oe(We)-Oe(he));for(const he of Ie){if(M.length>=11)break;de(he)&&re(he)}for(const he of Y){if(M.length>=11)break;de(he)&&re(he)}const gt=[],qt=M.filter(he=>he.role==="batsman"),Jt=M.filter(he=>he.role==="keeper"),Ut=M.filter(he=>he.role==="allrounder"),ra=M.filter(he=>he.role==="bowler");gt.push(...qt.slice(0,3)),gt.push(...Jt),gt.push(...qt.slice(3)),gt.push(...Ut),gt.push(...ra),v(gt.map(he=>he.id))},z=Y=>{const M=o.find(F=>F.id===Y);if(M)if(h.includes(Y))v(h.filter(F=>F!==Y));else{if(h.length>=11||M.contract.isOverseas&&ue>=4)return;v([...h,Y])}},K=(Y,M)=>{const F=h.indexOf(Y);if(F===-1)return;const de=[...h],re=M==="up"?F-1:F+1;re<0||re>=h.length||([de[F],de[re]]=[de[re],de[F]],v(de))},te=()=>{if(!_||h.length!==11)return;const Y=h.map(Ae=>o.find(ye=>ye.id===Ae)).filter(Boolean),M=Y.reduce((Ae,ye)=>ye.personality.leadership>(Ae?.personality.leadership||0)?ye:Ae),F=Y.find(Ae=>Ae.role==="keeper"),de=Y.filter(Ae=>Ae.role==="bowler"||Ae.role==="allrounder"),re=de.filter(Ae=>Ae.bowlingStyle?.includes("fast")||Ae.bowlingStyle?.includes("medium")),Oe={playingXI:h,captain:M?.id||h[0],wicketkeeper:F?.id||h[0],battingApproach:p,bowlingPlan:{openingBowlers:[re[0]?.id||de[0]?.id||h[0],re[1]?.id||de[1]?.id||h[1]],deathBowler:re[0]?.id||de[0]?.id||h[0],spinStrategy:"middle",bowlingApproach:S},playerInstructions:E.filter(Ae=>h.includes(Ae.playerId))};m(_.id,d,Oe),b("match-live")};if(!_||!ne||!G)return l.jsx("div",{className:"min-h-screen bg-gray-900 text-white flex items-center justify-center",children:l.jsx("p",{children:"No match selected"})});const xe=[];return h.length>0&&!O&&xe.push("No wicketkeeper selected"),h.length>0&&ae<5&&xe.push(`Only ${ae} bowling options`),h.forEach(Y=>{const M=o.find(F=>F.id===Y);M&&M.fatigue>70&&xe.push(`${M.shortName} is fatigued (${M.fatigue}%)`),M&&M.form<-8&&xe.push(`${M.shortName} is in poor form (${M.form})`)}),l.jsxs("div",{className:"min-h-screen bg-gray-900 text-white pb-24",children:[l.jsx("header",{className:"bg-gray-800 p-4 border-b border-gray-700 sticky top-0 z-20",children:l.jsxs("div",{className:"max-w-lg mx-auto",children:[l.jsxs("div",{className:"flex justify-between items-center mb-2",children:[l.jsx("button",{onClick:()=>b("home"),className:"text-blue-400",children:" Back"}),l.jsxs("span",{className:"text-sm text-gray-400",children:["vs ",G.shortName]})]}),l.jsx("div",{className:"flex gap-2",children:["select","tactics","review"].map((Y,M)=>l.jsxs("button",{onClick:()=>Y==="select"||Y==="tactics"&&h.length===11?x(Y):null,className:`flex-1 py-2 px-3 rounded-lg text-sm font-medium transition-colors
                  ${y===Y?"bg-blue-600 text-white":"bg-gray-700 text-gray-400"}
                  ${Y!=="select"&&h.length<11?"opacity-50 cursor-not-allowed":""}`,children:[M+1,". ",Y.charAt(0).toUpperCase()+Y.slice(1)]},Y))})]})}),l.jsxs("div",{className:"max-w-lg mx-auto p-4",children:[y==="select"&&l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{className:"flex justify-between items-center",children:[l.jsxs("h2",{className:"text-lg font-semibold",children:["Playing XI (",h.length,"/11)"]}),l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("button",{onClick:se,className:"text-sm bg-gray-700 hover:bg-gray-600 px-3 py-1 rounded-lg transition-colors",children:"Auto-Select"}),l.jsxs("span",{className:`text-sm ${ue>4?"text-red-400":"text-gray-400"}`,children:["Overseas: ",ue,"/4"]})]})]}),h.length>0&&l.jsxs("div",{className:"bg-gray-800 rounded-xl p-3 border border-gray-700",children:[l.jsx("h3",{className:"text-sm text-gray-400 mb-2",children:"Batting Order (tap player for instructions)"}),l.jsx("div",{className:"space-y-2",children:h.map((Y,M)=>{const F=o.find(ye=>ye.id===Y);if(!F)return null;const de=F.role==="bowler"||F.role==="allrounder",re=J(Y),Oe=fe(Y),Ae=B===Y;return l.jsxs("div",{className:"space-y-1",children:[l.jsxs("div",{className:`flex items-center gap-2 p-2 rounded-lg cursor-pointer transition-colors
                            ${Ae?"bg-blue-900/50 border border-blue-700":"bg-gray-700/50 hover:bg-gray-700"}`,onClick:()=>W(Ae?null:Y),children:[l.jsxs("span",{className:"text-gray-500 w-6",children:[M+1,"."]}),l.jsxs("span",{className:"flex-1",children:[F.shortName,Oe&&l.jsx("span",{className:"ml-2 text-xs text-blue-400",children:"*"})]}),l.jsxs("div",{className:"flex gap-1",onClick:ye=>ye.stopPropagation(),children:[l.jsx("button",{onClick:()=>K(Y,"up"),className:"px-2 py-1 text-xs bg-gray-600 rounded hover:bg-gray-500",disabled:M===0,children:""}),l.jsx("button",{onClick:()=>K(Y,"down"),className:"px-2 py-1 text-xs bg-gray-600 rounded hover:bg-gray-500",disabled:M===h.length-1,children:""}),l.jsx("button",{onClick:()=>z(Y),className:"px-2 py-1 text-xs bg-red-600 rounded hover:bg-red-500",children:""})]})]}),Ae&&l.jsxs("div",{className:"ml-6 p-3 bg-gray-900 rounded-lg border border-gray-700 space-y-3",children:[l.jsxs("div",{children:[l.jsx("label",{className:"text-xs text-gray-400 block mb-1",children:"Batting"}),l.jsx("div",{className:"flex flex-wrap gap-1",children:Lg.map(ye=>l.jsx("button",{onClick:()=>Z(Y,{batting:ye.value}),className:`px-2 py-1 text-xs rounded transition-colors
                                      ${(re.batting||"default")===ye.value?"bg-blue-600 text-white":"bg-gray-700 text-gray-300 hover:bg-gray-600"}`,children:ye.label},ye.value))})]}),de&&l.jsxs("div",{children:[l.jsx("label",{className:"text-xs text-gray-400 block mb-1",children:"Bowling"}),l.jsx("div",{className:"flex flex-wrap gap-1",children:Gg.map(ye=>l.jsx("button",{onClick:()=>Z(Y,{bowling:ye.value}),className:`px-2 py-1 text-xs rounded transition-colors
                                        ${(re.bowling||"default")===ye.value?"bg-blue-600 text-white":"bg-gray-700 text-gray-300 hover:bg-gray-600"}`,children:ye.label},ye.value))})]})]})]},Y)})})]}),xe.length>0&&l.jsxs("div",{className:"bg-yellow-900/20 border border-yellow-700 rounded-lg p-3",children:[l.jsx("h3",{className:"text-sm font-semibold text-yellow-400 mb-2",children:"Warnings"}),l.jsx("ul",{className:"text-sm text-yellow-300 space-y-1",children:xe.map((Y,M)=>l.jsxs("li",{children:[" ",Y]},M))})]}),l.jsxs("div",{children:[l.jsx("h3",{className:"text-sm text-gray-400 mb-2",children:"Available Players"}),l.jsx("div",{className:"space-y-2",children:R.filter(Y=>!h.includes(Y.id)).map(Y=>l.jsx(ho,{player:Y,onClick:()=>z(Y.id),compact:!0,selected:!1},Y.id))})]}),h.length===11&&l.jsx("button",{onClick:()=>x("tactics"),className:"w-full bg-blue-600 hover:bg-blue-700 text-white py-3 rounded-lg font-medium",children:"Continue to Tactics "})]}),y==="tactics"&&l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{className:"flex gap-2 bg-gray-800 rounded-lg p-1",children:[l.jsx("button",{onClick:()=>w("batting"),className:`flex-1 py-2 rounded-lg text-sm font-medium transition-colors
                  ${N==="batting"?"bg-blue-600 text-white":"text-gray-400 hover:text-white"}`,children:"Batting Tactics"}),l.jsx("button",{onClick:()=>w("bowling"),className:`flex-1 py-2 rounded-lg text-sm font-medium transition-colors
                  ${N==="bowling"?"bg-purple-600 text-white":"text-gray-400 hover:text-white"}`,children:"Bowling Tactics"})]}),N==="batting"&&l.jsxs(l.Fragment,{children:[l.jsx("h2",{className:"text-lg font-semibold",children:"Batting Approach"}),["powerplay","middle","death"].map(Y=>l.jsxs("div",{className:"bg-gray-800 rounded-xl p-4 border border-gray-700",children:[l.jsx("h3",{className:"text-sm text-gray-400 mb-3 capitalize",children:Y==="powerplay"?"Powerplay (1-6)":Y==="middle"?"Middle Overs (7-15)":"Death (16-20)"}),l.jsx("div",{className:"flex gap-2",children:["aggressive","balanced","cautious"].map(M=>l.jsx("button",{onClick:()=>A({...p,[Y]:M}),className:`flex-1 py-2 px-3 rounded-lg text-sm font-medium transition-colors
                            ${p[Y]===M?"bg-blue-600 text-white":"bg-gray-700 text-gray-400 hover:bg-gray-600"}`,children:M.charAt(0).toUpperCase()+M.slice(1)},M))})]},Y))]}),N==="bowling"&&l.jsxs(l.Fragment,{children:[l.jsx("h2",{className:"text-lg font-semibold",children:"Bowling Tactics"}),["powerplay","middle","death"].map(Y=>l.jsxs("div",{className:"bg-gray-800 rounded-xl p-4 border border-gray-700",children:[l.jsx("h3",{className:"text-sm text-gray-400 mb-3",children:Y==="powerplay"?"Powerplay (1-6)":Y==="middle"?"Middle Overs (7-15)":"Death (16-20)"}),l.jsxs("div",{className:"mb-3",children:[l.jsx("label",{className:"text-xs text-gray-500 mb-1 block",children:"Bowling Length"}),l.jsx("div",{className:"flex gap-1",children:Yg.map(M=>l.jsx("button",{onClick:()=>j({...S,[Y]:{...S[Y],length:M.value}}),className:`flex-1 py-2 px-1 rounded-lg text-xs font-medium transition-colors
                              ${S[Y].length===M.value?"bg-purple-600 text-white":"bg-gray-700 text-gray-400 hover:bg-gray-600"}`,children:M.label},M.value))})]}),l.jsxs("div",{children:[l.jsx("label",{className:"text-xs text-gray-500 mb-1 block",children:"Field Setting"}),l.jsx("div",{className:"flex gap-1",children:Xg.map(M=>l.jsx("button",{onClick:()=>j({...S,[Y]:{...S[Y],field:M.value}}),className:`flex-1 py-2 px-1 rounded-lg text-xs font-medium transition-colors
                              ${S[Y].field===M.value?"bg-green-600 text-white":"bg-gray-700 text-gray-400 hover:bg-gray-600"}`,children:M.label},M.value))})]})]},Y))]}),l.jsxs("div",{className:"flex gap-2",children:[l.jsx("button",{onClick:()=>x("select"),className:"flex-1 bg-gray-700 hover:bg-gray-600 text-white py-3 rounded-lg font-medium",children:" Back"}),l.jsx("button",{onClick:te,className:"flex-1 bg-green-600 hover:bg-green-700 text-white py-3 rounded-lg font-medium",children:"Start Match"})]})]})]})]})};function At(i){return Math.max(0,Math.min(100,Math.round(i)))}function Zg(i){return Math.max(-20,Math.min(20,Math.round(i)))}function q0(i){return{id:i.id,name:i.name,short_name:i.shortName,role:i.role,playing_role:i.playingRole??null,batting_style:i.battingStyle,bowling_style:i.bowlingStyle??null,batting:{technique:At(i.batting.technique),power:At(i.batting.power),timing:At(i.batting.timing),temperament:At(i.batting.temperament)},bowling:{speed:At(i.bowling.speed),accuracy:At(i.bowling.accuracy),variation:At(i.bowling.variation),stamina:At(i.bowling.stamina)},fielding:{catching:At(i.fielding.catching),ground:At(i.fielding.ground),throwing:At(i.fielding.throwing),athleticism:At(i.fielding.athleticism)},form:Zg(i.form),fitness:At(i.fitness),morale:At(i.morale),fatigue:At(i.fatigue),personality:i.personality?{temperament:i.personality.temperament,professionalism:At(i.personality.professionalism),ambition:At(i.personality.ambition),leadership:At(i.personality.leadership)}:null}}function Vg(i){const d={};i.batterStats.forEach((m,b)=>{d[b]={runs:Math.floor(m.runs),balls:Math.floor(m.balls),fours:Math.floor(m.fours),sixes:Math.floor(m.sixes)}});const c={};i.bowlerStats.forEach((m,b)=>{c[b]={overs:Math.floor(m.overs),runs:Math.floor(m.runs),wickets:Math.floor(m.wickets),dots:Math.floor(m.dots)}});const o=Math.floor(i.overs),f=Math.round((i.overs-o)*10);return{batting_team:i.battingTeam,bowling_team:i.bowlingTeam,runs:Math.floor(i.runs),wickets:Math.floor(i.wickets),overs:o,balls:Math.min(5,Math.max(0,f)),current_batters:i.currentBatters,current_bowler:i.currentBowler,over_summaries:i.overSummaries.map($g),fall_of_wickets:i.fallOfWickets.map(m=>({player:m.player,runs:Math.floor(m.runs),overs:m.overs})),batter_stats:d,bowler_stats:c,recent_balls:[]}}function $g(i){return{over_number:i.overNumber,bowler:i.bowler,runs:i.runs,wickets:i.wickets,balls:i.balls.map(Kg)}}function Kg(i){return{over:i.over,ball:i.ball,batter:i.batter,bowler:i.bowler,outcome:Ig(i.outcome),narrative:i.narrative}}function Ig(i){return i.type==="runs"?{type:"runs",runs:i.runs,boundary_saved:!1}:i.type==="wicket"?{type:"wicket",dismissal_type:i.dismissal,runs:i.runs}:{type:"extra",extra_type:i.extraType,runs:i.runs}}function Fg(i,d){return{approach:i.battingApproach[d],striker_instruction:"default"}}function Pg(i,d){return{length:i,field_setting:d}}function Jg(i){return{pace:i.pace,spin:i.spin,bounce:i.bounce,deterioration:i.deterioration}}function Wg(i){return i.type==="runs"?{type:"runs",runs:i.runs}:i.type==="wicket"?{type:"wicket",dismissal:i.dismissal_type,runs:i.runs??0}:{type:"extra",extraType:i.extra_type,runs:i.runs}}function eb(i){return{over:i.over,ball:i.ball,batter:i.batter,bowler:i.bowler,outcome:Wg(i.outcome),narrative:i.narrative}}function P0(i){return{overNumber:i.over_number,bowler:i.bowler,runs:i.runs,wickets:i.wickets,balls:i.balls.map(eb)}}function tb(i){const d=new Map;Object.entries(i.batter_stats).forEach(([o,f])=>{d.set(o,{runs:f.runs,balls:f.balls,fours:f.fours,sixes:f.sixes})});const c=new Map;return Object.entries(i.bowler_stats).forEach(([o,f])=>{c.set(o,{overs:f.overs,runs:f.runs,wickets:f.wickets,dots:f.dots})}),{battingTeam:i.batting_team,bowlingTeam:i.bowling_team,runs:i.runs,wickets:i.wickets,overs:i.overs+i.balls/10,balls:i.balls,currentBatters:i.current_batters,currentBowler:i.current_bowler,overSummaries:i.over_summaries.map(P0),fallOfWickets:i.fall_of_wickets.map(o=>({player:o.player,runs:o.runs,overs:o.overs})),batterStats:d,bowlerStats:c}}function ab(i){return{overSummary:P0(i.over_summary),updatedInnings:tb(i.updated_innings_state),inningsComplete:i.innings_complete,narratives:i.narratives,recommendedNextBowler:i.recommended_next_bowler??null}}async function lb(i){const{battingTeam:d,bowlingTeam:c,bowler:o,inningsState:f,tactics:m,pitch:b,target:y,bowlingLength:x,fieldSetting:h}=i,v=jo(Math.floor(f.overs));try{const E={innings_state:Vg(f),batting_team:d.map(q0),bowling_team:c.map(q0),bowler_id:o.id,batting_tactics:Fg(m,v),bowling_tactics:Pg(x??m.bowlingPlan.bowlingApproach[v].length,h??m.bowlingPlan.bowlingApproach[v].field),pitch_conditions:Jg(b),target:y},k=await lg("/api/v1/match/simulate/over",E);if(k.ok){const B=ab(k.data);return{overSummary:B.overSummary,updatedInnings:B.updatedInnings,inningsComplete:B.inningsComplete,narratives:B.narratives,recommendedNextBowler:B.recommendedNextBowler,usedBackend:!0}}console.warn("Backend simulation failed, using client fallback:",k.error)}catch(E){console.warn("Backend simulation error, using client fallback:",E)}const{overSummary:p,updatedInnings:A}=So(d,o,f,m,b,y),S=A.wickets>=10||Math.floor(A.overs)>=20||y!==null&&A.runs>=y,j=o.id,N=c.filter(E=>E.role==="bowler"||E.role==="allrounder"),w=uo(N,A,j);return{overSummary:p,updatedInnings:A,inningsComplete:S,narratives:p.balls.map(E=>E.narrative),recommendedNextBowler:w?.id??null,usedBackend:!1}}const sb=[{value:"good-length",label:"Good"},{value:"short",label:"Short"},{value:"yorkers",label:"Yorker"},{value:"full-pitched",label:"Full"}],nb=[{value:"attacking",label:"Attack"},{value:"balanced",label:"Balance"},{value:"defensive",label:"Defend"},{value:"death-field",label:"Death"}],ib=i=>({...i,batterStats:Object.fromEntries(i.batterStats),bowlerStats:Object.fromEntries(i.bowlerStats)}),rb=i=>({...i,batterStats:new Map(Object.entries(i.batterStats)),bowlerStats:new Map(Object.entries(i.bowlerStats))}),cb=()=>{const{selectedMatchId:i,playerTeamId:d,teams:c,players:o,fixtures:f,updateMatch:m,updatePointsTable:b,pointsTable:y,navigateTo:x,updatePlayerState:h,simulateBackgroundMatches:v,advanceToNextMatch:p,progressPlayoffs:A,checkAndStartPlayoffs:S,generatePostMatchEvent:j,activeEvents:N,liveMatchState:w,saveLiveMatchState:E,clearLiveMatchState:k}=Ve(),[B,W]=le.useState(!1),[_,ne]=le.useState(1),[R,G]=le.useState(null),[ue,O]=le.useState(null),[ae,J]=le.useState(!1),[Z,fe]=le.useState(0),[se,z]=le.useState(null),[K,te]=le.useState([]),[xe,Y]=le.useState(!1),[M,F]=le.useState("over"),[de,re]=le.useState(!1),[Oe,Ae]=le.useState(!1),[ye,lt]=le.useState("balanced"),[ct,Zt]=le.useState("balanced"),[Ie,gt]=le.useState(null),[qt,Jt]=le.useState(null),[Ut,ra]=le.useState(null),[he,We]=le.useState(!1),X=f.find(I=>I.id===i);le.useEffect(()=>{X&&X.status==="completed"&&!ae&&x("home")},[X?.status]);const Ca=c.find(I=>I.id===X?.homeTeam),Oa=c.find(I=>I.id===X?.awayTeam),Ht=o.filter(I=>Ca?.squad.includes(I.id)),ve=o.filter(I=>Oa?.squad.includes(I.id)),Be=d===X?.homeTeam,Ee=Be?X?.homeTactics:X?.awayTactics,Il=Be?X?.awayTactics:X?.homeTactics,bt=le.useCallback(I=>{const ge=c.find(Ne=>Ne.id===I),Me=o.filter(Ne=>ge?.squad.includes(Ne.id));return oo(Me,ge?.captain||"")},[c,o]),Ta=le.useRef(!1);le.useEffect(()=>{if(!X||!Ee||Ta.current)return;if(w&&w.matchId===X.id){const Se=rb(w.inningsState);G(Se),ne(w.currentInnings),fe(w.firstInningsTotal),te(w.recentBalls),Ta.current=!0,m(X.id,{status:"in_progress"});return}if(!Il){const Se=Be?X.awayTeam:X.homeTeam,Ge=bt(Se);Be?m(X.id,{awayTactics:Ge}):m(X.id,{homeTactics:Ge})}const I=Math.random()<.5?X.homeTeam:X.awayTeam,ge=Math.random()<.6?"bat":"bowl",Me=I===X.homeTeam&&ge==="bat"||I===X.awayTeam&&ge==="bowl"?X.homeTeam:X.awayTeam,Ne=Me===X.homeTeam?X.homeTactics||bt(X.homeTeam):X.awayTactics||bt(X.awayTeam),oe={battingTeam:Me,bowlingTeam:Me===X.homeTeam?X.awayTeam:X.homeTeam,runs:0,wickets:0,overs:0,balls:0,currentBatters:[Ne.playingXI[0],Ne.playingXI[1]],currentBowler:"",overSummaries:[],fallOfWickets:[],batterStats:new Map,bowlerStats:new Map};G(oe),ne(1),Ta.current=!0,m(X.id,{status:"in_progress",tossWinner:I,tossDecision:ge,currentInnings:1})},[X?.id]),le.useEffect(()=>{!X||!R||ae||E({matchId:X.id,currentInnings:_,inningsState:ib(R),firstInningsTotal:Z,recentBalls:K})},[R,_,Z,K,X?.id,ae]);const El=le.useCallback(async()=>{if(!X||!R||ae||de)return;re(!0);const I=R.battingTeam,ge=R.bowlingTeam,Me=I===X.homeTeam?Ht:ve,Ne=ge===X.homeTeam?Ht:ve,oe=I===X.homeTeam?X.homeTactics||bt(X.homeTeam):X.awayTactics||bt(X.awayTeam),Se=ge===X.homeTeam?X.homeTactics||bt(X.homeTeam):X.awayTactics||bt(X.awayTeam),Ge=4,H=Ne.filter(Te=>(Te.role==="bowler"||Te.role==="allrounder")&&Se.playingXI.includes(Te.id)),$=Te=>R.bowlerStats instanceof Map?R.bowlerStats.get(Te)?.overs??0:0,ie=R.overSummaries.at(-1)?.bowler;let ce;if(Ie&&ge===d){const Te=$(Ie);Ie!==ie&&Te<Ge&&(ce=H.find($e=>$e.id===Ie)),gt(null)}if(ce||(ce=uo(H,R,ie,Ge),ce||(ce=H.filter(Fe=>$(Fe.id)<Ge)[0]||H[0])),!ce){re(!1);return}const me=_===2?Z+1:null,Ue=oe.playingXI.map(Te=>Me.find(Fe=>Fe.id===Te)).filter(Te=>Te!==void 0);let Xe,Ye;try{const Te=await lb({battingTeam:Ue,bowlingTeam:Ne.filter(Fe=>Se.playingXI.includes(Fe.id)),bowler:ce,inningsState:R,tactics:oe,pitch:X.pitch,target:me,bowlingLength:qt??void 0,fieldSetting:Ut??void 0});Xe=Te.overSummary,Ye=Te.updatedInnings}catch(Te){console.warn("Backend simulation failed, using client:",Te);const Fe=So(Ue,ce,R,oe,X.pitch,me);Xe=Fe.overSummary,Ye=Fe.updatedInnings}if(re(!1),O(Xe),G(Ye),Ye.overs>=20||Ye.wickets>=10||_===2&&Ye.runs>=Z+1)if(_===1){fe(Ye.runs),ne(2);const Te=ge,Fe=I,$e=Te===X.homeTeam?X.homeTactics||bt(X.homeTeam):X.awayTactics||bt(X.awayTeam);G({battingTeam:Te,bowlingTeam:Fe,runs:0,wickets:0,overs:0,balls:0,currentBatters:[$e.playingXI[0],$e.playingXI[1]],currentBowler:"",overSummaries:[],fallOfWickets:[],batterStats:new Map,bowlerStats:new Map}),m(X.id,{currentInnings:2,innings1:Ye})}else{J(!0),W(!1),k();const Te=c.find(He=>He.id===X.innings1?.battingTeam),Fe=c.find(He=>He.id===Ye.battingTeam);let $e,mt;if(Ye.runs>=Z+1?($e=Fe,mt=`${10-Ye.wickets} wickets`):Ye.runs<Z?($e=Te,mt=`${Z-Ye.runs} runs`):($e=void 0,mt="Tie"),z({winner:$e?.name||"Tie",margin:$e?mt:"Match Tied"}),X.matchType==="league"){const He=[...y],pt=X.innings1,vt=Ye,Ct=pt?.battingTeam||R.bowlingTeam,Yt=Z,Lt=20,Wt=vt.runs,Mt=Math.min(20,vt.overs+(vt.balls>0?vt.balls/6:0));vt.battingTeam;const _s=vt.runs,za=Math.min(20,vt.overs+(vt.balls>0?vt.balls/6:0)),al=Z,ll=20,Da=Mt>0?Yt/Lt-Wt/Mt:0,ft=za>0&&ll>0?_s/za-al/ll:0,pa=He.find(Xt=>Xt.teamId===$e?.id),va=He.find(Xt=>Xt.teamId===($e?.id===X.homeTeam?X.awayTeam:X.homeTeam));if(pa){pa.played+=1,pa.won+=1,pa.points+=2;const Xt=$e?.id===Ct?Da:ft;pa.netRunRate=Math.round((pa.netRunRate*(pa.played-1)+Xt)/pa.played*1e3)/1e3}if(va){va.played+=1,va.lost+=1;const Xt=va.teamId===Ct?Da:ft;va.netRunRate=Math.round((va.netRunRate*(va.played-1)+Xt)/va.played*1e3)/1e3}b(He)}m(X.id,{status:"completed",innings2:Ye});const Rt=He=>He?He instanceof Map?Array.from(He):Object.entries(He):[],Ds={batterStats:new Map([...Rt(X.innings1?.batterStats),...Rt(Ye.batterStats)]),bowlerStats:new Map([...Rt(X.innings1?.bowlerStats),...Rt(Ye.bowlerStats)])};[...X.homeTactics?.playingXI||[],...X.awayTactics?.playingXI||[]].forEach(He=>{const pt=o.find(Wt=>Wt.id===He);if(!pt)return;let vt=5;const Ct=Ds.batterStats.get(He);Ct&&Ct.balls>0&&(vt+=Math.min(5,Math.floor(Ct.balls/10)));const Yt=Ds.bowlerStats.get(He);Yt&&Yt.overs>0&&(vt+=Math.min(8,Yt.overs*2));let Lt=0;if(Ct&&Ct.balls>0){const Wt=Ct.runs/Ct.balls*100,Mt=Ct.runs;Mt>=50?Lt+=5:Mt>=30?Lt+=3:Mt>=15&&Wt>=130?Lt+=2:Mt<10&&Ct.balls>=10?Lt-=2:Mt===0&&Ct.balls>=5&&(Lt-=3)}if(Yt&&Yt.overs>0){const Wt=Yt.runs/Yt.overs,Mt=Yt.wickets;Mt>=3?Lt+=5:Mt>=2?Lt+=3:Mt>=1&&Wt<8?Lt+=2:Wt<7&&Yt.overs>=2?Lt+=1:Wt>10&&Yt.overs>=2?Lt-=2:Wt>12&&Yt.overs>=2&&(Lt-=3)}h(He,{fatigue:Math.min(100,pt.fatigue+vt),form:Math.max(-20,Math.min(20,pt.form+Lt))})})}},[X,R,_,Z,ae,Ht,ve,Ie,d,de,qt,Ut]),tl=le.useCallback(()=>{if(!X||!R||ae||xe)return;const I=R.battingTeam,ge=R.bowlingTeam,Me=I===X.homeTeam?Ht:ve,Ne=ge===X.homeTeam?Ht:ve,oe=I===X.homeTeam?X.homeTactics||bt(X.homeTeam):X.awayTactics||bt(X.awayTeam),Se=ge===X.homeTeam?X.homeTactics||bt(X.homeTeam):X.awayTactics||bt(X.awayTeam),Ge=4,H=Ne.filter(Te=>(Te.role==="bowler"||Te.role==="allrounder")&&Se.playingXI.includes(Te.id)),$=Te=>R.bowlerStats instanceof Map?R.bowlerStats.get(Te)?.overs??0:0;let ie=R.currentBowler?H.find(Te=>Te.id===R.currentBowler):null;if(R.balls===0||!ie){const Te=R.overSummaries.at(-1)?.bowler;if(Ie&&ge===d){const Fe=$(Ie);Ie!==Te&&Fe<Ge&&(ie=H.find(mt=>mt.id===Ie)),gt(null)}ie||(ie=uo(H,R,Te,Ge),ie||(ie=H.filter($e=>$($e.id)<Ge)[0]||H[0]))}if(!ie)return;const ce=_===2?Z+1:null,me=oe.playingXI.map(Te=>Me.find(Fe=>Fe.id===Te)).filter(Te=>Te!==void 0),{ballEvent:Ue,updatedInnings:Xe,newBatsmanNeeded:Ye,inningsComplete:ca}=xg(me,ie,R,oe,X.pitch,ce);if(te(Te=>[...Te.slice(-11),Ue]),G(Xe),Ye&&Xe.battingTeam===d&&(Y(!0),W(!1)),ca)if(_===1){fe(Xe.runs),ne(2),te([]);const Te=ge,Fe=Te===X.homeTeam?X.homeTactics||bt(X.homeTeam):X.awayTactics||bt(X.awayTeam);G({battingTeam:Te,bowlingTeam:I,runs:0,wickets:0,overs:0,balls:0,currentBatters:[Fe.playingXI[0],Fe.playingXI[1]],currentBowler:"",overSummaries:[],fallOfWickets:[],batterStats:new Map,bowlerStats:new Map}),m(X.id,{currentInnings:2,innings1:Xe})}else Fl(Xe);return{newBatsmanNeeded:Ye,inningsComplete:ca}},[X,R,_,Z,ae,xe,Ht,ve,Ie,d]);le.useCallback(()=>{!X||!R||ae||(W(!0),F("wicket"))},[X,R,ae]);const Fl=le.useCallback(I=>{if(!X)return;J(!0),W(!1),k();const ge=c.find(Se=>Se.id===X.innings1?.battingTeam),Me=c.find(Se=>Se.id===I.battingTeam);let Ne,oe;if(I.runs>=Z+1?(Ne=Me,oe=`${10-I.wickets} wickets`):I.runs<Z?(Ne=ge,oe=`${Z-I.runs} runs`):(Ne=void 0,oe="Tie"),z({winner:Ne?.name||"Tie",margin:Ne?oe:"Match Tied"}),X.matchType==="league"){const Se=[...y],H=X.innings1?.battingTeam||R?.bowlingTeam;I.battingTeam;const $=Z,ie=20,ce=I.runs,me=Math.min(20,I.overs+(I.balls>0?I.balls/6:0)),Ue=I.runs,Xe=Math.min(20,I.overs+(I.balls>0?I.balls/6:0)),Ye=Z,ca=20,Te=me>0?$/ie-ce/me:0,Fe=Xe>0&&ca>0?Ue/Xe-Ye/ca:0,$e=Se.find(Rt=>Rt.teamId===Ne?.id),mt=Se.find(Rt=>Rt.teamId===(Ne?.id===X.homeTeam?X.awayTeam:X.homeTeam));if($e){$e.played+=1,$e.won+=1,$e.points+=2;const Rt=Ne?.id===H?Te:Fe;$e.netRunRate=Math.round(($e.netRunRate*($e.played-1)+Rt)/$e.played*1e3)/1e3}if(mt){mt.played+=1,mt.lost+=1;const Rt=mt.teamId===H?Te:Fe;mt.netRunRate=Math.round((mt.netRunRate*(mt.played-1)+Rt)/mt.played*1e3)/1e3}b(Se)}m(X.id,{status:"completed",innings2:I}),zs(I)},[X,Z,y,c,R]),zs=le.useCallback(I=>{if(!X)return;const ge=oe=>oe?oe instanceof Map?Array.from(oe):Object.entries(oe):[],Me={batterStats:new Map([...ge(X.innings1?.batterStats),...ge(I.batterStats)]),bowlerStats:new Map([...ge(X.innings1?.bowlerStats),...ge(I.bowlerStats)])};[...X.homeTactics?.playingXI||[],...X.awayTactics?.playingXI||[]].forEach(oe=>{const Se=o.find(ce=>ce.id===oe);if(!Se)return;let Ge=5;const H=Me.batterStats.get(oe);H&&H.balls>0&&(Ge+=Math.min(5,Math.floor(H.balls/10)));const $=Me.bowlerStats.get(oe);$&&$.overs>0&&(Ge+=Math.min(8,$.overs*2));let ie=0;if(H&&H.balls>0){const ce=H.runs/H.balls*100,me=H.runs;me>=50?ie+=5:me>=30?ie+=3:me>=15&&ce>=130?ie+=2:me<10&&H.balls>=10?ie-=2:me===0&&H.balls>=5&&(ie-=3)}if($&&$.overs>0){const ce=$.runs/$.overs,me=$.wickets;me>=3?ie+=5:me>=2?ie+=3:me>=1&&ce<8?ie+=2:ce<7&&$.overs>=2?ie+=1:ce>10&&$.overs>=2?ie-=2:ce>12&&$.overs>=2&&(ie-=3)}h(oe,{fatigue:Math.min(100,Se.fatigue+Ge),form:Math.max(-20,Math.min(20,Se.form+ie))})})},[X,o,h]);if(le.useEffect(()=>{if(!B||ae||xe)return;const I=setTimeout(()=>{if(M==="auto"||M==="over")El();else if(M==="ball"||M==="wicket"){const ge=tl();ge&&(ge.newBatsmanNeeded||ge.inningsComplete)&&M==="wicket"&&(W(!1),F("over"))}},M==="ball"?500:M==="wicket"?300:1500);return()=>clearTimeout(I)},[B,El,tl,ae,xe,M]),!X||!Ca||!Oa)return l.jsx("div",{className:"min-h-screen bg-gray-900 text-white flex items-center justify-center",children:l.jsx("p",{children:"Match not found"})});const Ba=R?c.find(I=>I.id===R.battingTeam):null;R&&c.find(I=>I.id===R.bowlingTeam);const yt=R?o.find(I=>I.id===R.currentBatters[0]):null,Gt=R?o.find(I=>I.id===R.currentBatters[1]):null;return l.jsxs("div",{className:"min-h-screen bg-gray-900 text-white pb-24",children:[l.jsx("header",{className:"bg-gray-800 p-4 border-b border-gray-700",children:l.jsxs("div",{className:"max-w-lg mx-auto flex justify-between items-center",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("span",{className:"animate-pulse bg-red-600 text-xs px-2 py-1 rounded",children:"LIVE"}),l.jsxs("span",{className:"text-sm text-gray-400",children:[Ca.shortName," vs ",Oa.shortName]})]}),l.jsx("span",{className:"text-sm text-gray-400",children:_===1?"1st Innings":"2nd Innings"})]})}),l.jsxs("div",{className:"max-w-lg mx-auto p-4 space-y-4",children:[l.jsxs("div",{className:"bg-gray-800 rounded-xl p-4 border border-gray-700 text-center",children:[l.jsxs("h2",{className:"text-lg text-gray-400 mb-2",children:[Ba?.name||"Team"," Batting"]}),l.jsxs("div",{className:"text-5xl font-bold mb-2",children:[R?.runs||0,"-",R?.wickets||0]}),l.jsxs("div",{className:"text-xl text-gray-400 mb-4",children:[Math.floor(R?.overs||0),".",(R?.balls||0)%6," overs"]}),_===2&&l.jsx("div",{className:"text-lg",children:R&&R.runs>=Z+1?l.jsx("span",{className:"text-green-400",children:"Target reached!"}):l.jsxs("span",{className:"text-blue-400",children:["Need ",Z+1-(R?.runs||0)," runs from"," ",120-(Math.floor(R?.overs||0)*6+(R?.balls||0))," balls"]})}),_===2&&l.jsxs("div",{className:"mt-2 text-sm text-gray-500",children:["Target: ",Z+1]})]}),yt&&l.jsxs("div",{className:"bg-gray-800 rounded-xl p-4 border border-gray-700",children:[l.jsx("h3",{className:"text-sm text-gray-400 mb-3",children:"AT THE CREASE"}),l.jsxs("div",{className:"space-y-2",children:[(()=>{const I=R?.batterStats,ge=I instanceof Map?I.get(yt.id):void 0,Me=ge?.runs??0,Ne=ge?.balls??0,oe=ge?.fours??0,Se=ge?.sixes??0,Ge=Ne>0?(Me/Ne*100).toFixed(1):"0.0";return l.jsxs("div",{className:"flex justify-between items-center",children:[l.jsxs("span",{className:"font-medium",children:[yt.shortName,"*"]}),l.jsxs("div",{className:"text-right",children:[l.jsx("span",{className:"font-bold text-lg",children:Me}),l.jsxs("span",{className:"text-gray-400 text-sm",children:[" (",Ne,")"]}),l.jsxs("span",{className:"text-gray-500 text-xs ml-2",children:["SR: ",Ge]}),(oe>0||Se>0)&&l.jsxs("span",{className:"text-gray-500 text-xs ml-2",children:[oe>0&&l.jsxs("span",{className:"text-blue-400",children:[oe,"4"]}),oe>0&&Se>0&&" ",Se>0&&l.jsxs("span",{className:"text-green-400",children:[Se,"6"]})]})]})]})})(),Gt&&(()=>{const I=R?.batterStats,ge=I instanceof Map?I.get(Gt.id):void 0,Me=ge?.runs??0,Ne=ge?.balls??0,oe=ge?.fours??0,Se=ge?.sixes??0,Ge=Ne>0?(Me/Ne*100).toFixed(1):"0.0";return l.jsxs("div",{className:"flex justify-between items-center text-gray-400",children:[l.jsx("span",{children:Gt.shortName}),l.jsxs("div",{className:"text-right",children:[l.jsx("span",{className:"font-medium",children:Me}),l.jsxs("span",{className:"text-gray-500 text-sm",children:[" (",Ne,")"]}),l.jsxs("span",{className:"text-gray-600 text-xs ml-2",children:["SR: ",Ge]}),(oe>0||Se>0)&&l.jsxs("span",{className:"text-gray-600 text-xs ml-2",children:[oe>0&&l.jsxs("span",{className:"text-blue-400/70",children:[oe,"4"]}),oe>0&&Se>0&&" ",Se>0&&l.jsxs("span",{className:"text-green-400/70",children:[Se,"6"]})]})]})]})})()]})]}),R?.currentBowler&&(()=>{const I=o.find($=>$.id===R.currentBowler),ge=R.bowlerStats,Me=ge instanceof Map?ge.get(R.currentBowler):void 0;if(!I)return null;const Ne=Me?.overs??0,oe=Me?.runs??0,Se=Me?.wickets??0,Ge=Me?.dots??0,H=Ne>0?(oe/Ne).toFixed(2):"0.00";return l.jsx("div",{className:"bg-gray-800 rounded-xl p-3 border border-gray-700",children:l.jsxs("div",{className:"flex justify-between items-center",children:[l.jsxs("div",{children:[l.jsx("span",{className:"text-sm text-gray-400",children:"BOWLING: "}),l.jsx("span",{className:"font-medium",children:I.shortName})]}),l.jsxs("div",{className:"text-right",children:[l.jsxs("span",{className:"font-bold",children:[Se,"-",oe]}),l.jsxs("span",{className:"text-gray-400 text-sm",children:[" (",Ne,"/4 ov)"]}),l.jsxs("span",{className:"text-gray-500 text-xs ml-2",children:["Econ: ",H]}),l.jsxs("span",{className:"text-gray-500 text-xs ml-2",children:["Dots: ",Ge]})]})]})})})(),l.jsx("button",{onClick:()=>We(!he),className:"w-full py-2 bg-gray-800 rounded-lg text-sm text-gray-300 hover:bg-gray-700 border border-gray-700",children:he?"Hide Scorecard":"View Scorecard"}),he&&R&&(()=>{const I=R.battingTeam===X?.homeTeam?X?.homeTactics:X?.awayTactics,ge=R.bowlingTeam===X?.homeTeam?Ht:ve,Me=R.bowlingTeam===X?.homeTeam?X?.homeTactics:X?.awayTactics,Ne=I?.playingXI||[],oe=$=>{if(R.batterStats instanceof Map)return R.batterStats.get($);if(R.batterStats&&typeof R.batterStats=="object")return R.batterStats[$]},Se=R.fallOfWickets.map($=>$.player),Ge=$=>{if(R.bowlerStats instanceof Map)return R.bowlerStats.get($);if(R.bowlerStats&&typeof R.bowlerStats=="object")return R.bowlerStats[$]},H=ge.filter($=>($.role==="bowler"||$.role==="allrounder")&&Me?.playingXI.includes($.id));return l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{className:"bg-gray-800 rounded-xl p-4 border border-gray-700",children:[l.jsx("h3",{className:"text-sm font-semibold text-blue-400 mb-3",children:"BATTING"}),l.jsxs("div",{className:"space-y-2 text-sm",children:[l.jsxs("div",{className:"grid grid-cols-12 gap-1 text-xs text-gray-500 border-b border-gray-700 pb-1",children:[l.jsx("div",{className:"col-span-4",children:"Batter"}),l.jsx("div",{className:"col-span-2 text-right",children:"R"}),l.jsx("div",{className:"col-span-2 text-right",children:"B"}),l.jsx("div",{className:"col-span-2 text-right",children:"4s"}),l.jsx("div",{className:"col-span-2 text-right",children:"6s"})]}),Ne.map(($,ie)=>{const ce=o.find(Rt=>Rt.id===$),me=oe($),Ue=Se.includes($),Xe=R.currentBatters.includes($),Ye=$===R.currentBatters[0],ca=me||Xe||Ue,Te=me?.runs??0,Fe=me?.balls??0,$e=me?.fours??0,mt=me?.sixes??0;return l.jsxs("div",{className:`grid grid-cols-12 gap-1 ${ca?Ue?"text-gray-500":Xe?"text-white":"text-gray-400":"text-gray-600"}`,children:[l.jsxs("div",{className:"col-span-4 truncate",children:[ce?.shortName,Ye&&"*",Ue&&l.jsx("span",{className:"text-red-400 ml-1",children:""})]}),ca?l.jsxs(l.Fragment,{children:[l.jsx("div",{className:"col-span-2 text-right font-medium",children:Te}),l.jsx("div",{className:"col-span-2 text-right",children:Fe}),l.jsx("div",{className:"col-span-2 text-right text-blue-400",children:$e||"-"}),l.jsx("div",{className:"col-span-2 text-right text-green-400",children:mt||"-"})]}):l.jsx("div",{className:"col-span-8 text-right text-xs italic",children:"yet to bat"})]},$)}),l.jsxs("div",{className:"grid grid-cols-12 gap-1 text-gray-400 border-t border-gray-700 pt-1 mt-2",children:[l.jsx("div",{className:"col-span-4",children:"Extras"}),l.jsx("div",{className:"col-span-8 text-right",children:(()=>{let $=0;return Ne.forEach(ie=>{const ce=oe(ie);ce&&($+=ce.runs)}),R.runs-$})()})]}),l.jsxs("div",{className:"grid grid-cols-12 gap-1 font-bold border-t border-gray-700 pt-1",children:[l.jsx("div",{className:"col-span-4",children:"Total"}),l.jsxs("div",{className:"col-span-8 text-right",children:[R.runs,"/",R.wickets," (",R.overs," ov)"]})]})]})]}),l.jsxs("div",{className:"bg-gray-800 rounded-xl p-4 border border-gray-700",children:[l.jsx("h3",{className:"text-sm font-semibold text-purple-400 mb-3",children:"BOWLING"}),l.jsxs("div",{className:"space-y-2 text-sm",children:[l.jsxs("div",{className:"grid grid-cols-12 gap-1 text-xs text-gray-500 border-b border-gray-700 pb-1",children:[l.jsx("div",{className:"col-span-4",children:"Bowler"}),l.jsx("div",{className:"col-span-2 text-right",children:"O"}),l.jsx("div",{className:"col-span-2 text-right",children:"R"}),l.jsx("div",{className:"col-span-2 text-right",children:"W"}),l.jsx("div",{className:"col-span-2 text-right",children:"Econ"})]}),H.map($=>{const ie=Ge($.id);if(!ie||ie.overs===0)return null;const ce=ie.overs>0?(ie.runs/ie.overs).toFixed(1):"-",me=ie.overs>=4;return l.jsxs("div",{className:`grid grid-cols-12 gap-1 ${me?"text-gray-500":"text-gray-300"}`,children:[l.jsxs("div",{className:"col-span-4 truncate",children:[$.shortName,me&&l.jsx("span",{className:"text-xs text-red-400 ml-1",children:""})]}),l.jsx("div",{className:"col-span-2 text-right",children:ie.overs}),l.jsx("div",{className:"col-span-2 text-right",children:ie.runs}),l.jsx("div",{className:"col-span-2 text-right font-medium text-green-400",children:ie.wickets||"-"}),l.jsx("div",{className:"col-span-2 text-right",children:l.jsx("span",{className:parseFloat(ce)<6?"text-green-400":parseFloat(ce)>10?"text-red-400":"",children:ce})})]},$.id)})]})]})]})})(),l.jsxs("div",{className:"bg-gray-800 rounded-xl p-4 border border-gray-700 min-h-[120px]",children:[l.jsx("h3",{className:"text-sm text-gray-400 mb-3",children:K.length>0?l.jsxs(l.Fragment,{children:["THIS OVER  ",K.filter(I=>I.over===(R?.overs||0)).reduce((I,ge)=>I+(ge.outcome.runs||0),0)," runs"]}):ue?l.jsxs(l.Fragment,{children:["OVER ",ue.overNumber+1,"  ",ue.runs," runs, ",ue.wickets," wickets"]}):l.jsx(l.Fragment,{children:"WAITING FOR FIRST BALL"})}),l.jsx("div",{className:"flex gap-2 mb-3 flex-wrap min-h-[36px]",children:K.length>0?K.filter(I=>I.over===(R?.overs||0)).map((I,ge)=>{const Me=I.outcome.type==="wicket",Ne=I.outcome.type==="extra",oe=I.outcome.runs||0,Se=oe===0&&!Me&&!Ne;return l.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center text-sm font-bold ${Me?"bg-red-600 text-white":oe===6?"bg-green-600 text-white":oe===4?"bg-blue-600 text-white":Se?"bg-gray-600 text-gray-300":"bg-gray-700 text-white"}`,children:Me?"W":oe===0?"":oe},ge)}):ue?ue.balls.slice(-6).map((I,ge)=>{const Me=I.outcome.type==="wicket",Ne=I.outcome.runs||0;return l.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center text-sm font-bold ${Me?"bg-red-600 text-white":Ne===6?"bg-green-600 text-white":Ne===4?"bg-blue-600 text-white":Ne===0?"bg-gray-600 text-gray-300":"bg-gray-700 text-white"}`,children:Me?"W":Ne===0?"":Ne},ge)}):l.jsx("div",{className:"text-gray-500 text-sm",children:"Press Next Ball or Next Over to start"})}),K.length>0&&l.jsxs("div",{className:"text-sm border-t border-gray-700 pt-2 min-h-[24px]",children:[l.jsxs("span",{className:"text-gray-500",children:[K[K.length-1].over,".",K[K.length-1].ball]})," - ",l.jsx("span",{className:K[K.length-1].outcome.type==="wicket"?"text-red-400":K[K.length-1].outcome.runs===4||K[K.length-1].outcome.runs===6?"text-green-400":"text-gray-300",children:K[K.length-1].narrative})]})]}),!ae&&Oe&&l.jsxs("div",{className:"bg-gray-800 rounded-xl p-4 border border-blue-700",children:[l.jsxs("div",{className:"flex justify-between items-center mb-3",children:[l.jsx("h3",{className:"text-sm font-semibold text-blue-400",children:"TACTICAL ADJUSTMENTS"}),l.jsx("button",{onClick:()=>Ae(!1),className:"text-gray-400 hover:text-white text-sm",children:"Close"})]}),R?.battingTeam===d&&l.jsxs("div",{className:"mb-4",children:[l.jsx("h4",{className:"text-xs text-gray-400 mb-2",children:"BATTING APPROACH"}),l.jsxs("div",{className:"space-y-2",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("span",{className:"text-sm",children:[yt?.shortName,"* ",l.jsx("span",{className:"text-gray-500",children:"(striker)"})]}),l.jsx("div",{className:"flex gap-1",children:["aggressive","balanced","defensive"].map(I=>l.jsx("button",{onClick:()=>lt(I),className:`px-2 py-1 text-xs rounded transition-colors ${ye===I?"bg-blue-600 text-white":"bg-gray-700 text-gray-300 hover:bg-gray-600"}`,children:I==="aggressive"?"Attack":I==="balanced"?"Normal":"Defend"},I))})]}),l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("span",{className:"text-sm",children:[Gt?.shortName," ",l.jsx("span",{className:"text-gray-500",children:"(non-striker)"})]}),l.jsx("div",{className:"flex gap-1",children:["aggressive","balanced","defensive"].map(I=>l.jsx("button",{onClick:()=>Zt(I),className:`px-2 py-1 text-xs rounded transition-colors ${ct===I?"bg-blue-600 text-white":"bg-gray-700 text-gray-300 hover:bg-gray-600"}`,children:I==="aggressive"?"Attack":I==="balanced"?"Normal":"Defend"},I))})]})]})]}),R?.bowlingTeam===d&&(()=>{const I=Be?X?.homeTactics:X?.awayTactics,ge=(Be?Ht:ve).filter(oe=>(oe.role==="bowler"||oe.role==="allrounder")&&I?.playingXI.includes(oe.id)),Me=R?.overSummaries.at(-1)?.bowler,Ne=4;return l.jsxs("div",{children:[l.jsx("h4",{className:"text-xs text-gray-400 mb-2",children:"SELECT NEXT BOWLER"}),l.jsx("div",{className:"grid grid-cols-2 gap-2",children:ge.map(oe=>{const Se=R?.bowlerStats instanceof Map?R.bowlerStats.get(oe.id):void 0,Ge=Se?.overs??0,H=Ge>=Ne,$=oe.id===Me,ie=$||H,ce=Ie===oe.id;return l.jsxs("button",{onClick:()=>!ie&&gt(ce?null:oe.id),disabled:ie,className:`p-2 rounded-lg text-left text-sm transition-colors ${ce?"bg-purple-600 border border-purple-500":ie?"bg-gray-700/50 text-gray-500 cursor-not-allowed":"bg-gray-700 hover:bg-gray-600"}`,children:[l.jsxs("div",{className:"font-medium flex justify-between",children:[l.jsx("span",{children:oe.shortName}),l.jsxs("span",{className:`text-xs ${H?"text-red-400":"text-gray-500"}`,children:[Ge,"/",Ne]})]}),l.jsxs("div",{className:"text-xs text-gray-400",children:[Se?`${Se.wickets}-${Se.runs}`:"0-0",$&&"  Just bowled",H&&"  Maxed out"]})]},oe.id)})}),Ie&&l.jsxs("p",{className:"text-xs text-purple-400 mt-2",children:[o.find(oe=>oe.id===Ie)?.shortName," will bowl next over"]}),l.jsxs("div",{className:"mt-4",children:[l.jsx("h4",{className:"text-xs text-gray-400 mb-2",children:"BOWLING LENGTH (this over)"}),l.jsx("div",{className:"flex gap-1",children:sb.map(oe=>l.jsx("button",{onClick:()=>Jt(qt===oe.value?null:oe.value),className:`flex-1 px-2 py-2 text-xs rounded-lg transition-colors ${qt===oe.value?"bg-purple-600 text-white":"bg-gray-700 text-gray-300 hover:bg-gray-600"}`,children:oe.label},oe.value))}),qt&&l.jsxs("p",{className:"text-xs text-purple-400 mt-1",children:["Override: ",qt," (tap to clear)"]})]}),l.jsxs("div",{className:"mt-3",children:[l.jsx("h4",{className:"text-xs text-gray-400 mb-2",children:"FIELD SETTING (this over)"}),l.jsx("div",{className:"flex gap-1",children:nb.map(oe=>l.jsx("button",{onClick:()=>ra(Ut===oe.value?null:oe.value),className:`flex-1 px-2 py-2 text-xs rounded-lg transition-colors ${Ut===oe.value?"bg-green-600 text-white":"bg-gray-700 text-gray-300 hover:bg-gray-600"}`,children:oe.label},oe.value))}),Ut&&l.jsxs("p",{className:"text-xs text-green-400 mt-1",children:["Override: ",Ut," (tap to clear)"]})]})]})})()]}),xe&&l.jsxs("div",{className:"bg-blue-900/50 rounded-xl p-4 border border-blue-700",children:[l.jsx("h3",{className:"font-semibold text-blue-300 mb-2",children:"New Batsman"}),l.jsx("p",{className:"text-sm text-gray-300 mb-3",children:"A wicket has fallen. The new batsman is coming to the crease."}),R&&(()=>{const I=o.find(ge=>ge.id===R.currentBatters[0]);return I&&l.jsxs("div",{className:"bg-gray-800 rounded-lg p-3 mb-3",children:[l.jsx("div",{className:"font-medium",children:I.name}),l.jsxs("div",{className:"text-sm text-gray-400",children:[I.role,"  Form: ",I.form>0?"+":"",I.form]})]})})(),l.jsx("button",{onClick:()=>Y(!1),className:"w-full bg-blue-600 hover:bg-blue-700 py-2 rounded-lg font-medium",children:"Continue"})]}),!ae&&!xe&&l.jsxs("div",{className:"space-y-2 bg-gray-900 sticky bottom-0 pt-2 pb-4 -mx-4 px-4 border-t border-gray-800",children:[l.jsx("button",{onClick:()=>Ae(!Oe),className:`w-full py-2 rounded-lg font-medium transition-colors text-sm ${Oe?"bg-blue-900 text-blue-300 border border-blue-700":"bg-gray-700 text-gray-300 hover:bg-gray-600"}`,children:Oe?"Hide Tactics":"Adjust Tactics"}),l.jsxs("div",{className:"flex gap-2",children:[l.jsx("button",{onClick:()=>{F("ball"),tl()},disabled:B||de,className:`flex-1 py-3 rounded-lg font-medium text-sm disabled:opacity-50
                  ${de?"bg-gray-600 animate-pulse":"bg-gray-700 hover:bg-gray-600"}`,children:de?"Simulating...":"Next Ball"}),l.jsx("button",{onClick:()=>{F("wicket"),W(!0)},disabled:B||de,className:"flex-1 bg-purple-700 hover:bg-purple-600 disabled:opacity-50 py-3 rounded-lg font-medium text-sm",children:"Sim to Wicket"})]}),l.jsxs("div",{className:"flex gap-2",children:[l.jsx("button",{onClick:()=>{F("auto"),W(!B)},disabled:de,className:`flex-1 py-3 rounded-lg font-medium transition-colors disabled:opacity-50
                  ${B?"bg-yellow-600 hover:bg-yellow-700":"bg-blue-600 hover:bg-blue-700"}`,children:B?"Pause":"Auto Simulate"}),l.jsx("button",{onClick:()=>{F("over"),El()},disabled:B||de,className:`flex-1 py-3 rounded-lg font-medium transition-colors disabled:opacity-50
                  ${de?"bg-gray-600 animate-pulse":"bg-gray-700 hover:bg-gray-600"}`,children:de?"Simulating...":"Next Over"})]})]}),ae&&se&&l.jsxs("div",{className:`border rounded-xl p-6 text-center ${X?.matchType!=="league"?"bg-purple-900/30 border-purple-700":"bg-green-900/30 border-green-700"}`,children:[X?.matchType==="final"&&se.winner===c.find(I=>I.id===(R?.battingTeam===X.homeTeam?X.homeTeam:X.awayTeam)&&R&&R.runs>=Z+1)?.name&&l.jsx("div",{className:"text-3xl mb-2",children:""}),l.jsx("h2",{className:"text-2xl font-bold mb-2",children:se.winner}),l.jsxs("p",{className:"text-lg text-gray-300",children:["won by ",se.margin]}),X?.matchType!=="league"&&l.jsx("p",{className:"text-sm text-purple-400 mt-2",children:X?.matchType==="final"?"IPL CHAMPIONS!":X?.matchType?.replace(/([A-Z])/g," $1").replace("qualifier","Qualifier ").toUpperCase()}),l.jsx("button",{onClick:()=>{const I=R&&R.runs>=Z+1?R.battingTeam:X?.innings1?.battingTeam||X?.homeTeam,ge=I===X?.homeTeam?X?.awayTeam:X?.homeTeam;j(I===d),X?.matchType==="league"?(v(),p(),S()):X&&I&&ge&&(A(X.id,I,ge),p()),x("home")},className:`mt-4 px-6 py-2 rounded-lg font-medium ${X?.matchType!=="league"?"bg-purple-600 hover:bg-purple-700":"bg-blue-600 hover:bg-blue-700"}`,children:"Continue"})]})]})]})},ob=()=>{const{playerTeamId:i,teams:d,players:c,fixtures:o,pointsTable:f,manager:m,season:b,navigateTo:y,resetGame:x,getSeasonResult:h,startNextSeason:v}=Ve(),p=d.find(G=>G.id===i),A=c.filter(G=>p?.squad.includes(G.id)),S=h(),j=o.filter(G=>G.status==="completed"&&(G.homeTeam===i||G.awayTeam===i)),N=j.filter(G=>{if(!G.innings1||!G.innings2)return!1;const ue=G.innings1.battingTeam,O=G.innings2.battingTeam;return G.innings2.runs>=G.innings1.runs+1?O===i:ue===i}).length,w=j.length-N,E=f.find(G=>G.teamId===i),k=new Map;j.forEach(G=>{[G.innings1,G.innings2].forEach(ue=>{ue&&(ue.batterStats&&(ue.batterStats instanceof Map?Array.from(ue.batterStats.entries()):Object.entries(ue.batterStats)).forEach(([ae,J])=>{if(!A.some(fe=>fe.id===ae))return;const Z=k.get(ae)||{runs:0,balls:0,wickets:0,overs:0};Z.runs+=J.runs||0,Z.balls+=J.balls||0,k.set(ae,Z)}),ue.bowlerStats&&(ue.bowlerStats instanceof Map?Array.from(ue.bowlerStats.entries()):Object.entries(ue.bowlerStats)).forEach(([ae,J])=>{if(!A.some(fe=>fe.id===ae))return;const Z=k.get(ae)||{runs:0,balls:0,wickets:0,overs:0};Z.wickets+=J.wickets||0,Z.overs+=J.overs||0,k.set(ae,Z)}))})});const B=Array.from(k.entries()).sort((G,ue)=>ue[1].runs-G[1].runs)[0],W=B?c.find(G=>G.id===B[0]):null,_=Array.from(k.entries()).filter(([G,ue])=>ue.wickets>0).sort((G,ue)=>ue[1].wickets-G[1].wickets)[0],ne=_?c.find(G=>G.id===_[0]):null,R=[...f].sort((G,ue)=>ue.points!==G.points?ue.points-G.points:ue.netRunRate-G.netRunRate);return l.jsxs("div",{className:"min-h-screen bg-gray-900 text-white pb-24",children:[l.jsx("header",{className:"bg-gradient-to-r from-yellow-900 to-amber-800 p-6 border-b border-yellow-700",children:l.jsxs("div",{className:"max-w-lg mx-auto text-center",children:[l.jsxs("h1",{className:"text-2xl font-bold mb-1",children:["Season ",b," Complete"]}),l.jsx("p",{className:"text-yellow-200",children:p?.name})]})}),l.jsxs("div",{className:"max-w-lg mx-auto p-4 space-y-4",children:[S&&l.jsxs("div",{className:`rounded-xl p-6 text-center border ${S.playerFinish===1?"bg-gradient-to-r from-yellow-900/50 to-amber-900/50 border-yellow-600":S.playerFinish===2?"bg-gradient-to-r from-gray-700/50 to-gray-600/50 border-gray-500":"bg-gray-800 border-gray-700"}`,children:[S.playerFinish===1&&l.jsxs(l.Fragment,{children:[l.jsx("div",{className:"text-5xl mb-3",children:""}),l.jsx("h2",{className:"text-3xl font-bold text-yellow-400",children:"CHAMPIONS!"}),l.jsxs("p",{className:"text-lg text-yellow-200 mt-2",children:["IPL Season ",b," Winners"]})]}),S.playerFinish===2&&l.jsxs(l.Fragment,{children:[l.jsx("div",{className:"text-4xl mb-3",children:""}),l.jsx("h2",{className:"text-2xl font-bold text-gray-300",children:"Runners Up"}),l.jsx("p",{className:"text-gray-400 mt-2",children:"So close! Better luck next season."})]}),S.playerFinish>2&&S.playerFinish<=4&&l.jsxs(l.Fragment,{children:[l.jsx("h2",{className:"text-xl font-bold",children:"Playoff Finish"}),l.jsxs("p",{className:"text-gray-400 mt-2",children:["Finished #",S.playerFinish," in the playoffs."]})]}),S.playerFinish>4&&l.jsxs(l.Fragment,{children:[l.jsx("h2",{className:"text-xl font-bold text-gray-400",children:"Season Over"}),l.jsxs("p",{className:"text-gray-500 mt-2",children:["Finished #",S.playerFinish," - Missed playoffs."]})]})]}),l.jsxs("div",{className:"bg-gray-800 rounded-xl p-4 border border-gray-700",children:[l.jsx("h3",{className:"text-sm font-semibold text-gray-400 mb-3",children:"YOUR SEASON"}),l.jsxs("div",{className:"grid grid-cols-3 gap-4 text-center",children:[l.jsxs("div",{children:[l.jsx("div",{className:"text-2xl font-bold text-green-400",children:N}),l.jsx("div",{className:"text-xs text-gray-500",children:"Wins"})]}),l.jsxs("div",{children:[l.jsx("div",{className:"text-2xl font-bold text-red-400",children:w}),l.jsx("div",{className:"text-xs text-gray-500",children:"Losses"})]}),l.jsxs("div",{children:[l.jsx("div",{className:`text-2xl font-bold ${(E?.netRunRate||0)>=0?"text-green-400":"text-red-400"}`,children:E?.netRunRate?.toFixed(2)||"0.00"}),l.jsx("div",{className:"text-xs text-gray-500",children:"NRR"})]})]})]}),l.jsxs("div",{className:"bg-gray-800 rounded-xl p-4 border border-gray-700",children:[l.jsx("h3",{className:"text-sm font-semibold text-gray-400 mb-3",children:"TOP PERFORMERS"}),l.jsxs("div",{className:"space-y-3",children:[W&&B&&l.jsxs("div",{className:"flex justify-between items-center",children:[l.jsxs("div",{children:[l.jsx("div",{className:"text-sm font-medium",children:W.shortName}),l.jsx("div",{className:"text-xs text-gray-500",children:"Top Run Scorer"})]}),l.jsxs("div",{className:"text-right",children:[l.jsx("div",{className:"text-lg font-bold text-blue-400",children:B[1].runs}),l.jsx("div",{className:"text-xs text-gray-500",children:"runs"})]})]}),ne&&_&&l.jsxs("div",{className:"flex justify-between items-center",children:[l.jsxs("div",{children:[l.jsx("div",{className:"text-sm font-medium",children:ne.shortName}),l.jsx("div",{className:"text-xs text-gray-500",children:"Top Wicket Taker"})]}),l.jsxs("div",{className:"text-right",children:[l.jsx("div",{className:"text-lg font-bold text-purple-400",children:_[1].wickets}),l.jsx("div",{className:"text-xs text-gray-500",children:"wickets"})]})]})]})]}),l.jsxs("div",{className:"bg-gray-800 rounded-xl p-4 border border-gray-700",children:[l.jsx("h3",{className:"text-sm font-semibold text-gray-400 mb-3",children:"FINAL STANDINGS"}),l.jsx("div",{className:"space-y-1",children:R.map((G,ue)=>{const O=d.find(Z=>Z.id===G.teamId),ae=G.teamId===i,J=S?.champion===G.teamId;return l.jsxs("div",{className:`flex items-center justify-between px-2 py-2 rounded-lg ${ae?"bg-blue-900/30 border border-blue-800/50":"bg-gray-700/30"}`,children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("span",{className:"text-gray-500 w-4 text-sm",children:ue+1}),l.jsxs("span",{className:`text-sm ${ae?"text-blue-400 font-medium":""}`,children:[O?.shortName,J&&l.jsx("span",{className:"ml-1",children:""})]})]}),l.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[l.jsxs("span",{className:"text-gray-400",children:[G.played,"P"]}),l.jsxs("span",{className:"text-green-400",children:[G.won,"W"]}),l.jsxs("span",{className:"text-red-400",children:[G.lost,"L"]}),l.jsxs("span",{className:"w-10 font-bold",children:[G.points,"pts"]})]})]},G.teamId)})})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsxs("button",{onClick:()=>v(),className:"w-full bg-gradient-to-r from-amber-600 to-yellow-600 hover:from-amber-500 hover:to-yellow-500 text-white py-4 rounded-lg font-bold text-lg transition-colors shadow-lg",children:["Continue to Season ",b+1]}),l.jsx("button",{onClick:()=>y("home"),className:"w-full bg-gray-700 hover:bg-gray-600 text-white py-3 rounded-lg font-medium transition-colors",children:"Back to Home"}),l.jsx("button",{onClick:()=>{confirm("Start a new game? This will erase your current progress.")&&(x(),y("home"),window.location.reload())},className:"w-full bg-red-900/50 hover:bg-red-900 text-red-300 py-3 rounded-lg font-medium transition-colors border border-red-800",children:"New Game"})]}),l.jsxs("div",{className:"bg-gray-800/50 rounded-xl p-4 border border-gray-700",children:[l.jsx("h3",{className:"text-xs font-semibold text-gray-500 mb-2",children:"MANAGER RECORD"}),l.jsxs("p",{className:"text-sm text-gray-400",children:[m.name,"  ",m.history.seasonsManaged+1," season",m.history.seasonsManaged>0?"s":""," managed",m.history.titlesWon>0&&`  ${m.history.titlesWon} title${m.history.titlesWon>1?"s":""}`]})]})]})]})},ub={player:"from-blue-900/50 to-blue-800/50 border-blue-700",media:"from-purple-900/50 to-purple-800/50 border-purple-700",team:"from-green-900/50 to-green-800/50 border-green-700",board:"from-amber-900/50 to-amber-800/50 border-amber-700"},db={player:"Player Issue",media:"Media",team:"Team",board:"Board"},mb={player:"",media:"",team:"",board:""},fb=()=>{const{activeEvents:i,players:d,resolveEvent:c,navigateTo:o,openPlayerModal:f}=Ve(),m=i.find(x=>!x.resolved);if(!m)return o("home"),null;const b=m.involvedPlayers.length>0?d.find(x=>x.id===m.involvedPlayers[0]):null,y=x=>{c(m.id,x),i.filter(v=>!v.resolved&&v.id!==m.id).length===0&&o("home")};return l.jsxs("div",{className:"min-h-screen bg-gray-900 text-white",children:[l.jsx("header",{className:`p-6 border-b bg-gradient-to-r ${ub[m.category]}`,children:l.jsxs("div",{className:"max-w-lg mx-auto",children:[l.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[l.jsx("span",{className:"text-2xl",children:mb[m.category]}),l.jsx("span",{className:"text-sm text-gray-300 uppercase tracking-wide",children:db[m.category]})]}),l.jsx("h1",{className:"text-xl font-bold",children:m.title})]})}),l.jsxs("div",{className:"max-w-lg mx-auto p-4 space-y-6",children:[l.jsxs("div",{className:"bg-gray-800 rounded-xl p-5 border border-gray-700",children:[b&&l.jsxs("button",{onClick:()=>f(b.id,!1),className:"flex items-center gap-3 mb-4 pb-4 border-b border-gray-700 w-full text-left hover:bg-gray-700/30 -mx-2 px-2 py-2 rounded-lg transition-colors",children:[l.jsx("div",{className:"w-12 h-12 bg-gray-700 rounded-full flex items-center justify-center text-lg font-bold",children:b.shortName.charAt(0)}),l.jsxs("div",{children:[l.jsx("div",{className:"font-medium text-blue-400 hover:text-blue-300",children:b.name}),l.jsxs("div",{className:"text-sm text-gray-400",children:[b.role.charAt(0).toUpperCase()+b.role.slice(1),"  Morale: ",b.morale,"  Form: ",b.form>0?"+":"",b.form]})]}),l.jsx("span",{className:"ml-auto text-gray-500 text-sm",children:"View Profile"})]}),l.jsx("p",{className:"text-gray-200 leading-relaxed",children:m.description})]}),l.jsxs("div",{className:"space-y-3",children:[l.jsx("h3",{className:"text-sm text-gray-400 uppercase tracking-wide",children:"Your Response"}),m.options.map(x=>l.jsxs("button",{onClick:()=>y(x.id),className:"w-full text-left bg-gray-800 hover:bg-gray-750 border border-gray-700 hover:border-gray-600 rounded-xl p-4 transition-colors group",children:[l.jsx("div",{className:"font-medium text-white group-hover:text-blue-400 transition-colors",children:x.label}),l.jsx("div",{className:"text-sm text-gray-400 mt-1",children:x.description}),l.jsx("div",{className:"flex flex-wrap gap-2 mt-3",children:x.effects.map((h,v)=>{let p="",A="";return h.target==="player"?h.attribute==="morale"?(p=h.change>0?`+${h.change} Morale`:`${h.change} Morale`,A=h.change>0?"bg-green-900/50 text-green-400":"bg-red-900/50 text-red-400"):h.attribute==="form"?(p=h.change>0?`+${h.change} Form`:`${h.change} Form`,A=h.change>0?"bg-blue-900/50 text-blue-400":"bg-orange-900/50 text-orange-400"):h.attribute==="fatigue"&&(p=h.change<0?`${h.change} Fatigue`:`+${h.change} Fatigue`,A=h.change<0?"bg-green-900/50 text-green-400":"bg-red-900/50 text-red-400"):h.target==="team"&&(h.attribute==="pressHeat"?(p=h.change>0?`+${h.change} Press Heat`:`${h.change} Press Heat`,A=h.change>0?"bg-red-900/50 text-red-400":"bg-green-900/50 text-green-400"):h.attribute==="boardPatience"?(p=h.change>0?`+${h.change} Board Patience`:`${h.change} Board Patience`,A=h.change>0?"bg-green-900/50 text-green-400":"bg-red-900/50 text-red-400"):h.attribute==="morale"&&(p=h.change>0?`+${h.change} Team Morale`:`${h.change} Team Morale`,A=h.change>0?"bg-green-900/50 text-green-400":"bg-red-900/50 text-red-400")),p?l.jsx("span",{className:`text-xs px-2 py-1 rounded ${A}`,children:p},v):null})})]},x.id))]}),m.urgency!=="immediate"&&l.jsx("button",{onClick:()=>o("home"),className:"w-full text-center text-gray-500 hover:text-gray-400 text-sm py-2",children:"Deal with this later"})]})]})},wa={batsman:"bg-orange-600",bowler:"bg-green-600",allrounder:"bg-purple-600",keeper:"bg-blue-600"},En={batsman:"BAT",bowler:"BOWL",allrounder:"AR",keeper:"WK"},hb=()=>{const{playerTeamId:i,teams:d,players:c,auctionState:o,unsoldPlayers:f,startMode:m,navigateTo:b,initializeAuction:y,setRetention:x,removeRetention:h,confirmRetentions:v,startBidding:p,placeBid:A,passBid:S,processAIBidRound:j,nextPlayer:N,markPlayerSold:w,markPlayerUnsold:E,setAuctionMode:k,simRestOfAuction:B,completeAuction:W,canPlayerBid:_,getNextBidAmountForPlayer:ne,pickSquadFillPlayer:R,autoFillPlayerSquad:G,completeSquadFill:ue}=Ve(),[O,ae]=le.useState(!1),[J,Z]=le.useState(null),[fe,se]=le.useState("waiting_for_player"),[z,K]=le.useState(""),[te,xe]=le.useState("all"),[Y,M]=le.useState(null),[F,de]=le.useState(!1),[re,Oe]=le.useState(null),[Ae,ye]=le.useState(!1),[lt,ct]=le.useState(!1),[Zt,Ie]=le.useState(!1),[gt,qt]=le.useState(!1),[Jt,Ut]=le.useState(!1),ra=le.useRef(!1),he=le.useRef(!1),{getSaveSlots:We,saveToSlot:X,resetGame:Ca}=Ve(),Oa=We(),Ht=d.find(H=>H.id===i),ve=o?.teamStates[i];le.useEffect(()=>{o||y(m==="mini-auction"?"mini":"mega")},[o,y,m]),le.useEffect(()=>{o&&o.status==="bidding"&&!o.currentPlayer&&!he.current&&o.auctionPool.some(H=>H.status==="available")&&(he.current=!0,N())},[o,N]),le.useEffect(()=>{o?.status!=="bidding"&&(he.current=!1)},[o?.status]);const Be=o?.currentPlayer,Ee=Be?c.find(H=>H.id===Be.playerId):null;le.useEffect(()=>{Be&&(se("waiting_for_player"),M(null),qt(!1),ra.current=!1)},[Be?.playerId]);const Il=()=>{_()&&(A(),M(i),El())},bt=()=>{S(),qt(!0),ra.current=!1,tl()},Ta=()=>{ra.current=!0;const H=Ve.getState();H.auctionState&&Ve.setState({auctionState:{...H.auctionState,teamStates:{...H.auctionState.teamStates,[i]:{...H.auctionState.teamStates[i],hasPassedCurrentPlayer:!1}}}}),qt(!1),se("waiting_for_player")},El=()=>{se("ai_bidding"),setTimeout(()=>{if(j()){const $=Ve.getState().auctionState?.currentPlayer;M($?.currentBidder||null),se("waiting_for_player")}else Fl()},600)},tl=()=>{se("ai_bidding");const H=()=>{setTimeout(()=>{if(ra.current)return;if(j()){const ie=Ve.getState().auctionState?.currentPlayer;M(ie?.currentBidder||null),H()}else Fl()},500)};H()},Fl=()=>{const H=Ve.getState().auctionState?.currentPlayer;H?.currentBidder?(se("sold"),M(H.currentBidder)):se("unsold")},zs=()=>{fe==="sold"?w():E(),N(),se("waiting_for_player"),M(null)},Ba=()=>{v(),p(),se("waiting_for_player")},yt=()=>{W(),b("home")},Gt=()=>{B()},I=H=>{X(H)&&(de(!1),Ca(),b("home"))};if(!o||!Ht||!ve)return l.jsx("div",{className:"min-h-screen bg-gray-900 text-white flex items-center justify-center",children:l.jsx("p",{children:"Loading auction..."})});if(o.status==="retention_phase")return l.jsxs("div",{className:"min-h-screen bg-gray-900 text-white pb-24",children:[l.jsx("header",{className:"bg-gray-800 p-4 border-b border-gray-700",children:l.jsxs("div",{className:"flex items-center justify-between max-w-lg mx-auto",children:[l.jsx("button",{onClick:()=>de(!0),className:"text-gray-400 hover:text-white text-sm",children:"Save & Exit"}),l.jsxs("div",{className:"text-center flex-1",children:[l.jsx("h1",{className:"text-xl font-bold",children:"Mega Auction - Retentions"}),l.jsx("p",{className:"text-sm text-gray-400 mt-1",children:"Choose up to 4 players to retain"})]}),l.jsx("div",{className:"w-16"})]})}),l.jsxs("div",{className:"max-w-lg mx-auto p-4 space-y-4",children:[l.jsx("div",{className:"bg-gray-800 rounded-xl p-4 border border-gray-700",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("div",{className:"w-12 h-12 rounded-full flex items-center justify-center font-bold",style:{backgroundColor:Ht.colors.primary},children:Ht.shortName}),l.jsxs("div",{children:[l.jsx("div",{className:"font-semibold",children:Ht.name}),l.jsx("div",{className:"text-sm text-gray-400",children:"Select your retentions"})]})]}),l.jsxs("div",{className:"text-right",children:[l.jsx("div",{className:"text-2xl font-bold text-green-400",children:Dt(ve.remainingPurse)}),l.jsx("div",{className:"text-xs text-gray-400",children:"Remaining Purse"})]})]})}),l.jsx("div",{className:"space-y-3",children:ve.retentions.map(H=>{const $=H.playerId?c.find(ie=>ie.id===H.playerId):null;return l.jsx("div",{className:"bg-gray-800 rounded-xl p-4 border border-gray-700",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("div",{className:"w-8 h-8 rounded-full bg-gray-700 flex items-center justify-center text-sm font-bold",children:H.slotNumber}),$?l.jsxs("div",{children:[l.jsx("div",{className:"font-medium",children:$.name}),l.jsxs("div",{className:"text-xs text-gray-400",children:[$.role,"  Cost: ",Dt(H.cost)]})]}):l.jsxs("div",{className:"text-gray-500",children:["Empty Slot  Cost: ",Dt(H.cost)]})]}),l.jsx("div",{className:"flex gap-2",children:$?l.jsx("button",{onClick:()=>h(H.slotNumber),className:"px-3 py-1 bg-red-900/50 text-red-400 rounded-lg text-sm",children:"Remove"}):l.jsx("button",{onClick:()=>{Z(H.slotNumber),ae(!0)},className:"px-3 py-1 bg-blue-600 text-white rounded-lg text-sm",children:"Select"})})]})},H.slotNumber)})}),l.jsx("button",{onClick:Ba,className:"w-full bg-green-600 hover:bg-green-700 text-white py-4 rounded-lg font-semibold text-lg",children:"Confirm Retentions & Start Auction"})]}),O&&J&&l.jsx("div",{className:"fixed inset-0 bg-black/80 flex items-center justify-center z-50 p-4",children:l.jsxs("div",{className:"bg-gray-800 rounded-xl max-w-md w-full max-h-[80vh] overflow-y-auto",children:[l.jsx("div",{className:"p-4 border-b border-gray-700",children:l.jsxs("h3",{className:"font-bold",children:["Select Player for Slot ",J]})}),l.jsx("div",{className:"p-4 space-y-2",children:c.filter(H=>Ht.squad.includes(H.id)).filter(H=>!ve.retentions.some($=>$.playerId===H.id)).map(H=>l.jsxs("button",{onClick:()=>{x(H.id,J),ae(!1),Z(null)},className:"w-full bg-gray-700 hover:bg-gray-600 rounded-lg p-3 flex items-center gap-3 text-left",children:[l.jsx("div",{className:`w-10 h-10 rounded-full ${wa[H.role]} flex items-center justify-center text-xs font-bold`,children:H.shortName.slice(0,2)}),l.jsxs("div",{className:"flex-1",children:[l.jsx("div",{className:"font-medium",children:H.name}),l.jsxs("div",{className:"text-xs text-gray-400",children:[H.role,"  ",H.nationality]})]}),H.contract.isOverseas&&l.jsx("span",{className:"px-2 py-1 bg-blue-900/50 text-blue-400 text-xs rounded",children:"OS"})]},H.id))}),l.jsx("div",{className:"p-4 border-t border-gray-700",children:l.jsx("button",{onClick:()=>{ae(!1),Z(null)},className:"w-full bg-gray-700 text-white py-2 rounded-lg",children:"Cancel"})})]})}),F&&l.jsx("div",{className:"fixed inset-0 bg-black/80 flex items-center justify-center z-50 p-4",children:l.jsxs("div",{className:"bg-gray-800 rounded-xl max-w-md w-full",children:[l.jsxs("div",{className:"p-4 border-b border-gray-700",children:[l.jsx("h3",{className:"font-bold",children:"Save Game"}),l.jsx("p",{className:"text-sm text-gray-400 mt-1",children:"Choose a save slot. This will exit to the main menu."})]}),l.jsx("div",{className:"p-4 space-y-2",children:[1,2,3].map(H=>{const $=Oa.find(ie=>ie.id===H);return l.jsxs("button",{onClick:()=>I(H),className:"w-full bg-gray-700 hover:bg-gray-600 rounded-lg p-3 text-left",children:[l.jsxs("div",{className:"flex justify-between items-center",children:[l.jsxs("span",{className:"font-medium",children:["Slot ",H]}),$&&l.jsx("span",{className:"text-xs text-yellow-500",children:"Overwrite"})]}),$?l.jsxs("div",{className:"text-xs text-gray-400 mt-1",children:[$.name,"  ",yo($.savedAt)]}):l.jsx("div",{className:"text-xs text-gray-500 mt-1",children:"Empty"})]},H)})}),l.jsx("div",{className:"p-4 border-t border-gray-700",children:l.jsx("button",{onClick:()=>de(!1),className:"w-full bg-gray-700 text-white py-2 rounded-lg",children:"Cancel"})})]})})]});if(o.status==="squad_fill"){const H=o.settings.minSquadSize-ve.squadSize,ie=no(c,d,f).filter(({player:me})=>{const Ue=z===""||me.name.toLowerCase().includes(z.toLowerCase())||me.shortName.toLowerCase().includes(z.toLowerCase()),Xe=te==="all"||me.role===te;return Ue&&Xe}),ce=ve.squadSize>=o.settings.minSquadSize;return l.jsxs("div",{className:"min-h-screen bg-gray-900 text-white pb-24",children:[l.jsxs("header",{className:"bg-gray-800 p-4 border-b border-gray-700",children:[l.jsxs("h1",{className:"text-xl font-bold text-center",children:["Squad Fill ",H>0?`- Need ${H} more`:"- Complete!"]}),l.jsxs("div",{className:"flex justify-center gap-6 mt-2 text-sm",children:[l.jsxs("span",{children:["Budget: ",l.jsx("span",{className:"text-green-400 font-medium",children:Dt(ve.remainingPurse)})]}),l.jsxs("span",{children:["Squad: ",l.jsxs("span",{className:"font-medium",children:[ve.squadSize,"/",o.settings.minSquadSize]})]}),l.jsxs("span",{children:["Overseas: ",l.jsxs("span",{className:"text-blue-400 font-medium",children:[ve.overseasCount,"/8"]})]})]})]}),l.jsxs("div",{className:"max-w-lg mx-auto p-4 space-y-4",children:[l.jsxs("div",{className:"flex gap-2",children:[l.jsx("input",{type:"text",placeholder:"Search players...",value:z,onChange:me=>K(me.target.value),className:"flex-1 bg-gray-800 border border-gray-700 rounded-lg px-3 py-2 text-sm focus:outline-none focus:border-blue-500"}),l.jsxs("select",{value:te,onChange:me=>xe(me.target.value),className:"bg-gray-800 border border-gray-700 rounded-lg px-3 py-2 text-sm focus:outline-none focus:border-blue-500",children:[l.jsx("option",{value:"all",children:"All Roles"}),l.jsx("option",{value:"batsman",children:"Batsman"}),l.jsx("option",{value:"bowler",children:"Bowler"}),l.jsx("option",{value:"allrounder",children:"All-rounder"}),l.jsx("option",{value:"keeper",children:"Keeper"})]})]}),ie.filter(me=>me.isUnsold).length>0&&l.jsxs("div",{className:"bg-gray-800 rounded-xl p-4 border border-yellow-600/30",children:[l.jsx("h3",{className:"font-semibold mb-3 text-yellow-400",children:"Unsold From Auction"}),l.jsx("div",{className:"space-y-2 max-h-48 overflow-y-auto",children:ie.filter(me=>me.isUnsold).map(({player:me,basePrice:Ue})=>{const{canPick:Xe,reason:Ye}=io(ve,me,Ue,o.settings);return l.jsxs("div",{className:"flex items-center justify-between py-2 border-b border-gray-700 last:border-0",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("span",{className:`px-2 py-1 text-xs rounded ${wa[me.role]}`,children:En[me.role]}),l.jsx("span",{children:me.shortName}),me.contract.isOverseas&&l.jsx("span",{className:"text-xs text-blue-400",children:"OS"})]}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("span",{className:"text-gray-400 text-sm",children:Dt(Ue)}),l.jsx("button",{onClick:()=>R(me.id),disabled:!Xe,className:`px-3 py-1 text-sm rounded ${Xe?"bg-green-600 hover:bg-green-700":"bg-gray-600 cursor-not-allowed opacity-50"}`,title:Ye,children:"+"})]})]},me.id)})})]}),l.jsxs("div",{className:"bg-gray-800 rounded-xl p-4 border border-gray-700",children:[l.jsxs("h3",{className:"font-semibold mb-3",children:["Free Agents (",ie.filter(me=>!me.isUnsold).length,")"]}),l.jsxs("div",{className:"space-y-2 max-h-64 overflow-y-auto",children:[ie.filter(me=>!me.isUnsold).slice(0,50).map(({player:me,basePrice:Ue})=>{const{canPick:Xe,reason:Ye}=io(ve,me,Ue,o.settings);return l.jsxs("div",{className:"flex items-center justify-between py-2 border-b border-gray-700 last:border-0",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("span",{className:`px-2 py-1 text-xs rounded ${wa[me.role]}`,children:En[me.role]}),l.jsx("span",{children:me.shortName}),me.contract.isOverseas&&l.jsx("span",{className:"text-xs text-blue-400",children:"OS"})]}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("span",{className:"text-gray-400 text-sm",children:Dt(Ue)}),l.jsx("button",{onClick:()=>R(me.id),disabled:!Xe,className:`px-3 py-1 text-sm rounded ${Xe?"bg-green-600 hover:bg-green-700":"bg-gray-600 cursor-not-allowed opacity-50"}`,title:Ye,children:"+"})]})]},me.id)}),ie.filter(me=>!me.isUnsold).length>50&&l.jsxs("div",{className:"text-center text-gray-400 text-sm py-2",children:["...and ",ie.filter(me=>!me.isUnsold).length-50," more (use search to find specific players)"]})]})]}),l.jsxs("div",{className:"flex gap-3",children:[!ce&&l.jsx("button",{onClick:G,className:"flex-1 bg-purple-600 hover:bg-purple-700 text-white py-3 rounded-lg font-medium",children:"Auto-Fill Cheapest"}),l.jsx("button",{onClick:ue,disabled:!ce,className:`flex-1 py-3 rounded-lg font-medium ${ce?"bg-blue-600 hover:bg-blue-700 text-white":"bg-gray-700 text-gray-400 cursor-not-allowed"}`,children:ce?"Start Season":`Need ${H} more players`})]})]})]})}if(o.status==="completed")return l.jsxs("div",{className:"min-h-screen bg-gray-900 text-white pb-24",children:[l.jsx("header",{className:"bg-gray-800 p-4 border-b border-gray-700",children:l.jsx("h1",{className:"text-xl font-bold text-center",children:"Auction Complete"})}),l.jsxs("div",{className:"max-w-lg mx-auto p-4 space-y-4",children:[l.jsxs("div",{className:"bg-gray-800 rounded-xl p-4 border border-gray-700",children:[l.jsx("h2",{className:"font-semibold mb-3",children:"Your Squad"}),l.jsxs("div",{className:"grid grid-cols-3 gap-3 text-center",children:[l.jsxs("div",{children:[l.jsx("div",{className:"text-2xl font-bold",children:ve.squadSize}),l.jsx("div",{className:"text-xs text-gray-400",children:"Players"})]}),l.jsxs("div",{children:[l.jsx("div",{className:"text-2xl font-bold text-green-400",children:Os(ve.remainingPurse)}),l.jsx("div",{className:"text-xs text-gray-400",children:"Remaining"})]}),l.jsxs("div",{children:[l.jsx("div",{className:"text-2xl font-bold text-blue-400",children:ve.overseasCount}),l.jsx("div",{className:"text-xs text-gray-400",children:"Overseas"})]})]})]}),l.jsxs("div",{className:"bg-gray-800 rounded-xl p-4 border border-gray-700",children:[l.jsx("h3",{className:"font-semibold mb-3",children:"Players Bought"}),l.jsx("div",{className:"space-y-2 max-h-60 overflow-y-auto",children:o.soldPlayers.filter(H=>H.currentBidder===i).map(H=>{const $=c.find(ie=>ie.id===H.playerId);return $?l.jsxs("div",{className:"flex items-center justify-between py-2 border-b border-gray-700 last:border-0",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("span",{className:`px-2 py-1 text-xs rounded ${wa[$.role]}`,children:En[$.role]}),l.jsx("span",{children:$.shortName}),$.contract.isOverseas&&l.jsx("span",{className:"text-xs text-blue-400",children:"OS"})]}),l.jsx("span",{className:"text-green-400 font-medium",children:Dt(H.currentBid)})]},H.playerId):null})})]}),l.jsx("button",{onClick:yt,className:"w-full bg-blue-600 hover:bg-blue-700 text-white py-4 rounded-lg font-semibold text-lg",children:"Start Season"})]})]});const ge=fe==="waiting_for_player",Me=fe==="ai_bidding",Ne=fe==="sold",oe=fe==="unsold",Se=Ne||oe,Ge=Be?.currentBidder===i;return l.jsxs("div",{className:"min-h-screen bg-gray-900 text-white pb-4",children:[l.jsx("header",{className:"bg-gray-800 p-3 border-b border-gray-700 sticky top-0 z-10",children:l.jsxs("div",{className:"flex items-center justify-between max-w-lg mx-auto",children:[l.jsxs("button",{onClick:()=>Ie(!0),className:"text-left hover:bg-gray-700/50 rounded-lg px-2 py-1 -ml-2 transition-colors",children:[l.jsxs("div",{className:"text-sm text-gray-400",children:["Player ",o.totalPlayersAuctioned,"/",o.auctionPool.length,l.jsx("span",{className:"text-blue-400 ml-1",children:""})]}),l.jsxs("div",{className:"text-xs text-yellow-400",children:[ge&&"Your turn to bid",Me&&"AI teams responding...",Ne&&"SOLD!",oe&&"UNSOLD"]})]}),l.jsxs("button",{onClick:()=>ct(!0),className:"text-right hover:bg-gray-700/50 rounded-lg px-2 py-1 -mr-2 transition-colors",children:[l.jsx("div",{className:"text-sm font-medium text-green-400",children:Dt(ve.remainingPurse)}),l.jsxs("div",{className:"text-xs text-gray-400",children:[ve.squadSize,"/",o.settings.maxSquadSize," players",l.jsx("span",{className:"text-blue-400 ml-1",children:""})]})]})]})}),l.jsxs("div",{className:"max-w-lg mx-auto p-3 space-y-3",children:[Ee&&Be?l.jsxs("div",{className:`bg-gray-800 rounded-xl p-4 border ${Ne?"border-green-500":oe?"border-red-500":"border-gray-700"}`,children:[l.jsx("button",{onClick:()=>ye(!0),className:"w-full text-left",children:l.jsxs("div",{className:"flex items-start gap-4",children:[l.jsx("div",{className:`w-16 h-16 rounded-full ${wa[Ee.role]} flex items-center justify-center text-lg font-bold`,children:Ee.shortName.slice(0,2).toUpperCase()}),l.jsxs("div",{className:"flex-1",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("h2",{className:"text-lg font-bold",children:Ee.name}),Ee.contract.isOverseas&&l.jsx("span",{className:"px-2 py-0.5 bg-blue-900/50 text-blue-400 text-xs rounded",children:"OVERSEAS"})]}),l.jsxs("div",{className:"text-sm text-gray-400",children:[Ee.role.charAt(0).toUpperCase()+Ee.role.slice(1)," "," ",Ee.nationality,"  Age ",Ee.age]}),l.jsxs("div",{className:"mt-2 grid grid-cols-2 gap-2 text-xs",children:[l.jsxs("div",{children:["Batting:"," ",l.jsx("span",{className:"text-orange-400",children:Math.round((Ee.batting.technique+Ee.batting.power+Ee.batting.timing)/3)})]}),l.jsxs("div",{children:["Bowling:"," ",l.jsx("span",{className:"text-green-400",children:Math.round((Ee.bowling.speed+Ee.bowling.accuracy+Ee.bowling.variation)/3)})]})]}),l.jsx("div",{className:"mt-1 text-xs text-blue-400",children:"Tap for full stats"})]})]})}),l.jsxs("div",{className:"mt-4 flex items-center justify-between bg-gray-700/50 rounded-lg p-3",children:[l.jsxs("div",{children:[l.jsx("div",{className:"text-xs text-gray-400",children:"Base Price"}),l.jsx("div",{className:"text-lg font-medium",children:Dt(Be.basePrice)})]}),l.jsxs("div",{className:"text-right",children:[l.jsx("div",{className:"text-xs text-gray-400",children:"Current Bid"}),l.jsx("div",{className:`text-2xl font-bold ${Ne?"text-green-400":oe?"text-red-400":"text-green-400"}`,children:Dt(Be.currentBid)})]})]}),Be.currentBidder&&l.jsxs("div",{className:"mt-2 text-center text-sm",children:[l.jsx("span",{className:"text-gray-400",children:Se?"Sold to: ":"Highest Bidder: "}),l.jsxs("span",{className:`font-medium ${Be.currentBidder===i?"text-green-400":"text-yellow-400"}`,children:[d.find(H=>H.id===Be.currentBidder)?.name,Be.currentBidder===i&&" (You)"]})]}),Ne&&l.jsx("div",{className:"mt-3 bg-green-900/50 border border-green-600 rounded-lg p-2 text-center",children:l.jsx("span",{className:"text-green-400 font-bold text-lg",children:"SOLD!"})}),oe&&l.jsx("div",{className:"mt-3 bg-red-900/50 border border-red-600 rounded-lg p-2 text-center",children:l.jsx("span",{className:"text-red-400 font-bold text-lg",children:"UNSOLD"})})]}):l.jsx("div",{className:"bg-gray-800 rounded-xl p-8 border border-gray-700 text-center",children:l.jsx("p",{className:"text-gray-400",children:"Preparing next player..."})}),Ee&&Be&&!Se&&l.jsxs(l.Fragment,{children:[!gt&&l.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[l.jsx("button",{onClick:Il,disabled:!ge||!_(),className:`py-4 rounded-lg font-semibold text-lg transition-colors ${ge&&_()?"bg-green-600 hover:bg-green-700 text-white":"bg-gray-700 text-gray-500 cursor-not-allowed"}`,children:Me?"Wait...":`BID ${Dt(ne())}`}),l.jsx("button",{onClick:bt,disabled:!ge||ve.hasPassedCurrentPlayer||Ge,className:`py-4 rounded-lg font-semibold text-lg transition-colors ${ge&&!ve.hasPassedCurrentPlayer&&!Ge?"bg-red-600 hover:bg-red-700 text-white":"bg-gray-700 text-gray-500 cursor-not-allowed"}`,children:ve.hasPassedCurrentPlayer?"PASSED":Me?"Wait...":"PASS"})]}),gt&&Me&&l.jsx("button",{onClick:Ta,className:"w-full py-4 bg-yellow-600 hover:bg-yellow-700 text-white rounded-lg font-semibold text-lg animate-pulse",children:"JUMP BACK IN!"})]}),Se&&l.jsx("button",{onClick:zs,className:"w-full py-4 bg-blue-600 hover:bg-blue-700 rounded-lg font-semibold text-lg",children:"Next Player"}),!Se&&l.jsxs("div",{className:`text-center py-2 rounded-lg ${ge?"bg-yellow-900/30 border border-yellow-700":gt&&Me?"bg-yellow-900/20 border border-yellow-800":"bg-gray-700/30"}`,children:[ge&&l.jsx("span",{className:"text-yellow-400 font-medium",children:"Your turn - Analyze and decide"}),Me&&!gt&&l.jsx("span",{className:"text-gray-400",children:"AI teams are responding..."}),gt&&Me&&l.jsx("span",{className:"text-yellow-500",children:"You passed - Tap above to jump back in!"})]}),Be&&Be.bidHistory.length>0&&l.jsxs("div",{className:"bg-gray-800 rounded-lg p-3 border border-gray-700",children:[l.jsx("div",{className:"text-xs text-gray-400 mb-2",children:"Bid History"}),l.jsx("div",{className:"space-y-1 max-h-32 overflow-y-auto",children:[...Be.bidHistory].reverse().map((H,$)=>{const ie=d.find(ce=>ce.id===H.teamId);return l.jsxs("div",{className:"flex justify-between text-sm",children:[l.jsxs("span",{className:H.teamId===i?"text-green-400 font-medium":"text-gray-300",children:[ie?.shortName,H.teamId===i&&" (You)"]}),l.jsx("span",{className:"text-gray-400",children:Dt(H.amount)})]},$)})})]}),(()=>{const H=o.auctionPool.filter($=>$.status==="available").slice(0,5);return H.length===0?null:l.jsxs("button",{onClick:()=>Ut(!0),className:"w-full bg-gray-800 rounded-lg p-3 border border-gray-700 text-left hover:bg-gray-700/50 transition-colors",children:[l.jsxs("div",{className:"flex items-center justify-between mb-2",children:[l.jsx("span",{className:"text-xs text-gray-400",children:"Coming Up Next"}),l.jsx("span",{className:"text-xs text-blue-400",children:"See all "})]}),l.jsx("div",{className:"flex gap-2 overflow-x-auto",children:H.map(($,ie)=>{const ce=c.find(me=>me.id===$.playerId);return ce?l.jsxs("div",{className:`flex-shrink-0 w-16 text-center ${ie===0?"opacity-100":"opacity-60"}`,children:[l.jsx("div",{className:`w-10 h-10 mx-auto rounded-full ${wa[ce.role]} flex items-center justify-center text-xs font-bold mb-1`,children:ce.shortName.slice(0,2).toUpperCase()}),l.jsx("div",{className:"text-xs truncate",children:ce.shortName}),l.jsx("div",{className:"text-xs text-gray-500",children:Os($.basePrice)})]},$.playerId):null})})]})})(),l.jsxs("div",{className:"bg-gray-800 rounded-lg p-3 border border-gray-700",children:[l.jsx("div",{className:"text-xs text-gray-400 mb-2",children:"Team Status"}),l.jsx("div",{className:"grid grid-cols-3 gap-2 text-xs",children:Object.entries(o.teamStates).map(([H,$])=>{const ie=d.find(Ue=>Ue.id===H),ce=Be?.currentBidder===H,me=$.hasPassedCurrentPlayer;return l.jsxs("div",{className:`p-2 rounded-lg ${ce?"bg-green-900/50 border border-green-700":me?"bg-gray-700/30 opacity-50":"bg-gray-700/50"}`,children:[l.jsx("div",{className:`font-medium ${H===i?"text-blue-400":""}`,children:ie?.shortName}),l.jsx("div",{className:"text-gray-400",children:Os($.remainingPurse)}),l.jsxs("div",{className:"text-gray-500",children:[$.squadSize," players"]})]},H)})})]}),Xx(ve,o.settings)&&!Se&&ge&&l.jsxs("div",{className:"flex gap-2",children:[l.jsx("button",{onClick:()=>k("spectate"),className:"flex-1 py-2 bg-gray-700 hover:bg-gray-600 rounded-lg text-sm",children:"Spectate"}),l.jsx("button",{onClick:Gt,className:"flex-1 py-2 bg-purple-600 hover:bg-purple-700 rounded-lg text-sm",children:"Sim Rest"})]})]}),Ae&&Ee&&l.jsx("div",{className:"fixed inset-0 bg-black/90 flex items-center justify-center z-50 p-4 overflow-y-auto",children:l.jsxs("div",{className:"bg-gray-800 rounded-xl max-w-md w-full max-h-[90vh] overflow-y-auto",children:[l.jsxs("div",{className:"sticky top-0 bg-gray-800 p-4 border-b border-gray-700 flex items-center justify-between",children:[l.jsx("h3",{className:"font-bold text-lg",children:"Player Details"}),l.jsx("button",{onClick:()=>ye(!1),className:"text-gray-400 hover:text-white text-xl",children:""})]}),l.jsxs("div",{className:"p-4 space-y-4",children:[l.jsxs("div",{className:"flex items-center gap-4",children:[l.jsx("div",{className:`w-16 h-16 rounded-full ${wa[Ee.role]} flex items-center justify-center text-lg font-bold`,children:Ee.shortName.slice(0,2).toUpperCase()}),l.jsxs("div",{children:[l.jsx("h2",{className:"text-xl font-bold",children:Ee.name}),l.jsxs("div",{className:"text-sm text-gray-400",children:[Ee.role.charAt(0).toUpperCase()+Ee.role.slice(1)," "," ",Ee.nationality]}),l.jsxs("div",{className:"flex gap-2 mt-1",children:[l.jsxs("span",{className:"text-xs bg-gray-700 px-2 py-0.5 rounded",children:["Age ",Ee.age]}),Ee.contract.isOverseas&&l.jsx("span",{className:"text-xs bg-blue-900/50 text-blue-400 px-2 py-0.5 rounded",children:"Overseas"})]})]})]}),l.jsxs("div",{className:"grid grid-cols-3 gap-2",children:[l.jsxs("div",{className:"bg-gray-700/50 rounded-lg p-3 text-center",children:[l.jsxs("div",{className:`text-xl font-bold ${Ee.form>10?"text-green-400":Ee.form<-10?"text-red-400":"text-yellow-400"}`,children:[Ee.form>0?"+":"",Ee.form]}),l.jsx("div",{className:"text-xs text-gray-400",children:"Form"})]}),l.jsxs("div",{className:"bg-gray-700/50 rounded-lg p-3 text-center",children:[l.jsxs("div",{className:`text-xl font-bold ${Ee.fitness>80?"text-green-400":Ee.fitness<50?"text-red-400":"text-yellow-400"}`,children:[Ee.fitness,"%"]}),l.jsx("div",{className:"text-xs text-gray-400",children:"Fitness"})]}),l.jsxs("div",{className:"bg-gray-700/50 rounded-lg p-3 text-center",children:[l.jsxs("div",{className:`text-xl font-bold ${Ee.morale>70?"text-green-400":Ee.morale<40?"text-red-400":"text-yellow-400"}`,children:[Ee.morale,"%"]}),l.jsx("div",{className:"text-xs text-gray-400",children:"Morale"})]})]}),l.jsxs("div",{className:"bg-gray-700/30 rounded-lg p-4",children:[l.jsx("h4",{className:"font-semibold text-orange-400 mb-3",children:"Batting"}),l.jsx("div",{className:"space-y-2",children:Object.entries(Ee.batting).map(([H,$])=>l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("div",{className:"w-24 text-xs text-gray-400 capitalize",children:H}),l.jsx("div",{className:"flex-1 bg-gray-700 rounded-full h-2",children:l.jsx("div",{className:"bg-orange-500 h-2 rounded-full",style:{width:`${$}%`}})}),l.jsx("div",{className:"w-8 text-xs text-right",children:$})]},H))})]}),l.jsxs("div",{className:"bg-gray-700/30 rounded-lg p-4",children:[l.jsx("h4",{className:"font-semibold text-green-400 mb-3",children:"Bowling"}),l.jsx("div",{className:"space-y-2",children:Object.entries(Ee.bowling).map(([H,$])=>l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("div",{className:"w-24 text-xs text-gray-400 capitalize",children:H}),l.jsx("div",{className:"flex-1 bg-gray-700 rounded-full h-2",children:l.jsx("div",{className:"bg-green-500 h-2 rounded-full",style:{width:`${$}%`}})}),l.jsx("div",{className:"w-8 text-xs text-right",children:$})]},H))})]}),l.jsxs("div",{className:"bg-gray-700/30 rounded-lg p-4",children:[l.jsx("h4",{className:"font-semibold text-blue-400 mb-3",children:"Fielding"}),l.jsx("div",{className:"space-y-2",children:Object.entries(Ee.fielding).map(([H,$])=>l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("div",{className:"w-24 text-xs text-gray-400 capitalize",children:H}),l.jsx("div",{className:"flex-1 bg-gray-700 rounded-full h-2",children:l.jsx("div",{className:"bg-blue-500 h-2 rounded-full",style:{width:`${$}%`}})}),l.jsx("div",{className:"w-8 text-xs text-right",children:$})]},H))})]}),l.jsxs("div",{className:"bg-gray-700/30 rounded-lg p-4",children:[l.jsx("h4",{className:"font-semibold text-purple-400 mb-3",children:"Profile"}),l.jsxs("div",{className:"grid grid-cols-2 gap-2 text-sm",children:[l.jsxs("div",{children:[l.jsx("span",{className:"text-gray-400",children:"Batting Style: "}),l.jsxs("span",{className:"capitalize",children:[Ee.battingStyle,"-handed"]})]}),l.jsxs("div",{children:[l.jsx("span",{className:"text-gray-400",children:"Bowling: "}),l.jsx("span",{className:"capitalize",children:Ee.bowlingStyle?.replace(/-/g," ")||"N/A"})]}),l.jsxs("div",{children:[l.jsx("span",{className:"text-gray-400",children:"Temperament: "}),l.jsx("span",{className:"capitalize",children:Ee.personality.temperament})]}),l.jsxs("div",{children:[l.jsx("span",{className:"text-gray-400",children:"Leadership: "}),l.jsxs("span",{children:[Ee.personality.leadership,"/100"]})]})]})]}),l.jsxs("div",{className:"bg-gray-700/30 rounded-lg p-4 border border-dashed border-gray-600",children:[l.jsx("h4",{className:"font-semibold text-gray-500 mb-2",children:"Season Stats"}),l.jsx("p",{className:"text-xs text-gray-500 italic",children:"Career statistics will be available once backend integration is complete."})]})]}),l.jsx("div",{className:"sticky bottom-0 bg-gray-800 p-4 border-t border-gray-700",children:l.jsx("button",{onClick:()=>ye(!1),className:"w-full bg-blue-600 hover:bg-blue-700 text-white py-3 rounded-lg font-medium",children:"Back to Auction"})})]})}),lt&&ve&&l.jsx("div",{className:"fixed inset-0 bg-black/90 flex items-center justify-center z-50 p-4 overflow-y-auto",children:l.jsxs("div",{className:"bg-gray-800 rounded-xl max-w-md w-full max-h-[90vh] overflow-y-auto",children:[l.jsxs("div",{className:"sticky top-0 bg-gray-800 p-4 border-b border-gray-700 flex items-center justify-between",children:[l.jsx("h3",{className:"font-bold text-lg",children:"Your Squad"}),l.jsx("button",{onClick:()=>ct(!1),className:"text-gray-400 hover:text-white text-xl",children:""})]}),l.jsxs("div",{className:"p-4 space-y-4",children:[l.jsxs("div",{className:"bg-gray-700/50 rounded-lg p-4",children:[l.jsxs("div",{className:"flex justify-between items-center mb-2",children:[l.jsx("span",{className:"text-gray-400",children:"Remaining Purse"}),l.jsx("span",{className:"text-2xl font-bold text-green-400",children:Dt(ve.remainingPurse)})]}),l.jsxs("div",{className:"flex justify-between text-sm",children:[l.jsx("span",{className:"text-gray-400",children:"Squad Size"}),l.jsxs("span",{children:[ve.squadSize," / ",o.settings.maxSquadSize]})]}),l.jsxs("div",{className:"flex justify-between text-sm",children:[l.jsx("span",{className:"text-gray-400",children:"Overseas"}),l.jsxs("span",{className:ve.overseasCount>=o.settings.maxOverseas?"text-red-400":"",children:[ve.overseasCount," / ",o.settings.maxOverseas]})]})]}),l.jsxs("div",{className:"bg-gray-700/30 rounded-lg p-4",children:[l.jsx("h4",{className:"font-semibold mb-3",children:"Squad Composition"}),l.jsx("div",{className:"space-y-3",children:[{role:"Batsmen",count:ve.batsmen,ideal:6,color:"bg-orange-500"},{role:"Bowlers",count:ve.bowlers,ideal:6,color:"bg-green-500"},{role:"All-rounders",count:ve.allrounders,ideal:4,color:"bg-purple-500"},{role:"Keepers",count:ve.keepers,ideal:2,color:"bg-blue-500"}].map(({role:H,count:$,ideal:ie,color:ce})=>l.jsxs("div",{children:[l.jsxs("div",{className:"flex justify-between text-sm mb-1",children:[l.jsx("span",{children:H}),l.jsxs("span",{className:$<Math.ceil(ie/2)?"text-red-400":$>=ie?"text-green-400":"text-yellow-400",children:[$," / ",ie," ideal"]})]}),l.jsx("div",{className:"flex gap-1",children:Array.from({length:ie}).map((me,Ue)=>l.jsx("div",{className:`h-2 flex-1 rounded ${Ue<$?ce:"bg-gray-700"}`},Ue))})]},H))})]}),l.jsxs("div",{className:"bg-gray-700/30 rounded-lg p-4",children:[l.jsx("h4",{className:"font-semibold mb-2",children:"Priority Needs"}),l.jsxs("div",{className:"space-y-1 text-sm",children:[ve.keepers<1&&l.jsx("div",{className:"text-red-400",children:" Urgent: Need at least 1 keeper"}),ve.bowlers<4&&l.jsxs("div",{className:"text-red-400",children:[" Urgent: Need more bowlers (",ve.bowlers,"/4 min)"]}),ve.batsmen<4&&l.jsxs("div",{className:"text-yellow-400",children:[" Need more batsmen (",ve.batsmen,"/4 min)"]}),ve.allrounders<2&&l.jsx("div",{className:"text-yellow-400",children:" Could use more all-rounders"}),ve.squadSize<18&&l.jsxs("div",{className:"text-gray-400",children:[" ",18-ve.squadSize," more players needed for minimum squad"]}),ve.keepers>=1&&ve.bowlers>=4&&ve.batsmen>=4&&ve.squadSize>=18&&l.jsx("div",{className:"text-green-400",children:" Squad looking balanced!"})]})]}),o.soldPlayers.filter(H=>H.currentBidder===i).length>0&&l.jsxs("div",{className:"bg-gray-700/30 rounded-lg p-4",children:[l.jsx("h4",{className:"font-semibold mb-3",children:"Players Bought"}),l.jsx("div",{className:"space-y-2 max-h-48 overflow-y-auto",children:o.soldPlayers.filter(H=>H.currentBidder===i).map(H=>{const $=c.find(ie=>ie.id===H.playerId);return $?l.jsxs("div",{className:"flex items-center justify-between text-sm",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("span",{className:`w-2 h-2 rounded-full ${wa[$.role]}`}),l.jsx("span",{children:$.shortName}),$.contract.isOverseas&&l.jsx("span",{className:"text-xs text-blue-400",children:"OS"})]}),l.jsx("span",{className:"text-green-400",children:Dt(H.currentBid)})]},H.playerId):null})})]})]}),l.jsx("div",{className:"sticky bottom-0 bg-gray-800 p-4 border-t border-gray-700",children:l.jsx("button",{onClick:()=>ct(!1),className:"w-full bg-blue-600 hover:bg-blue-700 text-white py-3 rounded-lg font-medium",children:"Back to Auction"})})]})}),Jt&&l.jsx("div",{className:"fixed inset-0 bg-black/90 flex items-center justify-center z-50 p-4 overflow-y-auto",children:l.jsxs("div",{className:"bg-gray-800 rounded-xl max-w-md w-full max-h-[90vh] overflow-y-auto",children:[l.jsxs("div",{className:"sticky top-0 bg-gray-800 p-4 border-b border-gray-700 flex items-center justify-between",children:[l.jsx("h3",{className:"font-bold text-lg",children:"Upcoming Players"}),l.jsx("button",{onClick:()=>Ut(!1),className:"text-gray-400 hover:text-white text-xl",children:""})]}),l.jsx("div",{className:"p-4 space-y-4",children:(()=>{const H=o.auctionPool.filter(ce=>ce.status==="available").map(ce=>({...ce,player:c.find(me=>me.id===ce.playerId)})).filter(ce=>ce.player),$={batsman:H.filter(ce=>ce.player?.role==="batsman").length,bowler:H.filter(ce=>ce.player?.role==="bowler").length,allrounder:H.filter(ce=>ce.player?.role==="allrounder").length,keeper:H.filter(ce=>ce.player?.role==="keeper").length},ie=H.reduce((ce,me)=>ce+me.basePrice,0);return l.jsxs(l.Fragment,{children:[l.jsxs("div",{className:"bg-gray-700/50 rounded-lg p-3",children:[l.jsxs("div",{className:"flex justify-between items-center mb-2",children:[l.jsx("span",{className:"text-gray-400",children:"Players Remaining"}),l.jsx("span",{className:"text-xl font-bold",children:H.length})]}),l.jsxs("div",{className:"flex justify-between text-sm text-gray-400",children:[l.jsx("span",{children:"Combined Base Value"}),l.jsx("span",{className:"text-yellow-400",children:Dt(ie)})]})]}),l.jsx("div",{className:"grid grid-cols-4 gap-2",children:[{role:"batsman",label:"BAT",count:$.batsman,color:"bg-orange-600"},{role:"bowler",label:"BOWL",count:$.bowler,color:"bg-green-600"},{role:"allrounder",label:"AR",count:$.allrounder,color:"bg-purple-600"},{role:"keeper",label:"WK",count:$.keeper,color:"bg-blue-600"}].map(({label:ce,count:me,color:Ue})=>l.jsxs("div",{className:"bg-gray-700/50 rounded-lg p-2 text-center",children:[l.jsx("div",{className:`w-6 h-6 mx-auto rounded ${Ue} flex items-center justify-center text-xs font-bold mb-1`,children:ce}),l.jsx("div",{className:"text-sm font-bold",children:me})]},ce))}),["batsman","bowler","allrounder","keeper"].map(ce=>{const me=H.filter(Ue=>Ue.player?.role===ce);return me.length===0?null:l.jsxs("div",{className:"bg-gray-700/30 rounded-lg p-4",children:[l.jsxs("h4",{className:"font-semibold mb-3 flex items-center gap-2",children:[l.jsx("span",{className:`w-3 h-3 rounded ${wa[ce]}`}),ce==="batsman"?"Batsmen":ce==="bowler"?"Bowlers":ce==="allrounder"?"All-rounders":"Keepers",l.jsxs("span",{className:"text-gray-500 font-normal",children:["(",me.length,")"]})]}),l.jsx("div",{className:"space-y-2 max-h-48 overflow-y-auto",children:me.map((Ue,Xe)=>{const Ye=Ue.player;return l.jsxs("div",{className:`flex items-center justify-between text-sm py-1 ${Xe===0?"bg-gray-700/50 -mx-2 px-2 rounded":""}`,children:[l.jsxs("div",{className:"flex items-center gap-2 flex-1 min-w-0",children:[l.jsxs("span",{className:"text-xs text-gray-500 w-5",children:["#",Xe+1]}),l.jsx("span",{className:"truncate",children:Ye.name}),Ye.contract.isOverseas&&l.jsx("span",{className:"text-xs text-blue-400",children:"OS"})]}),l.jsx("span",{className:"text-yellow-400 ml-2",children:Os(Ue.basePrice)})]},Ue.playerId)})})]},ce)}),l.jsxs("div",{className:"bg-yellow-900/30 border border-yellow-700/50 rounded-lg p-3",children:[l.jsx("div",{className:"text-sm text-yellow-400 font-medium mb-1",children:"Budget Tip"}),l.jsxs("div",{className:"text-xs text-gray-300",children:["You have ",Dt(ve.remainingPurse)," remaining and need"," ",Math.max(0,o.settings.minSquadSize-ve.squadSize)," more players.",ve.squadSize<o.settings.minSquadSize&&l.jsxs("span",{className:"text-yellow-400",children:[" ","Reserve at least ",Dt((o.settings.minSquadSize-ve.squadSize)*dt.MIN_RESERVE_PER_SLOT)," for minimum slots."]})]})]})]})})()}),l.jsx("div",{className:"sticky bottom-0 bg-gray-800 p-4 border-t border-gray-700",children:l.jsx("button",{onClick:()=>Ut(!1),className:"w-full bg-blue-600 hover:bg-blue-700 text-white py-3 rounded-lg font-medium",children:"Back to Auction"})})]})}),Zt&&l.jsx("div",{className:"fixed inset-0 bg-black/90 flex items-center justify-center z-50 p-4 overflow-y-auto",children:l.jsxs("div",{className:"bg-gray-800 rounded-xl max-w-md w-full max-h-[90vh] overflow-y-auto",children:[l.jsxs("div",{className:"sticky top-0 bg-gray-800 p-4 border-b border-gray-700 flex items-center justify-between",children:[l.jsx("h3",{className:"font-bold text-lg",children:"Auction Log"}),l.jsx("button",{onClick:()=>Ie(!1),className:"text-gray-400 hover:text-white text-xl",children:""})]}),l.jsxs("div",{className:"p-4 space-y-4",children:[l.jsxs("div",{className:"grid grid-cols-3 gap-2",children:[l.jsxs("div",{className:"bg-gray-700/50 rounded-lg p-3 text-center",children:[l.jsx("div",{className:"text-xl font-bold text-green-400",children:o.soldPlayers.length}),l.jsx("div",{className:"text-xs text-gray-400",children:"Sold"})]}),l.jsxs("div",{className:"bg-gray-700/50 rounded-lg p-3 text-center",children:[l.jsx("div",{className:"text-xl font-bold text-red-400",children:o.unsoldPlayers.length}),l.jsx("div",{className:"text-xs text-gray-400",children:"Unsold"})]}),l.jsxs("div",{className:"bg-gray-700/50 rounded-lg p-3 text-center",children:[l.jsx("div",{className:"text-xl font-bold text-gray-400",children:o.auctionPool.filter(H=>H.status==="available").length}),l.jsx("div",{className:"text-xs text-gray-400",children:"Remaining"})]})]}),o.soldPlayers.length>0&&l.jsxs("div",{className:"bg-gray-700/30 rounded-lg p-4",children:[l.jsx("h4",{className:"font-semibold mb-3 text-green-400",children:"Sold Players"}),l.jsx("div",{className:"space-y-2 max-h-64 overflow-y-auto",children:[...o.soldPlayers].reverse().map(H=>{const $=c.find(ce=>ce.id===H.playerId),ie=d.find(ce=>ce.id===H.currentBidder);return $?l.jsxs("div",{className:"flex items-center justify-between text-sm py-1 border-b border-gray-700 last:border-0",children:[l.jsxs("div",{className:"flex items-center gap-2 flex-1 min-w-0",children:[l.jsx("span",{className:`px-1.5 py-0.5 text-xs rounded ${wa[$.role]}`,children:En[$.role]}),l.jsx("span",{className:"truncate",children:$.shortName}),$.contract.isOverseas&&l.jsx("span",{className:"text-xs text-blue-400",children:"OS"})]}),l.jsxs("div",{className:"flex items-center gap-2 ml-2",children:[l.jsx("span",{className:"text-xs px-1.5 py-0.5 rounded",style:{backgroundColor:ie?.colors.primary||"#666"},children:ie?.shortName}),l.jsx("span",{className:"text-green-400 font-medium w-16 text-right",children:Os(H.currentBid)})]})]},H.playerId):null})})]}),o.unsoldPlayers.length>0&&l.jsxs("div",{className:"bg-gray-700/30 rounded-lg p-4",children:[l.jsx("h4",{className:"font-semibold mb-3 text-red-400",children:"Unsold Players"}),l.jsx("div",{className:"space-y-1 max-h-32 overflow-y-auto",children:o.unsoldPlayers.map(H=>{const $=c.find(ie=>ie.id===H.playerId);return $?l.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-400",children:[l.jsx("span",{className:`px-1.5 py-0.5 text-xs rounded opacity-50 ${wa[$.role]}`,children:En[$.role]}),l.jsx("span",{children:$.shortName}),l.jsxs("span",{className:"text-xs",children:["(",Os(H.basePrice)," base)"]})]},H.playerId):null})})]}),o.soldPlayers.length===0&&o.unsoldPlayers.length===0&&l.jsx("div",{className:"text-center text-gray-500 py-8",children:"No players have been auctioned yet."})]}),l.jsx("div",{className:"sticky bottom-0 bg-gray-800 p-4 border-t border-gray-700",children:l.jsx("button",{onClick:()=>Ie(!1),className:"w-full bg-blue-600 hover:bg-blue-700 text-white py-3 rounded-lg font-medium",children:"Back to Auction"})})]})})]})},xb=()=>{const{playerTeamId:i,teams:d,players:c,season:o,releasedPlayers:f,releasePlayer:m,confirmReleases:b}=Ve(),[y,x]=le.useState(new Set(f)),h=d.find(E=>E.id===i),v=c.filter(E=>h?.squad.includes(E.id)),p=[...v].sort((E,k)=>E.contract.yearsRemaining===0&&k.contract.yearsRemaining>0?-1:k.contract.yearsRemaining===0&&E.contract.yearsRemaining>0?1:E.contract.yearsRemaining-k.contract.yearsRemaining),A=()=>v.filter(E=>y.has(E.id)).reduce((E,k)=>E+k.contract.salary,0),S=E=>{const k=c.find(W=>W.id===E);if(!k||k.contract.yearsRemaining===0)return;const B=new Set(y);B.has(E)?B.delete(E):B.add(E),x(B)},j=()=>{y.forEach(E=>{f.includes(E)||m(E)}),b()},N=E=>{switch(E){case"batsman":return"text-blue-400";case"bowler":return"text-green-400";case"allrounder":return"text-purple-400";case"keeper":return"text-yellow-400";default:return"text-gray-400"}},w=E=>E>=100?`${(E/100).toFixed(2)} Cr`:`${E} L`;return l.jsxs("div",{className:"min-h-screen bg-gray-900 text-white pb-24",children:[l.jsx("header",{className:"bg-gradient-to-r from-orange-900 to-amber-800 p-6 border-b border-orange-700",children:l.jsxs("div",{className:"max-w-lg mx-auto text-center",children:[l.jsx("h1",{className:"text-2xl font-bold mb-1",children:"Release Phase"}),l.jsxs("p",{className:"text-orange-200",children:["Season ",o," - Mini Auction Preparation"]})]})}),l.jsxs("div",{className:"max-w-lg mx-auto p-4 space-y-4",children:[l.jsxs("div",{className:"bg-gray-800 rounded-xl p-4 border border-gray-700",children:[l.jsx("h3",{className:"text-sm font-semibold text-gray-400 mb-2",children:"RELEASE PHASE"}),l.jsx("p",{className:"text-sm text-gray-300",children:"Select players to release for the upcoming mini auction. Players with expired contracts (0 years remaining) are automatically released."}),l.jsxs("div",{className:"mt-3 flex justify-between items-center text-sm",children:[l.jsx("span",{className:"text-gray-400",children:"Potential Purse Refund:"}),l.jsx("span",{className:"text-green-400 font-bold",children:w(A())})]})]}),l.jsxs("div",{className:"bg-gray-800 rounded-xl border border-gray-700 overflow-hidden",children:[l.jsxs("div",{className:"p-3 border-b border-gray-700 flex justify-between items-center",children:[l.jsx("h3",{className:"text-sm font-semibold text-gray-400",children:"YOUR SQUAD"}),l.jsxs("span",{className:"text-xs text-gray-500",children:[y.size," selected for release"]})]}),l.jsx("div",{className:"divide-y divide-gray-700",children:p.map(E=>{const k=E.contract.yearsRemaining===0,B=y.has(E.id);return l.jsxs("div",{onClick:()=>S(E.id),className:`p-3 flex items-center justify-between cursor-pointer transition-colors ${B?"bg-red-900/30 border-l-4 border-red-500":"hover:bg-gray-700/50"} ${k?"opacity-75":""}`,children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("div",{className:`w-5 h-5 rounded border-2 flex items-center justify-center ${B?"bg-red-600 border-red-600":"border-gray-500"}`,children:B&&l.jsx("svg",{className:"w-3 h-3 text-white",fill:"currentColor",viewBox:"0 0 20 20",children:l.jsx("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})})}),l.jsxs("div",{children:[l.jsxs("div",{className:"font-medium flex items-center gap-2",children:[E.shortName,E.contract.isOverseas&&l.jsx("span",{className:"text-xs bg-blue-900/50 text-blue-300 px-1.5 py-0.5 rounded",children:"OS"})]}),l.jsxs("div",{className:"text-xs text-gray-500 flex items-center gap-2",children:[l.jsx("span",{className:N(E.role),children:E.role.charAt(0).toUpperCase()+E.role.slice(1)}),l.jsxs("span",{children:["Age ",E.age]})]})]})]}),l.jsxs("div",{className:"text-right",children:[l.jsx("div",{className:"text-sm font-medium",children:w(E.contract.salary)}),l.jsx("div",{className:`text-xs ${k?"text-red-400 font-medium":"text-gray-500"}`,children:k?"EXPIRED":`${E.contract.yearsRemaining}yr left`})]})]},E.id)})})]}),l.jsxs("div",{className:"bg-gray-800 rounded-xl p-4 border border-gray-700",children:[l.jsxs("div",{className:"flex justify-between items-center mb-2",children:[l.jsx("span",{className:"text-gray-400",children:"Squad After Releases:"}),l.jsxs("span",{className:`font-bold ${v.length-y.size<18?"text-yellow-400":"text-white"}`,children:[v.length-y.size," players"]})]}),l.jsxs("div",{className:"flex justify-between items-center",children:[l.jsx("span",{className:"text-gray-400",children:"Overseas After Releases:"}),l.jsxs("span",{className:"font-bold",children:[v.filter(E=>!y.has(E.id)&&E.contract.isOverseas).length," / 8"]})]})]}),l.jsx("button",{onClick:j,className:"w-full bg-gradient-to-r from-orange-600 to-amber-600 hover:from-orange-500 hover:to-amber-500 text-white py-4 rounded-lg font-bold text-lg transition-colors shadow-lg",children:"Confirm Releases & Start Mini Auction"})]})]})};function gb(){const{initialized:i,currentScreen:d,phase:c,auctionState:o,liveMatchState:f,navigateTo:m,selectMatch:b}=Ve(),y=le.useRef(!1);if(le.useEffect(()=>{if(!(!i||y.current)){if(f?.matchId){y.current=!0,b(f.matchId),m("match-live");return}if(c==="auction"&&o?.status&&o.status!=="completed"){y.current=!0,o.status==="release_phase"?m("release-phase"):m("auction");return}y.current=!0}},[i]),!i)return l.jsx(B0,{children:l.jsx(Eg,{})});const h=!["match-live","match-prep","event","season-summary","player-talk","team-meeting","auction","release-phase"].includes(d),v=()=>{switch(d){case"home":return l.jsx(k0,{});case"squad":return l.jsx(Rg,{});case"player-detail":return l.jsx(Bg,{});case"player-talk":return l.jsx(zg,{});case"team-meeting":return l.jsx(_g,{});case"stats":return l.jsx(qg,{});case"schedule":return l.jsx(Ug,{});case"club":return l.jsx(Hg,{});case"match-prep":return l.jsx(Qg,{});case"match-live":return l.jsx(cb,{});case"season-summary":return l.jsx(ob,{});case"event":return l.jsx(fb,{});case"auction":return l.jsx(hb,{});case"release-phase":return l.jsx(xb,{});default:return l.jsx(k0,{})}},A=["schedule"].includes(d);return l.jsx(B0,{children:l.jsxs("div",{className:"min-h-screen bg-gray-900",children:[l.jsx(sg,{}),l.jsx(jg,{}),v(),h&&l.jsx(tg,{}),l.jsx(Mg,{allowStacking:A})]})})}yx.createRoot(document.getElementById("root")).render(l.jsx(le.StrictMode,{children:l.jsx(gb,{})}));
