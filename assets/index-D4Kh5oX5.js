import{r as dg,a as mg,c as fg,b as le,R as hg}from"./vendor-3atx5Jhe.js";import{t as Kl,a as H0}from"./game-data-CyX7646K.js";(function(){const d=document.createElement("link").relList;if(d&&d.supports&&d.supports("modulepreload"))return;for(const m of document.querySelectorAll('link[rel="modulepreload"]'))o(m);new MutationObserver(m=>{for(const f of m)if(f.type==="childList")for(const x of f.addedNodes)x.tagName==="LINK"&&x.rel==="modulepreload"&&o(x)}).observe(document,{childList:!0,subtree:!0});function c(m){const f={};return m.integrity&&(f.integrity=m.integrity),m.referrerPolicy&&(f.referrerPolicy=m.referrerPolicy),m.crossOrigin==="use-credentials"?f.credentials="include":m.crossOrigin==="anonymous"?f.credentials="omit":f.credentials="same-origin",f}function o(m){if(m.ep)return;m.ep=!0;const f=c(m);fetch(m.href,f)}})();var Jc={exports:{}},Mn={};var m0;function gg(){if(m0)return Mn;m0=1;var i=Symbol.for("react.transitional.element"),d=Symbol.for("react.fragment");function c(o,m,f){var x=null;if(f!==void 0&&(x=""+f),m.key!==void 0&&(x=""+m.key),"key"in m){f={};for(var b in m)b!=="key"&&(f[b]=m[b])}else f=m;return m=f.ref,{$$typeof:i,type:o,key:x,ref:m!==void 0?m:null,props:f}}return Mn.Fragment=d,Mn.jsx=c,Mn.jsxs=c,Mn}var f0;function xg(){return f0||(f0=1,Jc.exports=gg()),Jc.exports}var l=xg(),Wc={exports:{}},An={},eo={exports:{}},to={};var h0;function bg(){return h0||(h0=1,(function(i){function d(z,P){var te=z.length;z.push(P);e:for(;0<te;){var ge=te-1>>>1,Y=z[ge];if(0<m(Y,P))z[ge]=P,z[te]=Y,te=ge;else break e}}function c(z){return z.length===0?null:z[0]}function o(z){if(z.length===0)return null;var P=z[0],te=z.pop();if(te!==P){z[0]=te;e:for(var ge=0,Y=z.length,M=Y>>>1;ge<M;){var I=2*(ge+1)-1,de=z[I],re=I+1,Be=z[re];if(0>m(de,te))re<Y&&0>m(Be,de)?(z[ge]=Be,z[re]=te,ge=re):(z[ge]=de,z[I]=te,ge=I);else if(re<Y&&0>m(Be,te))z[ge]=Be,z[re]=te,ge=re;else break e}}return P}function m(z,P){var te=z.sortIndex-P.sortIndex;return te!==0?te:z.id-P.id}if(i.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var f=performance;i.unstable_now=function(){return f.now()}}else{var x=Date,b=x.now();i.unstable_now=function(){return x.now()-b}}var g=[],h=[],v=1,p=null,E=3,S=!1,j=!1,N=!1,w=!1,A=typeof setTimeout=="function"?setTimeout:null,k=typeof clearTimeout=="function"?clearTimeout:null,O=typeof setImmediate<"u"?setImmediate:null;function W(z){for(var P=c(h);P!==null;){if(P.callback===null)o(h);else if(P.startTime<=z)o(h),P.sortIndex=P.expirationTime,d(g,P);else break;P=c(h)}}function _(z){if(N=!1,W(z),!j)if(c(g)!==null)j=!0,ne||(ne=!0,J());else{var P=c(h);P!==null&&se(_,P.startTime-z)}}var ne=!1,R=-1,G=5,ue=-1;function B(){return w?!0:!(i.unstable_now()-ue<G)}function ae(){if(w=!1,ne){var z=i.unstable_now();ue=z;var P=!0;try{e:{j=!1,N&&(N=!1,k(R),R=-1),S=!0;var te=E;try{t:{for(W(z),p=c(g);p!==null&&!(p.expirationTime>z&&B());){var ge=p.callback;if(typeof ge=="function"){p.callback=null,E=p.priorityLevel;var Y=ge(p.expirationTime<=z);if(z=i.unstable_now(),typeof Y=="function"){p.callback=Y,W(z),P=!0;break t}p===c(g)&&o(g),W(z)}else o(g);p=c(g)}if(p!==null)P=!0;else{var M=c(h);M!==null&&se(_,M.startTime-z),P=!1}}break e}finally{p=null,E=te,S=!1}P=void 0}}finally{P?J():ne=!1}}}var J;if(typeof O=="function")J=function(){O(ae)};else if(typeof MessageChannel<"u"){var V=new MessageChannel,fe=V.port2;V.port1.onmessage=ae,J=function(){fe.postMessage(null)}}else J=function(){A(ae,0)};function se(z,P){R=A(function(){z(i.unstable_now())},P)}i.unstable_IdlePriority=5,i.unstable_ImmediatePriority=1,i.unstable_LowPriority=4,i.unstable_NormalPriority=3,i.unstable_Profiling=null,i.unstable_UserBlockingPriority=2,i.unstable_cancelCallback=function(z){z.callback=null},i.unstable_forceFrameRate=function(z){0>z||125<z?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):G=0<z?Math.floor(1e3/z):5},i.unstable_getCurrentPriorityLevel=function(){return E},i.unstable_next=function(z){switch(E){case 1:case 2:case 3:var P=3;break;default:P=E}var te=E;E=P;try{return z()}finally{E=te}},i.unstable_requestPaint=function(){w=!0},i.unstable_runWithPriority=function(z,P){switch(z){case 1:case 2:case 3:case 4:case 5:break;default:z=3}var te=E;E=z;try{return P()}finally{E=te}},i.unstable_scheduleCallback=function(z,P,te){var ge=i.unstable_now();switch(typeof te=="object"&&te!==null?(te=te.delay,te=typeof te=="number"&&0<te?ge+te:ge):te=ge,z){case 1:var Y=-1;break;case 2:Y=250;break;case 5:Y=1073741823;break;case 4:Y=1e4;break;default:Y=5e3}return Y=te+Y,z={id:v++,callback:P,priorityLevel:z,startTime:te,expirationTime:Y,sortIndex:-1},te>ge?(z.sortIndex=te,d(h,z),c(g)===null&&z===c(h)&&(N?(k(R),R=-1):N=!0,se(_,te-ge))):(z.sortIndex=Y,d(g,z),j||S||(j=!0,ne||(ne=!0,J()))),z},i.unstable_shouldYield=B,i.unstable_wrapCallback=function(z){var P=E;return function(){var te=E;E=P;try{return z.apply(this,arguments)}finally{E=te}}}})(to)),to}var g0;function yg(){return g0||(g0=1,eo.exports=bg()),eo.exports}var x0;function pg(){if(x0)return An;x0=1;var i=yg(),d=dg(),c=mg();function o(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)t+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function m(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function f(e){var t=e,a=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,(t.flags&4098)!==0&&(a=t.return),e=t.return;while(e)}return t.tag===3?a:null}function x(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function b(e){if(e.tag===31){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function g(e){if(f(e)!==e)throw Error(o(188))}function h(e){var t=e.alternate;if(!t){if(t=f(e),t===null)throw Error(o(188));return t!==e?null:e}for(var a=e,s=t;;){var n=a.return;if(n===null)break;var r=n.alternate;if(r===null){if(s=n.return,s!==null){a=s;continue}break}if(n.child===r.child){for(r=n.child;r;){if(r===a)return g(n),e;if(r===s)return g(n),t;r=r.sibling}throw Error(o(188))}if(a.return!==s.return)a=n,s=r;else{for(var u=!1,y=n.child;y;){if(y===a){u=!0,a=n,s=r;break}if(y===s){u=!0,s=n,a=r;break}y=y.sibling}if(!u){for(y=r.child;y;){if(y===a){u=!0,a=r,s=n;break}if(y===s){u=!0,s=r,a=n;break}y=y.sibling}if(!u)throw Error(o(189))}}if(a.alternate!==s)throw Error(o(190))}if(a.tag!==3)throw Error(o(188));return a.stateNode.current===a?e:t}function v(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e;for(e=e.child;e!==null;){if(t=v(e),t!==null)return t;e=e.sibling}return null}var p=Object.assign,E=Symbol.for("react.element"),S=Symbol.for("react.transitional.element"),j=Symbol.for("react.portal"),N=Symbol.for("react.fragment"),w=Symbol.for("react.strict_mode"),A=Symbol.for("react.profiler"),k=Symbol.for("react.consumer"),O=Symbol.for("react.context"),W=Symbol.for("react.forward_ref"),_=Symbol.for("react.suspense"),ne=Symbol.for("react.suspense_list"),R=Symbol.for("react.memo"),G=Symbol.for("react.lazy"),ue=Symbol.for("react.activity"),B=Symbol.for("react.memo_cache_sentinel"),ae=Symbol.iterator;function J(e){return e===null||typeof e!="object"?null:(e=ae&&e[ae]||e["@@iterator"],typeof e=="function"?e:null)}var V=Symbol.for("react.client.reference");function fe(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===V?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case N:return"Fragment";case A:return"Profiler";case w:return"StrictMode";case _:return"Suspense";case ne:return"SuspenseList";case ue:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case j:return"Portal";case O:return e.displayName||"Context";case k:return(e._context.displayName||"Context")+".Consumer";case W:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case R:return t=e.displayName||null,t!==null?t:fe(e.type)||"Memo";case G:t=e._payload,e=e._init;try{return fe(e(t))}catch{}}return null}var se=Array.isArray,z=d.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,P=c.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,te={pending:!1,data:null,method:null,action:null},ge=[],Y=-1;function M(e){return{current:e}}function I(e){0>Y||(e.current=ge[Y],ge[Y]=null,Y--)}function de(e,t){Y++,ge[Y]=e.current,e.current=t}var re=M(null),Be=M(null),Ee=M(null),ye=M(null);function lt(e,t){switch(de(Ee,t),de(Be,e),de(re,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?Dm(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)t=Dm(t),e=_m(t,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}I(re),de(re,e)}function ct(){I(re),I(Be),I(Ee)}function Zt(e){e.memoizedState!==null&&de(ye,e);var t=re.current,a=_m(t,e.type);t!==a&&(de(Be,e),de(re,a))}function Ke(e){Be.current===e&&(I(re),I(Be)),ye.current===e&&(I(ye),jn._currentValue=te)}var xt,qt;function Wt(e){if(xt===void 0)try{throw Error()}catch(a){var t=a.stack.trim().match(/\n( *(at )?)/);xt=t&&t[1]||"",qt=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+xt+e+qt}var Ut=!1;function ca(e,t){if(!e||Ut)return"";Ut=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var s={DetermineComponentFrameRoot:function(){try{if(t){var ee=function(){throw Error()};if(Object.defineProperty(ee.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ee,[])}catch(Q){var L=Q}Reflect.construct(e,[],ee)}else{try{ee.call()}catch(Q){L=Q}e.call(ee.prototype)}}else{try{throw Error()}catch(Q){L=Q}(ee=e())&&typeof ee.catch=="function"&&ee.catch(function(){})}}catch(Q){if(Q&&L&&typeof Q.stack=="string")return[Q.stack,L.stack]}return[null,null]}};s.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var n=Object.getOwnPropertyDescriptor(s.DetermineComponentFrameRoot,"name");n&&n.configurable&&Object.defineProperty(s.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var r=s.DetermineComponentFrameRoot(),u=r[0],y=r[1];if(u&&y){var T=u.split(`
`),U=y.split(`
`);for(n=s=0;s<T.length&&!T[s].includes("DetermineComponentFrameRoot");)s++;for(;n<U.length&&!U[n].includes("DetermineComponentFrameRoot");)n++;if(s===T.length||n===U.length)for(s=T.length-1,n=U.length-1;1<=s&&0<=n&&T[s]!==U[n];)n--;for(;1<=s&&0<=n;s--,n--)if(T[s]!==U[n]){if(s!==1||n!==1)do if(s--,n--,0>n||T[s]!==U[n]){var Z=`
`+T[s].replace(" at new "," at ");return e.displayName&&Z.includes("<anonymous>")&&(Z=Z.replace("<anonymous>",e.displayName)),Z}while(1<=s&&0<=n);break}}}finally{Ut=!1,Error.prepareStackTrace=a}return(a=e?e.displayName||e.name:"")?Wt(a):""}function he(e,t){switch(e.tag){case 26:case 27:case 5:return Wt(e.type);case 16:return Wt("Lazy");case 13:return e.child!==t&&t!==null?Wt("Suspense Fallback"):Wt("Suspense");case 19:return Wt("SuspenseList");case 0:case 15:return ca(e.type,!1);case 11:return ca(e.type.render,!1);case 1:return ca(e.type,!0);case 31:return Wt("Activity");default:return""}}function We(e){try{var t="",a=null;do t+=he(e,a),a=e,e=e.return;while(e);return t}catch(s){return`
Error generating stack: `+s.message+`
`+s.stack}}var X=Object.prototype.hasOwnProperty,Ba=i.unstable_scheduleCallback,Oa=i.unstable_cancelCallback,Ht=i.unstable_shouldYield,ve=i.unstable_requestPaint,Oe=i.unstable_now,Ae=i.unstable_getCurrentPriorityLevel,Il=i.unstable_ImmediatePriority,bt=i.unstable_UserBlockingPriority,Ma=i.unstable_NormalPriority,El=i.unstable_LowPriority,al=i.unstable_IdlePriority,Fl=i.log,Ds=i.unstable_setDisableYieldValue,ka=null,yt=null;function Gt(e){if(typeof Fl=="function"&&Ds(e),yt&&typeof yt.setStrictMode=="function")try{yt.setStrictMode(ka,e)}catch{}}var K=Math.clz32?Math.clz32:Ne,xe=Math.log,Me=Math.LN2;function Ne(e){return e>>>=0,e===0?32:31-(xe(e)/Me|0)|0}var oe=256,Se=262144,Ge=4194304;function H(e){var t=e&42;if(t!==0)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function $(e,t,a){var s=e.pendingLanes;if(s===0)return 0;var n=0,r=e.suspendedLanes,u=e.pingedLanes;e=e.warmLanes;var y=s&134217727;return y!==0?(s=y&~r,s!==0?n=H(s):(u&=y,u!==0?n=H(u):a||(a=y&~e,a!==0&&(n=H(a))))):(y=s&~r,y!==0?n=H(y):u!==0?n=H(u):a||(a=s&~e,a!==0&&(n=H(a)))),n===0?0:t!==0&&t!==n&&(t&r)===0&&(r=n&-n,a=t&-t,r>=a||r===32&&(a&4194048)!==0)?t:n}function ie(e,t){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)===0}function ce(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function me(){var e=Ge;return Ge<<=1,(Ge&62914560)===0&&(Ge=4194304),e}function Ue(e){for(var t=[],a=0;31>a;a++)t.push(e);return t}function Xe(e,t){e.pendingLanes|=t,t!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Ye(e,t,a,s,n,r){var u=e.pendingLanes;e.pendingLanes=a,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=a,e.entangledLanes&=a,e.errorRecoveryDisabledLanes&=a,e.shellSuspendCounter=0;var y=e.entanglements,T=e.expirationTimes,U=e.hiddenUpdates;for(a=u&~a;0<a;){var Z=31-K(a),ee=1<<Z;y[Z]=0,T[Z]=-1;var L=U[Z];if(L!==null)for(U[Z]=null,Z=0;Z<L.length;Z++){var Q=L[Z];Q!==null&&(Q.lane&=-536870913)}a&=~ee}s!==0&&oa(e,s,0),r!==0&&n===0&&e.tag!==0&&(e.suspendedLanes|=r&~(u&~t))}function oa(e,t,a){e.pendingLanes|=t,e.suspendedLanes&=~t;var s=31-K(t);e.entangledLanes|=t,e.entanglements[s]=e.entanglements[s]|1073741824|a&261930}function Te(e,t){var a=e.entangledLanes|=t;for(e=e.entanglements;a;){var s=31-K(a),n=1<<s;n&t|e[s]&t&&(e[s]|=t),a&=~n}}function Ie(e,t){var a=t&-t;return a=(a&42)!==0?1:$e(a),(a&(e.suspendedLanes|t))!==0?0:a}function $e(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function mt(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function Rt(){var e=P.p;return e!==0?e:(e=window.event,e===void 0?32:n0(e.type))}function _s(e,t){var a=P.p;try{return P.p=e,t()}finally{P.p=a}}var za=Math.random().toString(36).slice(2),He="__reactFiber$"+za,pt="__reactProps$"+za,vt="__reactContainer$"+za,Ct="__reactEvents$"+za,Yt="__reactListeners$"+za,Lt="__reactHandles$"+za,ea="__reactResources$"+za,Mt="__reactMarker$"+za;function qs(e){delete e[He],delete e[pt],delete e[Ct],delete e[Yt],delete e[Lt]}function Da(e){var t=e[He];if(t)return t;for(var a=e.parentNode;a;){if(t=a[vt]||a[He]){if(a=t.alternate,t.child!==null||a!==null&&a.child!==null)for(e=Xm(e);e!==null;){if(a=e[He])return a;e=Xm(e)}return t}e=a,a=e.parentNode}return null}function ll(e){if(e=e[He]||e[vt]){var t=e.tag;if(t===5||t===6||t===13||t===31||t===26||t===27||t===3)return e}return null}function sl(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e.stateNode;throw Error(o(33))}function _a(e){var t=e[ea];return t||(t=e[ea]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function ft(e){e[Mt]=!0}var va=new Set,Na={};function Xt(e,t){Jl(e,t),Jl(e+"Capture",t)}function Jl(e,t){for(Na[e]=t,e=0;e<t.length;e++)va.add(t[e])}var tf=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),To={},Mo={};function af(e){return X.call(Mo,e)?!0:X.call(To,e)?!1:tf.test(e)?Mo[e]=!0:(To[e]=!0,!1)}function On(e,t,a){if(af(t))if(a===null)e.removeAttribute(t);else{switch(typeof a){case"undefined":case"function":case"symbol":e.removeAttribute(t);return;case"boolean":var s=t.toLowerCase().slice(0,5);if(s!=="data-"&&s!=="aria-"){e.removeAttribute(t);return}}e.setAttribute(t,""+a)}}function kn(e,t,a){if(a===null)e.removeAttribute(t);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(t);return}e.setAttribute(t,""+a)}}function qa(e,t,a,s){if(s===null)e.removeAttribute(a);else{switch(typeof s){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(a);return}e.setAttributeNS(t,a,""+s)}}function ua(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Ao(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function lf(e,t,a){var s=Object.getOwnPropertyDescriptor(e.constructor.prototype,t);if(!e.hasOwnProperty(t)&&typeof s<"u"&&typeof s.get=="function"&&typeof s.set=="function"){var n=s.get,r=s.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return n.call(this)},set:function(u){a=""+u,r.call(this,u)}}),Object.defineProperty(e,t,{enumerable:s.enumerable}),{getValue:function(){return a},setValue:function(u){a=""+u},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Vi(e){if(!e._valueTracker){var t=Ao(e)?"checked":"value";e._valueTracker=lf(e,t,""+e[t])}}function Eo(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var a=t.getValue(),s="";return e&&(s=Ao(e)?e.checked?"true":"false":e.value),e=s,e!==a?(t.setValue(e),!0):!1}function zn(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var sf=/[\n"\\]/g;function da(e){return e.replace(sf,function(t){return"\\"+t.charCodeAt(0).toString(16)+" "})}function Zi(e,t,a,s,n,r,u,y){e.name="",u!=null&&typeof u!="function"&&typeof u!="symbol"&&typeof u!="boolean"?e.type=u:e.removeAttribute("type"),t!=null?u==="number"?(t===0&&e.value===""||e.value!=t)&&(e.value=""+ua(t)):e.value!==""+ua(t)&&(e.value=""+ua(t)):u!=="submit"&&u!=="reset"||e.removeAttribute("value"),t!=null?$i(e,u,ua(t)):a!=null?$i(e,u,ua(a)):s!=null&&e.removeAttribute("value"),n==null&&r!=null&&(e.defaultChecked=!!r),n!=null&&(e.checked=n&&typeof n!="function"&&typeof n!="symbol"),y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"?e.name=""+ua(y):e.removeAttribute("name")}function Ro(e,t,a,s,n,r,u,y){if(r!=null&&typeof r!="function"&&typeof r!="symbol"&&typeof r!="boolean"&&(e.type=r),t!=null||a!=null){if(!(r!=="submit"&&r!=="reset"||t!=null)){Vi(e);return}a=a!=null?""+ua(a):"",t=t!=null?""+ua(t):a,y||t===e.value||(e.value=t),e.defaultValue=t}s=s??n,s=typeof s!="function"&&typeof s!="symbol"&&!!s,e.checked=y?e.checked:!!s,e.defaultChecked=!!s,u!=null&&typeof u!="function"&&typeof u!="symbol"&&typeof u!="boolean"&&(e.name=u),Vi(e)}function $i(e,t,a){t==="number"&&zn(e.ownerDocument)===e||e.defaultValue===""+a||(e.defaultValue=""+a)}function Wl(e,t,a,s){if(e=e.options,t){t={};for(var n=0;n<a.length;n++)t["$"+a[n]]=!0;for(a=0;a<e.length;a++)n=t.hasOwnProperty("$"+e[a].value),e[a].selected!==n&&(e[a].selected=n),n&&s&&(e[a].defaultSelected=!0)}else{for(a=""+ua(a),t=null,n=0;n<e.length;n++){if(e[n].value===a){e[n].selected=!0,s&&(e[n].defaultSelected=!0);return}t!==null||e[n].disabled||(t=e[n])}t!==null&&(t.selected=!0)}}function Co(e,t,a){if(t!=null&&(t=""+ua(t),t!==e.value&&(e.value=t),a==null)){e.defaultValue!==t&&(e.defaultValue=t);return}e.defaultValue=a!=null?""+ua(a):""}function Bo(e,t,a,s){if(t==null){if(s!=null){if(a!=null)throw Error(o(92));if(se(s)){if(1<s.length)throw Error(o(93));s=s[0]}a=s}a==null&&(a=""),t=a}a=ua(t),e.defaultValue=a,s=e.textContent,s===a&&s!==""&&s!==null&&(e.value=s),Vi(e)}function es(e,t){if(t){var a=e.firstChild;if(a&&a===e.lastChild&&a.nodeType===3){a.nodeValue=t;return}}e.textContent=t}var nf=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Oo(e,t,a){var s=t.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?s?e.setProperty(t,""):t==="float"?e.cssFloat="":e[t]="":s?e.setProperty(t,a):typeof a!="number"||a===0||nf.has(t)?t==="float"?e.cssFloat=a:e[t]=(""+a).trim():e[t]=a+"px"}function ko(e,t,a){if(t!=null&&typeof t!="object")throw Error(o(62));if(e=e.style,a!=null){for(var s in a)!a.hasOwnProperty(s)||t!=null&&t.hasOwnProperty(s)||(s.indexOf("--")===0?e.setProperty(s,""):s==="float"?e.cssFloat="":e[s]="");for(var n in t)s=t[n],t.hasOwnProperty(n)&&a[n]!==s&&Oo(e,n,s)}else for(var r in t)t.hasOwnProperty(r)&&Oo(e,r,t[r])}function Pi(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var rf=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),cf=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Dn(e){return cf.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function Ua(){}var Ki=null;function Ii(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var ts=null,as=null;function zo(e){var t=ll(e);if(t&&(e=t.stateNode)){var a=e[pt]||null;e:switch(e=t.stateNode,t.type){case"input":if(Zi(e,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),t=a.name,a.type==="radio"&&t!=null){for(a=e;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+da(""+t)+'"][type="radio"]'),t=0;t<a.length;t++){var s=a[t];if(s!==e&&s.form===e.form){var n=s[pt]||null;if(!n)throw Error(o(90));Zi(s,n.value,n.defaultValue,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name)}}for(t=0;t<a.length;t++)s=a[t],s.form===e.form&&Eo(s)}break e;case"textarea":Co(e,a.value,a.defaultValue);break e;case"select":t=a.value,t!=null&&Wl(e,!!a.multiple,t,!1)}}}var Fi=!1;function Do(e,t,a){if(Fi)return e(t,a);Fi=!0;try{var s=e(t);return s}finally{if(Fi=!1,(ts!==null||as!==null)&&(ji(),ts&&(t=ts,e=as,as=ts=null,zo(t),e)))for(t=0;t<e.length;t++)zo(e[t])}}function Us(e,t){var a=e.stateNode;if(a===null)return null;var s=a[pt]||null;if(s===null)return null;a=s[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(s=!s.disabled)||(e=e.type,s=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!s;break e;default:e=!1}if(e)return null;if(a&&typeof a!="function")throw Error(o(231,t,typeof a));return a}var Ha=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ji=!1;if(Ha)try{var Hs={};Object.defineProperty(Hs,"passive",{get:function(){Ji=!0}}),window.addEventListener("test",Hs,Hs),window.removeEventListener("test",Hs,Hs)}catch{Ji=!1}var nl=null,Wi=null,_n=null;function _o(){if(_n)return _n;var e,t=Wi,a=t.length,s,n="value"in nl?nl.value:nl.textContent,r=n.length;for(e=0;e<a&&t[e]===n[e];e++);var u=a-e;for(s=1;s<=u&&t[a-s]===n[r-s];s++);return _n=n.slice(e,1<s?1-s:void 0)}function qn(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Un(){return!0}function qo(){return!1}function $t(e){function t(a,s,n,r,u){this._reactName=a,this._targetInst=n,this.type=s,this.nativeEvent=r,this.target=u,this.currentTarget=null;for(var y in e)e.hasOwnProperty(y)&&(a=e[y],this[y]=a?a(r):r[y]);return this.isDefaultPrevented=(r.defaultPrevented!=null?r.defaultPrevented:r.returnValue===!1)?Un:qo,this.isPropagationStopped=qo,this}return p(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Un)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Un)},persist:function(){},isPersistent:Un}),t}var Rl={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Hn=$t(Rl),Ls=p({},Rl,{view:0,detail:0}),of=$t(Ls),er,tr,Gs,Ln=p({},Ls,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:lr,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Gs&&(Gs&&e.type==="mousemove"?(er=e.screenX-Gs.screenX,tr=e.screenY-Gs.screenY):tr=er=0,Gs=e),er)},movementY:function(e){return"movementY"in e?e.movementY:tr}}),Uo=$t(Ln),uf=p({},Ln,{dataTransfer:0}),df=$t(uf),mf=p({},Ls,{relatedTarget:0}),ar=$t(mf),ff=p({},Rl,{animationName:0,elapsedTime:0,pseudoElement:0}),hf=$t(ff),gf=p({},Rl,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),xf=$t(gf),bf=p({},Rl,{data:0}),Ho=$t(bf),yf={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},pf={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},vf={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Nf(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=vf[e])?!!t[e]:!1}function lr(){return Nf}var jf=p({},Ls,{key:function(e){if(e.key){var t=yf[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=qn(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?pf[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:lr,charCode:function(e){return e.type==="keypress"?qn(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?qn(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Sf=$t(jf),wf=p({},Ln,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Lo=$t(wf),Tf=p({},Ls,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:lr}),Mf=$t(Tf),Af=p({},Rl,{propertyName:0,elapsedTime:0,pseudoElement:0}),Ef=$t(Af),Rf=p({},Ln,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Cf=$t(Rf),Bf=p({},Rl,{newState:0,oldState:0}),Of=$t(Bf),kf=[9,13,27,32],sr=Ha&&"CompositionEvent"in window,Ys=null;Ha&&"documentMode"in document&&(Ys=document.documentMode);var zf=Ha&&"TextEvent"in window&&!Ys,Go=Ha&&(!sr||Ys&&8<Ys&&11>=Ys),Yo=" ",Xo=!1;function Qo(e,t){switch(e){case"keyup":return kf.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Vo(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var ls=!1;function Df(e,t){switch(e){case"compositionend":return Vo(t);case"keypress":return t.which!==32?null:(Xo=!0,Yo);case"textInput":return e=t.data,e===Yo&&Xo?null:e;default:return null}}function _f(e,t){if(ls)return e==="compositionend"||!sr&&Qo(e,t)?(e=_o(),_n=Wi=nl=null,ls=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Go&&t.locale!=="ko"?null:t.data;default:return null}}var qf={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Zo(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!qf[e.type]:t==="textarea"}function $o(e,t,a,s){ts?as?as.push(s):as=[s]:ts=s,t=Ri(t,"onChange"),0<t.length&&(a=new Hn("onChange","change",null,a,s),e.push({event:a,listeners:t}))}var Xs=null,Qs=null;function Uf(e){Rm(e,0)}function Gn(e){var t=sl(e);if(Eo(t))return e}function Po(e,t){if(e==="change")return t}var Ko=!1;if(Ha){var nr;if(Ha){var ir="oninput"in document;if(!ir){var Io=document.createElement("div");Io.setAttribute("oninput","return;"),ir=typeof Io.oninput=="function"}nr=ir}else nr=!1;Ko=nr&&(!document.documentMode||9<document.documentMode)}function Fo(){Xs&&(Xs.detachEvent("onpropertychange",Jo),Qs=Xs=null)}function Jo(e){if(e.propertyName==="value"&&Gn(Qs)){var t=[];$o(t,Qs,e,Ii(e)),Do(Uf,t)}}function Hf(e,t,a){e==="focusin"?(Fo(),Xs=t,Qs=a,Xs.attachEvent("onpropertychange",Jo)):e==="focusout"&&Fo()}function Lf(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Gn(Qs)}function Gf(e,t){if(e==="click")return Gn(t)}function Yf(e,t){if(e==="input"||e==="change")return Gn(t)}function Xf(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var ta=typeof Object.is=="function"?Object.is:Xf;function Vs(e,t){if(ta(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var a=Object.keys(e),s=Object.keys(t);if(a.length!==s.length)return!1;for(s=0;s<a.length;s++){var n=a[s];if(!X.call(t,n)||!ta(e[n],t[n]))return!1}return!0}function Wo(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function eu(e,t){var a=Wo(e);e=0;for(var s;a;){if(a.nodeType===3){if(s=e+a.textContent.length,e<=t&&s>=t)return{node:a,offset:t-e};e=s}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=Wo(a)}}function tu(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?tu(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function au(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var t=zn(e.document);t instanceof e.HTMLIFrameElement;){try{var a=typeof t.contentWindow.location.href=="string"}catch{a=!1}if(a)e=t.contentWindow;else break;t=zn(e.document)}return t}function rr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}var Qf=Ha&&"documentMode"in document&&11>=document.documentMode,ss=null,cr=null,Zs=null,or=!1;function lu(e,t,a){var s=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;or||ss==null||ss!==zn(s)||(s=ss,"selectionStart"in s&&rr(s)?s={start:s.selectionStart,end:s.selectionEnd}:(s=(s.ownerDocument&&s.ownerDocument.defaultView||window).getSelection(),s={anchorNode:s.anchorNode,anchorOffset:s.anchorOffset,focusNode:s.focusNode,focusOffset:s.focusOffset}),Zs&&Vs(Zs,s)||(Zs=s,s=Ri(cr,"onSelect"),0<s.length&&(t=new Hn("onSelect","select",null,t,a),e.push({event:t,listeners:s}),t.target=ss)))}function Cl(e,t){var a={};return a[e.toLowerCase()]=t.toLowerCase(),a["Webkit"+e]="webkit"+t,a["Moz"+e]="moz"+t,a}var ns={animationend:Cl("Animation","AnimationEnd"),animationiteration:Cl("Animation","AnimationIteration"),animationstart:Cl("Animation","AnimationStart"),transitionrun:Cl("Transition","TransitionRun"),transitionstart:Cl("Transition","TransitionStart"),transitioncancel:Cl("Transition","TransitionCancel"),transitionend:Cl("Transition","TransitionEnd")},ur={},su={};Ha&&(su=document.createElement("div").style,"AnimationEvent"in window||(delete ns.animationend.animation,delete ns.animationiteration.animation,delete ns.animationstart.animation),"TransitionEvent"in window||delete ns.transitionend.transition);function Bl(e){if(ur[e])return ur[e];if(!ns[e])return e;var t=ns[e],a;for(a in t)if(t.hasOwnProperty(a)&&a in su)return ur[e]=t[a];return e}var nu=Bl("animationend"),iu=Bl("animationiteration"),ru=Bl("animationstart"),Vf=Bl("transitionrun"),Zf=Bl("transitionstart"),$f=Bl("transitioncancel"),cu=Bl("transitionend"),ou=new Map,dr="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");dr.push("scrollEnd");function ja(e,t){ou.set(e,t),Xt(t,[e])}var Yn=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},ma=[],is=0,mr=0;function Xn(){for(var e=is,t=mr=is=0;t<e;){var a=ma[t];ma[t++]=null;var s=ma[t];ma[t++]=null;var n=ma[t];ma[t++]=null;var r=ma[t];if(ma[t++]=null,s!==null&&n!==null){var u=s.pending;u===null?n.next=n:(n.next=u.next,u.next=n),s.pending=n}r!==0&&uu(a,n,r)}}function Qn(e,t,a,s){ma[is++]=e,ma[is++]=t,ma[is++]=a,ma[is++]=s,mr|=s,e.lanes|=s,e=e.alternate,e!==null&&(e.lanes|=s)}function fr(e,t,a,s){return Qn(e,t,a,s),Vn(e)}function Ol(e,t){return Qn(e,null,null,t),Vn(e)}function uu(e,t,a){e.lanes|=a;var s=e.alternate;s!==null&&(s.lanes|=a);for(var n=!1,r=e.return;r!==null;)r.childLanes|=a,s=r.alternate,s!==null&&(s.childLanes|=a),r.tag===22&&(e=r.stateNode,e===null||e._visibility&1||(n=!0)),e=r,r=r.return;return e.tag===3?(r=e.stateNode,n&&t!==null&&(n=31-K(a),e=r.hiddenUpdates,s=e[n],s===null?e[n]=[t]:s.push(t),t.lane=a|536870912),r):null}function Vn(e){if(50<gn)throw gn=0,jc=null,Error(o(185));for(var t=e.return;t!==null;)e=t,t=e.return;return e.tag===3?e.stateNode:null}var rs={};function Pf(e,t,a,s){this.tag=e,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=s,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function aa(e,t,a,s){return new Pf(e,t,a,s)}function hr(e){return e=e.prototype,!(!e||!e.isReactComponent)}function La(e,t){var a=e.alternate;return a===null?(a=aa(e.tag,t,e.key,e.mode),a.elementType=e.elementType,a.type=e.type,a.stateNode=e.stateNode,a.alternate=e,e.alternate=a):(a.pendingProps=t,a.type=e.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=e.flags&65011712,a.childLanes=e.childLanes,a.lanes=e.lanes,a.child=e.child,a.memoizedProps=e.memoizedProps,a.memoizedState=e.memoizedState,a.updateQueue=e.updateQueue,t=e.dependencies,a.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},a.sibling=e.sibling,a.index=e.index,a.ref=e.ref,a.refCleanup=e.refCleanup,a}function du(e,t){e.flags&=65011714;var a=e.alternate;return a===null?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=a.childLanes,e.lanes=a.lanes,e.child=a.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=a.memoizedProps,e.memoizedState=a.memoizedState,e.updateQueue=a.updateQueue,e.type=a.type,t=a.dependencies,e.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function Zn(e,t,a,s,n,r){var u=0;if(s=e,typeof e=="function")hr(e)&&(u=1);else if(typeof e=="string")u=Wh(e,a,re.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case ue:return e=aa(31,a,t,n),e.elementType=ue,e.lanes=r,e;case N:return kl(a.children,n,r,t);case w:u=8,n|=24;break;case A:return e=aa(12,a,t,n|2),e.elementType=A,e.lanes=r,e;case _:return e=aa(13,a,t,n),e.elementType=_,e.lanes=r,e;case ne:return e=aa(19,a,t,n),e.elementType=ne,e.lanes=r,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case O:u=10;break e;case k:u=9;break e;case W:u=11;break e;case R:u=14;break e;case G:u=16,s=null;break e}u=29,a=Error(o(130,e===null?"null":typeof e,"")),s=null}return t=aa(u,a,t,n),t.elementType=e,t.type=s,t.lanes=r,t}function kl(e,t,a,s){return e=aa(7,e,s,t),e.lanes=a,e}function gr(e,t,a){return e=aa(6,e,null,t),e.lanes=a,e}function mu(e){var t=aa(18,null,null,0);return t.stateNode=e,t}function xr(e,t,a){return t=aa(4,e.children!==null?e.children:[],e.key,t),t.lanes=a,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var fu=new WeakMap;function fa(e,t){if(typeof e=="object"&&e!==null){var a=fu.get(e);return a!==void 0?a:(t={value:e,source:t,stack:We(t)},fu.set(e,t),t)}return{value:e,source:t,stack:We(t)}}var cs=[],os=0,$n=null,$s=0,ha=[],ga=0,il=null,Aa=1,Ea="";function Ga(e,t){cs[os++]=$s,cs[os++]=$n,$n=e,$s=t}function hu(e,t,a){ha[ga++]=Aa,ha[ga++]=Ea,ha[ga++]=il,il=e;var s=Aa;e=Ea;var n=32-K(s)-1;s&=~(1<<n),a+=1;var r=32-K(t)+n;if(30<r){var u=n-n%5;r=(s&(1<<u)-1).toString(32),s>>=u,n-=u,Aa=1<<32-K(t)+n|a<<n|s,Ea=r+e}else Aa=1<<r|a<<n|s,Ea=e}function br(e){e.return!==null&&(Ga(e,1),hu(e,1,0))}function yr(e){for(;e===$n;)$n=cs[--os],cs[os]=null,$s=cs[--os],cs[os]=null;for(;e===il;)il=ha[--ga],ha[ga]=null,Ea=ha[--ga],ha[ga]=null,Aa=ha[--ga],ha[ga]=null}function gu(e,t){ha[ga++]=Aa,ha[ga++]=Ea,ha[ga++]=il,Aa=t.id,Ea=t.overflow,il=e}var Bt=null,nt=null,Le=!1,rl=null,xa=!1,pr=Error(o(519));function cl(e){var t=Error(o(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Ps(fa(t,e)),pr}function xu(e){var t=e.stateNode,a=e.type,s=e.memoizedProps;switch(t[He]=e,t[pt]=s,a){case"dialog":ze("cancel",t),ze("close",t);break;case"iframe":case"object":case"embed":ze("load",t);break;case"video":case"audio":for(a=0;a<bn.length;a++)ze(bn[a],t);break;case"source":ze("error",t);break;case"img":case"image":case"link":ze("error",t),ze("load",t);break;case"details":ze("toggle",t);break;case"input":ze("invalid",t),Ro(t,s.value,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name,!0);break;case"select":ze("invalid",t);break;case"textarea":ze("invalid",t),Bo(t,s.value,s.defaultValue,s.children)}a=s.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||t.textContent===""+a||s.suppressHydrationWarning===!0||km(t.textContent,a)?(s.popover!=null&&(ze("beforetoggle",t),ze("toggle",t)),s.onScroll!=null&&ze("scroll",t),s.onScrollEnd!=null&&ze("scrollend",t),s.onClick!=null&&(t.onclick=Ua),t=!0):t=!1,t||cl(e,!0)}function bu(e){for(Bt=e.return;Bt;)switch(Bt.tag){case 5:case 31:case 13:xa=!1;return;case 27:case 3:xa=!0;return;default:Bt=Bt.return}}function us(e){if(e!==Bt)return!1;if(!Le)return bu(e),Le=!0,!1;var t=e.tag,a;if((a=t!==3&&t!==27)&&((a=t===5)&&(a=e.type,a=!(a!=="form"&&a!=="button")||qc(e.type,e.memoizedProps)),a=!a),a&&nt&&cl(e),bu(e),t===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(o(317));nt=Ym(e)}else if(t===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(o(317));nt=Ym(e)}else t===27?(t=nt,jl(e.type)?(e=Yc,Yc=null,nt=e):nt=t):nt=Bt?ya(e.stateNode.nextSibling):null;return!0}function zl(){nt=Bt=null,Le=!1}function vr(){var e=rl;return e!==null&&(Ft===null?Ft=e:Ft.push.apply(Ft,e),rl=null),e}function Ps(e){rl===null?rl=[e]:rl.push(e)}var Nr=M(null),Dl=null,Ya=null;function ol(e,t,a){de(Nr,t._currentValue),t._currentValue=a}function Xa(e){e._currentValue=Nr.current,I(Nr)}function jr(e,t,a){for(;e!==null;){var s=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,s!==null&&(s.childLanes|=t)):s!==null&&(s.childLanes&t)!==t&&(s.childLanes|=t),e===a)break;e=e.return}}function Sr(e,t,a,s){var n=e.child;for(n!==null&&(n.return=e);n!==null;){var r=n.dependencies;if(r!==null){var u=n.child;r=r.firstContext;e:for(;r!==null;){var y=r;r=n;for(var T=0;T<t.length;T++)if(y.context===t[T]){r.lanes|=a,y=r.alternate,y!==null&&(y.lanes|=a),jr(r.return,a,e),s||(u=null);break e}r=y.next}}else if(n.tag===18){if(u=n.return,u===null)throw Error(o(341));u.lanes|=a,r=u.alternate,r!==null&&(r.lanes|=a),jr(u,a,e),u=null}else u=n.child;if(u!==null)u.return=n;else for(u=n;u!==null;){if(u===e){u=null;break}if(n=u.sibling,n!==null){n.return=u.return,u=n;break}u=u.return}n=u}}function ds(e,t,a,s){e=null;for(var n=t,r=!1;n!==null;){if(!r){if((n.flags&524288)!==0)r=!0;else if((n.flags&262144)!==0)break}if(n.tag===10){var u=n.alternate;if(u===null)throw Error(o(387));if(u=u.memoizedProps,u!==null){var y=n.type;ta(n.pendingProps.value,u.value)||(e!==null?e.push(y):e=[y])}}else if(n===ye.current){if(u=n.alternate,u===null)throw Error(o(387));u.memoizedState.memoizedState!==n.memoizedState.memoizedState&&(e!==null?e.push(jn):e=[jn])}n=n.return}e!==null&&Sr(t,e,a,s),t.flags|=262144}function Pn(e){for(e=e.firstContext;e!==null;){if(!ta(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function _l(e){Dl=e,Ya=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function Ot(e){return yu(Dl,e)}function Kn(e,t){return Dl===null&&_l(e),yu(e,t)}function yu(e,t){var a=t._currentValue;if(t={context:t,memoizedValue:a,next:null},Ya===null){if(e===null)throw Error(o(308));Ya=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else Ya=Ya.next=t;return a}var Kf=typeof AbortController<"u"?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(a,s){e.push(s)}};this.abort=function(){t.aborted=!0,e.forEach(function(a){return a()})}},If=i.unstable_scheduleCallback,Ff=i.unstable_NormalPriority,Nt={$$typeof:O,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function wr(){return{controller:new Kf,data:new Map,refCount:0}}function Ks(e){e.refCount--,e.refCount===0&&If(Ff,function(){e.controller.abort()})}var Is=null,Tr=0,ms=0,fs=null;function Jf(e,t){if(Is===null){var a=Is=[];Tr=0,ms=Ec(),fs={status:"pending",value:void 0,then:function(s){a.push(s)}}}return Tr++,t.then(pu,pu),t}function pu(){if(--Tr===0&&Is!==null){fs!==null&&(fs.status="fulfilled");var e=Is;Is=null,ms=0,fs=null;for(var t=0;t<e.length;t++)(0,e[t])()}}function Wf(e,t){var a=[],s={status:"pending",value:null,reason:null,then:function(n){a.push(n)}};return e.then(function(){s.status="fulfilled",s.value=t;for(var n=0;n<a.length;n++)(0,a[n])(t)},function(n){for(s.status="rejected",s.reason=n,n=0;n<a.length;n++)(0,a[n])(void 0)}),s}var vu=z.S;z.S=function(e,t){lm=Oe(),typeof t=="object"&&t!==null&&typeof t.then=="function"&&Jf(e,t),vu!==null&&vu(e,t)};var ql=M(null);function Mr(){var e=ql.current;return e!==null?e:st.pooledCache}function In(e,t){t===null?de(ql,ql.current):de(ql,t.pool)}function Nu(){var e=Mr();return e===null?null:{parent:Nt._currentValue,pool:e}}var hs=Error(o(460)),Ar=Error(o(474)),Fn=Error(o(542)),Jn={then:function(){}};function ju(e){return e=e.status,e==="fulfilled"||e==="rejected"}function Su(e,t,a){switch(a=e[a],a===void 0?e.push(t):a!==t&&(t.then(Ua,Ua),t=a),t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,Tu(e),e;default:if(typeof t.status=="string")t.then(Ua,Ua);else{if(e=st,e!==null&&100<e.shellSuspendCounter)throw Error(o(482));e=t,e.status="pending",e.then(function(s){if(t.status==="pending"){var n=t;n.status="fulfilled",n.value=s}},function(s){if(t.status==="pending"){var n=t;n.status="rejected",n.reason=s}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,Tu(e),e}throw Hl=t,hs}}function Ul(e){try{var t=e._init;return t(e._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(Hl=a,hs):a}}var Hl=null;function wu(){if(Hl===null)throw Error(o(459));var e=Hl;return Hl=null,e}function Tu(e){if(e===hs||e===Fn)throw Error(o(483))}var gs=null,Fs=0;function Wn(e){var t=Fs;return Fs+=1,gs===null&&(gs=[]),Su(gs,e,t)}function Js(e,t){t=t.props.ref,e.ref=t!==void 0?t:null}function ei(e,t){throw t.$$typeof===E?Error(o(525)):(e=Object.prototype.toString.call(t),Error(o(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)))}function Mu(e){function t(D,C){if(e){var q=D.deletions;q===null?(D.deletions=[C],D.flags|=16):q.push(C)}}function a(D,C){if(!e)return null;for(;C!==null;)t(D,C),C=C.sibling;return null}function s(D){for(var C=new Map;D!==null;)D.key!==null?C.set(D.key,D):C.set(D.index,D),D=D.sibling;return C}function n(D,C){return D=La(D,C),D.index=0,D.sibling=null,D}function r(D,C,q){return D.index=q,e?(q=D.alternate,q!==null?(q=q.index,q<C?(D.flags|=67108866,C):q):(D.flags|=67108866,C)):(D.flags|=1048576,C)}function u(D){return e&&D.alternate===null&&(D.flags|=67108866),D}function y(D,C,q,F){return C===null||C.tag!==6?(C=gr(q,D.mode,F),C.return=D,C):(C=n(C,q),C.return=D,C)}function T(D,C,q,F){var je=q.type;return je===N?Z(D,C,q.props.children,F,q.key):C!==null&&(C.elementType===je||typeof je=="object"&&je!==null&&je.$$typeof===G&&Ul(je)===C.type)?(C=n(C,q.props),Js(C,q),C.return=D,C):(C=Zn(q.type,q.key,q.props,null,D.mode,F),Js(C,q),C.return=D,C)}function U(D,C,q,F){return C===null||C.tag!==4||C.stateNode.containerInfo!==q.containerInfo||C.stateNode.implementation!==q.implementation?(C=xr(q,D.mode,F),C.return=D,C):(C=n(C,q.children||[]),C.return=D,C)}function Z(D,C,q,F,je){return C===null||C.tag!==7?(C=kl(q,D.mode,F,je),C.return=D,C):(C=n(C,q),C.return=D,C)}function ee(D,C,q){if(typeof C=="string"&&C!==""||typeof C=="number"||typeof C=="bigint")return C=gr(""+C,D.mode,q),C.return=D,C;if(typeof C=="object"&&C!==null){switch(C.$$typeof){case S:return q=Zn(C.type,C.key,C.props,null,D.mode,q),Js(q,C),q.return=D,q;case j:return C=xr(C,D.mode,q),C.return=D,C;case G:return C=Ul(C),ee(D,C,q)}if(se(C)||J(C))return C=kl(C,D.mode,q,null),C.return=D,C;if(typeof C.then=="function")return ee(D,Wn(C),q);if(C.$$typeof===O)return ee(D,Kn(D,C),q);ei(D,C)}return null}function L(D,C,q,F){var je=C!==null?C.key:null;if(typeof q=="string"&&q!==""||typeof q=="number"||typeof q=="bigint")return je!==null?null:y(D,C,""+q,F);if(typeof q=="object"&&q!==null){switch(q.$$typeof){case S:return q.key===je?T(D,C,q,F):null;case j:return q.key===je?U(D,C,q,F):null;case G:return q=Ul(q),L(D,C,q,F)}if(se(q)||J(q))return je!==null?null:Z(D,C,q,F,null);if(typeof q.then=="function")return L(D,C,Wn(q),F);if(q.$$typeof===O)return L(D,C,Kn(D,q),F);ei(D,q)}return null}function Q(D,C,q,F,je){if(typeof F=="string"&&F!==""||typeof F=="number"||typeof F=="bigint")return D=D.get(q)||null,y(C,D,""+F,je);if(typeof F=="object"&&F!==null){switch(F.$$typeof){case S:return D=D.get(F.key===null?q:F.key)||null,T(C,D,F,je);case j:return D=D.get(F.key===null?q:F.key)||null,U(C,D,F,je);case G:return F=Ul(F),Q(D,C,q,F,je)}if(se(F)||J(F))return D=D.get(q)||null,Z(C,D,F,je,null);if(typeof F.then=="function")return Q(D,C,q,Wn(F),je);if(F.$$typeof===O)return Q(D,C,q,Kn(C,F),je);ei(C,F)}return null}function be(D,C,q,F){for(var je=null,Qe=null,pe=C,Ce=C=0,_e=null;pe!==null&&Ce<q.length;Ce++){pe.index>Ce?(_e=pe,pe=null):_e=pe.sibling;var Ve=L(D,pe,q[Ce],F);if(Ve===null){pe===null&&(pe=_e);break}e&&pe&&Ve.alternate===null&&t(D,pe),C=r(Ve,C,Ce),Qe===null?je=Ve:Qe.sibling=Ve,Qe=Ve,pe=_e}if(Ce===q.length)return a(D,pe),Le&&Ga(D,Ce),je;if(pe===null){for(;Ce<q.length;Ce++)pe=ee(D,q[Ce],F),pe!==null&&(C=r(pe,C,Ce),Qe===null?je=pe:Qe.sibling=pe,Qe=pe);return Le&&Ga(D,Ce),je}for(pe=s(pe);Ce<q.length;Ce++)_e=Q(pe,D,Ce,q[Ce],F),_e!==null&&(e&&_e.alternate!==null&&pe.delete(_e.key===null?Ce:_e.key),C=r(_e,C,Ce),Qe===null?je=_e:Qe.sibling=_e,Qe=_e);return e&&pe.forEach(function(Al){return t(D,Al)}),Le&&Ga(D,Ce),je}function we(D,C,q,F){if(q==null)throw Error(o(151));for(var je=null,Qe=null,pe=C,Ce=C=0,_e=null,Ve=q.next();pe!==null&&!Ve.done;Ce++,Ve=q.next()){pe.index>Ce?(_e=pe,pe=null):_e=pe.sibling;var Al=L(D,pe,Ve.value,F);if(Al===null){pe===null&&(pe=_e);break}e&&pe&&Al.alternate===null&&t(D,pe),C=r(Al,C,Ce),Qe===null?je=Al:Qe.sibling=Al,Qe=Al,pe=_e}if(Ve.done)return a(D,pe),Le&&Ga(D,Ce),je;if(pe===null){for(;!Ve.done;Ce++,Ve=q.next())Ve=ee(D,Ve.value,F),Ve!==null&&(C=r(Ve,C,Ce),Qe===null?je=Ve:Qe.sibling=Ve,Qe=Ve);return Le&&Ga(D,Ce),je}for(pe=s(pe);!Ve.done;Ce++,Ve=q.next())Ve=Q(pe,D,Ce,Ve.value,F),Ve!==null&&(e&&Ve.alternate!==null&&pe.delete(Ve.key===null?Ce:Ve.key),C=r(Ve,C,Ce),Qe===null?je=Ve:Qe.sibling=Ve,Qe=Ve);return e&&pe.forEach(function(ug){return t(D,ug)}),Le&&Ga(D,Ce),je}function at(D,C,q,F){if(typeof q=="object"&&q!==null&&q.type===N&&q.key===null&&(q=q.props.children),typeof q=="object"&&q!==null){switch(q.$$typeof){case S:e:{for(var je=q.key;C!==null;){if(C.key===je){if(je=q.type,je===N){if(C.tag===7){a(D,C.sibling),F=n(C,q.props.children),F.return=D,D=F;break e}}else if(C.elementType===je||typeof je=="object"&&je!==null&&je.$$typeof===G&&Ul(je)===C.type){a(D,C.sibling),F=n(C,q.props),Js(F,q),F.return=D,D=F;break e}a(D,C);break}else t(D,C);C=C.sibling}q.type===N?(F=kl(q.props.children,D.mode,F,q.key),F.return=D,D=F):(F=Zn(q.type,q.key,q.props,null,D.mode,F),Js(F,q),F.return=D,D=F)}return u(D);case j:e:{for(je=q.key;C!==null;){if(C.key===je)if(C.tag===4&&C.stateNode.containerInfo===q.containerInfo&&C.stateNode.implementation===q.implementation){a(D,C.sibling),F=n(C,q.children||[]),F.return=D,D=F;break e}else{a(D,C);break}else t(D,C);C=C.sibling}F=xr(q,D.mode,F),F.return=D,D=F}return u(D);case G:return q=Ul(q),at(D,C,q,F)}if(se(q))return be(D,C,q,F);if(J(q)){if(je=J(q),typeof je!="function")throw Error(o(150));return q=je.call(q),we(D,C,q,F)}if(typeof q.then=="function")return at(D,C,Wn(q),F);if(q.$$typeof===O)return at(D,C,Kn(D,q),F);ei(D,q)}return typeof q=="string"&&q!==""||typeof q=="number"||typeof q=="bigint"?(q=""+q,C!==null&&C.tag===6?(a(D,C.sibling),F=n(C,q),F.return=D,D=F):(a(D,C),F=gr(q,D.mode,F),F.return=D,D=F),u(D)):a(D,C)}return function(D,C,q,F){try{Fs=0;var je=at(D,C,q,F);return gs=null,je}catch(pe){if(pe===hs||pe===Fn)throw pe;var Qe=aa(29,pe,null,D.mode);return Qe.lanes=F,Qe.return=D,Qe}}}var Ll=Mu(!0),Au=Mu(!1),ul=!1;function Er(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Rr(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function dl(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function ml(e,t,a){var s=e.updateQueue;if(s===null)return null;if(s=s.shared,(Pe&2)!==0){var n=s.pending;return n===null?t.next=t:(t.next=n.next,n.next=t),s.pending=t,t=Vn(e),uu(e,null,a),t}return Qn(e,s,t,a),Vn(e)}function Ws(e,t,a){if(t=t.updateQueue,t!==null&&(t=t.shared,(a&4194048)!==0)){var s=t.lanes;s&=e.pendingLanes,a|=s,t.lanes=a,Te(e,a)}}function Cr(e,t){var a=e.updateQueue,s=e.alternate;if(s!==null&&(s=s.updateQueue,a===s)){var n=null,r=null;if(a=a.firstBaseUpdate,a!==null){do{var u={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};r===null?n=r=u:r=r.next=u,a=a.next}while(a!==null);r===null?n=r=t:r=r.next=t}else n=r=t;a={baseState:s.baseState,firstBaseUpdate:n,lastBaseUpdate:r,shared:s.shared,callbacks:s.callbacks},e.updateQueue=a;return}e=a.lastBaseUpdate,e===null?a.firstBaseUpdate=t:e.next=t,a.lastBaseUpdate=t}var Br=!1;function en(){if(Br){var e=fs;if(e!==null)throw e}}function tn(e,t,a,s){Br=!1;var n=e.updateQueue;ul=!1;var r=n.firstBaseUpdate,u=n.lastBaseUpdate,y=n.shared.pending;if(y!==null){n.shared.pending=null;var T=y,U=T.next;T.next=null,u===null?r=U:u.next=U,u=T;var Z=e.alternate;Z!==null&&(Z=Z.updateQueue,y=Z.lastBaseUpdate,y!==u&&(y===null?Z.firstBaseUpdate=U:y.next=U,Z.lastBaseUpdate=T))}if(r!==null){var ee=n.baseState;u=0,Z=U=T=null,y=r;do{var L=y.lane&-536870913,Q=L!==y.lane;if(Q?(De&L)===L:(s&L)===L){L!==0&&L===ms&&(Br=!0),Z!==null&&(Z=Z.next={lane:0,tag:y.tag,payload:y.payload,callback:null,next:null});e:{var be=e,we=y;L=t;var at=a;switch(we.tag){case 1:if(be=we.payload,typeof be=="function"){ee=be.call(at,ee,L);break e}ee=be;break e;case 3:be.flags=be.flags&-65537|128;case 0:if(be=we.payload,L=typeof be=="function"?be.call(at,ee,L):be,L==null)break e;ee=p({},ee,L);break e;case 2:ul=!0}}L=y.callback,L!==null&&(e.flags|=64,Q&&(e.flags|=8192),Q=n.callbacks,Q===null?n.callbacks=[L]:Q.push(L))}else Q={lane:L,tag:y.tag,payload:y.payload,callback:y.callback,next:null},Z===null?(U=Z=Q,T=ee):Z=Z.next=Q,u|=L;if(y=y.next,y===null){if(y=n.shared.pending,y===null)break;Q=y,y=Q.next,Q.next=null,n.lastBaseUpdate=Q,n.shared.pending=null}}while(!0);Z===null&&(T=ee),n.baseState=T,n.firstBaseUpdate=U,n.lastBaseUpdate=Z,r===null&&(n.shared.lanes=0),bl|=u,e.lanes=u,e.memoizedState=ee}}function Eu(e,t){if(typeof e!="function")throw Error(o(191,e));e.call(t)}function Ru(e,t){var a=e.callbacks;if(a!==null)for(e.callbacks=null,e=0;e<a.length;e++)Eu(a[e],t)}var xs=M(null),ti=M(0);function Cu(e,t){e=Ja,de(ti,e),de(xs,t),Ja=e|t.baseLanes}function Or(){de(ti,Ja),de(xs,xs.current)}function kr(){Ja=ti.current,I(xs),I(ti)}var la=M(null),ba=null;function fl(e){var t=e.alternate;de(ht,ht.current&1),de(la,e),ba===null&&(t===null||xs.current!==null||t.memoizedState!==null)&&(ba=e)}function zr(e){de(ht,ht.current),de(la,e),ba===null&&(ba=e)}function Bu(e){e.tag===22?(de(ht,ht.current),de(la,e),ba===null&&(ba=e)):hl()}function hl(){de(ht,ht.current),de(la,la.current)}function sa(e){I(la),ba===e&&(ba=null),I(ht)}var ht=M(0);function ai(e){for(var t=e;t!==null;){if(t.tag===13){var a=t.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||Lc(a)||Gc(a)))return t}else if(t.tag===19&&(t.memoizedProps.revealOrder==="forwards"||t.memoizedProps.revealOrder==="backwards"||t.memoizedProps.revealOrder==="unstable_legacy-backwards"||t.memoizedProps.revealOrder==="together")){if((t.flags&128)!==0)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Qa=0,Re=null,et=null,jt=null,li=!1,bs=!1,Gl=!1,si=0,an=0,ys=null,eh=0;function ot(){throw Error(o(321))}function Dr(e,t){if(t===null)return!1;for(var a=0;a<t.length&&a<e.length;a++)if(!ta(e[a],t[a]))return!1;return!0}function _r(e,t,a,s,n,r){return Qa=r,Re=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,z.H=e===null||e.memoizedState===null?hd:Fr,Gl=!1,r=a(s,n),Gl=!1,bs&&(r=ku(t,a,s,n)),Ou(e),r}function Ou(e){z.H=nn;var t=et!==null&&et.next!==null;if(Qa=0,jt=et=Re=null,li=!1,an=0,ys=null,t)throw Error(o(300));e===null||St||(e=e.dependencies,e!==null&&Pn(e)&&(St=!0))}function ku(e,t,a,s){Re=e;var n=0;do{if(bs&&(ys=null),an=0,bs=!1,25<=n)throw Error(o(301));if(n+=1,jt=et=null,e.updateQueue!=null){var r=e.updateQueue;r.lastEffect=null,r.events=null,r.stores=null,r.memoCache!=null&&(r.memoCache.index=0)}z.H=gd,r=t(a,s)}while(bs);return r}function th(){var e=z.H,t=e.useState()[0];return t=typeof t.then=="function"?ln(t):t,e=e.useState()[0],(et!==null?et.memoizedState:null)!==e&&(Re.flags|=1024),t}function qr(){var e=si!==0;return si=0,e}function Ur(e,t,a){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a}function Hr(e){if(li){for(e=e.memoizedState;e!==null;){var t=e.queue;t!==null&&(t.pending=null),e=e.next}li=!1}Qa=0,jt=et=Re=null,bs=!1,an=si=0,ys=null}function Qt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return jt===null?Re.memoizedState=jt=e:jt=jt.next=e,jt}function gt(){if(et===null){var e=Re.alternate;e=e!==null?e.memoizedState:null}else e=et.next;var t=jt===null?Re.memoizedState:jt.next;if(t!==null)jt=t,et=e;else{if(e===null)throw Re.alternate===null?Error(o(467)):Error(o(310));et=e,e={memoizedState:et.memoizedState,baseState:et.baseState,baseQueue:et.baseQueue,queue:et.queue,next:null},jt===null?Re.memoizedState=jt=e:jt=jt.next=e}return jt}function ni(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function ln(e){var t=an;return an+=1,ys===null&&(ys=[]),e=Su(ys,e,t),t=Re,(jt===null?t.memoizedState:jt.next)===null&&(t=t.alternate,z.H=t===null||t.memoizedState===null?hd:Fr),e}function ii(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return ln(e);if(e.$$typeof===O)return Ot(e)}throw Error(o(438,String(e)))}function Lr(e){var t=null,a=Re.updateQueue;if(a!==null&&(t=a.memoCache),t==null){var s=Re.alternate;s!==null&&(s=s.updateQueue,s!==null&&(s=s.memoCache,s!=null&&(t={data:s.data.map(function(n){return n.slice()}),index:0})))}if(t==null&&(t={data:[],index:0}),a===null&&(a=ni(),Re.updateQueue=a),a.memoCache=t,a=t.data[t.index],a===void 0)for(a=t.data[t.index]=Array(e),s=0;s<e;s++)a[s]=B;return t.index++,a}function Va(e,t){return typeof t=="function"?t(e):t}function ri(e){var t=gt();return Gr(t,et,e)}function Gr(e,t,a){var s=e.queue;if(s===null)throw Error(o(311));s.lastRenderedReducer=a;var n=e.baseQueue,r=s.pending;if(r!==null){if(n!==null){var u=n.next;n.next=r.next,r.next=u}t.baseQueue=n=r,s.pending=null}if(r=e.baseState,n===null)e.memoizedState=r;else{t=n.next;var y=u=null,T=null,U=t,Z=!1;do{var ee=U.lane&-536870913;if(ee!==U.lane?(De&ee)===ee:(Qa&ee)===ee){var L=U.revertLane;if(L===0)T!==null&&(T=T.next={lane:0,revertLane:0,gesture:null,action:U.action,hasEagerState:U.hasEagerState,eagerState:U.eagerState,next:null}),ee===ms&&(Z=!0);else if((Qa&L)===L){U=U.next,L===ms&&(Z=!0);continue}else ee={lane:0,revertLane:U.revertLane,gesture:null,action:U.action,hasEagerState:U.hasEagerState,eagerState:U.eagerState,next:null},T===null?(y=T=ee,u=r):T=T.next=ee,Re.lanes|=L,bl|=L;ee=U.action,Gl&&a(r,ee),r=U.hasEagerState?U.eagerState:a(r,ee)}else L={lane:ee,revertLane:U.revertLane,gesture:U.gesture,action:U.action,hasEagerState:U.hasEagerState,eagerState:U.eagerState,next:null},T===null?(y=T=L,u=r):T=T.next=L,Re.lanes|=ee,bl|=ee;U=U.next}while(U!==null&&U!==t);if(T===null?u=r:T.next=y,!ta(r,e.memoizedState)&&(St=!0,Z&&(a=fs,a!==null)))throw a;e.memoizedState=r,e.baseState=u,e.baseQueue=T,s.lastRenderedState=r}return n===null&&(s.lanes=0),[e.memoizedState,s.dispatch]}function Yr(e){var t=gt(),a=t.queue;if(a===null)throw Error(o(311));a.lastRenderedReducer=e;var s=a.dispatch,n=a.pending,r=t.memoizedState;if(n!==null){a.pending=null;var u=n=n.next;do r=e(r,u.action),u=u.next;while(u!==n);ta(r,t.memoizedState)||(St=!0),t.memoizedState=r,t.baseQueue===null&&(t.baseState=r),a.lastRenderedState=r}return[r,s]}function zu(e,t,a){var s=Re,n=gt(),r=Le;if(r){if(a===void 0)throw Error(o(407));a=a()}else a=t();var u=!ta((et||n).memoizedState,a);if(u&&(n.memoizedState=a,St=!0),n=n.queue,Vr(qu.bind(null,s,n,e),[e]),n.getSnapshot!==t||u||jt!==null&&jt.memoizedState.tag&1){if(s.flags|=2048,ps(9,{destroy:void 0},_u.bind(null,s,n,a,t),null),st===null)throw Error(o(349));r||(Qa&127)!==0||Du(s,t,a)}return a}function Du(e,t,a){e.flags|=16384,e={getSnapshot:t,value:a},t=Re.updateQueue,t===null?(t=ni(),Re.updateQueue=t,t.stores=[e]):(a=t.stores,a===null?t.stores=[e]:a.push(e))}function _u(e,t,a,s){t.value=a,t.getSnapshot=s,Uu(t)&&Hu(e)}function qu(e,t,a){return a(function(){Uu(t)&&Hu(e)})}function Uu(e){var t=e.getSnapshot;e=e.value;try{var a=t();return!ta(e,a)}catch{return!0}}function Hu(e){var t=Ol(e,2);t!==null&&Jt(t,e,2)}function Xr(e){var t=Qt();if(typeof e=="function"){var a=e;if(e=a(),Gl){Gt(!0);try{a()}finally{Gt(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Va,lastRenderedState:e},t}function Lu(e,t,a,s){return e.baseState=a,Gr(e,et,typeof s=="function"?s:Va)}function ah(e,t,a,s,n){if(ui(e))throw Error(o(485));if(e=t.action,e!==null){var r={payload:n,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(u){r.listeners.push(u)}};z.T!==null?a(!0):r.isTransition=!1,s(r),a=t.pending,a===null?(r.next=t.pending=r,Gu(t,r)):(r.next=a.next,t.pending=a.next=r)}}function Gu(e,t){var a=t.action,s=t.payload,n=e.state;if(t.isTransition){var r=z.T,u={};z.T=u;try{var y=a(n,s),T=z.S;T!==null&&T(u,y),Yu(e,t,y)}catch(U){Qr(e,t,U)}finally{r!==null&&u.types!==null&&(r.types=u.types),z.T=r}}else try{r=a(n,s),Yu(e,t,r)}catch(U){Qr(e,t,U)}}function Yu(e,t,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(s){Xu(e,t,s)},function(s){return Qr(e,t,s)}):Xu(e,t,a)}function Xu(e,t,a){t.status="fulfilled",t.value=a,Qu(t),e.state=a,t=e.pending,t!==null&&(a=t.next,a===t?e.pending=null:(a=a.next,t.next=a,Gu(e,a)))}function Qr(e,t,a){var s=e.pending;if(e.pending=null,s!==null){s=s.next;do t.status="rejected",t.reason=a,Qu(t),t=t.next;while(t!==s)}e.action=null}function Qu(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function Vu(e,t){return t}function Zu(e,t){if(Le){var a=st.formState;if(a!==null){e:{var s=Re;if(Le){if(nt){t:{for(var n=nt,r=xa;n.nodeType!==8;){if(!r){n=null;break t}if(n=ya(n.nextSibling),n===null){n=null;break t}}r=n.data,n=r==="F!"||r==="F"?n:null}if(n){nt=ya(n.nextSibling),s=n.data==="F!";break e}}cl(s)}s=!1}s&&(t=a[0])}}return a=Qt(),a.memoizedState=a.baseState=t,s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Vu,lastRenderedState:t},a.queue=s,a=dd.bind(null,Re,s),s.dispatch=a,s=Xr(!1),r=Ir.bind(null,Re,!1,s.queue),s=Qt(),n={state:t,dispatch:null,action:e,pending:null},s.queue=n,a=ah.bind(null,Re,n,r,a),n.dispatch=a,s.memoizedState=e,[t,a,!1]}function $u(e){var t=gt();return Pu(t,et,e)}function Pu(e,t,a){if(t=Gr(e,t,Vu)[0],e=ri(Va)[0],typeof t=="object"&&t!==null&&typeof t.then=="function")try{var s=ln(t)}catch(u){throw u===hs?Fn:u}else s=t;t=gt();var n=t.queue,r=n.dispatch;return a!==t.memoizedState&&(Re.flags|=2048,ps(9,{destroy:void 0},lh.bind(null,n,a),null)),[s,r,e]}function lh(e,t){e.action=t}function Ku(e){var t=gt(),a=et;if(a!==null)return Pu(t,a,e);gt(),t=t.memoizedState,a=gt();var s=a.queue.dispatch;return a.memoizedState=e,[t,s,!1]}function ps(e,t,a,s){return e={tag:e,create:a,deps:s,inst:t,next:null},t=Re.updateQueue,t===null&&(t=ni(),Re.updateQueue=t),a=t.lastEffect,a===null?t.lastEffect=e.next=e:(s=a.next,a.next=e,e.next=s,t.lastEffect=e),e}function Iu(){return gt().memoizedState}function ci(e,t,a,s){var n=Qt();Re.flags|=e,n.memoizedState=ps(1|t,{destroy:void 0},a,s===void 0?null:s)}function oi(e,t,a,s){var n=gt();s=s===void 0?null:s;var r=n.memoizedState.inst;et!==null&&s!==null&&Dr(s,et.memoizedState.deps)?n.memoizedState=ps(t,r,a,s):(Re.flags|=e,n.memoizedState=ps(1|t,r,a,s))}function Fu(e,t){ci(8390656,8,e,t)}function Vr(e,t){oi(2048,8,e,t)}function sh(e){Re.flags|=4;var t=Re.updateQueue;if(t===null)t=ni(),Re.updateQueue=t,t.events=[e];else{var a=t.events;a===null?t.events=[e]:a.push(e)}}function Ju(e){var t=gt().memoizedState;return sh({ref:t,nextImpl:e}),function(){if((Pe&2)!==0)throw Error(o(440));return t.impl.apply(void 0,arguments)}}function Wu(e,t){return oi(4,2,e,t)}function ed(e,t){return oi(4,4,e,t)}function td(e,t){if(typeof t=="function"){e=e();var a=t(e);return function(){typeof a=="function"?a():t(null)}}if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function ad(e,t,a){a=a!=null?a.concat([e]):null,oi(4,4,td.bind(null,t,e),a)}function Zr(){}function ld(e,t){var a=gt();t=t===void 0?null:t;var s=a.memoizedState;return t!==null&&Dr(t,s[1])?s[0]:(a.memoizedState=[e,t],e)}function sd(e,t){var a=gt();t=t===void 0?null:t;var s=a.memoizedState;if(t!==null&&Dr(t,s[1]))return s[0];if(s=e(),Gl){Gt(!0);try{e()}finally{Gt(!1)}}return a.memoizedState=[s,t],s}function $r(e,t,a){return a===void 0||(Qa&1073741824)!==0&&(De&261930)===0?e.memoizedState=t:(e.memoizedState=a,e=nm(),Re.lanes|=e,bl|=e,a)}function nd(e,t,a,s){return ta(a,t)?a:xs.current!==null?(e=$r(e,a,s),ta(e,t)||(St=!0),e):(Qa&42)===0||(Qa&1073741824)!==0&&(De&261930)===0?(St=!0,e.memoizedState=a):(e=nm(),Re.lanes|=e,bl|=e,t)}function id(e,t,a,s,n){var r=P.p;P.p=r!==0&&8>r?r:8;var u=z.T,y={};z.T=y,Ir(e,!1,t,a);try{var T=n(),U=z.S;if(U!==null&&U(y,T),T!==null&&typeof T=="object"&&typeof T.then=="function"){var Z=Wf(T,s);sn(e,t,Z,ra(e))}else sn(e,t,s,ra(e))}catch(ee){sn(e,t,{then:function(){},status:"rejected",reason:ee},ra())}finally{P.p=r,u!==null&&y.types!==null&&(u.types=y.types),z.T=u}}function nh(){}function Pr(e,t,a,s){if(e.tag!==5)throw Error(o(476));var n=rd(e).queue;id(e,n,t,te,a===null?nh:function(){return cd(e),a(s)})}function rd(e){var t=e.memoizedState;if(t!==null)return t;t={memoizedState:te,baseState:te,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Va,lastRenderedState:te},next:null};var a={};return t.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Va,lastRenderedState:a},next:null},e.memoizedState=t,e=e.alternate,e!==null&&(e.memoizedState=t),t}function cd(e){var t=rd(e);t.next===null&&(t=e.alternate.memoizedState),sn(e,t.next.queue,{},ra())}function Kr(){return Ot(jn)}function od(){return gt().memoizedState}function ud(){return gt().memoizedState}function ih(e){for(var t=e.return;t!==null;){switch(t.tag){case 24:case 3:var a=ra();e=dl(a);var s=ml(t,e,a);s!==null&&(Jt(s,t,a),Ws(s,t,a)),t={cache:wr()},e.payload=t;return}t=t.return}}function rh(e,t,a){var s=ra();a={lane:s,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},ui(e)?md(t,a):(a=fr(e,t,a,s),a!==null&&(Jt(a,e,s),fd(a,t,s)))}function dd(e,t,a){var s=ra();sn(e,t,a,s)}function sn(e,t,a,s){var n={lane:s,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(ui(e))md(t,n);else{var r=e.alternate;if(e.lanes===0&&(r===null||r.lanes===0)&&(r=t.lastRenderedReducer,r!==null))try{var u=t.lastRenderedState,y=r(u,a);if(n.hasEagerState=!0,n.eagerState=y,ta(y,u))return Qn(e,t,n,0),st===null&&Xn(),!1}catch{}if(a=fr(e,t,n,s),a!==null)return Jt(a,e,s),fd(a,t,s),!0}return!1}function Ir(e,t,a,s){if(s={lane:2,revertLane:Ec(),gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null},ui(e)){if(t)throw Error(o(479))}else t=fr(e,a,s,2),t!==null&&Jt(t,e,2)}function ui(e){var t=e.alternate;return e===Re||t!==null&&t===Re}function md(e,t){bs=li=!0;var a=e.pending;a===null?t.next=t:(t.next=a.next,a.next=t),e.pending=t}function fd(e,t,a){if((a&4194048)!==0){var s=t.lanes;s&=e.pendingLanes,a|=s,t.lanes=a,Te(e,a)}}var nn={readContext:Ot,use:ii,useCallback:ot,useContext:ot,useEffect:ot,useImperativeHandle:ot,useLayoutEffect:ot,useInsertionEffect:ot,useMemo:ot,useReducer:ot,useRef:ot,useState:ot,useDebugValue:ot,useDeferredValue:ot,useTransition:ot,useSyncExternalStore:ot,useId:ot,useHostTransitionStatus:ot,useFormState:ot,useActionState:ot,useOptimistic:ot,useMemoCache:ot,useCacheRefresh:ot};nn.useEffectEvent=ot;var hd={readContext:Ot,use:ii,useCallback:function(e,t){return Qt().memoizedState=[e,t===void 0?null:t],e},useContext:Ot,useEffect:Fu,useImperativeHandle:function(e,t,a){a=a!=null?a.concat([e]):null,ci(4194308,4,td.bind(null,t,e),a)},useLayoutEffect:function(e,t){return ci(4194308,4,e,t)},useInsertionEffect:function(e,t){ci(4,2,e,t)},useMemo:function(e,t){var a=Qt();t=t===void 0?null:t;var s=e();if(Gl){Gt(!0);try{e()}finally{Gt(!1)}}return a.memoizedState=[s,t],s},useReducer:function(e,t,a){var s=Qt();if(a!==void 0){var n=a(t);if(Gl){Gt(!0);try{a(t)}finally{Gt(!1)}}}else n=t;return s.memoizedState=s.baseState=n,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:n},s.queue=e,e=e.dispatch=rh.bind(null,Re,e),[s.memoizedState,e]},useRef:function(e){var t=Qt();return e={current:e},t.memoizedState=e},useState:function(e){e=Xr(e);var t=e.queue,a=dd.bind(null,Re,t);return t.dispatch=a,[e.memoizedState,a]},useDebugValue:Zr,useDeferredValue:function(e,t){var a=Qt();return $r(a,e,t)},useTransition:function(){var e=Xr(!1);return e=id.bind(null,Re,e.queue,!0,!1),Qt().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,a){var s=Re,n=Qt();if(Le){if(a===void 0)throw Error(o(407));a=a()}else{if(a=t(),st===null)throw Error(o(349));(De&127)!==0||Du(s,t,a)}n.memoizedState=a;var r={value:a,getSnapshot:t};return n.queue=r,Fu(qu.bind(null,s,r,e),[e]),s.flags|=2048,ps(9,{destroy:void 0},_u.bind(null,s,r,a,t),null),a},useId:function(){var e=Qt(),t=st.identifierPrefix;if(Le){var a=Ea,s=Aa;a=(s&~(1<<32-K(s)-1)).toString(32)+a,t="_"+t+"R_"+a,a=si++,0<a&&(t+="H"+a.toString(32)),t+="_"}else a=eh++,t="_"+t+"r_"+a.toString(32)+"_";return e.memoizedState=t},useHostTransitionStatus:Kr,useFormState:Zu,useActionState:Zu,useOptimistic:function(e){var t=Qt();t.memoizedState=t.baseState=e;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=a,t=Ir.bind(null,Re,!0,a),a.dispatch=t,[e,t]},useMemoCache:Lr,useCacheRefresh:function(){return Qt().memoizedState=ih.bind(null,Re)},useEffectEvent:function(e){var t=Qt(),a={impl:e};return t.memoizedState=a,function(){if((Pe&2)!==0)throw Error(o(440));return a.impl.apply(void 0,arguments)}}},Fr={readContext:Ot,use:ii,useCallback:ld,useContext:Ot,useEffect:Vr,useImperativeHandle:ad,useInsertionEffect:Wu,useLayoutEffect:ed,useMemo:sd,useReducer:ri,useRef:Iu,useState:function(){return ri(Va)},useDebugValue:Zr,useDeferredValue:function(e,t){var a=gt();return nd(a,et.memoizedState,e,t)},useTransition:function(){var e=ri(Va)[0],t=gt().memoizedState;return[typeof e=="boolean"?e:ln(e),t]},useSyncExternalStore:zu,useId:od,useHostTransitionStatus:Kr,useFormState:$u,useActionState:$u,useOptimistic:function(e,t){var a=gt();return Lu(a,et,e,t)},useMemoCache:Lr,useCacheRefresh:ud};Fr.useEffectEvent=Ju;var gd={readContext:Ot,use:ii,useCallback:ld,useContext:Ot,useEffect:Vr,useImperativeHandle:ad,useInsertionEffect:Wu,useLayoutEffect:ed,useMemo:sd,useReducer:Yr,useRef:Iu,useState:function(){return Yr(Va)},useDebugValue:Zr,useDeferredValue:function(e,t){var a=gt();return et===null?$r(a,e,t):nd(a,et.memoizedState,e,t)},useTransition:function(){var e=Yr(Va)[0],t=gt().memoizedState;return[typeof e=="boolean"?e:ln(e),t]},useSyncExternalStore:zu,useId:od,useHostTransitionStatus:Kr,useFormState:Ku,useActionState:Ku,useOptimistic:function(e,t){var a=gt();return et!==null?Lu(a,et,e,t):(a.baseState=e,[e,a.queue.dispatch])},useMemoCache:Lr,useCacheRefresh:ud};gd.useEffectEvent=Ju;function Jr(e,t,a,s){t=e.memoizedState,a=a(s,t),a=a==null?t:p({},t,a),e.memoizedState=a,e.lanes===0&&(e.updateQueue.baseState=a)}var Wr={enqueueSetState:function(e,t,a){e=e._reactInternals;var s=ra(),n=dl(s);n.payload=t,a!=null&&(n.callback=a),t=ml(e,n,s),t!==null&&(Jt(t,e,s),Ws(t,e,s))},enqueueReplaceState:function(e,t,a){e=e._reactInternals;var s=ra(),n=dl(s);n.tag=1,n.payload=t,a!=null&&(n.callback=a),t=ml(e,n,s),t!==null&&(Jt(t,e,s),Ws(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var a=ra(),s=dl(a);s.tag=2,t!=null&&(s.callback=t),t=ml(e,s,a),t!==null&&(Jt(t,e,a),Ws(t,e,a))}};function xd(e,t,a,s,n,r,u){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(s,r,u):t.prototype&&t.prototype.isPureReactComponent?!Vs(a,s)||!Vs(n,r):!0}function bd(e,t,a,s){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(a,s),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(a,s),t.state!==e&&Wr.enqueueReplaceState(t,t.state,null)}function Yl(e,t){var a=t;if("ref"in t){a={};for(var s in t)s!=="ref"&&(a[s]=t[s])}if(e=e.defaultProps){a===t&&(a=p({},a));for(var n in e)a[n]===void 0&&(a[n]=e[n])}return a}function yd(e){Yn(e)}function pd(e){console.error(e)}function vd(e){Yn(e)}function di(e,t){try{var a=e.onUncaughtError;a(t.value,{componentStack:t.stack})}catch(s){setTimeout(function(){throw s})}}function Nd(e,t,a){try{var s=e.onCaughtError;s(a.value,{componentStack:a.stack,errorBoundary:t.tag===1?t.stateNode:null})}catch(n){setTimeout(function(){throw n})}}function ec(e,t,a){return a=dl(a),a.tag=3,a.payload={element:null},a.callback=function(){di(e,t)},a}function jd(e){return e=dl(e),e.tag=3,e}function Sd(e,t,a,s){var n=a.type.getDerivedStateFromError;if(typeof n=="function"){var r=s.value;e.payload=function(){return n(r)},e.callback=function(){Nd(t,a,s)}}var u=a.stateNode;u!==null&&typeof u.componentDidCatch=="function"&&(e.callback=function(){Nd(t,a,s),typeof n!="function"&&(yl===null?yl=new Set([this]):yl.add(this));var y=s.stack;this.componentDidCatch(s.value,{componentStack:y!==null?y:""})})}function ch(e,t,a,s,n){if(a.flags|=32768,s!==null&&typeof s=="object"&&typeof s.then=="function"){if(t=a.alternate,t!==null&&ds(t,a,n,!0),a=la.current,a!==null){switch(a.tag){case 31:case 13:return ba===null?Si():a.alternate===null&&ut===0&&(ut=3),a.flags&=-257,a.flags|=65536,a.lanes=n,s===Jn?a.flags|=16384:(t=a.updateQueue,t===null?a.updateQueue=new Set([s]):t.add(s),Tc(e,s,n)),!1;case 22:return a.flags|=65536,s===Jn?a.flags|=16384:(t=a.updateQueue,t===null?(t={transitions:null,markerInstances:null,retryQueue:new Set([s])},a.updateQueue=t):(a=t.retryQueue,a===null?t.retryQueue=new Set([s]):a.add(s)),Tc(e,s,n)),!1}throw Error(o(435,a.tag))}return Tc(e,s,n),Si(),!1}if(Le)return t=la.current,t!==null?((t.flags&65536)===0&&(t.flags|=256),t.flags|=65536,t.lanes=n,s!==pr&&(e=Error(o(422),{cause:s}),Ps(fa(e,a)))):(s!==pr&&(t=Error(o(423),{cause:s}),Ps(fa(t,a))),e=e.current.alternate,e.flags|=65536,n&=-n,e.lanes|=n,s=fa(s,a),n=ec(e.stateNode,s,n),Cr(e,n),ut!==4&&(ut=2)),!1;var r=Error(o(520),{cause:s});if(r=fa(r,a),hn===null?hn=[r]:hn.push(r),ut!==4&&(ut=2),t===null)return!0;s=fa(s,a),a=t;do{switch(a.tag){case 3:return a.flags|=65536,e=n&-n,a.lanes|=e,e=ec(a.stateNode,s,e),Cr(a,e),!1;case 1:if(t=a.type,r=a.stateNode,(a.flags&128)===0&&(typeof t.getDerivedStateFromError=="function"||r!==null&&typeof r.componentDidCatch=="function"&&(yl===null||!yl.has(r))))return a.flags|=65536,n&=-n,a.lanes|=n,n=jd(n),Sd(n,e,a,s),Cr(a,n),!1}a=a.return}while(a!==null);return!1}var tc=Error(o(461)),St=!1;function kt(e,t,a,s){t.child=e===null?Au(t,null,a,s):Ll(t,e.child,a,s)}function wd(e,t,a,s,n){a=a.render;var r=t.ref;if("ref"in s){var u={};for(var y in s)y!=="ref"&&(u[y]=s[y])}else u=s;return _l(t),s=_r(e,t,a,u,r,n),y=qr(),e!==null&&!St?(Ur(e,t,n),Za(e,t,n)):(Le&&y&&br(t),t.flags|=1,kt(e,t,s,n),t.child)}function Td(e,t,a,s,n){if(e===null){var r=a.type;return typeof r=="function"&&!hr(r)&&r.defaultProps===void 0&&a.compare===null?(t.tag=15,t.type=r,Md(e,t,r,s,n)):(e=Zn(a.type,null,s,t,t.mode,n),e.ref=t.ref,e.return=t,t.child=e)}if(r=e.child,!oc(e,n)){var u=r.memoizedProps;if(a=a.compare,a=a!==null?a:Vs,a(u,s)&&e.ref===t.ref)return Za(e,t,n)}return t.flags|=1,e=La(r,s),e.ref=t.ref,e.return=t,t.child=e}function Md(e,t,a,s,n){if(e!==null){var r=e.memoizedProps;if(Vs(r,s)&&e.ref===t.ref)if(St=!1,t.pendingProps=s=r,oc(e,n))(e.flags&131072)!==0&&(St=!0);else return t.lanes=e.lanes,Za(e,t,n)}return ac(e,t,a,s,n)}function Ad(e,t,a,s){var n=s.children,r=e!==null?e.memoizedState:null;if(e===null&&t.stateNode===null&&(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),s.mode==="hidden"){if((t.flags&128)!==0){if(r=r!==null?r.baseLanes|a:a,e!==null){for(s=t.child=e.child,n=0;s!==null;)n=n|s.lanes|s.childLanes,s=s.sibling;s=n&~r}else s=0,t.child=null;return Ed(e,t,r,a,s)}if((a&536870912)!==0)t.memoizedState={baseLanes:0,cachePool:null},e!==null&&In(t,r!==null?r.cachePool:null),r!==null?Cu(t,r):Or(),Bu(t);else return s=t.lanes=536870912,Ed(e,t,r!==null?r.baseLanes|a:a,a,s)}else r!==null?(In(t,r.cachePool),Cu(t,r),hl(),t.memoizedState=null):(e!==null&&In(t,null),Or(),hl());return kt(e,t,n,a),t.child}function rn(e,t){return e!==null&&e.tag===22||t.stateNode!==null||(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),t.sibling}function Ed(e,t,a,s,n){var r=Mr();return r=r===null?null:{parent:Nt._currentValue,pool:r},t.memoizedState={baseLanes:a,cachePool:r},e!==null&&In(t,null),Or(),Bu(t),e!==null&&ds(e,t,s,!0),t.childLanes=n,null}function mi(e,t){return t=hi({mode:t.mode,children:t.children},e.mode),t.ref=e.ref,e.child=t,t.return=e,t}function Rd(e,t,a){return Ll(t,e.child,null,a),e=mi(t,t.pendingProps),e.flags|=2,sa(t),t.memoizedState=null,e}function oh(e,t,a){var s=t.pendingProps,n=(t.flags&128)!==0;if(t.flags&=-129,e===null){if(Le){if(s.mode==="hidden")return e=mi(t,s),t.lanes=536870912,rn(null,e);if(zr(t),(e=nt)?(e=Gm(e,xa),e=e!==null&&e.data==="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:il!==null?{id:Aa,overflow:Ea}:null,retryLane:536870912,hydrationErrors:null},a=mu(e),a.return=t,t.child=a,Bt=t,nt=null)):e=null,e===null)throw cl(t);return t.lanes=536870912,null}return mi(t,s)}var r=e.memoizedState;if(r!==null){var u=r.dehydrated;if(zr(t),n)if(t.flags&256)t.flags&=-257,t=Rd(e,t,a);else if(t.memoizedState!==null)t.child=e.child,t.flags|=128,t=null;else throw Error(o(558));else if(St||ds(e,t,a,!1),n=(a&e.childLanes)!==0,St||n){if(s=st,s!==null&&(u=Ie(s,a),u!==0&&u!==r.retryLane))throw r.retryLane=u,Ol(e,u),Jt(s,e,u),tc;Si(),t=Rd(e,t,a)}else e=r.treeContext,nt=ya(u.nextSibling),Bt=t,Le=!0,rl=null,xa=!1,e!==null&&gu(t,e),t=mi(t,s),t.flags|=4096;return t}return e=La(e.child,{mode:s.mode,children:s.children}),e.ref=t.ref,t.child=e,e.return=t,e}function fi(e,t){var a=t.ref;if(a===null)e!==null&&e.ref!==null&&(t.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(o(284));(e===null||e.ref!==a)&&(t.flags|=4194816)}}function ac(e,t,a,s,n){return _l(t),a=_r(e,t,a,s,void 0,n),s=qr(),e!==null&&!St?(Ur(e,t,n),Za(e,t,n)):(Le&&s&&br(t),t.flags|=1,kt(e,t,a,n),t.child)}function Cd(e,t,a,s,n,r){return _l(t),t.updateQueue=null,a=ku(t,s,a,n),Ou(e),s=qr(),e!==null&&!St?(Ur(e,t,r),Za(e,t,r)):(Le&&s&&br(t),t.flags|=1,kt(e,t,a,r),t.child)}function Bd(e,t,a,s,n){if(_l(t),t.stateNode===null){var r=rs,u=a.contextType;typeof u=="object"&&u!==null&&(r=Ot(u)),r=new a(s,r),t.memoizedState=r.state!==null&&r.state!==void 0?r.state:null,r.updater=Wr,t.stateNode=r,r._reactInternals=t,r=t.stateNode,r.props=s,r.state=t.memoizedState,r.refs={},Er(t),u=a.contextType,r.context=typeof u=="object"&&u!==null?Ot(u):rs,r.state=t.memoizedState,u=a.getDerivedStateFromProps,typeof u=="function"&&(Jr(t,a,u,s),r.state=t.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof r.getSnapshotBeforeUpdate=="function"||typeof r.UNSAFE_componentWillMount!="function"&&typeof r.componentWillMount!="function"||(u=r.state,typeof r.componentWillMount=="function"&&r.componentWillMount(),typeof r.UNSAFE_componentWillMount=="function"&&r.UNSAFE_componentWillMount(),u!==r.state&&Wr.enqueueReplaceState(r,r.state,null),tn(t,s,r,n),en(),r.state=t.memoizedState),typeof r.componentDidMount=="function"&&(t.flags|=4194308),s=!0}else if(e===null){r=t.stateNode;var y=t.memoizedProps,T=Yl(a,y);r.props=T;var U=r.context,Z=a.contextType;u=rs,typeof Z=="object"&&Z!==null&&(u=Ot(Z));var ee=a.getDerivedStateFromProps;Z=typeof ee=="function"||typeof r.getSnapshotBeforeUpdate=="function",y=t.pendingProps!==y,Z||typeof r.UNSAFE_componentWillReceiveProps!="function"&&typeof r.componentWillReceiveProps!="function"||(y||U!==u)&&bd(t,r,s,u),ul=!1;var L=t.memoizedState;r.state=L,tn(t,s,r,n),en(),U=t.memoizedState,y||L!==U||ul?(typeof ee=="function"&&(Jr(t,a,ee,s),U=t.memoizedState),(T=ul||xd(t,a,T,s,L,U,u))?(Z||typeof r.UNSAFE_componentWillMount!="function"&&typeof r.componentWillMount!="function"||(typeof r.componentWillMount=="function"&&r.componentWillMount(),typeof r.UNSAFE_componentWillMount=="function"&&r.UNSAFE_componentWillMount()),typeof r.componentDidMount=="function"&&(t.flags|=4194308)):(typeof r.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=s,t.memoizedState=U),r.props=s,r.state=U,r.context=u,s=T):(typeof r.componentDidMount=="function"&&(t.flags|=4194308),s=!1)}else{r=t.stateNode,Rr(e,t),u=t.memoizedProps,Z=Yl(a,u),r.props=Z,ee=t.pendingProps,L=r.context,U=a.contextType,T=rs,typeof U=="object"&&U!==null&&(T=Ot(U)),y=a.getDerivedStateFromProps,(U=typeof y=="function"||typeof r.getSnapshotBeforeUpdate=="function")||typeof r.UNSAFE_componentWillReceiveProps!="function"&&typeof r.componentWillReceiveProps!="function"||(u!==ee||L!==T)&&bd(t,r,s,T),ul=!1,L=t.memoizedState,r.state=L,tn(t,s,r,n),en();var Q=t.memoizedState;u!==ee||L!==Q||ul||e!==null&&e.dependencies!==null&&Pn(e.dependencies)?(typeof y=="function"&&(Jr(t,a,y,s),Q=t.memoizedState),(Z=ul||xd(t,a,Z,s,L,Q,T)||e!==null&&e.dependencies!==null&&Pn(e.dependencies))?(U||typeof r.UNSAFE_componentWillUpdate!="function"&&typeof r.componentWillUpdate!="function"||(typeof r.componentWillUpdate=="function"&&r.componentWillUpdate(s,Q,T),typeof r.UNSAFE_componentWillUpdate=="function"&&r.UNSAFE_componentWillUpdate(s,Q,T)),typeof r.componentDidUpdate=="function"&&(t.flags|=4),typeof r.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof r.componentDidUpdate!="function"||u===e.memoizedProps&&L===e.memoizedState||(t.flags|=4),typeof r.getSnapshotBeforeUpdate!="function"||u===e.memoizedProps&&L===e.memoizedState||(t.flags|=1024),t.memoizedProps=s,t.memoizedState=Q),r.props=s,r.state=Q,r.context=T,s=Z):(typeof r.componentDidUpdate!="function"||u===e.memoizedProps&&L===e.memoizedState||(t.flags|=4),typeof r.getSnapshotBeforeUpdate!="function"||u===e.memoizedProps&&L===e.memoizedState||(t.flags|=1024),s=!1)}return r=s,fi(e,t),s=(t.flags&128)!==0,r||s?(r=t.stateNode,a=s&&typeof a.getDerivedStateFromError!="function"?null:r.render(),t.flags|=1,e!==null&&s?(t.child=Ll(t,e.child,null,n),t.child=Ll(t,null,a,n)):kt(e,t,a,n),t.memoizedState=r.state,e=t.child):e=Za(e,t,n),e}function Od(e,t,a,s){return zl(),t.flags|=256,kt(e,t,a,s),t.child}var lc={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function sc(e){return{baseLanes:e,cachePool:Nu()}}function nc(e,t,a){return e=e!==null?e.childLanes&~a:0,t&&(e|=ia),e}function kd(e,t,a){var s=t.pendingProps,n=!1,r=(t.flags&128)!==0,u;if((u=r)||(u=e!==null&&e.memoizedState===null?!1:(ht.current&2)!==0),u&&(n=!0,t.flags&=-129),u=(t.flags&32)!==0,t.flags&=-33,e===null){if(Le){if(n?fl(t):hl(),(e=nt)?(e=Gm(e,xa),e=e!==null&&e.data!=="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:il!==null?{id:Aa,overflow:Ea}:null,retryLane:536870912,hydrationErrors:null},a=mu(e),a.return=t,t.child=a,Bt=t,nt=null)):e=null,e===null)throw cl(t);return Gc(e)?t.lanes=32:t.lanes=536870912,null}var y=s.children;return s=s.fallback,n?(hl(),n=t.mode,y=hi({mode:"hidden",children:y},n),s=kl(s,n,a,null),y.return=t,s.return=t,y.sibling=s,t.child=y,s=t.child,s.memoizedState=sc(a),s.childLanes=nc(e,u,a),t.memoizedState=lc,rn(null,s)):(fl(t),ic(t,y))}var T=e.memoizedState;if(T!==null&&(y=T.dehydrated,y!==null)){if(r)t.flags&256?(fl(t),t.flags&=-257,t=rc(e,t,a)):t.memoizedState!==null?(hl(),t.child=e.child,t.flags|=128,t=null):(hl(),y=s.fallback,n=t.mode,s=hi({mode:"visible",children:s.children},n),y=kl(y,n,a,null),y.flags|=2,s.return=t,y.return=t,s.sibling=y,t.child=s,Ll(t,e.child,null,a),s=t.child,s.memoizedState=sc(a),s.childLanes=nc(e,u,a),t.memoizedState=lc,t=rn(null,s));else if(fl(t),Gc(y)){if(u=y.nextSibling&&y.nextSibling.dataset,u)var U=u.dgst;u=U,s=Error(o(419)),s.stack="",s.digest=u,Ps({value:s,source:null,stack:null}),t=rc(e,t,a)}else if(St||ds(e,t,a,!1),u=(a&e.childLanes)!==0,St||u){if(u=st,u!==null&&(s=Ie(u,a),s!==0&&s!==T.retryLane))throw T.retryLane=s,Ol(e,s),Jt(u,e,s),tc;Lc(y)||Si(),t=rc(e,t,a)}else Lc(y)?(t.flags|=192,t.child=e.child,t=null):(e=T.treeContext,nt=ya(y.nextSibling),Bt=t,Le=!0,rl=null,xa=!1,e!==null&&gu(t,e),t=ic(t,s.children),t.flags|=4096);return t}return n?(hl(),y=s.fallback,n=t.mode,T=e.child,U=T.sibling,s=La(T,{mode:"hidden",children:s.children}),s.subtreeFlags=T.subtreeFlags&65011712,U!==null?y=La(U,y):(y=kl(y,n,a,null),y.flags|=2),y.return=t,s.return=t,s.sibling=y,t.child=s,rn(null,s),s=t.child,y=e.child.memoizedState,y===null?y=sc(a):(n=y.cachePool,n!==null?(T=Nt._currentValue,n=n.parent!==T?{parent:T,pool:T}:n):n=Nu(),y={baseLanes:y.baseLanes|a,cachePool:n}),s.memoizedState=y,s.childLanes=nc(e,u,a),t.memoizedState=lc,rn(e.child,s)):(fl(t),a=e.child,e=a.sibling,a=La(a,{mode:"visible",children:s.children}),a.return=t,a.sibling=null,e!==null&&(u=t.deletions,u===null?(t.deletions=[e],t.flags|=16):u.push(e)),t.child=a,t.memoizedState=null,a)}function ic(e,t){return t=hi({mode:"visible",children:t},e.mode),t.return=e,e.child=t}function hi(e,t){return e=aa(22,e,null,t),e.lanes=0,e}function rc(e,t,a){return Ll(t,e.child,null,a),e=ic(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function zd(e,t,a){e.lanes|=t;var s=e.alternate;s!==null&&(s.lanes|=t),jr(e.return,t,a)}function cc(e,t,a,s,n,r){var u=e.memoizedState;u===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:s,tail:a,tailMode:n,treeForkCount:r}:(u.isBackwards=t,u.rendering=null,u.renderingStartTime=0,u.last=s,u.tail=a,u.tailMode=n,u.treeForkCount=r)}function Dd(e,t,a){var s=t.pendingProps,n=s.revealOrder,r=s.tail;s=s.children;var u=ht.current,y=(u&2)!==0;if(y?(u=u&1|2,t.flags|=128):u&=1,de(ht,u),kt(e,t,s,a),s=Le?$s:0,!y&&e!==null&&(e.flags&128)!==0)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&zd(e,a,t);else if(e.tag===19)zd(e,a,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(n){case"forwards":for(a=t.child,n=null;a!==null;)e=a.alternate,e!==null&&ai(e)===null&&(n=a),a=a.sibling;a=n,a===null?(n=t.child,t.child=null):(n=a.sibling,a.sibling=null),cc(t,!1,n,a,r,s);break;case"backwards":case"unstable_legacy-backwards":for(a=null,n=t.child,t.child=null;n!==null;){if(e=n.alternate,e!==null&&ai(e)===null){t.child=n;break}e=n.sibling,n.sibling=a,a=n,n=e}cc(t,!0,a,null,r,s);break;case"together":cc(t,!1,null,null,void 0,s);break;default:t.memoizedState=null}return t.child}function Za(e,t,a){if(e!==null&&(t.dependencies=e.dependencies),bl|=t.lanes,(a&t.childLanes)===0)if(e!==null){if(ds(e,t,a,!1),(a&t.childLanes)===0)return null}else return null;if(e!==null&&t.child!==e.child)throw Error(o(153));if(t.child!==null){for(e=t.child,a=La(e,e.pendingProps),t.child=a,a.return=t;e.sibling!==null;)e=e.sibling,a=a.sibling=La(e,e.pendingProps),a.return=t;a.sibling=null}return t.child}function oc(e,t){return(e.lanes&t)!==0?!0:(e=e.dependencies,!!(e!==null&&Pn(e)))}function uh(e,t,a){switch(t.tag){case 3:lt(t,t.stateNode.containerInfo),ol(t,Nt,e.memoizedState.cache),zl();break;case 27:case 5:Zt(t);break;case 4:lt(t,t.stateNode.containerInfo);break;case 10:ol(t,t.type,t.memoizedProps.value);break;case 31:if(t.memoizedState!==null)return t.flags|=128,zr(t),null;break;case 13:var s=t.memoizedState;if(s!==null)return s.dehydrated!==null?(fl(t),t.flags|=128,null):(a&t.child.childLanes)!==0?kd(e,t,a):(fl(t),e=Za(e,t,a),e!==null?e.sibling:null);fl(t);break;case 19:var n=(e.flags&128)!==0;if(s=(a&t.childLanes)!==0,s||(ds(e,t,a,!1),s=(a&t.childLanes)!==0),n){if(s)return Dd(e,t,a);t.flags|=128}if(n=t.memoizedState,n!==null&&(n.rendering=null,n.tail=null,n.lastEffect=null),de(ht,ht.current),s)break;return null;case 22:return t.lanes=0,Ad(e,t,a,t.pendingProps);case 24:ol(t,Nt,e.memoizedState.cache)}return Za(e,t,a)}function _d(e,t,a){if(e!==null)if(e.memoizedProps!==t.pendingProps)St=!0;else{if(!oc(e,a)&&(t.flags&128)===0)return St=!1,uh(e,t,a);St=(e.flags&131072)!==0}else St=!1,Le&&(t.flags&1048576)!==0&&hu(t,$s,t.index);switch(t.lanes=0,t.tag){case 16:e:{var s=t.pendingProps;if(e=Ul(t.elementType),t.type=e,typeof e=="function")hr(e)?(s=Yl(e,s),t.tag=1,t=Bd(null,t,e,s,a)):(t.tag=0,t=ac(null,t,e,s,a));else{if(e!=null){var n=e.$$typeof;if(n===W){t.tag=11,t=wd(null,t,e,s,a);break e}else if(n===R){t.tag=14,t=Td(null,t,e,s,a);break e}}throw t=fe(e)||e,Error(o(306,t,""))}}return t;case 0:return ac(e,t,t.type,t.pendingProps,a);case 1:return s=t.type,n=Yl(s,t.pendingProps),Bd(e,t,s,n,a);case 3:e:{if(lt(t,t.stateNode.containerInfo),e===null)throw Error(o(387));s=t.pendingProps;var r=t.memoizedState;n=r.element,Rr(e,t),tn(t,s,null,a);var u=t.memoizedState;if(s=u.cache,ol(t,Nt,s),s!==r.cache&&Sr(t,[Nt],a,!0),en(),s=u.element,r.isDehydrated)if(r={element:s,isDehydrated:!1,cache:u.cache},t.updateQueue.baseState=r,t.memoizedState=r,t.flags&256){t=Od(e,t,s,a);break e}else if(s!==n){n=fa(Error(o(424)),t),Ps(n),t=Od(e,t,s,a);break e}else for(e=t.stateNode.containerInfo,e.nodeType===9?e=e.body:e=e.nodeName==="HTML"?e.ownerDocument.body:e,nt=ya(e.firstChild),Bt=t,Le=!0,rl=null,xa=!0,a=Au(t,null,s,a),t.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling;else{if(zl(),s===n){t=Za(e,t,a);break e}kt(e,t,s,a)}t=t.child}return t;case 26:return fi(e,t),e===null?(a=$m(t.type,null,t.pendingProps,null))?t.memoizedState=a:Le||(a=t.type,e=t.pendingProps,s=Ci(Ee.current).createElement(a),s[He]=t,s[pt]=e,zt(s,a,e),ft(s),t.stateNode=s):t.memoizedState=$m(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return Zt(t),e===null&&Le&&(s=t.stateNode=Qm(t.type,t.pendingProps,Ee.current),Bt=t,xa=!0,n=nt,jl(t.type)?(Yc=n,nt=ya(s.firstChild)):nt=n),kt(e,t,t.pendingProps.children,a),fi(e,t),e===null&&(t.flags|=4194304),t.child;case 5:return e===null&&Le&&((n=s=nt)&&(s=Lh(s,t.type,t.pendingProps,xa),s!==null?(t.stateNode=s,Bt=t,nt=ya(s.firstChild),xa=!1,n=!0):n=!1),n||cl(t)),Zt(t),n=t.type,r=t.pendingProps,u=e!==null?e.memoizedProps:null,s=r.children,qc(n,r)?s=null:u!==null&&qc(n,u)&&(t.flags|=32),t.memoizedState!==null&&(n=_r(e,t,th,null,null,a),jn._currentValue=n),fi(e,t),kt(e,t,s,a),t.child;case 6:return e===null&&Le&&((e=a=nt)&&(a=Gh(a,t.pendingProps,xa),a!==null?(t.stateNode=a,Bt=t,nt=null,e=!0):e=!1),e||cl(t)),null;case 13:return kd(e,t,a);case 4:return lt(t,t.stateNode.containerInfo),s=t.pendingProps,e===null?t.child=Ll(t,null,s,a):kt(e,t,s,a),t.child;case 11:return wd(e,t,t.type,t.pendingProps,a);case 7:return kt(e,t,t.pendingProps,a),t.child;case 8:return kt(e,t,t.pendingProps.children,a),t.child;case 12:return kt(e,t,t.pendingProps.children,a),t.child;case 10:return s=t.pendingProps,ol(t,t.type,s.value),kt(e,t,s.children,a),t.child;case 9:return n=t.type._context,s=t.pendingProps.children,_l(t),n=Ot(n),s=s(n),t.flags|=1,kt(e,t,s,a),t.child;case 14:return Td(e,t,t.type,t.pendingProps,a);case 15:return Md(e,t,t.type,t.pendingProps,a);case 19:return Dd(e,t,a);case 31:return oh(e,t,a);case 22:return Ad(e,t,a,t.pendingProps);case 24:return _l(t),s=Ot(Nt),e===null?(n=Mr(),n===null&&(n=st,r=wr(),n.pooledCache=r,r.refCount++,r!==null&&(n.pooledCacheLanes|=a),n=r),t.memoizedState={parent:s,cache:n},Er(t),ol(t,Nt,n)):((e.lanes&a)!==0&&(Rr(e,t),tn(t,null,null,a),en()),n=e.memoizedState,r=t.memoizedState,n.parent!==s?(n={parent:s,cache:s},t.memoizedState=n,t.lanes===0&&(t.memoizedState=t.updateQueue.baseState=n),ol(t,Nt,s)):(s=r.cache,ol(t,Nt,s),s!==n.cache&&Sr(t,[Nt],a,!0))),kt(e,t,t.pendingProps.children,a),t.child;case 29:throw t.pendingProps}throw Error(o(156,t.tag))}function $a(e){e.flags|=4}function uc(e,t,a,s,n){if((t=(e.mode&32)!==0)&&(t=!1),t){if(e.flags|=16777216,(n&335544128)===n)if(e.stateNode.complete)e.flags|=8192;else if(om())e.flags|=8192;else throw Hl=Jn,Ar}else e.flags&=-16777217}function qd(e,t){if(t.type!=="stylesheet"||(t.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!Jm(t))if(om())e.flags|=8192;else throw Hl=Jn,Ar}function gi(e,t){t!==null&&(e.flags|=4),e.flags&16384&&(t=e.tag!==22?me():536870912,e.lanes|=t,Ss|=t)}function cn(e,t){if(!Le)switch(e.tailMode){case"hidden":t=e.tail;for(var a=null;t!==null;)t.alternate!==null&&(a=t),t=t.sibling;a===null?e.tail=null:a.sibling=null;break;case"collapsed":a=e.tail;for(var s=null;a!==null;)a.alternate!==null&&(s=a),a=a.sibling;s===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:s.sibling=null}}function it(e){var t=e.alternate!==null&&e.alternate.child===e.child,a=0,s=0;if(t)for(var n=e.child;n!==null;)a|=n.lanes|n.childLanes,s|=n.subtreeFlags&65011712,s|=n.flags&65011712,n.return=e,n=n.sibling;else for(n=e.child;n!==null;)a|=n.lanes|n.childLanes,s|=n.subtreeFlags,s|=n.flags,n.return=e,n=n.sibling;return e.subtreeFlags|=s,e.childLanes=a,t}function dh(e,t,a){var s=t.pendingProps;switch(yr(t),t.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return it(t),null;case 1:return it(t),null;case 3:return a=t.stateNode,s=null,e!==null&&(s=e.memoizedState.cache),t.memoizedState.cache!==s&&(t.flags|=2048),Xa(Nt),ct(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(e===null||e.child===null)&&(us(t)?$a(t):e===null||e.memoizedState.isDehydrated&&(t.flags&256)===0||(t.flags|=1024,vr())),it(t),null;case 26:var n=t.type,r=t.memoizedState;return e===null?($a(t),r!==null?(it(t),qd(t,r)):(it(t),uc(t,n,null,s,a))):r?r!==e.memoizedState?($a(t),it(t),qd(t,r)):(it(t),t.flags&=-16777217):(e=e.memoizedProps,e!==s&&$a(t),it(t),uc(t,n,e,s,a)),null;case 27:if(Ke(t),a=Ee.current,n=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==s&&$a(t);else{if(!s){if(t.stateNode===null)throw Error(o(166));return it(t),null}e=re.current,us(t)?xu(t):(e=Qm(n,s,a),t.stateNode=e,$a(t))}return it(t),null;case 5:if(Ke(t),n=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==s&&$a(t);else{if(!s){if(t.stateNode===null)throw Error(o(166));return it(t),null}if(r=re.current,us(t))xu(t);else{var u=Ci(Ee.current);switch(r){case 1:r=u.createElementNS("http://www.w3.org/2000/svg",n);break;case 2:r=u.createElementNS("http://www.w3.org/1998/Math/MathML",n);break;default:switch(n){case"svg":r=u.createElementNS("http://www.w3.org/2000/svg",n);break;case"math":r=u.createElementNS("http://www.w3.org/1998/Math/MathML",n);break;case"script":r=u.createElement("div"),r.innerHTML="<script><\/script>",r=r.removeChild(r.firstChild);break;case"select":r=typeof s.is=="string"?u.createElement("select",{is:s.is}):u.createElement("select"),s.multiple?r.multiple=!0:s.size&&(r.size=s.size);break;default:r=typeof s.is=="string"?u.createElement(n,{is:s.is}):u.createElement(n)}}r[He]=t,r[pt]=s;e:for(u=t.child;u!==null;){if(u.tag===5||u.tag===6)r.appendChild(u.stateNode);else if(u.tag!==4&&u.tag!==27&&u.child!==null){u.child.return=u,u=u.child;continue}if(u===t)break e;for(;u.sibling===null;){if(u.return===null||u.return===t)break e;u=u.return}u.sibling.return=u.return,u=u.sibling}t.stateNode=r;e:switch(zt(r,n,s),n){case"button":case"input":case"select":case"textarea":s=!!s.autoFocus;break e;case"img":s=!0;break e;default:s=!1}s&&$a(t)}}return it(t),uc(t,t.type,e===null?null:e.memoizedProps,t.pendingProps,a),null;case 6:if(e&&t.stateNode!=null)e.memoizedProps!==s&&$a(t);else{if(typeof s!="string"&&t.stateNode===null)throw Error(o(166));if(e=Ee.current,us(t)){if(e=t.stateNode,a=t.memoizedProps,s=null,n=Bt,n!==null)switch(n.tag){case 27:case 5:s=n.memoizedProps}e[He]=t,e=!!(e.nodeValue===a||s!==null&&s.suppressHydrationWarning===!0||km(e.nodeValue,a)),e||cl(t,!0)}else e=Ci(e).createTextNode(s),e[He]=t,t.stateNode=e}return it(t),null;case 31:if(a=t.memoizedState,e===null||e.memoizedState!==null){if(s=us(t),a!==null){if(e===null){if(!s)throw Error(o(318));if(e=t.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(o(557));e[He]=t}else zl(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;it(t),e=!1}else a=vr(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=a),e=!0;if(!e)return t.flags&256?(sa(t),t):(sa(t),null);if((t.flags&128)!==0)throw Error(o(558))}return it(t),null;case 13:if(s=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(n=us(t),s!==null&&s.dehydrated!==null){if(e===null){if(!n)throw Error(o(318));if(n=t.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(o(317));n[He]=t}else zl(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;it(t),n=!1}else n=vr(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=n),n=!0;if(!n)return t.flags&256?(sa(t),t):(sa(t),null)}return sa(t),(t.flags&128)!==0?(t.lanes=a,t):(a=s!==null,e=e!==null&&e.memoizedState!==null,a&&(s=t.child,n=null,s.alternate!==null&&s.alternate.memoizedState!==null&&s.alternate.memoizedState.cachePool!==null&&(n=s.alternate.memoizedState.cachePool.pool),r=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(r=s.memoizedState.cachePool.pool),r!==n&&(s.flags|=2048)),a!==e&&a&&(t.child.flags|=8192),gi(t,t.updateQueue),it(t),null);case 4:return ct(),e===null&&Oc(t.stateNode.containerInfo),it(t),null;case 10:return Xa(t.type),it(t),null;case 19:if(I(ht),s=t.memoizedState,s===null)return it(t),null;if(n=(t.flags&128)!==0,r=s.rendering,r===null)if(n)cn(s,!1);else{if(ut!==0||e!==null&&(e.flags&128)!==0)for(e=t.child;e!==null;){if(r=ai(e),r!==null){for(t.flags|=128,cn(s,!1),e=r.updateQueue,t.updateQueue=e,gi(t,e),t.subtreeFlags=0,e=a,a=t.child;a!==null;)du(a,e),a=a.sibling;return de(ht,ht.current&1|2),Le&&Ga(t,s.treeForkCount),t.child}e=e.sibling}s.tail!==null&&Oe()>vi&&(t.flags|=128,n=!0,cn(s,!1),t.lanes=4194304)}else{if(!n)if(e=ai(r),e!==null){if(t.flags|=128,n=!0,e=e.updateQueue,t.updateQueue=e,gi(t,e),cn(s,!0),s.tail===null&&s.tailMode==="hidden"&&!r.alternate&&!Le)return it(t),null}else 2*Oe()-s.renderingStartTime>vi&&a!==536870912&&(t.flags|=128,n=!0,cn(s,!1),t.lanes=4194304);s.isBackwards?(r.sibling=t.child,t.child=r):(e=s.last,e!==null?e.sibling=r:t.child=r,s.last=r)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=Oe(),e.sibling=null,a=ht.current,de(ht,n?a&1|2:a&1),Le&&Ga(t,s.treeForkCount),e):(it(t),null);case 22:case 23:return sa(t),kr(),s=t.memoizedState!==null,e!==null?e.memoizedState!==null!==s&&(t.flags|=8192):s&&(t.flags|=8192),s?(a&536870912)!==0&&(t.flags&128)===0&&(it(t),t.subtreeFlags&6&&(t.flags|=8192)):it(t),a=t.updateQueue,a!==null&&gi(t,a.retryQueue),a=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),s=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(s=t.memoizedState.cachePool.pool),s!==a&&(t.flags|=2048),e!==null&&I(ql),null;case 24:return a=null,e!==null&&(a=e.memoizedState.cache),t.memoizedState.cache!==a&&(t.flags|=2048),Xa(Nt),it(t),null;case 25:return null;case 30:return null}throw Error(o(156,t.tag))}function mh(e,t){switch(yr(t),t.tag){case 1:return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Xa(Nt),ct(),e=t.flags,(e&65536)!==0&&(e&128)===0?(t.flags=e&-65537|128,t):null;case 26:case 27:case 5:return Ke(t),null;case 31:if(t.memoizedState!==null){if(sa(t),t.alternate===null)throw Error(o(340));zl()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 13:if(sa(t),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(o(340));zl()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return I(ht),null;case 4:return ct(),null;case 10:return Xa(t.type),null;case 22:case 23:return sa(t),kr(),e!==null&&I(ql),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 24:return Xa(Nt),null;case 25:return null;default:return null}}function Ud(e,t){switch(yr(t),t.tag){case 3:Xa(Nt),ct();break;case 26:case 27:case 5:Ke(t);break;case 4:ct();break;case 31:t.memoizedState!==null&&sa(t);break;case 13:sa(t);break;case 19:I(ht);break;case 10:Xa(t.type);break;case 22:case 23:sa(t),kr(),e!==null&&I(ql);break;case 24:Xa(Nt)}}function on(e,t){try{var a=t.updateQueue,s=a!==null?a.lastEffect:null;if(s!==null){var n=s.next;a=n;do{if((a.tag&e)===e){s=void 0;var r=a.create,u=a.inst;s=r(),u.destroy=s}a=a.next}while(a!==n)}}catch(y){Je(t,t.return,y)}}function gl(e,t,a){try{var s=t.updateQueue,n=s!==null?s.lastEffect:null;if(n!==null){var r=n.next;s=r;do{if((s.tag&e)===e){var u=s.inst,y=u.destroy;if(y!==void 0){u.destroy=void 0,n=t;var T=a,U=y;try{U()}catch(Z){Je(n,T,Z)}}}s=s.next}while(s!==r)}}catch(Z){Je(t,t.return,Z)}}function Hd(e){var t=e.updateQueue;if(t!==null){var a=e.stateNode;try{Ru(t,a)}catch(s){Je(e,e.return,s)}}}function Ld(e,t,a){a.props=Yl(e.type,e.memoizedProps),a.state=e.memoizedState;try{a.componentWillUnmount()}catch(s){Je(e,t,s)}}function un(e,t){try{var a=e.ref;if(a!==null){switch(e.tag){case 26:case 27:case 5:var s=e.stateNode;break;case 30:s=e.stateNode;break;default:s=e.stateNode}typeof a=="function"?e.refCleanup=a(s):a.current=s}}catch(n){Je(e,t,n)}}function Ra(e,t){var a=e.ref,s=e.refCleanup;if(a!==null)if(typeof s=="function")try{s()}catch(n){Je(e,t,n)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(n){Je(e,t,n)}else a.current=null}function Gd(e){var t=e.type,a=e.memoizedProps,s=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":a.autoFocus&&s.focus();break e;case"img":a.src?s.src=a.src:a.srcSet&&(s.srcset=a.srcSet)}}catch(n){Je(e,e.return,n)}}function dc(e,t,a){try{var s=e.stateNode;zh(s,e.type,a,t),s[pt]=t}catch(n){Je(e,e.return,n)}}function Yd(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&jl(e.type)||e.tag===4}function mc(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Yd(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&jl(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function fc(e,t,a){var s=e.tag;if(s===5||s===6)e=e.stateNode,t?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(e,t):(t=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,t.appendChild(e),a=a._reactRootContainer,a!=null||t.onclick!==null||(t.onclick=Ua));else if(s!==4&&(s===27&&jl(e.type)&&(a=e.stateNode,t=null),e=e.child,e!==null))for(fc(e,t,a),e=e.sibling;e!==null;)fc(e,t,a),e=e.sibling}function xi(e,t,a){var s=e.tag;if(s===5||s===6)e=e.stateNode,t?a.insertBefore(e,t):a.appendChild(e);else if(s!==4&&(s===27&&jl(e.type)&&(a=e.stateNode),e=e.child,e!==null))for(xi(e,t,a),e=e.sibling;e!==null;)xi(e,t,a),e=e.sibling}function Xd(e){var t=e.stateNode,a=e.memoizedProps;try{for(var s=e.type,n=t.attributes;n.length;)t.removeAttributeNode(n[0]);zt(t,s,a),t[He]=e,t[pt]=a}catch(r){Je(e,e.return,r)}}var Pa=!1,wt=!1,hc=!1,Qd=typeof WeakSet=="function"?WeakSet:Set,At=null;function fh(e,t){if(e=e.containerInfo,Dc=qi,e=au(e),rr(e)){if("selectionStart"in e)var a={start:e.selectionStart,end:e.selectionEnd};else e:{a=(a=e.ownerDocument)&&a.defaultView||window;var s=a.getSelection&&a.getSelection();if(s&&s.rangeCount!==0){a=s.anchorNode;var n=s.anchorOffset,r=s.focusNode;s=s.focusOffset;try{a.nodeType,r.nodeType}catch{a=null;break e}var u=0,y=-1,T=-1,U=0,Z=0,ee=e,L=null;t:for(;;){for(var Q;ee!==a||n!==0&&ee.nodeType!==3||(y=u+n),ee!==r||s!==0&&ee.nodeType!==3||(T=u+s),ee.nodeType===3&&(u+=ee.nodeValue.length),(Q=ee.firstChild)!==null;)L=ee,ee=Q;for(;;){if(ee===e)break t;if(L===a&&++U===n&&(y=u),L===r&&++Z===s&&(T=u),(Q=ee.nextSibling)!==null)break;ee=L,L=ee.parentNode}ee=Q}a=y===-1||T===-1?null:{start:y,end:T}}else a=null}a=a||{start:0,end:0}}else a=null;for(_c={focusedElem:e,selectionRange:a},qi=!1,At=t;At!==null;)if(t=At,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,At=e;else for(;At!==null;){switch(t=At,r=t.alternate,e=t.flags,t.tag){case 0:if((e&4)!==0&&(e=t.updateQueue,e=e!==null?e.events:null,e!==null))for(a=0;a<e.length;a++)n=e[a],n.ref.impl=n.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&r!==null){e=void 0,a=t,n=r.memoizedProps,r=r.memoizedState,s=a.stateNode;try{var be=Yl(a.type,n);e=s.getSnapshotBeforeUpdate(be,r),s.__reactInternalSnapshotBeforeUpdate=e}catch(we){Je(a,a.return,we)}}break;case 3:if((e&1024)!==0){if(e=t.stateNode.containerInfo,a=e.nodeType,a===9)Hc(e);else if(a===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":Hc(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(o(163))}if(e=t.sibling,e!==null){e.return=t.return,At=e;break}At=t.return}}function Vd(e,t,a){var s=a.flags;switch(a.tag){case 0:case 11:case 15:Ia(e,a),s&4&&on(5,a);break;case 1:if(Ia(e,a),s&4)if(e=a.stateNode,t===null)try{e.componentDidMount()}catch(u){Je(a,a.return,u)}else{var n=Yl(a.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(n,t,e.__reactInternalSnapshotBeforeUpdate)}catch(u){Je(a,a.return,u)}}s&64&&Hd(a),s&512&&un(a,a.return);break;case 3:if(Ia(e,a),s&64&&(e=a.updateQueue,e!==null)){if(t=null,a.child!==null)switch(a.child.tag){case 27:case 5:t=a.child.stateNode;break;case 1:t=a.child.stateNode}try{Ru(e,t)}catch(u){Je(a,a.return,u)}}break;case 27:t===null&&s&4&&Xd(a);case 26:case 5:Ia(e,a),t===null&&s&4&&Gd(a),s&512&&un(a,a.return);break;case 12:Ia(e,a);break;case 31:Ia(e,a),s&4&&Pd(e,a);break;case 13:Ia(e,a),s&4&&Kd(e,a),s&64&&(e=a.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(a=jh.bind(null,a),Yh(e,a))));break;case 22:if(s=a.memoizedState!==null||Pa,!s){t=t!==null&&t.memoizedState!==null||wt,n=Pa;var r=wt;Pa=s,(wt=t)&&!r?Fa(e,a,(a.subtreeFlags&8772)!==0):Ia(e,a),Pa=n,wt=r}break;case 30:break;default:Ia(e,a)}}function Zd(e){var t=e.alternate;t!==null&&(e.alternate=null,Zd(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&qs(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var rt=null,Pt=!1;function Ka(e,t,a){for(a=a.child;a!==null;)$d(e,t,a),a=a.sibling}function $d(e,t,a){if(yt&&typeof yt.onCommitFiberUnmount=="function")try{yt.onCommitFiberUnmount(ka,a)}catch{}switch(a.tag){case 26:wt||Ra(a,t),Ka(e,t,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:wt||Ra(a,t);var s=rt,n=Pt;jl(a.type)&&(rt=a.stateNode,Pt=!1),Ka(e,t,a),pn(a.stateNode),rt=s,Pt=n;break;case 5:wt||Ra(a,t);case 6:if(s=rt,n=Pt,rt=null,Ka(e,t,a),rt=s,Pt=n,rt!==null)if(Pt)try{(rt.nodeType===9?rt.body:rt.nodeName==="HTML"?rt.ownerDocument.body:rt).removeChild(a.stateNode)}catch(r){Je(a,t,r)}else try{rt.removeChild(a.stateNode)}catch(r){Je(a,t,r)}break;case 18:rt!==null&&(Pt?(e=rt,Hm(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,a.stateNode),Bs(e)):Hm(rt,a.stateNode));break;case 4:s=rt,n=Pt,rt=a.stateNode.containerInfo,Pt=!0,Ka(e,t,a),rt=s,Pt=n;break;case 0:case 11:case 14:case 15:gl(2,a,t),wt||gl(4,a,t),Ka(e,t,a);break;case 1:wt||(Ra(a,t),s=a.stateNode,typeof s.componentWillUnmount=="function"&&Ld(a,t,s)),Ka(e,t,a);break;case 21:Ka(e,t,a);break;case 22:wt=(s=wt)||a.memoizedState!==null,Ka(e,t,a),wt=s;break;default:Ka(e,t,a)}}function Pd(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{Bs(e)}catch(a){Je(t,t.return,a)}}}function Kd(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{Bs(e)}catch(a){Je(t,t.return,a)}}function hh(e){switch(e.tag){case 31:case 13:case 19:var t=e.stateNode;return t===null&&(t=e.stateNode=new Qd),t;case 22:return e=e.stateNode,t=e._retryCache,t===null&&(t=e._retryCache=new Qd),t;default:throw Error(o(435,e.tag))}}function bi(e,t){var a=hh(e);t.forEach(function(s){if(!a.has(s)){a.add(s);var n=Sh.bind(null,e,s);s.then(n,n)}})}function Kt(e,t){var a=t.deletions;if(a!==null)for(var s=0;s<a.length;s++){var n=a[s],r=e,u=t,y=u;e:for(;y!==null;){switch(y.tag){case 27:if(jl(y.type)){rt=y.stateNode,Pt=!1;break e}break;case 5:rt=y.stateNode,Pt=!1;break e;case 3:case 4:rt=y.stateNode.containerInfo,Pt=!0;break e}y=y.return}if(rt===null)throw Error(o(160));$d(r,u,n),rt=null,Pt=!1,r=n.alternate,r!==null&&(r.return=null),n.return=null}if(t.subtreeFlags&13886)for(t=t.child;t!==null;)Id(t,e),t=t.sibling}var Sa=null;function Id(e,t){var a=e.alternate,s=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:Kt(t,e),It(e),s&4&&(gl(3,e,e.return),on(3,e),gl(5,e,e.return));break;case 1:Kt(t,e),It(e),s&512&&(wt||a===null||Ra(a,a.return)),s&64&&Pa&&(e=e.updateQueue,e!==null&&(s=e.callbacks,s!==null&&(a=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=a===null?s:a.concat(s))));break;case 26:var n=Sa;if(Kt(t,e),It(e),s&512&&(wt||a===null||Ra(a,a.return)),s&4){var r=a!==null?a.memoizedState:null;if(s=e.memoizedState,a===null)if(s===null)if(e.stateNode===null){e:{s=e.type,a=e.memoizedProps,n=n.ownerDocument||n;t:switch(s){case"title":r=n.getElementsByTagName("title")[0],(!r||r[Mt]||r[He]||r.namespaceURI==="http://www.w3.org/2000/svg"||r.hasAttribute("itemprop"))&&(r=n.createElement(s),n.head.insertBefore(r,n.querySelector("head > title"))),zt(r,s,a),r[He]=e,ft(r),s=r;break e;case"link":var u=Im("link","href",n).get(s+(a.href||""));if(u){for(var y=0;y<u.length;y++)if(r=u[y],r.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&r.getAttribute("rel")===(a.rel==null?null:a.rel)&&r.getAttribute("title")===(a.title==null?null:a.title)&&r.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){u.splice(y,1);break t}}r=n.createElement(s),zt(r,s,a),n.head.appendChild(r);break;case"meta":if(u=Im("meta","content",n).get(s+(a.content||""))){for(y=0;y<u.length;y++)if(r=u[y],r.getAttribute("content")===(a.content==null?null:""+a.content)&&r.getAttribute("name")===(a.name==null?null:a.name)&&r.getAttribute("property")===(a.property==null?null:a.property)&&r.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&r.getAttribute("charset")===(a.charSet==null?null:a.charSet)){u.splice(y,1);break t}}r=n.createElement(s),zt(r,s,a),n.head.appendChild(r);break;default:throw Error(o(468,s))}r[He]=e,ft(r),s=r}e.stateNode=s}else Fm(n,e.type,e.stateNode);else e.stateNode=Km(n,s,e.memoizedProps);else r!==s?(r===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):r.count--,s===null?Fm(n,e.type,e.stateNode):Km(n,s,e.memoizedProps)):s===null&&e.stateNode!==null&&dc(e,e.memoizedProps,a.memoizedProps)}break;case 27:Kt(t,e),It(e),s&512&&(wt||a===null||Ra(a,a.return)),a!==null&&s&4&&dc(e,e.memoizedProps,a.memoizedProps);break;case 5:if(Kt(t,e),It(e),s&512&&(wt||a===null||Ra(a,a.return)),e.flags&32){n=e.stateNode;try{es(n,"")}catch(be){Je(e,e.return,be)}}s&4&&e.stateNode!=null&&(n=e.memoizedProps,dc(e,n,a!==null?a.memoizedProps:n)),s&1024&&(hc=!0);break;case 6:if(Kt(t,e),It(e),s&4){if(e.stateNode===null)throw Error(o(162));s=e.memoizedProps,a=e.stateNode;try{a.nodeValue=s}catch(be){Je(e,e.return,be)}}break;case 3:if(ki=null,n=Sa,Sa=Bi(t.containerInfo),Kt(t,e),Sa=n,It(e),s&4&&a!==null&&a.memoizedState.isDehydrated)try{Bs(t.containerInfo)}catch(be){Je(e,e.return,be)}hc&&(hc=!1,Fd(e));break;case 4:s=Sa,Sa=Bi(e.stateNode.containerInfo),Kt(t,e),It(e),Sa=s;break;case 12:Kt(t,e),It(e);break;case 31:Kt(t,e),It(e),s&4&&(s=e.updateQueue,s!==null&&(e.updateQueue=null,bi(e,s)));break;case 13:Kt(t,e),It(e),e.child.flags&8192&&e.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(pi=Oe()),s&4&&(s=e.updateQueue,s!==null&&(e.updateQueue=null,bi(e,s)));break;case 22:n=e.memoizedState!==null;var T=a!==null&&a.memoizedState!==null,U=Pa,Z=wt;if(Pa=U||n,wt=Z||T,Kt(t,e),wt=Z,Pa=U,It(e),s&8192)e:for(t=e.stateNode,t._visibility=n?t._visibility&-2:t._visibility|1,n&&(a===null||T||Pa||wt||Xl(e)),a=null,t=e;;){if(t.tag===5||t.tag===26){if(a===null){T=a=t;try{if(r=T.stateNode,n)u=r.style,typeof u.setProperty=="function"?u.setProperty("display","none","important"):u.display="none";else{y=T.stateNode;var ee=T.memoizedProps.style,L=ee!=null&&ee.hasOwnProperty("display")?ee.display:null;y.style.display=L==null||typeof L=="boolean"?"":(""+L).trim()}}catch(be){Je(T,T.return,be)}}}else if(t.tag===6){if(a===null){T=t;try{T.stateNode.nodeValue=n?"":T.memoizedProps}catch(be){Je(T,T.return,be)}}}else if(t.tag===18){if(a===null){T=t;try{var Q=T.stateNode;n?Lm(Q,!0):Lm(T.stateNode,!1)}catch(be){Je(T,T.return,be)}}}else if((t.tag!==22&&t.tag!==23||t.memoizedState===null||t===e)&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;a===t&&(a=null),t=t.return}a===t&&(a=null),t.sibling.return=t.return,t=t.sibling}s&4&&(s=e.updateQueue,s!==null&&(a=s.retryQueue,a!==null&&(s.retryQueue=null,bi(e,a))));break;case 19:Kt(t,e),It(e),s&4&&(s=e.updateQueue,s!==null&&(e.updateQueue=null,bi(e,s)));break;case 30:break;case 21:break;default:Kt(t,e),It(e)}}function It(e){var t=e.flags;if(t&2){try{for(var a,s=e.return;s!==null;){if(Yd(s)){a=s;break}s=s.return}if(a==null)throw Error(o(160));switch(a.tag){case 27:var n=a.stateNode,r=mc(e);xi(e,r,n);break;case 5:var u=a.stateNode;a.flags&32&&(es(u,""),a.flags&=-33);var y=mc(e);xi(e,y,u);break;case 3:case 4:var T=a.stateNode.containerInfo,U=mc(e);fc(e,U,T);break;default:throw Error(o(161))}}catch(Z){Je(e,e.return,Z)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function Fd(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var t=e;Fd(t),t.tag===5&&t.flags&1024&&t.stateNode.reset(),e=e.sibling}}function Ia(e,t){if(t.subtreeFlags&8772)for(t=t.child;t!==null;)Vd(e,t.alternate,t),t=t.sibling}function Xl(e){for(e=e.child;e!==null;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:gl(4,t,t.return),Xl(t);break;case 1:Ra(t,t.return);var a=t.stateNode;typeof a.componentWillUnmount=="function"&&Ld(t,t.return,a),Xl(t);break;case 27:pn(t.stateNode);case 26:case 5:Ra(t,t.return),Xl(t);break;case 22:t.memoizedState===null&&Xl(t);break;case 30:Xl(t);break;default:Xl(t)}e=e.sibling}}function Fa(e,t,a){for(a=a&&(t.subtreeFlags&8772)!==0,t=t.child;t!==null;){var s=t.alternate,n=e,r=t,u=r.flags;switch(r.tag){case 0:case 11:case 15:Fa(n,r,a),on(4,r);break;case 1:if(Fa(n,r,a),s=r,n=s.stateNode,typeof n.componentDidMount=="function")try{n.componentDidMount()}catch(U){Je(s,s.return,U)}if(s=r,n=s.updateQueue,n!==null){var y=s.stateNode;try{var T=n.shared.hiddenCallbacks;if(T!==null)for(n.shared.hiddenCallbacks=null,n=0;n<T.length;n++)Eu(T[n],y)}catch(U){Je(s,s.return,U)}}a&&u&64&&Hd(r),un(r,r.return);break;case 27:Xd(r);case 26:case 5:Fa(n,r,a),a&&s===null&&u&4&&Gd(r),un(r,r.return);break;case 12:Fa(n,r,a);break;case 31:Fa(n,r,a),a&&u&4&&Pd(n,r);break;case 13:Fa(n,r,a),a&&u&4&&Kd(n,r);break;case 22:r.memoizedState===null&&Fa(n,r,a),un(r,r.return);break;case 30:break;default:Fa(n,r,a)}t=t.sibling}}function gc(e,t){var a=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),e=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(e=t.memoizedState.cachePool.pool),e!==a&&(e!=null&&e.refCount++,a!=null&&Ks(a))}function xc(e,t){e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&Ks(e))}function wa(e,t,a,s){if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Jd(e,t,a,s),t=t.sibling}function Jd(e,t,a,s){var n=t.flags;switch(t.tag){case 0:case 11:case 15:wa(e,t,a,s),n&2048&&on(9,t);break;case 1:wa(e,t,a,s);break;case 3:wa(e,t,a,s),n&2048&&(e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&Ks(e)));break;case 12:if(n&2048){wa(e,t,a,s),e=t.stateNode;try{var r=t.memoizedProps,u=r.id,y=r.onPostCommit;typeof y=="function"&&y(u,t.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(T){Je(t,t.return,T)}}else wa(e,t,a,s);break;case 31:wa(e,t,a,s);break;case 13:wa(e,t,a,s);break;case 23:break;case 22:r=t.stateNode,u=t.alternate,t.memoizedState!==null?r._visibility&2?wa(e,t,a,s):dn(e,t):r._visibility&2?wa(e,t,a,s):(r._visibility|=2,vs(e,t,a,s,(t.subtreeFlags&10256)!==0||!1)),n&2048&&gc(u,t);break;case 24:wa(e,t,a,s),n&2048&&xc(t.alternate,t);break;default:wa(e,t,a,s)}}function vs(e,t,a,s,n){for(n=n&&((t.subtreeFlags&10256)!==0||!1),t=t.child;t!==null;){var r=e,u=t,y=a,T=s,U=u.flags;switch(u.tag){case 0:case 11:case 15:vs(r,u,y,T,n),on(8,u);break;case 23:break;case 22:var Z=u.stateNode;u.memoizedState!==null?Z._visibility&2?vs(r,u,y,T,n):dn(r,u):(Z._visibility|=2,vs(r,u,y,T,n)),n&&U&2048&&gc(u.alternate,u);break;case 24:vs(r,u,y,T,n),n&&U&2048&&xc(u.alternate,u);break;default:vs(r,u,y,T,n)}t=t.sibling}}function dn(e,t){if(t.subtreeFlags&10256)for(t=t.child;t!==null;){var a=e,s=t,n=s.flags;switch(s.tag){case 22:dn(a,s),n&2048&&gc(s.alternate,s);break;case 24:dn(a,s),n&2048&&xc(s.alternate,s);break;default:dn(a,s)}t=t.sibling}}var mn=8192;function Ns(e,t,a){if(e.subtreeFlags&mn)for(e=e.child;e!==null;)Wd(e,t,a),e=e.sibling}function Wd(e,t,a){switch(e.tag){case 26:Ns(e,t,a),e.flags&mn&&e.memoizedState!==null&&eg(a,Sa,e.memoizedState,e.memoizedProps);break;case 5:Ns(e,t,a);break;case 3:case 4:var s=Sa;Sa=Bi(e.stateNode.containerInfo),Ns(e,t,a),Sa=s;break;case 22:e.memoizedState===null&&(s=e.alternate,s!==null&&s.memoizedState!==null?(s=mn,mn=16777216,Ns(e,t,a),mn=s):Ns(e,t,a));break;default:Ns(e,t,a)}}function em(e){var t=e.alternate;if(t!==null&&(e=t.child,e!==null)){t.child=null;do t=e.sibling,e.sibling=null,e=t;while(e!==null)}}function fn(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var a=0;a<t.length;a++){var s=t[a];At=s,am(s,e)}em(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)tm(e),e=e.sibling}function tm(e){switch(e.tag){case 0:case 11:case 15:fn(e),e.flags&2048&&gl(9,e,e.return);break;case 3:fn(e);break;case 12:fn(e);break;case 22:var t=e.stateNode;e.memoizedState!==null&&t._visibility&2&&(e.return===null||e.return.tag!==13)?(t._visibility&=-3,yi(e)):fn(e);break;default:fn(e)}}function yi(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var a=0;a<t.length;a++){var s=t[a];At=s,am(s,e)}em(e)}for(e=e.child;e!==null;){switch(t=e,t.tag){case 0:case 11:case 15:gl(8,t,t.return),yi(t);break;case 22:a=t.stateNode,a._visibility&2&&(a._visibility&=-3,yi(t));break;default:yi(t)}e=e.sibling}}function am(e,t){for(;At!==null;){var a=At;switch(a.tag){case 0:case 11:case 15:gl(8,a,t);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var s=a.memoizedState.cachePool.pool;s!=null&&s.refCount++}break;case 24:Ks(a.memoizedState.cache)}if(s=a.child,s!==null)s.return=a,At=s;else e:for(a=e;At!==null;){s=At;var n=s.sibling,r=s.return;if(Zd(s),s===a){At=null;break e}if(n!==null){n.return=r,At=n;break e}At=r}}}var gh={getCacheForType:function(e){var t=Ot(Nt),a=t.data.get(e);return a===void 0&&(a=e(),t.data.set(e,a)),a},cacheSignal:function(){return Ot(Nt).controller.signal}},xh=typeof WeakMap=="function"?WeakMap:Map,Pe=0,st=null,ke=null,De=0,Fe=0,na=null,xl=!1,js=!1,bc=!1,Ja=0,ut=0,bl=0,Ql=0,yc=0,ia=0,Ss=0,hn=null,Ft=null,pc=!1,pi=0,lm=0,vi=1/0,Ni=null,yl=null,Tt=0,pl=null,ws=null,Wa=0,vc=0,Nc=null,sm=null,gn=0,jc=null;function ra(){return(Pe&2)!==0&&De!==0?De&-De:z.T!==null?Ec():Rt()}function nm(){if(ia===0)if((De&536870912)===0||Le){var e=Se;Se<<=1,(Se&3932160)===0&&(Se=262144),ia=e}else ia=536870912;return e=la.current,e!==null&&(e.flags|=32),ia}function Jt(e,t,a){(e===st&&(Fe===2||Fe===9)||e.cancelPendingCommit!==null)&&(Ts(e,0),vl(e,De,ia,!1)),Xe(e,a),((Pe&2)===0||e!==st)&&(e===st&&((Pe&2)===0&&(Ql|=a),ut===4&&vl(e,De,ia,!1)),Ca(e))}function im(e,t,a){if((Pe&6)!==0)throw Error(o(327));var s=!a&&(t&127)===0&&(t&e.expiredLanes)===0||ie(e,t),n=s?ph(e,t):wc(e,t,!0),r=s;do{if(n===0){js&&!s&&vl(e,t,0,!1);break}else{if(a=e.current.alternate,r&&!bh(a)){n=wc(e,t,!1),r=!1;continue}if(n===2){if(r=t,e.errorRecoveryDisabledLanes&r)var u=0;else u=e.pendingLanes&-536870913,u=u!==0?u:u&536870912?536870912:0;if(u!==0){t=u;e:{var y=e;n=hn;var T=y.current.memoizedState.isDehydrated;if(T&&(Ts(y,u).flags|=256),u=wc(y,u,!1),u!==2){if(bc&&!T){y.errorRecoveryDisabledLanes|=r,Ql|=r,n=4;break e}r=Ft,Ft=n,r!==null&&(Ft===null?Ft=r:Ft.push.apply(Ft,r))}n=u}if(r=!1,n!==2)continue}}if(n===1){Ts(e,0),vl(e,t,0,!0);break}e:{switch(s=e,r=n,r){case 0:case 1:throw Error(o(345));case 4:if((t&4194048)!==t)break;case 6:vl(s,t,ia,!xl);break e;case 2:Ft=null;break;case 3:case 5:break;default:throw Error(o(329))}if((t&62914560)===t&&(n=pi+300-Oe(),10<n)){if(vl(s,t,ia,!xl),$(s,0,!0)!==0)break e;Wa=t,s.timeoutHandle=qm(rm.bind(null,s,a,Ft,Ni,pc,t,ia,Ql,Ss,xl,r,"Throttled",-0,0),n);break e}rm(s,a,Ft,Ni,pc,t,ia,Ql,Ss,xl,r,null,-0,0)}}break}while(!0);Ca(e)}function rm(e,t,a,s,n,r,u,y,T,U,Z,ee,L,Q){if(e.timeoutHandle=-1,ee=t.subtreeFlags,ee&8192||(ee&16785408)===16785408){ee={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Ua},Wd(t,r,ee);var be=(r&62914560)===r?pi-Oe():(r&4194048)===r?lm-Oe():0;if(be=tg(ee,be),be!==null){Wa=r,e.cancelPendingCommit=be(gm.bind(null,e,t,r,a,s,n,u,y,T,Z,ee,null,L,Q)),vl(e,r,u,!U);return}}gm(e,t,r,a,s,n,u,y,T)}function bh(e){for(var t=e;;){var a=t.tag;if((a===0||a===11||a===15)&&t.flags&16384&&(a=t.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var s=0;s<a.length;s++){var n=a[s],r=n.getSnapshot;n=n.value;try{if(!ta(r(),n))return!1}catch{return!1}}if(a=t.child,t.subtreeFlags&16384&&a!==null)a.return=t,t=a;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function vl(e,t,a,s){t&=~yc,t&=~Ql,e.suspendedLanes|=t,e.pingedLanes&=~t,s&&(e.warmLanes|=t),s=e.expirationTimes;for(var n=t;0<n;){var r=31-K(n),u=1<<r;s[r]=-1,n&=~u}a!==0&&oa(e,a,t)}function ji(){return(Pe&6)===0?(xn(0),!1):!0}function Sc(){if(ke!==null){if(Fe===0)var e=ke.return;else e=ke,Ya=Dl=null,Hr(e),gs=null,Fs=0,e=ke;for(;e!==null;)Ud(e.alternate,e),e=e.return;ke=null}}function Ts(e,t){var a=e.timeoutHandle;a!==-1&&(e.timeoutHandle=-1,qh(a)),a=e.cancelPendingCommit,a!==null&&(e.cancelPendingCommit=null,a()),Wa=0,Sc(),st=e,ke=a=La(e.current,null),De=t,Fe=0,na=null,xl=!1,js=ie(e,t),bc=!1,Ss=ia=yc=Ql=bl=ut=0,Ft=hn=null,pc=!1,(t&8)!==0&&(t|=t&32);var s=e.entangledLanes;if(s!==0)for(e=e.entanglements,s&=t;0<s;){var n=31-K(s),r=1<<n;t|=e[n],s&=~r}return Ja=t,Xn(),a}function cm(e,t){Re=null,z.H=nn,t===hs||t===Fn?(t=wu(),Fe=3):t===Ar?(t=wu(),Fe=4):Fe=t===tc?8:t!==null&&typeof t=="object"&&typeof t.then=="function"?6:1,na=t,ke===null&&(ut=1,di(e,fa(t,e.current)))}function om(){var e=la.current;return e===null?!0:(De&4194048)===De?ba===null:(De&62914560)===De||(De&536870912)!==0?e===ba:!1}function um(){var e=z.H;return z.H=nn,e===null?nn:e}function dm(){var e=z.A;return z.A=gh,e}function Si(){ut=4,xl||(De&4194048)!==De&&la.current!==null||(js=!0),(bl&134217727)===0&&(Ql&134217727)===0||st===null||vl(st,De,ia,!1)}function wc(e,t,a){var s=Pe;Pe|=2;var n=um(),r=dm();(st!==e||De!==t)&&(Ni=null,Ts(e,t)),t=!1;var u=ut;e:do try{if(Fe!==0&&ke!==null){var y=ke,T=na;switch(Fe){case 8:Sc(),u=6;break e;case 3:case 2:case 9:case 6:la.current===null&&(t=!0);var U=Fe;if(Fe=0,na=null,Ms(e,y,T,U),a&&js){u=0;break e}break;default:U=Fe,Fe=0,na=null,Ms(e,y,T,U)}}yh(),u=ut;break}catch(Z){cm(e,Z)}while(!0);return t&&e.shellSuspendCounter++,Ya=Dl=null,Pe=s,z.H=n,z.A=r,ke===null&&(st=null,De=0,Xn()),u}function yh(){for(;ke!==null;)mm(ke)}function ph(e,t){var a=Pe;Pe|=2;var s=um(),n=dm();st!==e||De!==t?(Ni=null,vi=Oe()+500,Ts(e,t)):js=ie(e,t);e:do try{if(Fe!==0&&ke!==null){t=ke;var r=na;t:switch(Fe){case 1:Fe=0,na=null,Ms(e,t,r,1);break;case 2:case 9:if(ju(r)){Fe=0,na=null,fm(t);break}t=function(){Fe!==2&&Fe!==9||st!==e||(Fe=7),Ca(e)},r.then(t,t);break e;case 3:Fe=7;break e;case 4:Fe=5;break e;case 7:ju(r)?(Fe=0,na=null,fm(t)):(Fe=0,na=null,Ms(e,t,r,7));break;case 5:var u=null;switch(ke.tag){case 26:u=ke.memoizedState;case 5:case 27:var y=ke;if(u?Jm(u):y.stateNode.complete){Fe=0,na=null;var T=y.sibling;if(T!==null)ke=T;else{var U=y.return;U!==null?(ke=U,wi(U)):ke=null}break t}}Fe=0,na=null,Ms(e,t,r,5);break;case 6:Fe=0,na=null,Ms(e,t,r,6);break;case 8:Sc(),ut=6;break e;default:throw Error(o(462))}}vh();break}catch(Z){cm(e,Z)}while(!0);return Ya=Dl=null,z.H=s,z.A=n,Pe=a,ke!==null?0:(st=null,De=0,Xn(),ut)}function vh(){for(;ke!==null&&!Ht();)mm(ke)}function mm(e){var t=_d(e.alternate,e,Ja);e.memoizedProps=e.pendingProps,t===null?wi(e):ke=t}function fm(e){var t=e,a=t.alternate;switch(t.tag){case 15:case 0:t=Cd(a,t,t.pendingProps,t.type,void 0,De);break;case 11:t=Cd(a,t,t.pendingProps,t.type.render,t.ref,De);break;case 5:Hr(t);default:Ud(a,t),t=ke=du(t,Ja),t=_d(a,t,Ja)}e.memoizedProps=e.pendingProps,t===null?wi(e):ke=t}function Ms(e,t,a,s){Ya=Dl=null,Hr(t),gs=null,Fs=0;var n=t.return;try{if(ch(e,n,t,a,De)){ut=1,di(e,fa(a,e.current)),ke=null;return}}catch(r){if(n!==null)throw ke=n,r;ut=1,di(e,fa(a,e.current)),ke=null;return}t.flags&32768?(Le||s===1?e=!0:js||(De&536870912)!==0?e=!1:(xl=e=!0,(s===2||s===9||s===3||s===6)&&(s=la.current,s!==null&&s.tag===13&&(s.flags|=16384))),hm(t,e)):wi(t)}function wi(e){var t=e;do{if((t.flags&32768)!==0){hm(t,xl);return}e=t.return;var a=dh(t.alternate,t,Ja);if(a!==null){ke=a;return}if(t=t.sibling,t!==null){ke=t;return}ke=t=e}while(t!==null);ut===0&&(ut=5)}function hm(e,t){do{var a=mh(e.alternate,e);if(a!==null){a.flags&=32767,ke=a;return}if(a=e.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!t&&(e=e.sibling,e!==null)){ke=e;return}ke=e=a}while(e!==null);ut=6,ke=null}function gm(e,t,a,s,n,r,u,y,T){e.cancelPendingCommit=null;do Ti();while(Tt!==0);if((Pe&6)!==0)throw Error(o(327));if(t!==null){if(t===e.current)throw Error(o(177));if(r=t.lanes|t.childLanes,r|=mr,Ye(e,a,r,u,y,T),e===st&&(ke=st=null,De=0),ws=t,pl=e,Wa=a,vc=r,Nc=n,sm=s,(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,wh(Ma,function(){return vm(),null})):(e.callbackNode=null,e.callbackPriority=0),s=(t.flags&13878)!==0,(t.subtreeFlags&13878)!==0||s){s=z.T,z.T=null,n=P.p,P.p=2,u=Pe,Pe|=4;try{fh(e,t,a)}finally{Pe=u,P.p=n,z.T=s}}Tt=1,xm(),bm(),ym()}}function xm(){if(Tt===1){Tt=0;var e=pl,t=ws,a=(t.flags&13878)!==0;if((t.subtreeFlags&13878)!==0||a){a=z.T,z.T=null;var s=P.p;P.p=2;var n=Pe;Pe|=4;try{Id(t,e);var r=_c,u=au(e.containerInfo),y=r.focusedElem,T=r.selectionRange;if(u!==y&&y&&y.ownerDocument&&tu(y.ownerDocument.documentElement,y)){if(T!==null&&rr(y)){var U=T.start,Z=T.end;if(Z===void 0&&(Z=U),"selectionStart"in y)y.selectionStart=U,y.selectionEnd=Math.min(Z,y.value.length);else{var ee=y.ownerDocument||document,L=ee&&ee.defaultView||window;if(L.getSelection){var Q=L.getSelection(),be=y.textContent.length,we=Math.min(T.start,be),at=T.end===void 0?we:Math.min(T.end,be);!Q.extend&&we>at&&(u=at,at=we,we=u);var D=eu(y,we),C=eu(y,at);if(D&&C&&(Q.rangeCount!==1||Q.anchorNode!==D.node||Q.anchorOffset!==D.offset||Q.focusNode!==C.node||Q.focusOffset!==C.offset)){var q=ee.createRange();q.setStart(D.node,D.offset),Q.removeAllRanges(),we>at?(Q.addRange(q),Q.extend(C.node,C.offset)):(q.setEnd(C.node,C.offset),Q.addRange(q))}}}}for(ee=[],Q=y;Q=Q.parentNode;)Q.nodeType===1&&ee.push({element:Q,left:Q.scrollLeft,top:Q.scrollTop});for(typeof y.focus=="function"&&y.focus(),y=0;y<ee.length;y++){var F=ee[y];F.element.scrollLeft=F.left,F.element.scrollTop=F.top}}qi=!!Dc,_c=Dc=null}finally{Pe=n,P.p=s,z.T=a}}e.current=t,Tt=2}}function bm(){if(Tt===2){Tt=0;var e=pl,t=ws,a=(t.flags&8772)!==0;if((t.subtreeFlags&8772)!==0||a){a=z.T,z.T=null;var s=P.p;P.p=2;var n=Pe;Pe|=4;try{Vd(e,t.alternate,t)}finally{Pe=n,P.p=s,z.T=a}}Tt=3}}function ym(){if(Tt===4||Tt===3){Tt=0,ve();var e=pl,t=ws,a=Wa,s=sm;(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?Tt=5:(Tt=0,ws=pl=null,pm(e,e.pendingLanes));var n=e.pendingLanes;if(n===0&&(yl=null),mt(a),t=t.stateNode,yt&&typeof yt.onCommitFiberRoot=="function")try{yt.onCommitFiberRoot(ka,t,void 0,(t.current.flags&128)===128)}catch{}if(s!==null){t=z.T,n=P.p,P.p=2,z.T=null;try{for(var r=e.onRecoverableError,u=0;u<s.length;u++){var y=s[u];r(y.value,{componentStack:y.stack})}}finally{z.T=t,P.p=n}}(Wa&3)!==0&&Ti(),Ca(e),n=e.pendingLanes,(a&261930)!==0&&(n&42)!==0?e===jc?gn++:(gn=0,jc=e):gn=0,xn(0)}}function pm(e,t){(e.pooledCacheLanes&=t)===0&&(t=e.pooledCache,t!=null&&(e.pooledCache=null,Ks(t)))}function Ti(){return xm(),bm(),ym(),vm()}function vm(){if(Tt!==5)return!1;var e=pl,t=vc;vc=0;var a=mt(Wa),s=z.T,n=P.p;try{P.p=32>a?32:a,z.T=null,a=Nc,Nc=null;var r=pl,u=Wa;if(Tt=0,ws=pl=null,Wa=0,(Pe&6)!==0)throw Error(o(331));var y=Pe;if(Pe|=4,tm(r.current),Jd(r,r.current,u,a),Pe=y,xn(0,!1),yt&&typeof yt.onPostCommitFiberRoot=="function")try{yt.onPostCommitFiberRoot(ka,r)}catch{}return!0}finally{P.p=n,z.T=s,pm(e,t)}}function Nm(e,t,a){t=fa(a,t),t=ec(e.stateNode,t,2),e=ml(e,t,2),e!==null&&(Xe(e,2),Ca(e))}function Je(e,t,a){if(e.tag===3)Nm(e,e,a);else for(;t!==null;){if(t.tag===3){Nm(t,e,a);break}else if(t.tag===1){var s=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof s.componentDidCatch=="function"&&(yl===null||!yl.has(s))){e=fa(a,e),a=jd(2),s=ml(t,a,2),s!==null&&(Sd(a,s,t,e),Xe(s,2),Ca(s));break}}t=t.return}}function Tc(e,t,a){var s=e.pingCache;if(s===null){s=e.pingCache=new xh;var n=new Set;s.set(t,n)}else n=s.get(t),n===void 0&&(n=new Set,s.set(t,n));n.has(a)||(bc=!0,n.add(a),e=Nh.bind(null,e,t,a),t.then(e,e))}function Nh(e,t,a){var s=e.pingCache;s!==null&&s.delete(t),e.pingedLanes|=e.suspendedLanes&a,e.warmLanes&=~a,st===e&&(De&a)===a&&(ut===4||ut===3&&(De&62914560)===De&&300>Oe()-pi?(Pe&2)===0&&Ts(e,0):yc|=a,Ss===De&&(Ss=0)),Ca(e)}function jm(e,t){t===0&&(t=me()),e=Ol(e,t),e!==null&&(Xe(e,t),Ca(e))}function jh(e){var t=e.memoizedState,a=0;t!==null&&(a=t.retryLane),jm(e,a)}function Sh(e,t){var a=0;switch(e.tag){case 31:case 13:var s=e.stateNode,n=e.memoizedState;n!==null&&(a=n.retryLane);break;case 19:s=e.stateNode;break;case 22:s=e.stateNode._retryCache;break;default:throw Error(o(314))}s!==null&&s.delete(t),jm(e,a)}function wh(e,t){return Ba(e,t)}var Mi=null,As=null,Mc=!1,Ai=!1,Ac=!1,Nl=0;function Ca(e){e!==As&&e.next===null&&(As===null?Mi=As=e:As=As.next=e),Ai=!0,Mc||(Mc=!0,Mh())}function xn(e,t){if(!Ac&&Ai){Ac=!0;do for(var a=!1,s=Mi;s!==null;){if(e!==0){var n=s.pendingLanes;if(n===0)var r=0;else{var u=s.suspendedLanes,y=s.pingedLanes;r=(1<<31-K(42|e)+1)-1,r&=n&~(u&~y),r=r&201326741?r&201326741|1:r?r|2:0}r!==0&&(a=!0,Mm(s,r))}else r=De,r=$(s,s===st?r:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),(r&3)===0||ie(s,r)||(a=!0,Mm(s,r));s=s.next}while(a);Ac=!1}}function Th(){Sm()}function Sm(){Ai=Mc=!1;var e=0;Nl!==0&&_h()&&(e=Nl);for(var t=Oe(),a=null,s=Mi;s!==null;){var n=s.next,r=wm(s,t);r===0?(s.next=null,a===null?Mi=n:a.next=n,n===null&&(As=a)):(a=s,(e!==0||(r&3)!==0)&&(Ai=!0)),s=n}Tt!==0&&Tt!==5||xn(e),Nl!==0&&(Nl=0)}function wm(e,t){for(var a=e.suspendedLanes,s=e.pingedLanes,n=e.expirationTimes,r=e.pendingLanes&-62914561;0<r;){var u=31-K(r),y=1<<u,T=n[u];T===-1?((y&a)===0||(y&s)!==0)&&(n[u]=ce(y,t)):T<=t&&(e.expiredLanes|=y),r&=~y}if(t=st,a=De,a=$(e,e===t?a:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),s=e.callbackNode,a===0||e===t&&(Fe===2||Fe===9)||e.cancelPendingCommit!==null)return s!==null&&s!==null&&Oa(s),e.callbackNode=null,e.callbackPriority=0;if((a&3)===0||ie(e,a)){if(t=a&-a,t===e.callbackPriority)return t;switch(s!==null&&Oa(s),mt(a)){case 2:case 8:a=bt;break;case 32:a=Ma;break;case 268435456:a=al;break;default:a=Ma}return s=Tm.bind(null,e),a=Ba(a,s),e.callbackPriority=t,e.callbackNode=a,t}return s!==null&&s!==null&&Oa(s),e.callbackPriority=2,e.callbackNode=null,2}function Tm(e,t){if(Tt!==0&&Tt!==5)return e.callbackNode=null,e.callbackPriority=0,null;var a=e.callbackNode;if(Ti()&&e.callbackNode!==a)return null;var s=De;return s=$(e,e===st?s:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),s===0?null:(im(e,s,t),wm(e,Oe()),e.callbackNode!=null&&e.callbackNode===a?Tm.bind(null,e):null)}function Mm(e,t){if(Ti())return null;im(e,t,!0)}function Mh(){Uh(function(){(Pe&6)!==0?Ba(Il,Th):Sm()})}function Ec(){if(Nl===0){var e=ms;e===0&&(e=oe,oe<<=1,(oe&261888)===0&&(oe=256)),Nl=e}return Nl}function Am(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:Dn(""+e)}function Em(e,t){var a=t.ownerDocument.createElement("input");return a.name=t.name,a.value=t.value,e.id&&a.setAttribute("form",e.id),t.parentNode.insertBefore(a,t),e=new FormData(e),a.parentNode.removeChild(a),e}function Ah(e,t,a,s,n){if(t==="submit"&&a&&a.stateNode===n){var r=Am((n[pt]||null).action),u=s.submitter;u&&(t=(t=u[pt]||null)?Am(t.formAction):u.getAttribute("formAction"),t!==null&&(r=t,u=null));var y=new Hn("action","action",null,s,n);e.push({event:y,listeners:[{instance:null,listener:function(){if(s.defaultPrevented){if(Nl!==0){var T=u?Em(n,u):new FormData(n);Pr(a,{pending:!0,data:T,method:n.method,action:r},null,T)}}else typeof r=="function"&&(y.preventDefault(),T=u?Em(n,u):new FormData(n),Pr(a,{pending:!0,data:T,method:n.method,action:r},r,T))},currentTarget:n}]})}}for(var Rc=0;Rc<dr.length;Rc++){var Cc=dr[Rc],Eh=Cc.toLowerCase(),Rh=Cc[0].toUpperCase()+Cc.slice(1);ja(Eh,"on"+Rh)}ja(nu,"onAnimationEnd"),ja(iu,"onAnimationIteration"),ja(ru,"onAnimationStart"),ja("dblclick","onDoubleClick"),ja("focusin","onFocus"),ja("focusout","onBlur"),ja(Vf,"onTransitionRun"),ja(Zf,"onTransitionStart"),ja($f,"onTransitionCancel"),ja(cu,"onTransitionEnd"),Jl("onMouseEnter",["mouseout","mouseover"]),Jl("onMouseLeave",["mouseout","mouseover"]),Jl("onPointerEnter",["pointerout","pointerover"]),Jl("onPointerLeave",["pointerout","pointerover"]),Xt("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Xt("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Xt("onBeforeInput",["compositionend","keypress","textInput","paste"]),Xt("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Xt("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Xt("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var bn="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Ch=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(bn));function Rm(e,t){t=(t&4)!==0;for(var a=0;a<e.length;a++){var s=e[a],n=s.event;s=s.listeners;e:{var r=void 0;if(t)for(var u=s.length-1;0<=u;u--){var y=s[u],T=y.instance,U=y.currentTarget;if(y=y.listener,T!==r&&n.isPropagationStopped())break e;r=y,n.currentTarget=U;try{r(n)}catch(Z){Yn(Z)}n.currentTarget=null,r=T}else for(u=0;u<s.length;u++){if(y=s[u],T=y.instance,U=y.currentTarget,y=y.listener,T!==r&&n.isPropagationStopped())break e;r=y,n.currentTarget=U;try{r(n)}catch(Z){Yn(Z)}n.currentTarget=null,r=T}}}}function ze(e,t){var a=t[Ct];a===void 0&&(a=t[Ct]=new Set);var s=e+"__bubble";a.has(s)||(Cm(t,e,2,!1),a.add(s))}function Bc(e,t,a){var s=0;t&&(s|=4),Cm(a,e,s,t)}var Ei="_reactListening"+Math.random().toString(36).slice(2);function Oc(e){if(!e[Ei]){e[Ei]=!0,va.forEach(function(a){a!=="selectionchange"&&(Ch.has(a)||Bc(a,!1,e),Bc(a,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Ei]||(t[Ei]=!0,Bc("selectionchange",!1,t))}}function Cm(e,t,a,s){switch(n0(t)){case 2:var n=sg;break;case 8:n=ng;break;default:n=$c}a=n.bind(null,t,a,e),n=void 0,!Ji||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(n=!0),s?n!==void 0?e.addEventListener(t,a,{capture:!0,passive:n}):e.addEventListener(t,a,!0):n!==void 0?e.addEventListener(t,a,{passive:n}):e.addEventListener(t,a,!1)}function kc(e,t,a,s,n){var r=s;if((t&1)===0&&(t&2)===0&&s!==null)e:for(;;){if(s===null)return;var u=s.tag;if(u===3||u===4){var y=s.stateNode.containerInfo;if(y===n)break;if(u===4)for(u=s.return;u!==null;){var T=u.tag;if((T===3||T===4)&&u.stateNode.containerInfo===n)return;u=u.return}for(;y!==null;){if(u=Da(y),u===null)return;if(T=u.tag,T===5||T===6||T===26||T===27){s=r=u;continue e}y=y.parentNode}}s=s.return}Do(function(){var U=r,Z=Ii(a),ee=[];e:{var L=ou.get(e);if(L!==void 0){var Q=Hn,be=e;switch(e){case"keypress":if(qn(a)===0)break e;case"keydown":case"keyup":Q=Sf;break;case"focusin":be="focus",Q=ar;break;case"focusout":be="blur",Q=ar;break;case"beforeblur":case"afterblur":Q=ar;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Q=Uo;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Q=df;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Q=Mf;break;case nu:case iu:case ru:Q=hf;break;case cu:Q=Ef;break;case"scroll":case"scrollend":Q=of;break;case"wheel":Q=Cf;break;case"copy":case"cut":case"paste":Q=xf;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Q=Lo;break;case"toggle":case"beforetoggle":Q=Of}var we=(t&4)!==0,at=!we&&(e==="scroll"||e==="scrollend"),D=we?L!==null?L+"Capture":null:L;we=[];for(var C=U,q;C!==null;){var F=C;if(q=F.stateNode,F=F.tag,F!==5&&F!==26&&F!==27||q===null||D===null||(F=Us(C,D),F!=null&&we.push(yn(C,F,q))),at)break;C=C.return}0<we.length&&(L=new Q(L,be,null,a,Z),ee.push({event:L,listeners:we}))}}if((t&7)===0){e:{if(L=e==="mouseover"||e==="pointerover",Q=e==="mouseout"||e==="pointerout",L&&a!==Ki&&(be=a.relatedTarget||a.fromElement)&&(Da(be)||be[vt]))break e;if((Q||L)&&(L=Z.window===Z?Z:(L=Z.ownerDocument)?L.defaultView||L.parentWindow:window,Q?(be=a.relatedTarget||a.toElement,Q=U,be=be?Da(be):null,be!==null&&(at=f(be),we=be.tag,be!==at||we!==5&&we!==27&&we!==6)&&(be=null)):(Q=null,be=U),Q!==be)){if(we=Uo,F="onMouseLeave",D="onMouseEnter",C="mouse",(e==="pointerout"||e==="pointerover")&&(we=Lo,F="onPointerLeave",D="onPointerEnter",C="pointer"),at=Q==null?L:sl(Q),q=be==null?L:sl(be),L=new we(F,C+"leave",Q,a,Z),L.target=at,L.relatedTarget=q,F=null,Da(Z)===U&&(we=new we(D,C+"enter",be,a,Z),we.target=q,we.relatedTarget=at,F=we),at=F,Q&&be)t:{for(we=Bh,D=Q,C=be,q=0,F=D;F;F=we(F))q++;F=0;for(var je=C;je;je=we(je))F++;for(;0<q-F;)D=we(D),q--;for(;0<F-q;)C=we(C),F--;for(;q--;){if(D===C||C!==null&&D===C.alternate){we=D;break t}D=we(D),C=we(C)}we=null}else we=null;Q!==null&&Bm(ee,L,Q,we,!1),be!==null&&at!==null&&Bm(ee,at,be,we,!0)}}e:{if(L=U?sl(U):window,Q=L.nodeName&&L.nodeName.toLowerCase(),Q==="select"||Q==="input"&&L.type==="file")var Qe=Po;else if(Zo(L))if(Ko)Qe=Yf;else{Qe=Lf;var pe=Hf}else Q=L.nodeName,!Q||Q.toLowerCase()!=="input"||L.type!=="checkbox"&&L.type!=="radio"?U&&Pi(U.elementType)&&(Qe=Po):Qe=Gf;if(Qe&&(Qe=Qe(e,U))){$o(ee,Qe,a,Z);break e}pe&&pe(e,L,U),e==="focusout"&&U&&L.type==="number"&&U.memoizedProps.value!=null&&$i(L,"number",L.value)}switch(pe=U?sl(U):window,e){case"focusin":(Zo(pe)||pe.contentEditable==="true")&&(ss=pe,cr=U,Zs=null);break;case"focusout":Zs=cr=ss=null;break;case"mousedown":or=!0;break;case"contextmenu":case"mouseup":case"dragend":or=!1,lu(ee,a,Z);break;case"selectionchange":if(Qf)break;case"keydown":case"keyup":lu(ee,a,Z)}var Ce;if(sr)e:{switch(e){case"compositionstart":var _e="onCompositionStart";break e;case"compositionend":_e="onCompositionEnd";break e;case"compositionupdate":_e="onCompositionUpdate";break e}_e=void 0}else ls?Qo(e,a)&&(_e="onCompositionEnd"):e==="keydown"&&a.keyCode===229&&(_e="onCompositionStart");_e&&(Go&&a.locale!=="ko"&&(ls||_e!=="onCompositionStart"?_e==="onCompositionEnd"&&ls&&(Ce=_o()):(nl=Z,Wi="value"in nl?nl.value:nl.textContent,ls=!0)),pe=Ri(U,_e),0<pe.length&&(_e=new Ho(_e,e,null,a,Z),ee.push({event:_e,listeners:pe}),Ce?_e.data=Ce:(Ce=Vo(a),Ce!==null&&(_e.data=Ce)))),(Ce=zf?Df(e,a):_f(e,a))&&(_e=Ri(U,"onBeforeInput"),0<_e.length&&(pe=new Ho("onBeforeInput","beforeinput",null,a,Z),ee.push({event:pe,listeners:_e}),pe.data=Ce)),Ah(ee,e,U,a,Z)}Rm(ee,t)})}function yn(e,t,a){return{instance:e,listener:t,currentTarget:a}}function Ri(e,t){for(var a=t+"Capture",s=[];e!==null;){var n=e,r=n.stateNode;if(n=n.tag,n!==5&&n!==26&&n!==27||r===null||(n=Us(e,a),n!=null&&s.unshift(yn(e,n,r)),n=Us(e,t),n!=null&&s.push(yn(e,n,r))),e.tag===3)return s;e=e.return}return[]}function Bh(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function Bm(e,t,a,s,n){for(var r=t._reactName,u=[];a!==null&&a!==s;){var y=a,T=y.alternate,U=y.stateNode;if(y=y.tag,T!==null&&T===s)break;y!==5&&y!==26&&y!==27||U===null||(T=U,n?(U=Us(a,r),U!=null&&u.unshift(yn(a,U,T))):n||(U=Us(a,r),U!=null&&u.push(yn(a,U,T)))),a=a.return}u.length!==0&&e.push({event:t,listeners:u})}var Oh=/\r\n?/g,kh=/\u0000|\uFFFD/g;function Om(e){return(typeof e=="string"?e:""+e).replace(Oh,`
`).replace(kh,"")}function km(e,t){return t=Om(t),Om(e)===t}function tt(e,t,a,s,n,r){switch(a){case"children":typeof s=="string"?t==="body"||t==="textarea"&&s===""||es(e,s):(typeof s=="number"||typeof s=="bigint")&&t!=="body"&&es(e,""+s);break;case"className":kn(e,"class",s);break;case"tabIndex":kn(e,"tabindex",s);break;case"dir":case"role":case"viewBox":case"width":case"height":kn(e,a,s);break;case"style":ko(e,s,r);break;case"data":if(t!=="object"){kn(e,"data",s);break}case"src":case"href":if(s===""&&(t!=="a"||a!=="href")){e.removeAttribute(a);break}if(s==null||typeof s=="function"||typeof s=="symbol"||typeof s=="boolean"){e.removeAttribute(a);break}s=Dn(""+s),e.setAttribute(a,s);break;case"action":case"formAction":if(typeof s=="function"){e.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof r=="function"&&(a==="formAction"?(t!=="input"&&tt(e,t,"name",n.name,n,null),tt(e,t,"formEncType",n.formEncType,n,null),tt(e,t,"formMethod",n.formMethod,n,null),tt(e,t,"formTarget",n.formTarget,n,null)):(tt(e,t,"encType",n.encType,n,null),tt(e,t,"method",n.method,n,null),tt(e,t,"target",n.target,n,null)));if(s==null||typeof s=="symbol"||typeof s=="boolean"){e.removeAttribute(a);break}s=Dn(""+s),e.setAttribute(a,s);break;case"onClick":s!=null&&(e.onclick=Ua);break;case"onScroll":s!=null&&ze("scroll",e);break;case"onScrollEnd":s!=null&&ze("scrollend",e);break;case"dangerouslySetInnerHTML":if(s!=null){if(typeof s!="object"||!("__html"in s))throw Error(o(61));if(a=s.__html,a!=null){if(n.children!=null)throw Error(o(60));e.innerHTML=a}}break;case"multiple":e.multiple=s&&typeof s!="function"&&typeof s!="symbol";break;case"muted":e.muted=s&&typeof s!="function"&&typeof s!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(s==null||typeof s=="function"||typeof s=="boolean"||typeof s=="symbol"){e.removeAttribute("xlink:href");break}a=Dn(""+s),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":s!=null&&typeof s!="function"&&typeof s!="symbol"?e.setAttribute(a,""+s):e.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":s&&typeof s!="function"&&typeof s!="symbol"?e.setAttribute(a,""):e.removeAttribute(a);break;case"capture":case"download":s===!0?e.setAttribute(a,""):s!==!1&&s!=null&&typeof s!="function"&&typeof s!="symbol"?e.setAttribute(a,s):e.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":s!=null&&typeof s!="function"&&typeof s!="symbol"&&!isNaN(s)&&1<=s?e.setAttribute(a,s):e.removeAttribute(a);break;case"rowSpan":case"start":s==null||typeof s=="function"||typeof s=="symbol"||isNaN(s)?e.removeAttribute(a):e.setAttribute(a,s);break;case"popover":ze("beforetoggle",e),ze("toggle",e),On(e,"popover",s);break;case"xlinkActuate":qa(e,"http://www.w3.org/1999/xlink","xlink:actuate",s);break;case"xlinkArcrole":qa(e,"http://www.w3.org/1999/xlink","xlink:arcrole",s);break;case"xlinkRole":qa(e,"http://www.w3.org/1999/xlink","xlink:role",s);break;case"xlinkShow":qa(e,"http://www.w3.org/1999/xlink","xlink:show",s);break;case"xlinkTitle":qa(e,"http://www.w3.org/1999/xlink","xlink:title",s);break;case"xlinkType":qa(e,"http://www.w3.org/1999/xlink","xlink:type",s);break;case"xmlBase":qa(e,"http://www.w3.org/XML/1998/namespace","xml:base",s);break;case"xmlLang":qa(e,"http://www.w3.org/XML/1998/namespace","xml:lang",s);break;case"xmlSpace":qa(e,"http://www.w3.org/XML/1998/namespace","xml:space",s);break;case"is":On(e,"is",s);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=rf.get(a)||a,On(e,a,s))}}function zc(e,t,a,s,n,r){switch(a){case"style":ko(e,s,r);break;case"dangerouslySetInnerHTML":if(s!=null){if(typeof s!="object"||!("__html"in s))throw Error(o(61));if(a=s.__html,a!=null){if(n.children!=null)throw Error(o(60));e.innerHTML=a}}break;case"children":typeof s=="string"?es(e,s):(typeof s=="number"||typeof s=="bigint")&&es(e,""+s);break;case"onScroll":s!=null&&ze("scroll",e);break;case"onScrollEnd":s!=null&&ze("scrollend",e);break;case"onClick":s!=null&&(e.onclick=Ua);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Na.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(n=a.endsWith("Capture"),t=a.slice(2,n?a.length-7:void 0),r=e[pt]||null,r=r!=null?r[a]:null,typeof r=="function"&&e.removeEventListener(t,r,n),typeof s=="function")){typeof r!="function"&&r!==null&&(a in e?e[a]=null:e.hasAttribute(a)&&e.removeAttribute(a)),e.addEventListener(t,s,n);break e}a in e?e[a]=s:s===!0?e.setAttribute(a,""):On(e,a,s)}}}function zt(e,t,a){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":ze("error",e),ze("load",e);var s=!1,n=!1,r;for(r in a)if(a.hasOwnProperty(r)){var u=a[r];if(u!=null)switch(r){case"src":s=!0;break;case"srcSet":n=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(o(137,t));default:tt(e,t,r,u,a,null)}}n&&tt(e,t,"srcSet",a.srcSet,a,null),s&&tt(e,t,"src",a.src,a,null);return;case"input":ze("invalid",e);var y=r=u=n=null,T=null,U=null;for(s in a)if(a.hasOwnProperty(s)){var Z=a[s];if(Z!=null)switch(s){case"name":n=Z;break;case"type":u=Z;break;case"checked":T=Z;break;case"defaultChecked":U=Z;break;case"value":r=Z;break;case"defaultValue":y=Z;break;case"children":case"dangerouslySetInnerHTML":if(Z!=null)throw Error(o(137,t));break;default:tt(e,t,s,Z,a,null)}}Ro(e,r,y,T,U,u,n,!1);return;case"select":ze("invalid",e),s=u=r=null;for(n in a)if(a.hasOwnProperty(n)&&(y=a[n],y!=null))switch(n){case"value":r=y;break;case"defaultValue":u=y;break;case"multiple":s=y;default:tt(e,t,n,y,a,null)}t=r,a=u,e.multiple=!!s,t!=null?Wl(e,!!s,t,!1):a!=null&&Wl(e,!!s,a,!0);return;case"textarea":ze("invalid",e),r=n=s=null;for(u in a)if(a.hasOwnProperty(u)&&(y=a[u],y!=null))switch(u){case"value":s=y;break;case"defaultValue":n=y;break;case"children":r=y;break;case"dangerouslySetInnerHTML":if(y!=null)throw Error(o(91));break;default:tt(e,t,u,y,a,null)}Bo(e,s,n,r);return;case"option":for(T in a)a.hasOwnProperty(T)&&(s=a[T],s!=null)&&(T==="selected"?e.selected=s&&typeof s!="function"&&typeof s!="symbol":tt(e,t,T,s,a,null));return;case"dialog":ze("beforetoggle",e),ze("toggle",e),ze("cancel",e),ze("close",e);break;case"iframe":case"object":ze("load",e);break;case"video":case"audio":for(s=0;s<bn.length;s++)ze(bn[s],e);break;case"image":ze("error",e),ze("load",e);break;case"details":ze("toggle",e);break;case"embed":case"source":case"link":ze("error",e),ze("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(U in a)if(a.hasOwnProperty(U)&&(s=a[U],s!=null))switch(U){case"children":case"dangerouslySetInnerHTML":throw Error(o(137,t));default:tt(e,t,U,s,a,null)}return;default:if(Pi(t)){for(Z in a)a.hasOwnProperty(Z)&&(s=a[Z],s!==void 0&&zc(e,t,Z,s,a,void 0));return}}for(y in a)a.hasOwnProperty(y)&&(s=a[y],s!=null&&tt(e,t,y,s,a,null))}function zh(e,t,a,s){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var n=null,r=null,u=null,y=null,T=null,U=null,Z=null;for(Q in a){var ee=a[Q];if(a.hasOwnProperty(Q)&&ee!=null)switch(Q){case"checked":break;case"value":break;case"defaultValue":T=ee;default:s.hasOwnProperty(Q)||tt(e,t,Q,null,s,ee)}}for(var L in s){var Q=s[L];if(ee=a[L],s.hasOwnProperty(L)&&(Q!=null||ee!=null))switch(L){case"type":r=Q;break;case"name":n=Q;break;case"checked":U=Q;break;case"defaultChecked":Z=Q;break;case"value":u=Q;break;case"defaultValue":y=Q;break;case"children":case"dangerouslySetInnerHTML":if(Q!=null)throw Error(o(137,t));break;default:Q!==ee&&tt(e,t,L,Q,s,ee)}}Zi(e,u,y,T,U,Z,r,n);return;case"select":Q=u=y=L=null;for(r in a)if(T=a[r],a.hasOwnProperty(r)&&T!=null)switch(r){case"value":break;case"multiple":Q=T;default:s.hasOwnProperty(r)||tt(e,t,r,null,s,T)}for(n in s)if(r=s[n],T=a[n],s.hasOwnProperty(n)&&(r!=null||T!=null))switch(n){case"value":L=r;break;case"defaultValue":y=r;break;case"multiple":u=r;default:r!==T&&tt(e,t,n,r,s,T)}t=y,a=u,s=Q,L!=null?Wl(e,!!a,L,!1):!!s!=!!a&&(t!=null?Wl(e,!!a,t,!0):Wl(e,!!a,a?[]:"",!1));return;case"textarea":Q=L=null;for(y in a)if(n=a[y],a.hasOwnProperty(y)&&n!=null&&!s.hasOwnProperty(y))switch(y){case"value":break;case"children":break;default:tt(e,t,y,null,s,n)}for(u in s)if(n=s[u],r=a[u],s.hasOwnProperty(u)&&(n!=null||r!=null))switch(u){case"value":L=n;break;case"defaultValue":Q=n;break;case"children":break;case"dangerouslySetInnerHTML":if(n!=null)throw Error(o(91));break;default:n!==r&&tt(e,t,u,n,s,r)}Co(e,L,Q);return;case"option":for(var be in a)L=a[be],a.hasOwnProperty(be)&&L!=null&&!s.hasOwnProperty(be)&&(be==="selected"?e.selected=!1:tt(e,t,be,null,s,L));for(T in s)L=s[T],Q=a[T],s.hasOwnProperty(T)&&L!==Q&&(L!=null||Q!=null)&&(T==="selected"?e.selected=L&&typeof L!="function"&&typeof L!="symbol":tt(e,t,T,L,s,Q));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var we in a)L=a[we],a.hasOwnProperty(we)&&L!=null&&!s.hasOwnProperty(we)&&tt(e,t,we,null,s,L);for(U in s)if(L=s[U],Q=a[U],s.hasOwnProperty(U)&&L!==Q&&(L!=null||Q!=null))switch(U){case"children":case"dangerouslySetInnerHTML":if(L!=null)throw Error(o(137,t));break;default:tt(e,t,U,L,s,Q)}return;default:if(Pi(t)){for(var at in a)L=a[at],a.hasOwnProperty(at)&&L!==void 0&&!s.hasOwnProperty(at)&&zc(e,t,at,void 0,s,L);for(Z in s)L=s[Z],Q=a[Z],!s.hasOwnProperty(Z)||L===Q||L===void 0&&Q===void 0||zc(e,t,Z,L,s,Q);return}}for(var D in a)L=a[D],a.hasOwnProperty(D)&&L!=null&&!s.hasOwnProperty(D)&&tt(e,t,D,null,s,L);for(ee in s)L=s[ee],Q=a[ee],!s.hasOwnProperty(ee)||L===Q||L==null&&Q==null||tt(e,t,ee,L,s,Q)}function zm(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function Dh(){if(typeof performance.getEntriesByType=="function"){for(var e=0,t=0,a=performance.getEntriesByType("resource"),s=0;s<a.length;s++){var n=a[s],r=n.transferSize,u=n.initiatorType,y=n.duration;if(r&&y&&zm(u)){for(u=0,y=n.responseEnd,s+=1;s<a.length;s++){var T=a[s],U=T.startTime;if(U>y)break;var Z=T.transferSize,ee=T.initiatorType;Z&&zm(ee)&&(T=T.responseEnd,u+=Z*(T<y?1:(y-U)/(T-U)))}if(--s,t+=8*(r+u)/(n.duration/1e3),e++,10<e)break}}if(0<e)return t/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var Dc=null,_c=null;function Ci(e){return e.nodeType===9?e:e.ownerDocument}function Dm(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function _m(e,t){if(e===0)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&t==="foreignObject"?0:e}function qc(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.children=="bigint"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Uc=null;function _h(){var e=window.event;return e&&e.type==="popstate"?e===Uc?!1:(Uc=e,!0):(Uc=null,!1)}var qm=typeof setTimeout=="function"?setTimeout:void 0,qh=typeof clearTimeout=="function"?clearTimeout:void 0,Um=typeof Promise=="function"?Promise:void 0,Uh=typeof queueMicrotask=="function"?queueMicrotask:typeof Um<"u"?function(e){return Um.resolve(null).then(e).catch(Hh)}:qm;function Hh(e){setTimeout(function(){throw e})}function jl(e){return e==="head"}function Hm(e,t){var a=t,s=0;do{var n=a.nextSibling;if(e.removeChild(a),n&&n.nodeType===8)if(a=n.data,a==="/$"||a==="/&"){if(s===0){e.removeChild(n),Bs(t);return}s--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")s++;else if(a==="html")pn(e.ownerDocument.documentElement);else if(a==="head"){a=e.ownerDocument.head,pn(a);for(var r=a.firstChild;r;){var u=r.nextSibling,y=r.nodeName;r[Mt]||y==="SCRIPT"||y==="STYLE"||y==="LINK"&&r.rel.toLowerCase()==="stylesheet"||a.removeChild(r),r=u}}else a==="body"&&pn(e.ownerDocument.body);a=n}while(a);Bs(t)}function Lm(e,t){var a=e;e=0;do{var s=a.nextSibling;if(a.nodeType===1?t?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(t?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),s&&s.nodeType===8)if(a=s.data,a==="/$"){if(e===0)break;e--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||e++;a=s}while(a)}function Hc(e){var t=e.firstChild;for(t&&t.nodeType===10&&(t=t.nextSibling);t;){var a=t;switch(t=t.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":Hc(a),qs(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}e.removeChild(a)}}function Lh(e,t,a,s){for(;e.nodeType===1;){var n=a;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!s&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(s){if(!e[Mt])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(r=e.getAttribute("rel"),r==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(r!==n.rel||e.getAttribute("href")!==(n.href==null||n.href===""?null:n.href)||e.getAttribute("crossorigin")!==(n.crossOrigin==null?null:n.crossOrigin)||e.getAttribute("title")!==(n.title==null?null:n.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(r=e.getAttribute("src"),(r!==(n.src==null?null:n.src)||e.getAttribute("type")!==(n.type==null?null:n.type)||e.getAttribute("crossorigin")!==(n.crossOrigin==null?null:n.crossOrigin))&&r&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(t==="input"&&e.type==="hidden"){var r=n.name==null?null:""+n.name;if(n.type==="hidden"&&e.getAttribute("name")===r)return e}else return e;if(e=ya(e.nextSibling),e===null)break}return null}function Gh(e,t,a){if(t==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!a||(e=ya(e.nextSibling),e===null))return null;return e}function Gm(e,t){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!t||(e=ya(e.nextSibling),e===null))return null;return e}function Lc(e){return e.data==="$?"||e.data==="$~"}function Gc(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function Yh(e,t){var a=e.ownerDocument;if(e.data==="$~")e._reactRetry=t;else if(e.data!=="$?"||a.readyState!=="loading")t();else{var s=function(){t(),a.removeEventListener("DOMContentLoaded",s)};a.addEventListener("DOMContentLoaded",s),e._reactRetry=s}}function ya(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?"||t==="$~"||t==="&"||t==="F!"||t==="F")break;if(t==="/$"||t==="/&")return null}}return e}var Yc=null;function Ym(e){e=e.nextSibling;for(var t=0;e;){if(e.nodeType===8){var a=e.data;if(a==="/$"||a==="/&"){if(t===0)return ya(e.nextSibling);t--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||t++}e=e.nextSibling}return null}function Xm(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var a=e.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(t===0)return e;t--}else a!=="/$"&&a!=="/&"||t++}e=e.previousSibling}return null}function Qm(e,t,a){switch(t=Ci(a),e){case"html":if(e=t.documentElement,!e)throw Error(o(452));return e;case"head":if(e=t.head,!e)throw Error(o(453));return e;case"body":if(e=t.body,!e)throw Error(o(454));return e;default:throw Error(o(451))}}function pn(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);qs(e)}var pa=new Map,Vm=new Set;function Bi(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var el=P.d;P.d={f:Xh,r:Qh,D:Vh,C:Zh,L:$h,m:Ph,X:Ih,S:Kh,M:Fh};function Xh(){var e=el.f(),t=ji();return e||t}function Qh(e){var t=ll(e);t!==null&&t.tag===5&&t.type==="form"?cd(t):el.r(e)}var Es=typeof document>"u"?null:document;function Zm(e,t,a){var s=Es;if(s&&typeof t=="string"&&t){var n=da(t);n='link[rel="'+e+'"][href="'+n+'"]',typeof a=="string"&&(n+='[crossorigin="'+a+'"]'),Vm.has(n)||(Vm.add(n),e={rel:e,crossOrigin:a,href:t},s.querySelector(n)===null&&(t=s.createElement("link"),zt(t,"link",e),ft(t),s.head.appendChild(t)))}}function Vh(e){el.D(e),Zm("dns-prefetch",e,null)}function Zh(e,t){el.C(e,t),Zm("preconnect",e,t)}function $h(e,t,a){el.L(e,t,a);var s=Es;if(s&&e&&t){var n='link[rel="preload"][as="'+da(t)+'"]';t==="image"&&a&&a.imageSrcSet?(n+='[imagesrcset="'+da(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(n+='[imagesizes="'+da(a.imageSizes)+'"]')):n+='[href="'+da(e)+'"]';var r=n;switch(t){case"style":r=Rs(e);break;case"script":r=Cs(e)}pa.has(r)||(e=p({rel:"preload",href:t==="image"&&a&&a.imageSrcSet?void 0:e,as:t},a),pa.set(r,e),s.querySelector(n)!==null||t==="style"&&s.querySelector(vn(r))||t==="script"&&s.querySelector(Nn(r))||(t=s.createElement("link"),zt(t,"link",e),ft(t),s.head.appendChild(t)))}}function Ph(e,t){el.m(e,t);var a=Es;if(a&&e){var s=t&&typeof t.as=="string"?t.as:"script",n='link[rel="modulepreload"][as="'+da(s)+'"][href="'+da(e)+'"]',r=n;switch(s){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":r=Cs(e)}if(!pa.has(r)&&(e=p({rel:"modulepreload",href:e},t),pa.set(r,e),a.querySelector(n)===null)){switch(s){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(Nn(r)))return}s=a.createElement("link"),zt(s,"link",e),ft(s),a.head.appendChild(s)}}}function Kh(e,t,a){el.S(e,t,a);var s=Es;if(s&&e){var n=_a(s).hoistableStyles,r=Rs(e);t=t||"default";var u=n.get(r);if(!u){var y={loading:0,preload:null};if(u=s.querySelector(vn(r)))y.loading=5;else{e=p({rel:"stylesheet",href:e,"data-precedence":t},a),(a=pa.get(r))&&Xc(e,a);var T=u=s.createElement("link");ft(T),zt(T,"link",e),T._p=new Promise(function(U,Z){T.onload=U,T.onerror=Z}),T.addEventListener("load",function(){y.loading|=1}),T.addEventListener("error",function(){y.loading|=2}),y.loading|=4,Oi(u,t,s)}u={type:"stylesheet",instance:u,count:1,state:y},n.set(r,u)}}}function Ih(e,t){el.X(e,t);var a=Es;if(a&&e){var s=_a(a).hoistableScripts,n=Cs(e),r=s.get(n);r||(r=a.querySelector(Nn(n)),r||(e=p({src:e,async:!0},t),(t=pa.get(n))&&Qc(e,t),r=a.createElement("script"),ft(r),zt(r,"link",e),a.head.appendChild(r)),r={type:"script",instance:r,count:1,state:null},s.set(n,r))}}function Fh(e,t){el.M(e,t);var a=Es;if(a&&e){var s=_a(a).hoistableScripts,n=Cs(e),r=s.get(n);r||(r=a.querySelector(Nn(n)),r||(e=p({src:e,async:!0,type:"module"},t),(t=pa.get(n))&&Qc(e,t),r=a.createElement("script"),ft(r),zt(r,"link",e),a.head.appendChild(r)),r={type:"script",instance:r,count:1,state:null},s.set(n,r))}}function $m(e,t,a,s){var n=(n=Ee.current)?Bi(n):null;if(!n)throw Error(o(446));switch(e){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(t=Rs(a.href),a=_a(n).hoistableStyles,s=a.get(t),s||(s={type:"style",instance:null,count:0,state:null},a.set(t,s)),s):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){e=Rs(a.href);var r=_a(n).hoistableStyles,u=r.get(e);if(u||(n=n.ownerDocument||n,u={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},r.set(e,u),(r=n.querySelector(vn(e)))&&!r._p&&(u.instance=r,u.state.loading=5),pa.has(e)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},pa.set(e,a),r||Jh(n,e,a,u.state))),t&&s===null)throw Error(o(528,""));return u}if(t&&s!==null)throw Error(o(529,""));return null;case"script":return t=a.async,a=a.src,typeof a=="string"&&t&&typeof t!="function"&&typeof t!="symbol"?(t=Cs(a),a=_a(n).hoistableScripts,s=a.get(t),s||(s={type:"script",instance:null,count:0,state:null},a.set(t,s)),s):{type:"void",instance:null,count:0,state:null};default:throw Error(o(444,e))}}function Rs(e){return'href="'+da(e)+'"'}function vn(e){return'link[rel="stylesheet"]['+e+"]"}function Pm(e){return p({},e,{"data-precedence":e.precedence,precedence:null})}function Jh(e,t,a,s){e.querySelector('link[rel="preload"][as="style"]['+t+"]")?s.loading=1:(t=e.createElement("link"),s.preload=t,t.addEventListener("load",function(){return s.loading|=1}),t.addEventListener("error",function(){return s.loading|=2}),zt(t,"link",a),ft(t),e.head.appendChild(t))}function Cs(e){return'[src="'+da(e)+'"]'}function Nn(e){return"script[async]"+e}function Km(e,t,a){if(t.count++,t.instance===null)switch(t.type){case"style":var s=e.querySelector('style[data-href~="'+da(a.href)+'"]');if(s)return t.instance=s,ft(s),s;var n=p({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return s=(e.ownerDocument||e).createElement("style"),ft(s),zt(s,"style",n),Oi(s,a.precedence,e),t.instance=s;case"stylesheet":n=Rs(a.href);var r=e.querySelector(vn(n));if(r)return t.state.loading|=4,t.instance=r,ft(r),r;s=Pm(a),(n=pa.get(n))&&Xc(s,n),r=(e.ownerDocument||e).createElement("link"),ft(r);var u=r;return u._p=new Promise(function(y,T){u.onload=y,u.onerror=T}),zt(r,"link",s),t.state.loading|=4,Oi(r,a.precedence,e),t.instance=r;case"script":return r=Cs(a.src),(n=e.querySelector(Nn(r)))?(t.instance=n,ft(n),n):(s=a,(n=pa.get(r))&&(s=p({},a),Qc(s,n)),e=e.ownerDocument||e,n=e.createElement("script"),ft(n),zt(n,"link",s),e.head.appendChild(n),t.instance=n);case"void":return null;default:throw Error(o(443,t.type))}else t.type==="stylesheet"&&(t.state.loading&4)===0&&(s=t.instance,t.state.loading|=4,Oi(s,a.precedence,e));return t.instance}function Oi(e,t,a){for(var s=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),n=s.length?s[s.length-1]:null,r=n,u=0;u<s.length;u++){var y=s[u];if(y.dataset.precedence===t)r=y;else if(r!==n)break}r?r.parentNode.insertBefore(e,r.nextSibling):(t=a.nodeType===9?a.head:a,t.insertBefore(e,t.firstChild))}function Xc(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.title==null&&(e.title=t.title)}function Qc(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.integrity==null&&(e.integrity=t.integrity)}var ki=null;function Im(e,t,a){if(ki===null){var s=new Map,n=ki=new Map;n.set(a,s)}else n=ki,s=n.get(a),s||(s=new Map,n.set(a,s));if(s.has(e))return s;for(s.set(e,null),a=a.getElementsByTagName(e),n=0;n<a.length;n++){var r=a[n];if(!(r[Mt]||r[He]||e==="link"&&r.getAttribute("rel")==="stylesheet")&&r.namespaceURI!=="http://www.w3.org/2000/svg"){var u=r.getAttribute(t)||"";u=e+u;var y=s.get(u);y?y.push(r):s.set(u,[r])}}return s}function Fm(e,t,a){e=e.ownerDocument||e,e.head.insertBefore(a,t==="title"?e.querySelector("head > title"):null)}function Wh(e,t,a){if(a===1||t.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof t.precedence!="string"||typeof t.href!="string"||t.href==="")break;return!0;case"link":if(typeof t.rel!="string"||typeof t.href!="string"||t.href===""||t.onLoad||t.onError)break;return t.rel==="stylesheet"?(e=t.disabled,typeof t.precedence=="string"&&e==null):!0;case"script":if(t.async&&typeof t.async!="function"&&typeof t.async!="symbol"&&!t.onLoad&&!t.onError&&t.src&&typeof t.src=="string")return!0}return!1}function Jm(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function eg(e,t,a,s){if(a.type==="stylesheet"&&(typeof s.media!="string"||matchMedia(s.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var n=Rs(s.href),r=t.querySelector(vn(n));if(r){t=r._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(e.count++,e=zi.bind(e),t.then(e,e)),a.state.loading|=4,a.instance=r,ft(r);return}r=t.ownerDocument||t,s=Pm(s),(n=pa.get(n))&&Xc(s,n),r=r.createElement("link"),ft(r);var u=r;u._p=new Promise(function(y,T){u.onload=y,u.onerror=T}),zt(r,"link",s),a.instance=r}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(a,t),(t=a.state.preload)&&(a.state.loading&3)===0&&(e.count++,a=zi.bind(e),t.addEventListener("load",a),t.addEventListener("error",a))}}var Vc=0;function tg(e,t){return e.stylesheets&&e.count===0&&_i(e,e.stylesheets),0<e.count||0<e.imgCount?function(a){var s=setTimeout(function(){if(e.stylesheets&&_i(e,e.stylesheets),e.unsuspend){var r=e.unsuspend;e.unsuspend=null,r()}},6e4+t);0<e.imgBytes&&Vc===0&&(Vc=62500*Dh());var n=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&_i(e,e.stylesheets),e.unsuspend)){var r=e.unsuspend;e.unsuspend=null,r()}},(e.imgBytes>Vc?50:800)+t);return e.unsuspend=a,function(){e.unsuspend=null,clearTimeout(s),clearTimeout(n)}}:null}function zi(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)_i(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var Di=null;function _i(e,t){e.stylesheets=null,e.unsuspend!==null&&(e.count++,Di=new Map,t.forEach(ag,e),Di=null,zi.call(e))}function ag(e,t){if(!(t.state.loading&4)){var a=Di.get(e);if(a)var s=a.get(null);else{a=new Map,Di.set(e,a);for(var n=e.querySelectorAll("link[data-precedence],style[data-precedence]"),r=0;r<n.length;r++){var u=n[r];(u.nodeName==="LINK"||u.getAttribute("media")!=="not all")&&(a.set(u.dataset.precedence,u),s=u)}s&&a.set(null,s)}n=t.instance,u=n.getAttribute("data-precedence"),r=a.get(u)||s,r===s&&a.set(null,n),a.set(u,n),this.count++,s=zi.bind(this),n.addEventListener("load",s),n.addEventListener("error",s),r?r.parentNode.insertBefore(n,r.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(n,e.firstChild)),t.state.loading|=4}}var jn={$$typeof:O,Provider:null,Consumer:null,_currentValue:te,_currentValue2:te,_threadCount:0};function lg(e,t,a,s,n,r,u,y,T){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Ue(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ue(0),this.hiddenUpdates=Ue(null),this.identifierPrefix=s,this.onUncaughtError=n,this.onCaughtError=r,this.onRecoverableError=u,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=T,this.incompleteTransitions=new Map}function Wm(e,t,a,s,n,r,u,y,T,U,Z,ee){return e=new lg(e,t,a,u,T,U,Z,ee,y),t=1,r===!0&&(t|=24),r=aa(3,null,null,t),e.current=r,r.stateNode=e,t=wr(),t.refCount++,e.pooledCache=t,t.refCount++,r.memoizedState={element:s,isDehydrated:a,cache:t},Er(r),e}function e0(e){return e?(e=rs,e):rs}function t0(e,t,a,s,n,r){n=e0(n),s.context===null?s.context=n:s.pendingContext=n,s=dl(t),s.payload={element:a},r=r===void 0?null:r,r!==null&&(s.callback=r),a=ml(e,s,t),a!==null&&(Jt(a,e,t),Ws(a,e,t))}function a0(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var a=e.retryLane;e.retryLane=a!==0&&a<t?a:t}}function Zc(e,t){a0(e,t),(e=e.alternate)&&a0(e,t)}function l0(e){if(e.tag===13||e.tag===31){var t=Ol(e,67108864);t!==null&&Jt(t,e,67108864),Zc(e,67108864)}}function s0(e){if(e.tag===13||e.tag===31){var t=ra();t=$e(t);var a=Ol(e,t);a!==null&&Jt(a,e,t),Zc(e,t)}}var qi=!0;function sg(e,t,a,s){var n=z.T;z.T=null;var r=P.p;try{P.p=2,$c(e,t,a,s)}finally{P.p=r,z.T=n}}function ng(e,t,a,s){var n=z.T;z.T=null;var r=P.p;try{P.p=8,$c(e,t,a,s)}finally{P.p=r,z.T=n}}function $c(e,t,a,s){if(qi){var n=Pc(s);if(n===null)kc(e,t,s,Ui,a),i0(e,s);else if(rg(n,e,t,a,s))s.stopPropagation();else if(i0(e,s),t&4&&-1<ig.indexOf(e)){for(;n!==null;){var r=ll(n);if(r!==null)switch(r.tag){case 3:if(r=r.stateNode,r.current.memoizedState.isDehydrated){var u=H(r.pendingLanes);if(u!==0){var y=r;for(y.pendingLanes|=2,y.entangledLanes|=2;u;){var T=1<<31-K(u);y.entanglements[1]|=T,u&=~T}Ca(r),(Pe&6)===0&&(vi=Oe()+500,xn(0))}}break;case 31:case 13:y=Ol(r,2),y!==null&&Jt(y,r,2),ji(),Zc(r,2)}if(r=Pc(s),r===null&&kc(e,t,s,Ui,a),r===n)break;n=r}n!==null&&s.stopPropagation()}else kc(e,t,s,null,a)}}function Pc(e){return e=Ii(e),Kc(e)}var Ui=null;function Kc(e){if(Ui=null,e=Da(e),e!==null){var t=f(e);if(t===null)e=null;else{var a=t.tag;if(a===13){if(e=x(t),e!==null)return e;e=null}else if(a===31){if(e=b(t),e!==null)return e;e=null}else if(a===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return Ui=e,null}function n0(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Ae()){case Il:return 2;case bt:return 8;case Ma:case El:return 32;case al:return 268435456;default:return 32}default:return 32}}var Ic=!1,Sl=null,wl=null,Tl=null,Sn=new Map,wn=new Map,Ml=[],ig="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function i0(e,t){switch(e){case"focusin":case"focusout":Sl=null;break;case"dragenter":case"dragleave":wl=null;break;case"mouseover":case"mouseout":Tl=null;break;case"pointerover":case"pointerout":Sn.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":wn.delete(t.pointerId)}}function Tn(e,t,a,s,n,r){return e===null||e.nativeEvent!==r?(e={blockedOn:t,domEventName:a,eventSystemFlags:s,nativeEvent:r,targetContainers:[n]},t!==null&&(t=ll(t),t!==null&&l0(t)),e):(e.eventSystemFlags|=s,t=e.targetContainers,n!==null&&t.indexOf(n)===-1&&t.push(n),e)}function rg(e,t,a,s,n){switch(t){case"focusin":return Sl=Tn(Sl,e,t,a,s,n),!0;case"dragenter":return wl=Tn(wl,e,t,a,s,n),!0;case"mouseover":return Tl=Tn(Tl,e,t,a,s,n),!0;case"pointerover":var r=n.pointerId;return Sn.set(r,Tn(Sn.get(r)||null,e,t,a,s,n)),!0;case"gotpointercapture":return r=n.pointerId,wn.set(r,Tn(wn.get(r)||null,e,t,a,s,n)),!0}return!1}function r0(e){var t=Da(e.target);if(t!==null){var a=f(t);if(a!==null){if(t=a.tag,t===13){if(t=x(a),t!==null){e.blockedOn=t,_s(e.priority,function(){s0(a)});return}}else if(t===31){if(t=b(a),t!==null){e.blockedOn=t,_s(e.priority,function(){s0(a)});return}}else if(t===3&&a.stateNode.current.memoizedState.isDehydrated){e.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Hi(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var a=Pc(e.nativeEvent);if(a===null){a=e.nativeEvent;var s=new a.constructor(a.type,a);Ki=s,a.target.dispatchEvent(s),Ki=null}else return t=ll(a),t!==null&&l0(t),e.blockedOn=a,!1;t.shift()}return!0}function c0(e,t,a){Hi(e)&&a.delete(t)}function cg(){Ic=!1,Sl!==null&&Hi(Sl)&&(Sl=null),wl!==null&&Hi(wl)&&(wl=null),Tl!==null&&Hi(Tl)&&(Tl=null),Sn.forEach(c0),wn.forEach(c0)}function Li(e,t){e.blockedOn===t&&(e.blockedOn=null,Ic||(Ic=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,cg)))}var Gi=null;function o0(e){Gi!==e&&(Gi=e,i.unstable_scheduleCallback(i.unstable_NormalPriority,function(){Gi===e&&(Gi=null);for(var t=0;t<e.length;t+=3){var a=e[t],s=e[t+1],n=e[t+2];if(typeof s!="function"){if(Kc(s||a)===null)continue;break}var r=ll(a);r!==null&&(e.splice(t,3),t-=3,Pr(r,{pending:!0,data:n,method:a.method,action:s},s,n))}}))}function Bs(e){function t(T){return Li(T,e)}Sl!==null&&Li(Sl,e),wl!==null&&Li(wl,e),Tl!==null&&Li(Tl,e),Sn.forEach(t),wn.forEach(t);for(var a=0;a<Ml.length;a++){var s=Ml[a];s.blockedOn===e&&(s.blockedOn=null)}for(;0<Ml.length&&(a=Ml[0],a.blockedOn===null);)r0(a),a.blockedOn===null&&Ml.shift();if(a=(e.ownerDocument||e).$$reactFormReplay,a!=null)for(s=0;s<a.length;s+=3){var n=a[s],r=a[s+1],u=n[pt]||null;if(typeof r=="function")u||o0(a);else if(u){var y=null;if(r&&r.hasAttribute("formAction")){if(n=r,u=r[pt]||null)y=u.formAction;else if(Kc(n)!==null)continue}else y=u.action;typeof y=="function"?a[s+1]=y:(a.splice(s,3),s-=3),o0(a)}}}function u0(){function e(r){r.canIntercept&&r.info==="react-transition"&&r.intercept({handler:function(){return new Promise(function(u){return n=u})},focusReset:"manual",scroll:"manual"})}function t(){n!==null&&(n(),n=null),s||setTimeout(a,20)}function a(){if(!s&&!navigation.transition){var r=navigation.currentEntry;r&&r.url!=null&&navigation.navigate(r.url,{state:r.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var s=!1,n=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",t),navigation.addEventListener("navigateerror",t),setTimeout(a,100),function(){s=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",t),navigation.removeEventListener("navigateerror",t),n!==null&&(n(),n=null)}}}function Fc(e){this._internalRoot=e}Yi.prototype.render=Fc.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(o(409));var a=t.current,s=ra();t0(a,s,e,t,null,null)},Yi.prototype.unmount=Fc.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;t0(e.current,2,null,e,null,null),ji(),t[vt]=null}};function Yi(e){this._internalRoot=e}Yi.prototype.unstable_scheduleHydration=function(e){if(e){var t=Rt();e={blockedOn:null,target:e,priority:t};for(var a=0;a<Ml.length&&t!==0&&t<Ml[a].priority;a++);Ml.splice(a,0,e),a===0&&r0(e)}};var d0=d.version;if(d0!=="19.2.3")throw Error(o(527,d0,"19.2.3"));P.findDOMNode=function(e){var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(o(188)):(e=Object.keys(e).join(","),Error(o(268,e)));return e=h(t),e=e!==null?v(e):null,e=e===null?null:e.stateNode,e};var og={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:z,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Xi=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Xi.isDisabled&&Xi.supportsFiber)try{ka=Xi.inject(og),yt=Xi}catch{}}return An.createRoot=function(e,t){if(!m(e))throw Error(o(299));var a=!1,s="",n=yd,r=pd,u=vd;return t!=null&&(t.unstable_strictMode===!0&&(a=!0),t.identifierPrefix!==void 0&&(s=t.identifierPrefix),t.onUncaughtError!==void 0&&(n=t.onUncaughtError),t.onCaughtError!==void 0&&(r=t.onCaughtError),t.onRecoverableError!==void 0&&(u=t.onRecoverableError)),t=Wm(e,1,!1,null,null,a,s,null,n,r,u,u0),e[vt]=t.current,Oc(e),new Fc(t)},An.hydrateRoot=function(e,t,a){if(!m(e))throw Error(o(299));var s=!1,n="",r=yd,u=pd,y=vd,T=null;return a!=null&&(a.unstable_strictMode===!0&&(s=!0),a.identifierPrefix!==void 0&&(n=a.identifierPrefix),a.onUncaughtError!==void 0&&(r=a.onUncaughtError),a.onCaughtError!==void 0&&(u=a.onCaughtError),a.onRecoverableError!==void 0&&(y=a.onRecoverableError),a.formState!==void 0&&(T=a.formState)),t=Wm(e,1,!0,t,a??null,s,n,T,r,u,y,u0),t.context=e0(null),a=t.current,s=ra(),s=$e(s),n=dl(s),n.callback=null,ml(a,n,s),a=s,t.current.lanes=a,Xe(t,a),Ca(t),e[vt]=t.current,Oc(e),new Yi(t)},An.version="19.2.3",An}var b0;function vg(){if(b0)return Wc.exports;b0=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(d){console.error(d)}}return i(),Wc.exports=pg(),Wc.exports}var Ng=vg();const jg="modulepreload",Sg=function(i){return"/cricket-management/"+i},y0={},wg=function(d,c,o){let m=Promise.resolve();if(c&&c.length>0){let g=function(h){return Promise.all(h.map(v=>Promise.resolve(v).then(p=>({status:"fulfilled",value:p}),p=>({status:"rejected",reason:p}))))};document.getElementsByTagName("link");const x=document.querySelector("meta[property=csp-nonce]"),b=x?.nonce||x?.getAttribute("nonce");m=g(c.map(h=>{if(h=Sg(h),h in y0)return;y0[h]=!0;const v=h.endsWith(".css"),p=v?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${h}"]${p}`))return;const E=document.createElement("link");if(E.rel=v?"stylesheet":jg,v||(E.as="script"),E.crossOrigin="",E.href=h,b&&E.setAttribute("nonce",b),document.head.appendChild(E),v)return new Promise((S,j)=>{E.addEventListener("load",S),E.addEventListener("error",()=>j(new Error(`Unable to preload CSS for ${h}`)))})}))}function f(x){const b=new Event("vite:preloadError",{cancelable:!0});if(b.payload=x,window.dispatchEvent(b),!b.defaultPrevented)throw x}return m.then(x=>{for(const b of x||[])b.status==="rejected"&&f(b.reason);return d().catch(f)})};function Tg(i,d){let c;try{c=i()}catch{return}return{getItem:m=>{var f;const x=g=>g===null?null:JSON.parse(g,void 0),b=(f=c.getItem(m))!=null?f:null;return b instanceof Promise?b.then(x):x(b)},setItem:(m,f)=>c.setItem(m,JSON.stringify(f,void 0)),removeItem:m=>c.removeItem(m)}}const so=i=>d=>{try{const c=i(d);return c instanceof Promise?c:{then(o){return so(o)(c)},catch(o){return this}}}catch(c){return{then(o){return this},catch(o){return so(o)(c)}}}},Mg=(i,d)=>(c,o,m)=>{let f={storage:Tg(()=>localStorage),partialize:N=>N,version:0,merge:(N,w)=>({...w,...N}),...d},x=!1;const b=new Set,g=new Set;let h=f.storage;if(!h)return i((...N)=>{console.warn(`[zustand persist middleware] Unable to update item '${f.name}', the given storage is currently unavailable.`),c(...N)},o,m);const v=()=>{const N=f.partialize({...o()});return h.setItem(f.name,{state:N,version:f.version})},p=m.setState;m.setState=(N,w)=>(p(N,w),v());const E=i((...N)=>(c(...N),v()),o,m);m.getInitialState=()=>E;let S;const j=()=>{var N,w;if(!h)return;x=!1,b.forEach(k=>{var O;return k((O=o())!=null?O:E)});const A=((w=f.onRehydrateStorage)==null?void 0:w.call(f,(N=o())!=null?N:E))||void 0;return so(h.getItem.bind(h))(f.name).then(k=>{if(k)if(typeof k.version=="number"&&k.version!==f.version){if(f.migrate){const O=f.migrate(k.state,k.version);return O instanceof Promise?O.then(W=>[!0,W]):[!0,O]}console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return[!1,k.state];return[!1,void 0]}).then(k=>{var O;const[W,_]=k;if(S=f.merge(_,(O=o())!=null?O:E),c(S,!0),W)return v()}).then(()=>{A?.(S,void 0),S=o(),x=!0,g.forEach(k=>k(S))}).catch(k=>{A?.(void 0,k)})};return m.persist={setOptions:N=>{f={...f,...N},N.storage&&(h=N.storage)},clearStorage:()=>{h?.removeItem(f.name)},getOptions:()=>f,rehydrate:()=>j(),hasHydrated:()=>x,onHydrate:N=>(b.add(N),()=>{b.delete(N)}),onFinishHydration:N=>(g.add(N),()=>{g.delete(N)})},f.skipHydration||j(),S||E},Ag=Mg,xo="cricket-manager-slot-",bo="cricket-manager-slots";function yo(){try{const i=localStorage.getItem(bo);return i?JSON.parse(i):[]}catch{return[]}}function Eg(i,d,c,o,m,f){try{const x={id:i,name:d||`Save ${i}`,teamId:c.playerTeamId,teamName:f,season:c.season,matchDay:c.matchDay,phase:c.phase,savedAt:new Date().toISOString()},b={slot:x,gameState:c,auctionState:o,liveMatchState:m};localStorage.setItem(`${xo}${i}`,JSON.stringify(b));const g=yo().filter(h=>h.id!==i);return g.push(x),g.sort((h,v)=>h.id-v.id),localStorage.setItem(bo,JSON.stringify(g)),!0}catch(x){return console.error("Failed to save game:",x),!1}}function Rg(i){try{const d=localStorage.getItem(`${xo}${i}`);return d?JSON.parse(d):null}catch(d){return console.error("Failed to load game:",d),null}}function Cg(i){try{localStorage.removeItem(`${xo}${i}`);const d=yo().filter(c=>c.id!==i);return localStorage.setItem(bo,JSON.stringify(d)),!0}catch(d){return console.error("Failed to delete save:",d),!1}}function po(i){return new Date(i).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric",hour:"2-digit",minute:"2-digit"})}const _t=[];for(let i=0;i<256;++i)_t.push((i+256).toString(16).slice(1));function Bg(i,d=0){return(_t[i[d+0]]+_t[i[d+1]]+_t[i[d+2]]+_t[i[d+3]]+"-"+_t[i[d+4]]+_t[i[d+5]]+"-"+_t[i[d+6]]+_t[i[d+7]]+"-"+_t[i[d+8]]+_t[i[d+9]]+"-"+_t[i[d+10]]+_t[i[d+11]]+_t[i[d+12]]+_t[i[d+13]]+_t[i[d+14]]+_t[i[d+15]]).toLowerCase()}let ao;const Og=new Uint8Array(16);function kg(){if(!ao){if(typeof crypto>"u"||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");ao=crypto.getRandomValues.bind(crypto)}return ao(Og)}const zg=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),p0={randomUUID:zg};function Dg(i,d,c){i=i||{};const o=i.random??i.rng?.()??kg();if(o.length<16)throw new Error("Random bytes length must be >= 16");return o[6]=o[6]&15|64,o[8]=o[8]&63|128,Bg(o)}function vo(i,d,c){return p0.randomUUID&&!i?p0.randomUUID():Dg(i)}const L0=i=>{const c={"Wankhede Stadium":{pace:70,spin:45,bounce:75,deterioration:30},"MA Chidambaram Stadium":{pace:40,spin:85,bounce:55,deterioration:50},"M. Chinnaswamy Stadium":{pace:65,spin:50,bounce:70,deterioration:25},"Eden Gardens":{pace:55,spin:70,bounce:60,deterioration:40},"Arun Jaitley Stadium":{pace:60,spin:60,bounce:65,deterioration:35},"Sawai Mansingh Stadium":{pace:50,spin:75,bounce:55,deterioration:45},"Punjab Cricket Association Stadium":{pace:75,spin:40,bounce:80,deterioration:20},"Narendra Modi Stadium":{pace:60,spin:55,bounce:65,deterioration:30},"Rajiv Gandhi International Stadium":{pace:65,spin:55,bounce:70,deterioration:35},"BRSABV Ekana Cricket Stadium":{pace:55,spin:65,bounce:60,deterioration:40}}[i]||{pace:60,spin:55,bounce:65,deterioration:30};return{pace:Math.max(30,Math.min(90,c.pace+Math.floor(Math.random()*11)-5)),spin:Math.max(30,Math.min(90,c.spin+Math.floor(Math.random()*11)-5)),bounce:Math.max(30,Math.min(90,c.bounce+Math.floor(Math.random()*11)-5)),deterioration:Math.max(10,Math.min(60,c.deterioration+Math.floor(Math.random()*11)-5))}},Vl=["mi","csk","rcb","kkr","dc","rr","pk","gt","srh","lsg"],_g={mi:"Wankhede Stadium",csk:"MA Chidambaram Stadium",rcb:"M. Chinnaswamy Stadium",kkr:"Eden Gardens",dc:"Arun Jaitley Stadium",rr:"Sawai Mansingh Stadium",pk:"Punjab Cricket Association Stadium",gt:"Narendra Modi Stadium",srh:"Rajiv Gandhi International Stadium",lsg:"BRSABV Ekana Cricket Stadium"},No=i=>{const d=[],c=[];for(let S=0;S<Vl.length;S++)for(let j=S+1;j<Vl.length;j++){const N=Math.random()<.5;c.push({home:N?Vl[S]:Vl[j],away:N?Vl[j]:Vl[S]})}const o={};Vl.forEach(S=>o[S]=0);const m=[],f=[...c].sort(()=>Math.random()-.5);for(const S of f)o[S.home]<5&&o[S.away]<5&&(m.push({home:S.away,away:S.home}),o[S.home]++,o[S.away]++);const b=[...c,...m].sort(()=>Math.random()-.5),g=b.filter(S=>S.home===i||S.away===i),h=b.filter(S=>S.home!==i&&S.away!==i),v=[];let p=0,E=0;for(;p<g.length||E<h.length;){p<g.length&&v.push(g[p++]);const S=3+Math.floor(Math.random()*2);for(let j=0;j<S&&E<h.length;j++)v.push(h[E++])}return v.forEach((S,j)=>{const N=_g[S.home]||"Wankhede Stadium";d.push({id:vo(),homeTeam:S.home,awayTeam:S.away,venue:N,matchNumber:j+1,matchType:"league",pitch:L0(N),weather:["clear","cloudy","humid"][Math.floor(Math.random()*3)],homeTactics:null,awayTactics:null,status:"upcoming",tossWinner:null,tossDecision:null,currentInnings:null,innings1:null,innings2:null,result:null})}),d},Zl=(i,d,c,o)=>{const m=["Narendra Modi Stadium","MA Chidambaram Stadium","Wankhede Stadium"],f=m[Math.floor(Math.random()*m.length)];return{id:vo(),homeTeam:i,awayTeam:d,venue:f,matchNumber:o,matchType:c,pitch:L0(f),weather:["clear","cloudy","humid"][Math.floor(Math.random()*3)],homeTactics:null,awayTactics:null,status:"upcoming",tossWinner:null,tossDecision:null,currentInnings:null,innings1:null,innings2:null,result:null}};No("mi");const qg=Object.freeze(Object.defineProperty({__proto__:null,generateFixtures:No,generatePlayoffMatch:Zl},Symbol.toStringTag,{value:"Module"})),Ug=[{id:"player-unhappy-playtime",category:"player",title:"Playing Time Complaint",description:i=>`${i.player?.name} has approached you expressing frustration about lack of playing time. "I didn't join this team to sit on the bench," he says.`,condition:i=>i.player!==void 0&&i.player.morale<70,options:[{id:"promise-chances",label:"Promise more chances",description:"Assure him he'll get more opportunities soon",effects:i=>[{target:"player",targetId:i.player?.id,attribute:"morale",change:15}]},{id:"explain-competition",label:"Explain the competition",description:"Tell him he needs to earn his spot in training",effects:i=>[{target:"player",targetId:i.player?.id,attribute:"morale",change:-5},{target:"player",targetId:i.player?.id,attribute:"form",change:3}]},{id:"dismiss-concerns",label:"Dismiss his concerns",description:"Tell him to focus on being ready when called upon",effects:i=>[{target:"player",targetId:i.player?.id,attribute:"morale",change:-15}]}]},{id:"player-form-slump",category:"player",title:"Crisis of Confidence",description:i=>`${i.player?.name} is struggling with form and seems to have lost confidence. He's been seen practicing alone late into the night.`,condition:i=>i.player!==void 0&&i.player.form<-5,options:[{id:"personal-coaching",label:"Arrange personal coaching",description:"Get specialist coaches to work with him",effects:i=>[{target:"player",targetId:i.player?.id,attribute:"form",change:8},{target:"player",targetId:i.player?.id,attribute:"morale",change:10}]},{id:"rest-player",label:"Give him a break",description:"Rest him for a match to clear his head",effects:i=>[{target:"player",targetId:i.player?.id,attribute:"fatigue",change:-20},{target:"player",targetId:i.player?.id,attribute:"morale",change:5}]},{id:"tough-love",label:"Tough love approach",description:"Tell him to figure it out - he's a professional",effects:i=>[{target:"player",targetId:i.player?.id,attribute:"morale",change:-10},{target:"player",targetId:i.player?.id,attribute:"form",change:-3}]}]},{id:"player-nightlife",category:"player",title:"Late Night Controversy",description:i=>`Photos of ${i.player?.name} partying late before a match day have surfaced on social media. The press is asking questions.`,options:[{id:"fine-player",label:"Fine the player",description:"Issue a formal fine and warning",effects:i=>[{target:"player",targetId:i.player?.id,attribute:"morale",change:-20},{target:"team",attribute:"pressHeat",change:-10}]},{id:"defend-publicly",label:"Defend him publicly",description:"Tell the press players have personal lives too",effects:i=>[{target:"player",targetId:i.player?.id,attribute:"morale",change:10},{target:"team",attribute:"pressHeat",change:15}]},{id:"no-comment",label:"No comment",description:"Decline to address it publicly, handle internally",effects:i=>[{target:"player",targetId:i.player?.id,attribute:"morale",change:-5},{target:"team",attribute:"pressHeat",change:5}]}]},{id:"media-losing-streak",category:"media",title:"Press Conference: Losing Streak",description:()=>`"You've lost your last few matches. Are you concerned about the team's direction?" The press room falls silent awaiting your response.`,condition:i=>{const d=i.recentResults||[];return d.length<2?!1:d.slice(-2).every(o=>o==="loss")},options:[{id:"accept-responsibility",label:"Accept responsibility",description:`"The buck stops with me. We'll work harder."`,effects:()=>[{target:"team",attribute:"pressHeat",change:-15},{target:"team",attribute:"morale",change:5}]},{id:"deflect-luck",label:"Blame bad luck",description:`"Cricket is a game of margins. Luck hasn't been with us."`,effects:()=>[{target:"team",attribute:"pressHeat",change:10}]},{id:"attack-press",label:"Attack the question",description:`"We're three matches in. Let's not overreact."`,effects:()=>[{target:"team",attribute:"pressHeat",change:20},{target:"team",attribute:"morale",change:-5}]}]},{id:"media-star-player",category:"media",title:"Star Player Speculation",description:i=>`Reporters are asking about ${i.player?.name}'s future. "There are rumors other franchises are interested. Any comment?"`,options:[{id:"commit-player",label:"Publicly commit to player",description:`"He's central to our plans. Not going anywhere."`,effects:i=>[{target:"player",targetId:i.player?.id,attribute:"morale",change:15},{target:"team",attribute:"pressHeat",change:-5}]},{id:"diplomatic",label:"Diplomatic response",description:`"We don't discuss contracts in public."`,effects:i=>[{target:"player",targetId:i.player?.id,attribute:"morale",change:-5}]},{id:"open-door",label:"Leave door open",description:`"In cricket, anything can happen. We'll see."`,effects:i=>[{target:"player",targetId:i.player?.id,attribute:"morale",change:-20},{target:"team",attribute:"pressHeat",change:10}]}]},{id:"board-expectations",category:"board",title:"Board Meeting: Expectations",description:()=>'The franchise owners have called a meeting. "We need to discuss expectations for this season. The sponsors are watching."',options:[{id:"promise-playoffs",label:"Promise playoff qualification",description:"Commit to making the top 4",effects:()=>[{target:"manager",attribute:"boardExpectations",change:1},{target:"team",attribute:"boardPatience",change:10}]},{id:"building-phase",label:"Emphasize building phase",description:`"We're building something special. Need time."`,effects:()=>[{target:"team",attribute:"boardPatience",change:20},{target:"team",attribute:"pressHeat",change:-10}]},{id:"no-promises",label:"Make no promises",description:`"We'll compete hard. That's all I can guarantee."`,effects:()=>[{target:"team",attribute:"boardPatience",change:5}]}]},{id:"board-sponsor-concern",category:"board",title:"Sponsor Concerns",description:()=>"The title sponsor has expressed concerns about the team's performance. The board wants to know your plan.",condition:i=>{const d=i.recentResults||[];return d.length<2?!1:d.slice(-2).every(o=>o==="loss")},options:[{id:"tactical-changes",label:"Promise tactical changes",description:`"We're adjusting our approach. Results will come."`,effects:()=>[{target:"team",attribute:"boardPatience",change:10},{target:"team",attribute:"pressHeat",change:-5}]},{id:"back-players",label:"Back your players",description:'"The squad is good enough. We need time to gel."',effects:()=>[{target:"team",attribute:"morale",change:10},{target:"team",attribute:"boardPatience",change:-5}]},{id:"request-patience",label:"Request patience",description:`"Rome wasn't built in a day. Trust the process."`,effects:()=>[{target:"team",attribute:"boardPatience",change:15}]}]}],Hg=(i,d,c,o,m)=>{if(Math.random()>.35)return null;const f={recentResults:d,teamMorale:c,boardPatience:o,pressHeat:m},x=Ug.filter(p=>!(p.condition&&!p.condition(f)));if(x.length===0)return null;const b=x[Math.floor(Math.random()*x.length)];let g;if(b.category==="player"||b.id==="media-star-player"){if(b.id==="player-unhappy-playtime"){const p=i.filter(E=>E.morale<70);p.length>0&&(g=p[Math.floor(Math.random()*p.length)])}else if(b.id==="player-form-slump"){const p=i.filter(E=>E.form<-5);p.length>0&&(g=p[Math.floor(Math.random()*p.length)])}else g=i[Math.floor(Math.random()*i.length)];if(!g&&(b.category==="player"||b.id==="media-star-player"))return null}const h={...f,player:g};return{id:vo(),type:"random",category:b.category,title:b.title,description:b.description(h),involvedPlayers:g?[g.id]:[],urgency:"end-of-day",options:b.options.map(p=>({id:p.id,label:p.label,description:p.description,effects:p.effects(h)})),createdAt:new Date().toISOString(),resolved:!1}},dt={TOTAL_PURSE:14e3,MIN_SQUAD_SIZE:18,MAX_SQUAD_SIZE:25,MAX_OVERSEAS:8,MAX_RETENTIONS:4,RTM_CARDS_PER_TEAM:2,RETENTION_COSTS:{1:1800,2:1400,3:1100,4:1800},BID_INCREMENTS:[{upTo:100,increment:5},{upTo:200,increment:10},{upTo:500,increment:20},{upTo:1e3,increment:25},{upTo:1/0,increment:50}],MIN_RESERVE_PER_SLOT:50,MEGA_AUCTION_POOL_SIZE:250,MINI_AUCTION_POOL_SIZE:100},Vt={roleMultipliers:{batsman:1,bowler:.95,allrounder:1.15,keeper:.7},overseasMultiplier:2.2,ageFactors:{under23:1.3,age23to26:1.1,age26to30:1,age30to34:.9,over35:.75},basePriceMultipliers:{tier50:{median:1.5,p75:3,p90:8},tier75:{median:2,p75:4,p90:10},tier100:{median:2.5,p75:5,p90:12},tier150:{median:3,p75:6,p90:15},tier200:{median:4,p75:8,p90:20}},teamProfiles:{mi:{aggression:75,overseasPref:.85,marqueeBonus:1.3},csk:{aggression:55,overseasPref:.65,marqueeBonus:1.1},rcb:{aggression:90,overseasPref:.9,marqueeBonus:1.5},kkr:{aggression:70,overseasPref:.8,marqueeBonus:1.2},dc:{aggression:65,overseasPref:.75,marqueeBonus:1.15},rr:{aggression:60,overseasPref:.7,marqueeBonus:1.1},pbks:{aggression:80,overseasPref:.8,marqueeBonus:1.25},gt:{aggression:65,overseasPref:.75,marqueeBonus:1.15},srh:{aggression:70,overseasPref:.85,marqueeBonus:1.2},lsg:{aggression:75,overseasPref:.8,marqueeBonus:1.2}}};function Cn(i){const d=(i.batting.technique+i.batting.power+i.batting.timing+i.batting.temperament)/4,c=(i.bowling.speed+i.bowling.accuracy+i.bowling.variation+i.bowling.stamina)/4,o=(i.fielding.catching+i.fielding.ground+i.fielding.throwing+i.fielding.athleticism)/4;let m=0;switch(i.role){case"batsman":m=d*.85+c*.05+o*.1;break;case"bowler":m=c*.85+d*.05+o*.1;break;case"allrounder":m=(d+c)/2*.9+o*.1;break;case"keeper":m=d*.7+o*.3;break}let f=1;i.age<23?f=1.3:i.age<26?f=1.2:i.age<30?f=1:i.age<34?f=.85:f=.7;const x=1+i.form/50,b=i.contract.isOverseas?1.1:1;return m*f*x*b}function $l(i){const d=Cn(i);return d>=85?200:d>=70?150:d>=55?100:d>=40?75:50}const Rn=dt.RETENTION_COSTS;function Lg(i){let d=0;for(let c=1;c<=Math.min(i,4);c++)d+=Rn[c];return d}function v0(i,d,c,o=[],m=[]){const f=c.flatMap(g=>g.squad);let x;if(i==="mega"){const g=d.filter(v=>!o.includes(v.id)),h=dt.MEGA_AUCTION_POOL_SIZE;x=g.map(v=>({player:v,value:Cn(v)})).sort((v,p)=>p.value-v.value).slice(0,h).map(v=>v.player)}else{const g=d.filter(v=>!!(m.includes(v.id)||v.contract.yearsRemaining===0&&!f.includes(v.id))),h=dt.MINI_AUCTION_POOL_SIZE;x=g.map(v=>({player:v,value:Cn(v)})).sort((v,p)=>p.value-v.value).slice(0,h).map(v=>v.player)}return x.map(g=>{const h=c.find(v=>v.squad.includes(g.id));return{playerId:g.id,basePrice:$l(g),currentBid:$l(g),currentBidder:null,status:"available",bidHistory:[],setNumber:Gg(g),previousTeamId:h?.id||null}}).sort((g,h)=>g.setNumber!==h.setNumber?g.setNumber-h.setNumber:h.basePrice-g.basePrice)}function Gg(i){if(Cn(i)>=75)return 1;switch(i.role){case"batsman":return 2;case"bowler":return 3;case"allrounder":case"keeper":return 4;default:return 5}}const G0=dt.BID_INCREMENTS;function Yg(i){return{auctionType:i,totalPurse:dt.TOTAL_PURSE,minSquadSize:dt.MIN_SQUAD_SIZE,maxSquadSize:dt.MAX_SQUAD_SIZE,maxOverseas:dt.MAX_OVERSEAS,maxRetentions:i==="mega"?dt.MAX_RETENTIONS:0,rtmCardsPerTeam:i==="mega"?dt.RTM_CARDS_PER_TEAM:0,bidIncrements:G0}}function Xg(i){return G0.find(c=>i<c.upTo)?.increment||50}function Pl(i){return i+Xg(i)}function Qg(i,d,c,o=0){const m=c==="mega"?[]:d.filter(g=>i.squad.includes(g.id)),f=c==="mega"?0:m.filter(g=>g.contract.isOverseas).length,x=g=>c==="mega"?0:m.filter(h=>h.role===g).length,b=c==="mini"?m.reduce((g,h)=>g+h.contract.salary,0):0;return{teamId:i.id,remainingPurse:dt.TOTAL_PURSE-o-b,squadSize:c==="mega"?0:m.length,overseasCount:f,retentions:[{playerId:null,cost:Rn[1],slotNumber:1},{playerId:null,cost:Rn[2],slotNumber:2},{playerId:null,cost:Rn[3],slotNumber:3},{playerId:null,cost:Rn[4],slotNumber:4}],rtmCardsRemaining:c==="mega"?dt.RTM_CARDS_PER_TEAM:0,batsmen:x("batsman"),bowlers:x("bowler"),allrounders:x("allrounder"),keepers:x("keeper"),hasPassedCurrentPlayer:!1}}function Vg(i){const d={},c={mi:{priorities:{batsmen:80,bowlers:75,allrounders:90,keepers:60,overseas:85},aggression:Vt.teamProfiles.mi.aggression,budgetConservation:35},csk:{priorities:{batsmen:85,bowlers:70,allrounders:80,keepers:75,overseas:65},aggression:Vt.teamProfiles.csk.aggression,budgetConservation:50},rcb:{priorities:{batsmen:95,bowlers:60,allrounders:70,keepers:55,overseas:90},aggression:Vt.teamProfiles.rcb.aggression,budgetConservation:20},kkr:{priorities:{batsmen:75,bowlers:80,allrounders:85,keepers:60,overseas:80},aggression:Vt.teamProfiles.kkr.aggression,budgetConservation:40},dc:{priorities:{batsmen:80,bowlers:75,allrounders:80,keepers:70,overseas:75},aggression:Vt.teamProfiles.dc.aggression,budgetConservation:45},rr:{priorities:{batsmen:75,bowlers:80,allrounders:85,keepers:65,overseas:70},aggression:Vt.teamProfiles.rr.aggression,budgetConservation:50},pbks:{priorities:{batsmen:85,bowlers:70,allrounders:75,keepers:60,overseas:80},aggression:Vt.teamProfiles.pbks.aggression,budgetConservation:30},gt:{priorities:{batsmen:70,bowlers:85,allrounders:90,keepers:60,overseas:75},aggression:Vt.teamProfiles.gt.aggression,budgetConservation:45},srh:{priorities:{batsmen:70,bowlers:90,allrounders:75,keepers:60,overseas:85},aggression:Vt.teamProfiles.srh.aggression,budgetConservation:40},lsg:{priorities:{batsmen:80,bowlers:80,allrounders:85,keepers:70,overseas:80},aggression:Vt.teamProfiles.lsg.aggression,budgetConservation:35}};return i.forEach(o=>{const m=c[o.id]||{priorities:{batsmen:70,bowlers:70,allrounders:70,keepers:70,overseas:70},aggression:65,budgetConservation:45};d[o.id]={teamId:o.id,priorities:m.priorities,aggression:m.aggression,budgetConservation:m.budgetConservation,targetPlayers:[]}}),d}function no(i,d,c){if(i.remainingPurse<d)return!1;const m=(c.minSquadSize-i.squadSize-1)*dt.MIN_RESERVE_PER_SLOT;return!(i.remainingPurse-d<m)}function Y0(i,d){return i.overseasCount<d.maxOverseas}function X0(i,d){return i.squadSize>=d.maxSquadSize}function Zg(i,d){return i.squadSize>=d.minSquadSize}function io(i,d,c){const o=d.flatMap(m=>m.squad);return i.filter(m=>!o.includes(m.id)).map(m=>({player:m,isUnsold:c.includes(m.id),basePrice:$l(m)})).sort((m,f)=>m.isUnsold!==f.isUnsold?m.isUnsold?-1:1:m.basePrice-f.basePrice)}function ro(i,d,c,o){if(i.squadSize>=o.maxSquadSize)return{canPick:!1,reason:"Squad is full (25 players)"};if(d.contract.isOverseas&&i.overseasCount>=dt.MAX_OVERSEAS)return{canPick:!1,reason:"Overseas limit reached (8 players)"};if(i.remainingPurse<dt.MIN_RESERVE_PER_SLOT&&i.squadSize<o.minSquadSize)return{canPick:!0,isFreePickup:!0};const x=Math.max(0,o.minSquadSize-i.squadSize-1)*dt.MIN_RESERVE_PER_SLOT;return i.remainingPurse<c+x?{canPick:!1,reason:"Insufficient budget"}:{canPick:!0}}function N0(i,d,c){const o=[];let m=i.squadSize,f=i.remainingPurse,x=i.overseasCount;const b=[...d].sort((g,h)=>g.basePrice-h.basePrice);for(const{player:g,basePrice:h}of b){if(m>=c.minSquadSize)break;if(g.contract.isOverseas&&x>=dt.MAX_OVERSEAS)continue;if(f<dt.MIN_RESERVE_PER_SLOT){o.push(g.id),m++,g.contract.isOverseas&&x++;continue}const E=Math.max(0,c.minSquadSize-m-1)*dt.MIN_RESERVE_PER_SLOT;f>=h+E&&(o.push(g.id),m++,f-=h,g.contract.isOverseas&&x++)}return o}function Dt(i){if(i>=100){const d=i/100;return`${d.toFixed(d%1===0?0:2)} Cr`}return`${i}L`}function Os(i){return i>=100?`${(i/100).toFixed(1)}Cr`:`${i}L`}function $g(i){return i<23?"under23":i<26?"age23to26":i<30?"age26to30":i<35?"age30to34":"over35"}function Q0(i){const d=$g(i);return Vt.ageFactors[d]}function Pg(i){const d=i;return Vt.roleMultipliers[d]??1}function Kg(i){return i>=85?200:i>=75?150:i>=65?100:i>=55?75:i>=45?50:30}function Ig(i){return i>=200?"tier200":i>=150?"tier150":i>=100?"tier100":i>=75?"tier75":"tier50"}function Fg(i,d,c,o){let m=Math.min(60,i*.6);d==="allrounder"&&(m+=15),d==="bowler"&&(m+=10),d==="batsman"&&(m+=5);const f=Q0(o);return m*=f,c&&i>=70&&(m+=10),Math.min(100,Math.max(0,m))}function Jg(i){const d=Cn(i),c=Kg(d),o=Pg(i.role),m=i.contract.isOverseas?Vt.overseasMultiplier:1,f=Q0(i.age),x=Ig(c),b=Vt.basePriceMultipliers[x],g=o*m*f,h=c*b.median*g,v=c,p=c*b.p90*g,E=Fg(d,i.role,i.contract.isOverseas,i.age);return{baseValue:d,basePrice:c,marketValue:Math.round(h),priceRange:{floor:v,expected:Math.round(c*b.median*g),ceiling:Math.round(p)},demandScore:E,multipliers:{role:o,overseas:m,age:f,tier:b.median}}}function V0(i){const d=i.toLowerCase();return Vt.teamProfiles[d]??{aggression:70,overseasPref:.75,marqueeBonus:1.15}}function Wg(i){return .05+i/100*.9}function ex(i,d,c,o,m){const f=m.settings;if(!ax(i,c,o,f))return{shouldBid:!1,maxBid:0,urgency:0,reason:"Cannot bid - constraints"};const x=Jg(c),b=Wg(x.demandScore),g=lx(i,c,d),h=V0(i.teamId),v=c.contract.isOverseas?i.overseasCount>=6?.3+h.overseasPref*.2:i.overseasCount>=4?.6+h.overseasPref*.3:1:1,p=tx(x,i,d,g,f);if(Pl(o.currentBid)>p)return{shouldBid:!1,maxBid:p,urgency:0,reason:"Price exceeds max bid"};if(d.targetPlayers.includes(c.id))return{shouldBid:!0,maxBid:p*h.marqueeBonus,urgency:95,reason:"Target player"};const S=o.currentBid/Math.max(p,1),j=Math.max(.3,1-S*.7),N=Math.max(.5,1-o.bidHistory.length*.05),w=1+(h.aggression-50)/200,A=Math.min(.95,b*g*v*j*N*w),k=Math.random()<A,O=nx(i,c,d,f,x.baseValue);return{shouldBid:k,maxBid:p,urgency:O,reason:k?`Value: ${x.baseValue.toFixed(0)}, Market: ${x.marketValue}L`:"Passing"}}function tx(i,d,c,o,m){let f=i.priceRange.ceiling;const x=V0(d.teamId),b=.85+x.aggression/100*.3,g=1.15-c.budgetConservation/100*.3,h=1+(o-1)*.2,v=i.baseValue>=80?x.marqueeBonus:1;m.minSquadSize-d.squadSize;const p=sx(d,m),E=d.remainingPurse*p,S=f*b*g*h*v;return Math.min(S,E)}function ax(i,d,c,o){if(i.hasPassedCurrentPlayer||X0(i,o)||d.contract.isOverseas&&!Y0(i,o))return!1;const m=Pl(c.currentBid);return!!no(i,m,o)}function lx(i,d,c){const o={batsman:6,bowler:6,allrounder:4,keeper:2},m={batsman:Math.max(0,o.batsman-i.batsmen),bowler:Math.max(0,o.bowler-i.bowlers),allrounder:Math.max(0,o.allrounder-i.allrounders),keeper:Math.max(0,o.keeper-i.keepers)};let f=1;const x=c.priorities[d.role==="keeper"?"keepers":`${d.role}s`]/100;switch(d.role){case"batsman":f=1+m.batsman/o.batsman*x;break;case"bowler":f=1+m.bowler/o.bowler*x;break;case"allrounder":f=1.2+m.allrounder/o.allrounder*x;break;case"keeper":f=i.keepers===0?2:1+m.keeper/o.keeper*x;break}const b=18-i.squadSize;return b<=5&&b>0&&(f*=1+(5-b)*.1),Math.min(2.5,f)}function sx(i,d){const c=d.minSquadSize-i.squadSize;return c<=1?.9:c<=3?.7:c<=6?.5:c<=10?.35:.25}function nx(i,d,c,o,m){let f=30+m*.4;c.targetPlayers.includes(d.id)&&(f+=25),{batsman:i.batsmen<4,bowler:i.bowlers<4,allrounder:i.allrounders<2,keeper:i.keepers<1}[d.role]&&(f+=15);const b=o.minSquadSize-i.squadSize;return b<=5&&(f+=(5-b)*4),f+=(c.aggression-50)*.2,Math.min(100,Math.max(0,f))}function Z0(i,d,c){const o=i.currentPlayer;if(!o)return[];const m=d.find(x=>x.id===o.playerId);if(!m)return[];const f=[];return Object.entries(i.teamStates).forEach(([x,b])=>{if(x===c||x===o.currentBidder)return;const g=i.aiStrategies[x];if(!g)return;const h=ex(b,g,m,o,i);h.shouldBid&&f.push({teamId:x,decision:h})}),f.sort((x,b)=>b.decision.urgency-x.decision.urgency)}function $0(i){if(i.length===0)return null;const d=i.reduce((o,m)=>o+m.decision.urgency,0);if(d===0)return i[Math.floor(Math.random()*i.length)].teamId;let c=Math.random()*d;for(const o of i)if(c-=o.decision.urgency,c<=0)return o.teamId;return i[0].teamId}function ix(i,d,c){const o=i.currentPlayer;if(!o)return{soldTo:null,finalBid:0,bidHistory:null};let m=0;const f=100;for(;m<f;){const x=Z0(i,d,c);if(x.length===0)break;const b=$0(x);if(!b)break;const g=Pl(o.currentBid);o.currentBid=g,o.currentBidder=b,o.bidHistory.push({teamId:b,amount:g,timestamp:Date.now(),isRTM:!1}),i.teamStates[b]&&Object.keys(i.teamStates).forEach(v=>{v!==b&&(i.teamStates[v].hasPassedCurrentPlayer=!1)}),m++}return{soldTo:o.currentBidder,finalBid:o.currentBid,bidHistory:o}}const j0=()=>{const i="ABCDEFGHJKLMNPQRSTUVWXYZ23456789";let d="";for(let c=0;c<4;c++)d+=i.charAt(Math.floor(Math.random()*i.length));return`BETA-${d}`},lo={initialized:!1,testerId:"",startMode:"real-squads",currentDate:new Date().toISOString().split("T")[0],season:1,phase:"season",matchDay:1,manager:{name:"",reputation:50,identity:{tacticalStyle:"balanced",youthFocus:50,manManagement:50},history:{seasonsManaged:0,titlesWon:0,playoffAppearances:0}},playerTeamId:"",teams:[],players:[],fixtures:[],pointsTable:[],activeEvents:[],pressHeat:30,lastMeetingMatchDay:0,releasedPlayers:[],unsoldPlayers:[]},S0={currentScreen:"home",selectedPlayerId:null,selectedMatchId:null,selectedEventId:null,simulationSpeed:"over-by-over",modalStack:[]},rx=null,cx=null,Ze=fg()(Ag((i,d)=>({...lo,...S0,auctionState:rx,liveMatchState:cx,initializeGame:(c,o,m)=>{const f=m==="real-squads"?"season":"auction";i({initialized:!0,testerId:j0(),startMode:m,playerTeamId:c,manager:{...lo.manager,name:o},currentDate:"2025-03-22",season:1,phase:f,matchDay:1,liveMatchState:null,auctionState:null,selectedMatchId:null});const b=d().teams.map(g=>({teamId:g.id,played:0,won:0,lost:0,noResult:0,points:0,netRunRate:0}));if(i({pointsTable:b}),m==="mini-auction"||m==="mega-auction"){const g=m==="mini-auction"?"mini":"mega";d().initializeAuction(g)}},resetGame:()=>{i({...lo,...S0})},navigateTo:c=>{i({currentScreen:c})},selectPlayer:c=>{i({selectedPlayerId:c,currentScreen:c?"player-detail":d().currentScreen})},selectMatch:c=>{i({selectedMatchId:c})},selectEvent:c=>{i({selectedEventId:c,currentScreen:c?"event":d().currentScreen})},setSimulationSpeed:c=>{i({simulationSpeed:c})},openPlayerModal:(c,o=!1)=>{i(m=>({modalStack:o?[...m.modalStack,{type:"player",id:c}]:[{type:"player",id:c}]}))},openTeamModal:(c,o=!1)=>{i(m=>({modalStack:o?[...m.modalStack,{type:"team",id:c}]:[{type:"team",id:c}]}))},closeModal:()=>{i(c=>({modalStack:c.modalStack.slice(0,-1)}))},closeAllModals:()=>{i({modalStack:[]})},updatePlayer:(c,o)=>{i(m=>({players:m.players.map(f=>f.id===c?{...f,...o}:f)}))},updatePlayerState:(c,o)=>{i(m=>({players:m.players.map(f=>f.id!==c?f:{...f,form:Math.max(-20,Math.min(20,o.form??f.form)),fitness:Math.max(0,Math.min(100,o.fitness??f.fitness)),morale:Math.max(0,Math.min(100,o.morale??f.morale)),fatigue:Math.max(0,Math.min(100,o.fatigue??f.fatigue))})}))},updateTeam:(c,o)=>{i(m=>({teams:m.teams.map(f=>f.id===c?{...f,...o}:f)}))},setCaptain:(c,o)=>{i(m=>({teams:m.teams.map(f=>f.id===c?{...f,captain:o}:f)}))},setViceCaptain:(c,o)=>{i(m=>({teams:m.teams.map(f=>f.id===c?{...f,viceCaptain:o}:f)}))},setMatchTactics:(c,o,m)=>{i(f=>({fixtures:f.fixtures.map(x=>x.id!==c?x:x.homeTeam===o?{...x,homeTactics:m}:x.awayTeam===o?{...x,awayTactics:m}:x)}))},updateMatch:(c,o)=>{i(m=>({fixtures:m.fixtures.map(f=>f.id===c?{...f,...o}:f)}))},updatePointsTable:c=>{i({pointsTable:c})},simulateBackgroundMatches:()=>{const{teams:c,playerTeamId:o,pointsTable:m,fixtures:f,players:x}=d(),b=(S,j,N,w)=>{const A=c.find(B=>B.id===S);if(!A)return{batterStats:new Map,fallOfWickets:[]};const k=x.filter(B=>A.squad.includes(B.id)).slice(0,11),O=new Map,W=[],_=Math.min(N+2,11),ne=k.slice(0,_);let R=j,G=w*6,ue=0;return ne.forEach((B,ae)=>{const J=ae===ne.length-1,V=ae>=N,fe=J?R:Math.floor(R*(.3-ae*.02)*(.8+Math.random()*.4)),se=Math.max(0,Math.min(fe,R));R-=se;const z=J?G:Math.floor(G*(.25-ae*.015)*(.8+Math.random()*.4)),P=Math.max(1,Math.min(z,G));G-=P;const ge=(P>0?se/P*100:0)>150?Math.floor(se/30):Math.floor(se/50),Y=Math.floor((se-ge*6)/10);if(O.set(B.id,{runs:se,balls:P,fours:Y,sixes:ge}),!V&&ae<N){ue+=se;const M=Math.round(w*(ae+1)/_*10)/10;W.push({player:B.id,runs:ue,overs:Math.min(M,w)})}}),{batterStats:O,fallOfWickets:W}},g=(S,j,N,w)=>{const A=c.find(G=>G.id===S);if(!A)return new Map;const O=x.filter(G=>A.squad.includes(G.id)).filter(G=>G.role==="bowler"||G.role==="allrounder").slice(0,5),W=new Map;let _=w,ne=j,R=N;return O.forEach((G,ue)=>{const B=ue===O.length-1,ae=B?Math.min(_,4):Math.min(3+Math.floor(Math.random()*2),_,4);_-=ae;const J=B?ne:Math.floor(ne*(ae/w)*(.8+Math.random()*.4));ne-=J;const V=B?R:Math.floor(R*(.3+Math.random()*.2));R=Math.max(0,R-V);const fe=ae>0?J/ae:8,se=Math.floor(ae*6*(fe<7?.4:fe<9?.3:.2));ae>0&&W.set(G.id,{overs:ae,runs:J,wickets:V,dots:se})}),W},v=f.filter(S=>S.status==="upcoming"&&S.matchType==="league"&&S.homeTeam!==o&&S.awayTeam!==o).slice(0,4);if(v.length===0)return;const p=[...m],E=[...f];for(const S of v){const j=c.find(re=>re.id===S.homeTeam),N=c.find(re=>re.id===S.awayTeam);if(!j||!N)continue;const w=j.reputation+Math.random()*30+5,A=N.reputation+Math.random()*30,k=w>A,O=140+Math.floor(Math.random()*60),W=4+Math.floor(Math.random()*5),_=W>=10?17+Math.floor(Math.random()*3):20;let ne,R,G;k?(ne=O+1,R=2+Math.floor(Math.random()*6),G=16+Math.floor(Math.random()*4)):(ne=O-5-Math.floor(Math.random()*35),R=7+Math.floor(Math.random()*4),G=R>=10?15+Math.floor(Math.random()*5):20);const ue=b(S.awayTeam,O,W,_),B=g(S.homeTeam,O,W,_),ae=b(S.homeTeam,ne,R,G),J=g(S.awayTeam,ne,R,G),V={battingTeam:S.awayTeam,bowlingTeam:S.homeTeam,runs:O,wickets:W,overs:_,balls:_*6,currentBatters:["",""],currentBowler:"",overSummaries:[],fallOfWickets:ue.fallOfWickets,batterStats:ue.batterStats,bowlerStats:B},fe={battingTeam:S.homeTeam,bowlingTeam:S.awayTeam,runs:ne,wickets:R,overs:G,balls:G*6,currentBatters:["",""],currentBowler:"",overSummaries:[],fallOfWickets:ae.fallOfWickets,batterStats:ae.batterStats,bowlerStats:J},se=E.findIndex(re=>re.id===S.id);se!==-1&&(E[se]={...E[se],status:"completed",innings1:V,innings2:fe,tossWinner:S.awayTeam,tossDecision:"bat"});const z=k?S.homeTeam:S.awayTeam,P=k?S.awayTeam:S.homeTeam,te=p.find(re=>re.teamId===z),ge=p.find(re=>re.teamId===P),Y=k?G:_,M=k?ne:O,I=k?_:G,de=k?O:ne;if(te){te.played+=1,te.won+=1,te.points+=2;const re=M/Y-de/I;te.netRunRate+=re*.1}if(ge){ge.played+=1,ge.lost+=1;const re=de/I-M/Y;ge.netRunRate+=re*.1}}p.forEach(S=>{S.netRunRate=Math.round(S.netRunRate*1e3)/1e3}),i({fixtures:E,pointsTable:p})},checkAndStartPlayoffs:()=>{const{fixtures:c,pointsTable:o,playerTeamId:m,phase:f}=d();if(f!=="season"||!c.filter(j=>j.matchType==="league").filter(j=>j.homeTeam===m||j.awayTeam===m).every(j=>j.status==="completed"))return!1;const h=[...o].sort((j,N)=>N.points!==j.points?N.points-j.points:N.netRunRate-j.netRunRate),v=h.slice(0,4).map(j=>j.teamId);if(h.findIndex(j=>j.teamId===m)+1>4)return i({phase:"off-season"}),!1;const E=Zl(v[0],v[1],"qualifier1",6),S=Zl(v[2],v[3],"eliminator",7);return i({phase:"playoffs",fixtures:[...c,E,S]}),!0},progressPlayoffs:(c,o,m)=>{const{fixtures:f,playerTeamId:x,teams:b}=d(),g=f.find(j=>j.id===c);if(!g)return;let h=[...f];const v=new Set(h.map(j=>j.matchType)),p=j=>{const N=b.find(_=>_.id===j.homeTeam),w=b.find(_=>_.id===j.awayTeam),A=(N?.reputation||50)+Math.random()*30,k=(w?.reputation||50)+Math.random()*30,O=A>k?j.homeTeam:j.awayTeam,W=O===j.homeTeam?j.awayTeam:j.homeTeam;return h=h.map(_=>_.id===j.id?{..._,status:"completed"}:_),{winner:O,loser:W}},E=j=>j.homeTeam!==x&&j.awayTeam!==x,S=j=>!j.innings1||!j.innings2?null:j.innings2.runs>=j.innings1.runs+1?j.innings2.battingTeam:j.innings1.battingTeam;if(g.matchType==="qualifier1"){const j=h.find(N=>N.matchType==="eliminator"&&N.status==="upcoming");if(j&&E(j)){const N=p(j);if(!v.has("qualifier2")){const w=Zl(m,N.winner,"qualifier2",8);if(E(w)){h=[...h,{...w,status:"upcoming"}];const A=h.find(k=>k.matchType==="qualifier2");if(A){const k=p(A),O=Zl(o,k.winner,"final",9);h=[...h,O]}}else h=[...h,w]}}else if(j){i({fixtures:h});return}}else if(g.matchType==="eliminator"){if(m===x){i({fixtures:h,phase:"off-season"});return}const j=h.find(N=>N.matchType==="qualifier1"&&N.status==="completed");if(j){const w=S(j)===j.homeTeam?j.awayTeam:j.homeTeam;if(!v.has("qualifier2")){const A=Zl(w,o,"qualifier2",8);h=[...h,A]}}}else if(g.matchType==="qualifier2"){if(m===x){i({fixtures:h,phase:"off-season"});return}const j=h.find(N=>N.matchType==="qualifier1"&&N.status==="completed");if(j&&!v.has("final")){const N=S(j)||j.homeTeam,w=Zl(N,o,"final",9);h=[...h,w]}}else if(g.matchType==="final"){i({fixtures:h,phase:"off-season"});return}i({fixtures:h})},isSeasonComplete:()=>{const{phase:c,fixtures:o}=d();return c==="off-season"?!0:o.find(f=>f.matchType==="final")?.status==="completed"},getSeasonResult:()=>{const{fixtures:c,pointsTable:o,playerTeamId:m,phase:f}=d(),b=[...o].sort((h,v)=>v.points!==h.points?v.points-h.points:v.netRunRate-h.netRunRate).findIndex(h=>h.teamId===m)+1,g=c.find(h=>h.matchType==="final"&&h.status==="completed");if(g){const h=g.innings2&&g.innings1?g.innings2.runs>=g.innings1.runs+1?g.innings2.battingTeam:g.innings1.battingTeam:null,v=h===g.homeTeam?g.awayTeam:g.homeTeam;return{champion:h,runnerUp:v,playerFinish:h===m?1:v===m?2:b}}if(f==="off-season"){const h=c.find(p=>p.matchType==="eliminator"&&p.status==="completed"&&(p.homeTeam===m||p.awayTeam===m));if(h&&h.innings1&&h.innings2&&(h.innings2.runs>=h.innings1.runs+1?h.innings2.battingTeam:h.innings1.battingTeam)!==m)return{champion:null,runnerUp:null,playerFinish:4};const v=c.find(p=>p.matchType==="qualifier2"&&p.status==="completed"&&(p.homeTeam===m||p.awayTeam===m));return v&&v.innings1&&v.innings2&&(v.innings2.runs>=v.innings1.runs+1?v.innings2.battingTeam:v.innings1.battingTeam)!==m?{champion:null,runnerUp:null,playerFinish:3}:{champion:null,runnerUp:null,playerFinish:b}}return null},isMegaAuctionYear:c=>c%3===1,processSeasonEnd:()=>{const{players:c,teams:o,playerTeamId:m,getSeasonResult:f,manager:x}=d(),b=f(),g={...x.history};g.seasonsManaged+=1,b?.champion===m&&(g.titlesWon+=1),b&&b.playerFinish<=4&&(g.playoffAppearances+=1);const h=c.map(S=>({...S,age:S.age+1,contract:{...S.contract,yearsRemaining:Math.max(0,S.contract.yearsRemaining-1)},form:Math.round(S.form*.3),fitness:70+Math.floor(Math.random()*10),morale:60+Math.floor(Math.random()*10),fatigue:0,lastTalkedMatchDay:0})),v=c.filter(S=>S.contract.yearsRemaining===1).map(S=>S.id),p=o.flatMap(S=>S.squad),E=c.filter(S=>!p.includes(S.id)).map(S=>S.id);i({players:h,manager:{...x,history:g},phase:"off-season",releasedPlayers:v,unsoldPlayers:[...d().unsoldPlayers,...E]})},startNextSeason:()=>{const{season:c,processSeasonEnd:o,isMegaAuctionYear:m,navigateTo:f}=d();o();const x=c+1,b=m(x);i({season:x}),f(b?"auction":"release-phase")},releasePlayer:c=>{const{releasedPlayers:o}=d();o.includes(c)||i({releasedPlayers:[...o,c]})},confirmReleases:()=>{const{releasedPlayers:c,teams:o,players:m,playerTeamId:f,unsoldPlayers:x}=d(),b=o.map(v=>({...v,squad:v.squad.filter(p=>!c.includes(p))})),g=m.map(v=>c.includes(v.id)?{...v,contract:{...v.contract,yearsRemaining:0}}:v),h=[...new Set([...c,...x])];i({teams:b,players:g,unsoldPlayers:h}),d().initializeAuction("mini","bidding"),d().navigateTo("auction")},resetForNewSeason:()=>{const{teams:c,players:o,season:m,playerTeamId:f}=d();wg(async()=>{const{generateFixtures:x}=await Promise.resolve().then(()=>qg);return{generateFixtures:x}},void 0).then(({generateFixtures:x})=>{const b=x(f),g=c.map(h=>({teamId:h.id,played:0,won:0,lost:0,noResult:0,points:0,netRunRate:0}));i({fixtures:b,pointsTable:g,matchDay:1,phase:"season",activeEvents:[],pressHeat:30,lastMeetingMatchDay:0,releasedPlayers:[]})})},addEvent:c=>{i(o=>({activeEvents:[...o.activeEvents,c]}))},resolveEvent:(c,o)=>{const m=d().activeEvents.find(x=>x.id===c);if(!m)return;const f=m.options.find(x=>x.id===o);f&&(d().applyEventEffects(f),i(x=>({activeEvents:x.activeEvents.map(b=>b.id===c?{...b,resolved:!0,chosenOption:o}:b)})))},applyEventEffects:c=>{c.effects.forEach(o=>{if(o.target==="player"&&o.targetId){const m=d().getPlayer(o.targetId);if(m){const f=m[o.attribute];d().updatePlayerState(o.targetId,{[o.attribute]:Math.max(0,Math.min(100,f+o.change))})}}else if(o.target==="team"){if(o.attribute==="pressHeat")i(m=>({pressHeat:Math.max(0,Math.min(100,m.pressHeat+o.change))}));else if(o.attribute==="boardPatience"){const{playerTeamId:m}=d();i(f=>({teams:f.teams.map(x=>x.id===m?{...x,boardPatience:Math.max(0,Math.min(100,(x.boardPatience||50)+o.change))}:x)}))}else if(o.attribute==="morale"){const{playerTeamId:m,teams:f}=d(),x=f.find(b=>b.id===m);x&&i(b=>({players:b.players.map(g=>x.squad.includes(g.id)?{...g,morale:Math.max(0,Math.min(100,g.morale+o.change))}:g)}))}}})},generatePostMatchEvent:c=>{const{players:o,playerTeamId:m,teams:f,fixtures:x,pressHeat:b}=d(),g=f.find(j=>j.id===m);if(!g)return;const h=o.filter(j=>g.squad.includes(j.id)),p=x.filter(j=>j.status==="completed"&&(j.homeTeam===m||j.awayTeam===m)).slice(-5).map(j=>{if(!j.innings1||!j.innings2)return"loss";const N=j.innings1.battingTeam;return j.innings2.runs>=j.innings1.runs+1?j.innings2.battingTeam===m?"win":"loss":N===m?"win":"loss"});p.push(c?"win":"loss");const E=Math.round(h.reduce((j,N)=>j+N.morale,0)/h.length),S=Hg(h,p,E,g.boardPatience||50,b);S&&i(j=>({activeEvents:[...j.activeEvents,S]}))},advanceDay:()=>{i(c=>{const o=new Date(c.currentDate);o.setDate(o.getDate()+1);const m=c.players.map(f=>{let x=f.form;return f.form>0?x=Math.max(0,f.form-.5):f.form<0&&(x=Math.min(0,f.form+.5)),{...f,fatigue:Math.max(0,f.fatigue-8),fitness:Math.min(100,f.fitness+3),form:Math.round(x*10)/10}});return{currentDate:o.toISOString().split("T")[0],players:m}})},advanceToNextMatch:()=>{i(c=>({matchDay:c.matchDay+1})),d().advanceDay(),d().advanceDay(),d().advanceDay()},canHoldTeamMeeting:()=>{const{matchDay:c,lastMeetingMatchDay:o}=d();return c-o>=3},getTeamMeetingOptions:()=>{const{fixtures:c,playerTeamId:o,matchDay:m}=d(),f=c.filter(v=>v.status==="completed"&&(v.homeTeam===o||v.awayTeam===o)).slice(-3),x=c.some(v=>v.status==="upcoming"&&(v.homeTeam===o||v.awayTeam===o)),b=f.filter(v=>!v.innings1||!v.innings2?!1:(v.innings2.runs>=v.innings1.runs+1?v.innings2.battingTeam:v.innings1.battingTeam)===o).length,g=f.length-b,h=[];return x&&(h.push({id:"rally",type:"pre-match",label:`"Let's go out there and win this!"`,description:"Fire up the squad before the next match",baseMoraleDelta:6}),h.push({id:"focus",type:"pre-match",label:'"Stay focused, stick to the plan"',description:"Calm, tactical approach to the upcoming match",baseMoraleDelta:3})),b>0&&h.push({id:"celebrate",type:"post-win",label:'"Great work, but stay hungry"',description:"Acknowledge success while maintaining focus",baseMoraleDelta:5}),g>=2?(h.push({id:"crisis-calm",type:"crisis",label:`"We've been through rough patches before"`,description:"Reassure the squad, reduce panic",baseMoraleDelta:4}),h.push({id:"crisis-demand",type:"crisis",label:'"This is not good enough!"',description:"Demand better from everyone (risky with some players)",baseMoraleDelta:-2})):g>0&&h.push({id:"bounce-back",type:"post-loss",label:'"Forget that loss, we go again"',description:"Move on quickly from the setback",baseMoraleDelta:4}),h.push({id:"general",type:"pre-match",label:'"I believe in every one of you"',description:"General motivational address",baseMoraleDelta:4}),h},holdTeamMeeting:c=>{const{playerTeamId:o,teams:m,players:f,matchDay:x}=d(),b=m.find(S=>S.id===o);if(!b)return{success:!1,message:"Team not found",avgMoraleChange:0,notableReactions:[]};const g=f.filter(S=>b.squad.includes(S.id)),h=[];let v=0;g.forEach(S=>{let j=c.baseMoraleDelta;c.type==="crisis"&&c.id==="crisis-demand"?S.personality.temperament==="fiery"?Math.random()<.3?(j=-8,h.push({playerName:S.shortName,reaction:"Looked angry. May have taken it personally."})):(j=3,h.push({playerName:S.shortName,reaction:"Fired up! Ready to prove you wrong."})):S.personality.temperament==="calm"?j=2:j=Math.random()<.5?-4:4:(c.type==="post-win"||c.type==="pre-match")&&(S.personality.professionalism>70?j=Math.round(j*.7):S.personality.ambition>70&&(j=Math.round(j*1.2))),j=Math.max(-10,Math.min(10,j)),v+=j,d().updatePlayerState(S.id,{morale:Math.max(0,Math.min(100,S.morale+j))})});const p=g.length>0?Math.round(v/g.length):0;i({lastMeetingMatchDay:x});let E="";return p>3?E="The squad is fired up and ready to go!":p>0?E="The team seems motivated after your address.":p<-2?E="Some players didn't take that well...":E="The team listened but reactions were mixed.",{success:p>=0,message:E,avgMoraleChange:p,notableReactions:h.slice(0,3)}},initializeAuction:(c,o)=>{const{teams:m,players:f,playerTeamId:x,unsoldPlayers:b,releasedPlayers:g}=d(),h=Yg(c),v={};m.forEach(w=>{v[w.id]=Qg(w,f,c,0)});const p=c==="mini"?[...new Set([...b,...g])]:[],E=v0(c,f,m,[],p),S=Vg(m);let j;o?j=o:c==="mega"?j="retention_phase":j="release_phase",i({auctionState:{status:j,settings:h,auctionType:c,currentPlayer:null,auctionPool:E,soldPlayers:[],unsoldPlayers:[],teamStates:v,aiStrategies:S,bidTimer:15,bidTimerDefault:15,currentSet:1,playersInCurrentSet:0,totalPlayersAuctioned:0,playerMode:"active",rtmPhase:!1,rtmTeamId:null},phase:"auction"})},setRetention:(c,o)=>{const{auctionState:m,playerTeamId:f}=d();if(!m||m.status!=="retention_phase")return;const x=m.teamStates[f];if(!x)return;const b=x.retentions.map(h=>h.slotNumber===o?{...h,playerId:c}:h),g={...x,retentions:b};i({auctionState:{...m,teamStates:{...m.teamStates,[f]:g}}})},removeRetention:c=>{const{auctionState:o,playerTeamId:m}=d();if(!o||o.status!=="retention_phase")return;const f=o.teamStates[m];if(!f)return;const x=f.retentions.map(b=>b.slotNumber===c?{...b,playerId:null}:b);i({auctionState:{...o,teamStates:{...o.teamStates,[m]:{...f,retentions:x}}}})},confirmRetentions:()=>{const{auctionState:c,playerTeamId:o,players:m,teams:f}=d();if(!c||c.status!=="retention_phase")return;const x=[],b={...c.teamStates};Object.entries(b).forEach(([h,v])=>{const p=v.retentions.filter(N=>N.playerId!==null).map(N=>N.playerId);x.push(...p);const E=p.length,S=Lg(E),j=m.filter(N=>p.includes(N.id));b[h]={...v,remainingPurse:dt.TOTAL_PURSE-S,squadSize:p.length,overseasCount:j.filter(N=>N.contract.isOverseas).length,batsmen:j.filter(N=>N.role==="batsman").length,bowlers:j.filter(N=>N.role==="bowler").length,allrounders:j.filter(N=>N.role==="allrounder").length,keepers:j.filter(N=>N.role==="keeper").length}});const g=v0(c.auctionType,m,f,x);i({auctionState:{...c,status:"bidding",auctionPool:g,teamStates:b}})},startBidding:()=>{const{auctionState:c}=d();c&&d().nextPlayer()},placeBid:()=>{const{auctionState:c,playerTeamId:o}=d();if(!c||!c.currentPlayer)return;const m=c.teamStates[o];if(!m)return;const f=Pl(c.currentPlayer.currentBid);if(!no(m,f,c.settings))return;const x={...c.currentPlayer,currentBid:f,currentBidder:o,bidHistory:[...c.currentPlayer.bidHistory,{teamId:o,amount:f,timestamp:Date.now(),isRTM:!1}]},b={...c.teamStates};Object.keys(b).forEach(g=>{g!==o&&(b[g]={...b[g],hasPassedCurrentPlayer:!1})}),i({auctionState:{...c,currentPlayer:x,teamStates:b,bidTimer:c.bidTimerDefault}})},passBid:()=>{const{auctionState:c,playerTeamId:o}=d();if(!c||!c.currentPlayer)return;const m=c.teamStates[o];m&&i({auctionState:{...c,teamStates:{...c.teamStates,[o]:{...m,hasPassedCurrentPlayer:!0}}}})},processAIBidRound:()=>{const{auctionState:c,players:o,playerTeamId:m}=d();if(!c||!c.currentPlayer)return!1;const f=c.playerMode==="active"?m:void 0,x=Z0(c,o,f);if(x.length===0)return!1;const b=$0(x);if(!b)return!1;const g=Pl(c.currentPlayer.currentBid),h={...c.currentPlayer,currentBid:g,currentBidder:b,bidHistory:[...c.currentPlayer.bidHistory,{teamId:b,amount:g,timestamp:Date.now(),isRTM:!1}]},v={...c.teamStates};return Object.keys(v).forEach(p=>{p!==b&&(v[p]={...v[p],hasPassedCurrentPlayer:!1})}),i({auctionState:{...c,currentPlayer:h,teamStates:v,bidTimer:c.bidTimerDefault}}),!0},nextPlayer:()=>{const{auctionState:c}=d();if(!c)return;const o=c.auctionPool.find(x=>x.status==="available");if(!o){d().completeAuction();return}const m=c.auctionPool.map(x=>x.playerId===o.playerId?{...x,status:"current"}:x),f={...c.teamStates};Object.keys(f).forEach(x=>{f[x]={...f[x],hasPassedCurrentPlayer:!1}}),i({auctionState:{...c,currentPlayer:{...o,status:"current"},auctionPool:m,teamStates:f,bidTimer:c.bidTimerDefault,totalPlayersAuctioned:c.totalPlayersAuctioned+1}})},markPlayerSold:()=>{const{auctionState:c,players:o}=d();if(!c||!c.currentPlayer||!c.currentPlayer.currentBidder)return;const m=c.currentPlayer.currentBidder,f={...c.currentPlayer,status:"sold"},x=o.find(v=>v.id===f.playerId),b=c.teamStates[m],g={...b,remainingPurse:b.remainingPurse-f.currentBid,squadSize:b.squadSize+1,overseasCount:b.overseasCount+(x?.contract.isOverseas?1:0),batsmen:b.batsmen+(x?.role==="batsman"?1:0),bowlers:b.bowlers+(x?.role==="bowler"?1:0),allrounders:b.allrounders+(x?.role==="allrounder"?1:0),keepers:b.keepers+(x?.role==="keeper"?1:0)},h=c.auctionPool.map(v=>v.playerId===f.playerId?f:v);i({auctionState:{...c,currentPlayer:null,auctionPool:h,soldPlayers:[...c.soldPlayers,f],teamStates:{...c.teamStates,[m]:g}}})},markPlayerUnsold:()=>{const{auctionState:c}=d();if(!c||!c.currentPlayer)return;const o={...c.currentPlayer,status:"unsold"},m=c.auctionPool.map(f=>f.playerId===o.playerId?o:f);i({auctionState:{...c,currentPlayer:null,auctionPool:m,unsoldPlayers:[...c.unsoldPlayers,o]}})},setAuctionMode:c=>{const{auctionState:o}=d();o&&i({auctionState:{...o,playerMode:c}})},simRestOfAuction:()=>{const{auctionState:c,players:o,playerTeamId:m}=d();if(!c)return;let f={...c};for(;;){const x=f.auctionPool.find(v=>v.status==="available");if(!x)break;const b={...x,status:"current"};f={...f,currentPlayer:b};const g=ix(f,o,m),h={...b,currentBid:g.finalBid,currentBidder:g.soldTo,status:g.soldTo?"sold":"unsold"};if(f.auctionPool=f.auctionPool.map(v=>v.playerId===h.playerId?h:v),g.soldTo){f.soldPlayers=[...f.soldPlayers,h];const v=o.find(E=>E.id===h.playerId),p=f.teamStates[g.soldTo];f.teamStates={...f.teamStates,[g.soldTo]:{...p,remainingPurse:p.remainingPurse-h.currentBid,squadSize:p.squadSize+1,overseasCount:p.overseasCount+(v?.contract.isOverseas?1:0),batsmen:p.batsmen+(v?.role==="batsman"?1:0),bowlers:p.bowlers+(v?.role==="bowler"?1:0),allrounders:p.allrounders+(v?.role==="allrounder"?1:0),keepers:p.keepers+(v?.role==="keeper"?1:0)}}}else f.unsoldPlayers=[...f.unsoldPlayers,h];f.totalPlayersAuctioned++}f.status="completed",f.currentPlayer=null,i({auctionState:f})},completeAuction:()=>{const{auctionState:c,teams:o,players:m,playerTeamId:f}=d();if(!c)return;let x=o.map(j=>{const N=c.teamStates[j.id],w=c.soldPlayers.filter(k=>k.currentBidder===j.id).map(k=>k.playerId);let A;return c.auctionType==="mega"?A=[...N.retentions.filter(O=>O.playerId!==null).map(O=>O.playerId),...w]:A=[...j.squad,...w],{...j,squad:A,budget:N.remainingPurse/100}}),b=m.map(j=>{const N=c.soldPlayers.find(w=>w.playerId===j.id);return N?{...j,contract:{...j.contract,salary:N.currentBid,yearsRemaining:3}}:j});const g=c.unsoldPlayers.map(j=>j.playerId),v=x.filter(j=>j.squad.length<c.settings.minSquadSize).filter(j=>j.id!==f),p={...c.teamStates};for(const j of v){const N=io(b,x,g),w=p[j.id],A=N0(w,N,c.settings);if(A.length>0){const k=x.findIndex(W=>W.id===j.id);x[k]={...x[k],squad:[...x[k].squad,...A]},b=b.map(W=>{if(A.includes(W.id)){const _=$l(W);return{...W,contract:{...W.contract,salary:_,yearsRemaining:3}}}return W});const O=A.reduce((W,_)=>{const ne=b.find(R=>R.id===_);return W+(ne?$l(ne):0)},0);p[j.id]={...w,squadSize:w.squadSize+A.length,remainingPurse:w.remainingPurse-O,overseasCount:w.overseasCount+A.filter(W=>b.find(_=>_.id===W)?.contract.isOverseas).length}}}const E=x.find(j=>j.id===f);E&&E.squad.length<c.settings.minSquadSize?i({teams:x,players:b,auctionState:{...c,status:"squad_fill",teamStates:p},unsoldPlayers:g}):(i({teams:x,players:b,auctionState:{...c,status:"completed",teamStates:p},unsoldPlayers:g}),d().resetForNewSeason())},pickSquadFillPlayer:c=>{const{auctionState:o,teams:m,players:f,playerTeamId:x,unsoldPlayers:b}=d();if(!o||o.status!=="squad_fill")return;const g=f.find(A=>A.id===c);if(!g)return;const h=o.teamStates[x],v=$l(g),{canPick:p,isFreePickup:E}=ro(h,g,v,o.settings);if(!p)return;const S=E?0:v,j=m.map(A=>A.id===x?{...A,squad:[...A.squad,c]}:A),N=f.map(A=>A.id===c?{...A,contract:{...A.contract,salary:S,yearsRemaining:3}}:A),w={...h,squadSize:h.squadSize+1,remainingPurse:h.remainingPurse-S,overseasCount:h.overseasCount+(g.contract.isOverseas?1:0),batsmen:h.batsmen+(g.role==="batsman"?1:0),bowlers:h.bowlers+(g.role==="bowler"?1:0),allrounders:h.allrounders+(g.role==="allrounder"?1:0),keepers:h.keepers+(g.role==="keeper"?1:0)};i({teams:j,players:N,auctionState:{...o,teamStates:{...o.teamStates,[x]:w}}})},autoFillPlayerSquad:()=>{const{auctionState:c,teams:o,players:m,playerTeamId:f,unsoldPlayers:x}=d();if(!c||c.status!=="squad_fill")return;const b=c.teamStates[f],g=io(m,o,x),h=N0(b,g,c.settings);if(h.length===0)return;const v=o.map(_=>_.id===f?{..._,squad:[..._.squad,...h]}:_);let p=b.remainingPurse;const E={};for(const _ of h){const ne=m.find(R=>R.id===_);if(ne){const R=$l(ne),G=p<dt.MIN_RESERVE_PER_SLOT?0:R;E[_]=G,p-=G}}const S=m.map(_=>h.includes(_.id)?{..._,contract:{..._.contract,salary:E[_.id]??0,yearsRemaining:3}}:_);let j=b.squadSize,N=b.remainingPurse,w=b.overseasCount,A=b.batsmen,k=b.bowlers,O=b.allrounders,W=b.keepers;for(const _ of h){const ne=m.find(R=>R.id===_);ne&&(j++,N-=E[_]??0,ne.contract.isOverseas&&w++,ne.role==="batsman"&&A++,ne.role==="bowler"&&k++,ne.role==="allrounder"&&O++,ne.role==="keeper"&&W++)}i({teams:v,players:S,auctionState:{...c,teamStates:{...c.teamStates,[f]:{...b,squadSize:j,remainingPurse:N,overseasCount:w,batsmen:A,bowlers:k,allrounders:O,keepers:W}}}})},completeSquadFill:()=>{const{auctionState:c,resetForNewSeason:o}=d();!c||c.status!=="squad_fill"||(i({auctionState:{...c,status:"completed"}}),o())},canPlayerBid:()=>{const{auctionState:c,playerTeamId:o,players:m}=d();if(!c||!c.currentPlayer)return!1;const f=c.teamStates[o];if(!f||f.hasPassedCurrentPlayer||c.currentPlayer.currentBidder===o||X0(f,c.settings)||m.find(g=>g.id===c.currentPlayer?.playerId)?.contract.isOverseas&&!Y0(f,c.settings))return!1;const b=Pl(c.currentPlayer.currentBid);return!!no(f,b,c.settings)},getNextBidAmountForPlayer:()=>{const{auctionState:c}=d();return!c||!c.currentPlayer?0:Pl(c.currentPlayer.currentBid)},shouldTriggerAuction:()=>{const{season:c,phase:o,startMode:m}=d();if(c===1&&o==="auction"){if(m==="mini-auction")return{trigger:!0,type:"mini"};if(m==="mega-auction")return{trigger:!0,type:"mega"}}return o==="off-season"?{trigger:!0,type:(c-1)%3===0&&c>1?"mega":"mini"}:{trigger:!1,type:"mini"}},loadInitialData:(c,o,m)=>{i({players:c,teams:o,fixtures:m})},canTalkToPlayer:c=>{const{matchDay:o}=d(),m=d().getPlayer(c);if(!m)return!1;const f=m.lastTalkedMatchDay??0;return o-f>=2},getInteractionOptions:c=>{if(!d().getPlayer(c))return[];const m=[];return m.push({id:"praise-performance",category:"praise",label:'"Great job out there"',description:"Acknowledge their recent efforts",baseEffects:{morale:8,form:1}}),m.push({id:"praise-key-player",category:"praise",label:`"You're key to our plans"`,description:"Express how important they are to the team",baseEffects:{morale:12,form:0}}),m.push({id:"correct-improve",category:"correct",label:'"I need more from you"',description:"Push them to do better (risky with some personalities)",baseEffects:{morale:-5,form:3}}),m.push({id:"correct-warning",category:"correct",label:'"This is your last chance"',description:"Issue a warning (high risk, high reward)",baseEffects:{morale:-10,form:5}}),m.push({id:"motivate-big-match",category:"motivate",label:'"Big match coming up, I need you"',description:"Fire them up for an important game",baseEffects:{morale:5,form:2}}),m.push({id:"motivate-patience",category:"motivate",label:'"Your time will come"',description:"Reassure them about future opportunities",baseEffects:{morale:6,form:0}}),m},talkToPlayer:(c,o)=>{const{matchDay:m,pressHeat:f}=d(),x=d().getPlayer(c);if(!x)return{success:!1,message:"Player not found",playerResponse:"",effects:{morale:0,form:0}};let b=o.baseEffects.morale,g=o.baseEffects.form,h=0,v="",p=!0;const{temperament:E,professionalism:S,ambition:j}=x.personality;return o.category==="praise"?S>70?(b=Math.round(b*.7),v=`${x.shortName} nods professionally. "Thanks, but there's still work to do."`):j>70?(b=Math.round(b*1.3),v=`${x.shortName}'s eyes light up. "I knew you noticed! I'm ready to do even more."`):v=`${x.shortName} smiles. "Appreciate the support, boss."`:o.category==="correct"?E==="fiery"?Math.random()<.4?(b=-15,g=-2,h=10,p=!1,v=`${x.shortName} doesn't take it well. "Maybe look at your own decisions first!" The exchange might leak to the press.`):v=`${x.shortName} takes it on the chin, barely. "Fine. I'll show you."`:E==="calm"?(g=Math.round(g*1.5),b=Math.round(b*.5),v=`${x.shortName} listens carefully. "You're right. I'll work on it."`):E==="moody"&&(Math.random()<.3?(b=-12,v=`${x.shortName} walks away silently. Not a good sign.`):v=`${x.shortName} seems to accept the feedback. "Okay."`):o.category==="motivate"&&(j>70&&o.id==="motivate-patience"?(b=Math.round(b*.3),v=`${x.shortName} frowns slightly. "I've been patient long enough..."`):E==="fiery"?(b=Math.round(b*1.3),g=Math.round(g*1.3),v=`${x.shortName} is fired up! "I'm ready. Let's do this!"`):v=`${x.shortName} nods confidently. "Count on me."`),d().updatePlayerState(c,{morale:x.morale+b,form:x.form+g}),i(N=>({players:N.players.map(w=>w.id===c?{...w,lastTalkedMatchDay:m}:w)})),h>0&&i(N=>({pressHeat:Math.min(100,N.pressHeat+h)})),{success:p,message:p?"Conversation completed":"The conversation didn't go well",playerResponse:v,effects:{morale:b,form:g,pressHeat:h>0?h:void 0}}},getPlayer:c=>d().players.find(o=>o.id===c),getTeam:c=>d().teams.find(o=>o.id===c),getMatch:c=>d().fixtures.find(o=>o.id===c),getPlayerTeam:()=>d().teams.find(c=>c.id===d().playerTeamId),getNextMatch:()=>{const{fixtures:c,playerTeamId:o,matchDay:m}=d();return c.find(f=>f.status==="upcoming"&&(f.homeTeam===o||f.awayTeam===o))},getTeamPlayers:c=>{const o=d().getTeam(c);return o?d().players.filter(m=>o.squad.includes(m.id)):[]},getSaveSlots:()=>yo(),saveToSlot:(c,o)=>{const m=d(),x=m.teams.find(h=>h.id===m.playerTeamId)?.name||"Unknown Team",b={initialized:m.initialized,testerId:m.testerId,startMode:m.startMode,currentDate:m.currentDate,season:m.season,phase:m.phase,matchDay:m.matchDay,manager:m.manager,playerTeamId:m.playerTeamId,teams:m.teams,players:m.players,fixtures:m.fixtures,pointsTable:m.pointsTable,activeEvents:m.activeEvents,pressHeat:m.pressHeat,lastMeetingMatchDay:m.lastMeetingMatchDay,releasedPlayers:m.releasedPlayers,unsoldPlayers:m.unsoldPlayers},g=o||`${x} - S${m.season} M${m.matchDay}`;return Eg(c,g,b,m.auctionState,m.liveMatchState,x)},loadFromSlot:c=>{const o=Rg(c);if(!o)return!1;let m="home";return o.liveMatchState?m="match-live":o.gameState.phase==="auction"&&(m="auction"),i({...o.gameState,auctionState:o.auctionState,liveMatchState:o.liveMatchState||null,currentScreen:m,selectedPlayerId:null,selectedMatchId:o.liveMatchState?.matchId||null,selectedEventId:null}),!0},deleteSlot:c=>Cg(c),exportForBugReport:()=>{const c=d(),o={version:"0.8",testerId:c.testerId,timestamp:new Date().toISOString(),gameState:{initialized:c.initialized,testerId:c.testerId,startMode:c.startMode,currentDate:c.currentDate,season:c.season,phase:c.phase,matchDay:c.matchDay,manager:c.manager,playerTeamId:c.playerTeamId,teams:c.teams,players:c.players,fixtures:c.fixtures,pointsTable:c.pointsTable,activeEvents:c.activeEvents,pressHeat:c.pressHeat,lastMeetingMatchDay:c.lastMeetingMatchDay,releasedPlayers:c.releasedPlayers,unsoldPlayers:c.unsoldPlayers},auctionState:c.auctionState,liveMatchState:c.liveMatchState,uiState:{currentScreen:c.currentScreen,selectedMatchId:c.selectedMatchId,selectedPlayerId:c.selectedPlayerId,selectedEventId:c.selectedEventId}};return JSON.stringify(o)},saveLiveMatchState:c=>{i({liveMatchState:c})},clearLiveMatchState:()=>{i({liveMatchState:null})}}),{name:"cricket-manager-save",partialize:i=>({initialized:i.initialized,testerId:i.testerId,startMode:i.startMode,currentDate:i.currentDate,season:i.season,phase:i.phase,matchDay:i.matchDay,manager:i.manager,playerTeamId:i.playerTeamId,teams:i.teams,players:i.players,fixtures:i.fixtures,pointsTable:i.pointsTable,activeEvents:i.activeEvents,pressHeat:i.pressHeat,lastMeetingMatchDay:i.lastMeetingMatchDay,releasedPlayers:i.releasedPlayers,unsoldPlayers:i.unsoldPlayers,auctionState:i.auctionState,liveMatchState:i.liveMatchState}),onRehydrateStorage:()=>i=>{if(i){i.initialized&&!i.testerId&&Ze.setState({testerId:j0()});try{Array.isArray(i.modalStack)||Ze.setState({modalStack:[]}),i.auctionState&&typeof i.auctionState.status!="string"&&(console.warn("Invalid auctionState.status, resetting auction"),Ze.setState({auctionState:null})),i.liveMatchState&&(!i.liveMatchState.matchId||!i.liveMatchState.inningsState)&&(console.warn("Invalid liveMatchState, clearing"),Ze.setState({liveMatchState:null})),Array.isArray(i.pointsTable)||console.warn("Invalid pointsTable, regenerating"),Array.isArray(i.fixtures)||console.warn("Invalid fixtures, this may cause issues")}catch(d){console.error("State migration error:",d)}}}})),ox=[{screen:"home",label:"Home",icon:""},{screen:"squad",label:"Squad",icon:""},{screen:"stats",label:"Stats",icon:""},{screen:"schedule",label:"Schedule",icon:""},{screen:"club",label:"Club",icon:""}],ux=()=>{const{currentScreen:i,navigateTo:d}=Ze();return l.jsx("nav",{className:"fixed bottom-0 left-0 right-0 bg-gray-900 border-t border-gray-800 px-2 py-2 z-50",children:l.jsx("div",{className:"max-w-lg mx-auto flex justify-around",children:ox.map(({screen:c,label:o,icon:m})=>l.jsxs("button",{onClick:()=>d(c),className:`flex flex-col items-center py-2 px-2 rounded-lg transition-all min-w-0
              ${i===c?"text-blue-400 bg-blue-900/30":"text-gray-400 hover:text-gray-200"}`,children:[l.jsx("span",{className:"text-lg",children:m}),l.jsx("span",{className:"text-[10px] mt-1",children:o})]},c))})})},P0="http://localhost:8000",dx=1e4;let zs=!1,co=0;async function w0(){try{const i=new AbortController,d=setTimeout(()=>i.abort(),3e3),c=await fetch(`${P0}/health`,{signal:i.signal});return clearTimeout(d),zs=c.ok,co=Date.now(),zs}catch{return zs=!1,co=Date.now(),!1}}function T0(){return{connected:zs,lastCheck:co}}async function mx(i,d){const c=`${P0}${i}`;try{const o=new AbortController,m=setTimeout(()=>o.abort(),dx),f=await fetch(c,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(d),signal:o.signal});if(clearTimeout(m),!f.ok){const b=await f.text();return{ok:!1,error:{code:f.status>=500?"SERVER_ERROR":"VALIDATION_ERROR",message:b||`HTTP ${f.status}`,status:f.status}}}const x=await f.json();return zs=!0,{ok:!0,data:x}}catch(o){return zs=!1,o instanceof Error&&o.name==="AbortError"?{ok:!1,error:{code:"TIMEOUT",message:"Request timed out"}}:{ok:!1,error:{code:"NETWORK_ERROR",message:o instanceof Error?o.message:"Network error"}}}}const fx=()=>{const[i,d]=le.useState(!1),[c,o]=le.useState(""),[m,f]=le.useState(null),[x,b]=le.useState(null),[g,h]=le.useState(!1),[v,p]=le.useState(!1),[E,S]=le.useState(!1),[j,N]=le.useState(!1),[w,A]=le.useState(null);le.useEffect(()=>{const M=async()=>{await w0();const de=T0();N(de.connected),A(new Date)};M();const I=setInterval(M,3e4);return()=>clearInterval(I)},[]);const{initialized:k,testerId:O,getSaveSlots:W,saveToSlot:_,loadFromSlot:ne,deleteSlot:R,resetGame:G,season:ue,matchDay:B,phase:ae}=Ze(),J=async()=>{try{await navigator.clipboard.writeText(O),p(!0),setTimeout(()=>p(!1),1500)}catch{const M=document.createElement("textarea");M.value=O,document.body.appendChild(M),M.select(),document.execCommand("copy"),document.body.removeChild(M),p(!0),setTimeout(()=>p(!1),1500)}};if(!k)return null;const V=W(),fe=M=>V.find(I=>I.id===M),se=M=>{fe(M)?(f(M),o(`Save ${M}`)):(f(M),o(`Save ${M}`))},z=()=>{m&&(_(m,c||`Save ${m}`)&&(h(!0),setTimeout(()=>h(!1),1500)),f(null),o(""))},P=M=>{ne(M),d(!1)},te=M=>{x===M?(R(M),b(null)):(b(M),setTimeout(()=>b(null),3e3))},ge=()=>{E?(G(),d(!1),S(!1)):(S(!0),setTimeout(()=>S(!1),3e3))},Y=M=>{switch(M){case"auction":return"Auction";case"season":return"Season";case"playoffs":return"Playoffs";case"off-season":return"Off-Season";default:return M}};return l.jsxs(l.Fragment,{children:[l.jsxs("div",{className:"fixed top-4 right-4 z-50 flex items-center gap-2",children:[l.jsxs("div",{className:`flex items-center gap-1.5 px-2 py-1.5 rounded-lg text-xs font-medium transition-colors ${j?"bg-green-900/80 text-green-400 border border-green-700/50":"bg-amber-900/80 text-amber-400 border border-amber-700/50"}`,title:j?"Connected to backend server":"Using offline simulation",children:[l.jsx("span",{className:`w-2 h-2 rounded-full ${j?"bg-green-400 animate-pulse":"bg-amber-400"}`}),l.jsx("span",{className:"hidden sm:inline",children:j?"Online":"Offline"})]}),l.jsx("button",{onClick:()=>d(!0),className:`w-10 h-10 rounded-lg bg-gray-800 border border-gray-700
            flex items-center justify-center hover:bg-gray-700 transition-colors shadow-lg`,title:"Menu",children:l.jsx("span",{className:"text-xl text-gray-300",children:""})})]}),i&&l.jsxs("div",{className:"fixed inset-0 z-[100]",children:[l.jsx("div",{className:"absolute inset-0 bg-black/60",onClick:()=>{d(!1),f(null),b(null)}}),l.jsxs("div",{className:"absolute right-0 top-0 h-full w-80 max-w-[90vw] bg-gray-900 border-l border-gray-700 shadow-2xl overflow-y-auto",children:[l.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-gray-700",children:[l.jsx("h2",{className:"text-lg font-semibold text-white",children:"Save & Load"}),l.jsx("button",{onClick:()=>{d(!1),f(null),b(null)},className:"text-gray-400 hover:text-white text-xl",children:""})]}),l.jsxs("div",{className:`px-4 py-3 text-sm border-b ${j?"bg-green-900/30 border-green-800/50":"bg-amber-900/30 border-amber-800/50"}`,children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("span",{className:`w-2.5 h-2.5 rounded-full ${j?"bg-green-400 animate-pulse":"bg-amber-400"}`}),l.jsx("span",{className:j?"text-green-400":"text-amber-400",children:j?"Backend Connected":"Offline Mode"})]}),l.jsx("button",{onClick:async()=>{await w0();const M=T0();N(M.connected),A(new Date)},className:"text-xs text-gray-500 hover:text-gray-300 px-2 py-1 rounded bg-gray-800/50",children:"Refresh"})]}),l.jsx("p",{className:"text-xs text-gray-500 mt-1",children:j?"Using server for match & event simulation":"Using local engine (start backend for full features)"})]}),l.jsxs("div",{className:"px-4 py-3 bg-gray-800/50 text-sm text-gray-400",children:[l.jsx("div",{className:"flex items-center justify-between mb-1",children:l.jsxs("span",{children:["Season ",ue,"  Match ",B,"  ",Y(ae)]})}),l.jsxs("button",{onClick:J,className:`flex items-center gap-2 text-xs px-2 py-1 rounded transition-colors ${v?"bg-green-900/50 text-green-400":"bg-gray-700/50 text-gray-500 hover:text-gray-300"}`,title:"Click to copy Tester ID",children:[l.jsx("span",{className:"font-mono",children:O||"No ID"}),l.jsx("span",{children:v?" Copied":""})]})]}),g&&l.jsx("div",{className:"mx-4 mt-4 p-3 bg-green-900/50 border border-green-700 rounded-lg text-green-400 text-sm text-center",children:"Game saved successfully!"}),l.jsxs("div",{className:"p-4 border-b border-gray-800",children:[l.jsx("h3",{className:"text-sm font-semibold text-gray-400 mb-3",children:"SAVE GAME"}),l.jsx("div",{className:"space-y-2",children:[1,2,3].map(M=>{const I=fe(M);return m===M?l.jsxs("div",{className:"bg-gray-800 rounded-lg p-3 border border-blue-600",children:[l.jsx("input",{type:"text",value:c,onChange:re=>o(re.target.value),placeholder:`Save ${M}`,className:"w-full bg-gray-700 border border-gray-600 rounded px-3 py-2 text-white text-sm mb-2",autoFocus:!0}),l.jsxs("div",{className:"flex gap-2",children:[l.jsx("button",{onClick:z,className:"flex-1 bg-blue-600 hover:bg-blue-700 text-white py-2 rounded text-sm font-medium",children:I?"Overwrite":"Save"}),l.jsx("button",{onClick:()=>{f(null),o("")},className:"px-3 bg-gray-700 hover:bg-gray-600 text-gray-300 py-2 rounded text-sm",children:"Cancel"})]})]},M):l.jsxs("button",{onClick:()=>se(M),className:"w-full text-left bg-gray-800 hover:bg-gray-750 rounded-lg p-3 transition-colors",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("span",{className:"text-white font-medium",children:["Slot ",M]}),I?l.jsx("span",{className:"text-xs text-gray-500",children:"Overwrite"}):l.jsx("span",{className:"text-xs text-green-500",children:"Empty"})]}),I&&l.jsxs("div",{className:"text-xs text-gray-500 mt-1",children:[I.name,"  ",I.teamName]})]},M)})})]}),l.jsxs("div",{className:"p-4 border-b border-gray-800",children:[l.jsx("h3",{className:"text-sm font-semibold text-gray-400 mb-3",children:"LOAD GAME"}),V.length===0?l.jsx("p",{className:"text-sm text-gray-500 text-center py-4",children:"No saved games"}):l.jsx("div",{className:"space-y-2",children:V.map(M=>l.jsxs("div",{className:"bg-gray-800 rounded-lg p-3",children:[l.jsxs("div",{className:"flex items-center justify-between mb-1",children:[l.jsx("span",{className:"text-white font-medium",children:M.name}),l.jsxs("span",{className:"text-xs text-gray-500",children:["Slot ",M.id]})]}),l.jsxs("div",{className:"text-xs text-gray-400 mb-2",children:[M.teamName,"  S",M.season," M",M.matchDay,"  ",Y(M.phase)]}),l.jsx("div",{className:"text-xs text-gray-500 mb-3",children:po(M.savedAt)}),l.jsxs("div",{className:"flex gap-2",children:[l.jsx("button",{onClick:()=>P(M.id),className:"flex-1 bg-blue-600 hover:bg-blue-700 text-white py-2 rounded text-sm font-medium",children:"Load"}),l.jsx("button",{onClick:()=>te(M.id),className:`px-3 py-2 rounded text-sm font-medium transition-colors ${x===M.id?"bg-red-600 hover:bg-red-700 text-white":"bg-gray-700 hover:bg-gray-600 text-gray-300"}`,children:x===M.id?"Confirm?":"Delete"})]})]},M.id))})]}),l.jsx("div",{className:"p-4",children:l.jsx("button",{onClick:ge,className:`w-full py-3 rounded-lg text-sm font-medium transition-colors ${E?"bg-red-600 hover:bg-red-700 text-white":"bg-gray-800 hover:bg-gray-700 text-gray-300 border border-gray-700"}`,children:E?"Confirm? Current progress will be lost":"New Game"})})]})]})]})},jo=20,oo=6,M0=4,hx={dot:.326,single:.382,two:.065,three:.003,four:.119,six:.053,wicket:.051},gx={powerplay:{boundaryMod:1.08,wicketMod:.76,runRate:7.5},middle:{boundaryMod:.85,wicketMod:.89,runRate:7.8},death:{boundaryMod:1.23,wicketMod:1.78,runRate:9.8}},xx={aggressive:{boundaryMod:1.25,wicketMod:1.1},balanced:{boundaryMod:1,wicketMod:1},cautious:{boundaryMod:.75,wicketMod:.9}},K0={"good-length":{boundaryMod:1,wicketMod:1,dotMod:1,skillType:"accuracy",minSkill:0},short:{boundaryMod:1.3,wicketMod:1.08,dotMod:.85,skillType:"speed",minSkill:65},yorkers:{boundaryMod:.7,wicketMod:1.05,dotMod:1.3,skillType:"accuracy",minSkill:70},"full-pitched":{boundaryMod:1.15,wicketMod:1.1,dotMod:.95,skillType:"accuracy",minSkill:50}},I0={attacking:{boundaryMod:1.25,wicketMod:1.1,catchMod:1.15,runOutMod:.9},balanced:{boundaryMod:1,wicketMod:1,catchMod:1,runOutMod:1},defensive:{boundaryMod:.7,wicketMod:.9,catchMod:.85,runOutMod:1.1},"death-field":{boundaryMod:.6,wicketMod:.95,catchMod:1.05,runOutMod:1.15}},ks=60,A0={new:6,settling:15},bx={new:{boundaryMod:.78,wicketMod:.9,dotMod:1.3,singleMod:.88},settling:{boundaryMod:1.12,wicketMod:1.01,dotMod:.97,singleMod:.98},set:{boundaryMod:1.11,wicketMod:1.08,dotMod:.74,singleMod:1.13}},E0={pace:{powerplay:.495,middle:.274,death:.231},spin:{powerplay:.228,middle:.659,death:.113}},yx=i=>{let d=1,c=1,o=1;return i.recentWickets>=3?(d*=.738,c*=1.38,o*=1.096):i.recentWickets===2?(d*=.834,c*=1.12,o*=1.054):i.recentWickets===1?(d*=.935,c*=1.026,o*=.967):(d*=1.058,c*=.958,o*=1.008),i.bowlerWickets>=3?(d*=.92,c*=1.1):i.bowlerWickets>=2&&(d*=.96,c*=1.05),i.partnershipRuns>=100?(d*=1.424,c*=1.233,o*=.572):i.partnershipRuns>=75?(d*=1.21,c*=1.178,o*=.624):i.partnershipRuns>=50?(d*=1.143,c*=1.111,o*=.732):i.partnershipRuns>=30?(d*=1.188,c*=1.056,o*=.811):i.partnershipRuns>=20?(d*=1.13,c*=1.037,o*=.87):i.partnershipRuns>=10?(d*=1.071,c*=1.017,o*=.957):(d*=.816,c*=.925,o*=1.202),i.recentRuns>=15?(d*=1.345,c*=1.227):i.recentRuns>=8?(d*=1.08,c*=1.049):i.recentRuns>=3?(d*=.911,c*=.959):(d*=.819,c*=.831),i.recentBoundaries>=3?(d*=1.334,c*=1.128):i.recentBoundaries===2?(d*=1.143,c*=1.018):i.recentBoundaries===1?(d*=1.001,c*=1.018):(d*=.858,c*=.947),i.recentDots>=5?(d*=.865,c*=.889):i.recentDots===4?(d*=.917,c*=.894):i.recentDots===3?(d*=.95,c*=.971):i.recentDots===2?(d*=1.016,c*=1.005):i.recentDots===1?(d*=1.068,c*=1.069):(d*=1.08,c*=1.078),{boundaryMod:d,wicketMod:c,dotMod:o}},px=i=>i<A0.new?"new":i<A0.settling?"settling":"set",So=i=>i<6?"powerplay":i<16?"middle":"death",F0=(i,d)=>{const c=i.overs,o=i.fallOfWickets.filter(A=>A.overs>=c-3).length,f=i.bowlerStats.get(d)?.wickets??0,x=i.overSummaries.slice(-3),b=x.reduce((A,k)=>A+k.runs,0),g=x.length||1,h=b/g*6/6,v=i.fallOfWickets[i.fallOfWickets.length-1],p=v?i.runs-v.runs:i.runs,E=[];for(const A of i.overSummaries)E.push(...A.balls);const S=E.slice(-6);let j=0,N=0,w=0;for(const A of S){const k=A.outcome;k.type==="runs"?(j+=k.runs,k.runs===0?w++:(k.runs===4||k.runs===6)&&N++):(k.type==="wicket"||k.type==="extra")&&(j+=k.runs)}return{recentWickets:o,bowlerWickets:f,recentRunRate:h,partnershipRuns:p,recentRuns:j,recentBoundaries:N,recentDots:w}},vx=i=>{const{technique:d,power:c,timing:o,temperament:m}=i.batting;return d*.25+c*.25+o*.3+m*.2},J0=i=>{const{speed:d,accuracy:c,variation:o,stamina:m}=i.bowling;return d*.2+c*.35+o*.25+m*.2},R0=(i,d)=>i*(1+d/200),C0=(i,d)=>i*(1-d/200),Nx=(i,d)=>{const c=K0[d];let o;if(c.skillType==="speed"?o=i.bowling.speed:c.skillType==="variation"?o=i.bowling.variation:o=i.bowling.accuracy,d==="yorkers"&&i.bowlingStyle?.includes("spin")&&(o=i.bowling.variation),o<c.minSkill){const f=(c.minSkill-o)/100;return Math.max(.5,1-f*2)}const m=(o-c.minSkill)/100;return Math.min(1.3,1+m*.5)},jx=(i="balanced",d={catching:ks,throwing:ks})=>{let c=.65,o=.17,m=.06,f=.08,x=.03,b=.01;const g=I0[i];c*=g.catchMod,f*=g.runOutMod;const h=1+(d.catching-ks)/200;c*=h;const v=1+(d.throwing-ks)/200;f*=v;const p=c+o+m+f+x+b,E=Math.random()*p;let S=0;return E<(S+=c)?"caught":E<(S+=o)?"bowled":E<(S+=m)?"lbw":E<(S+=f)?"runout":E<(S+=x)?"stumped":"hitwicket"},Sx=(i,d,c)=>{const o=d.shortName,m=c.shortName;if(i.type==="wicket"){const g={bowled:[`Clean bowled! ${m} beats ${o} all ends up!`,`TIMBER! ${m} crashes through the defense!`,`The stumps are rattled! ${o} has to go!`],caught:[`Caught! ${o} finds the fielder!`,`In the air and taken! ${m} gets the breakthrough!`,`That's a good catch! ${o} is gone!`],lbw:[`LBW! That looked plumb! ${o} departs!`,`Given out leg before! ${m} strikes!`,"Trapped in front! The umpire raises the finger!"],runout:["Run out! Brilliant work in the field!",`Direct hit! ${o} is short of the crease!`,`Terrible mix-up and ${o} has to go!`],stumped:["Stumped! Lightning quick work behind the stumps!",`${o} beaten in the flight and stumped!`,"Down the track and stumped! Great keeping!"],hitwicket:[`Hit wicket! ${o} has knocked the bails off!`,`Oh no! ${o} has hit his own stumps!`,"Unfortunate dismissal - hit wicket!"]}[i.dismissal];return g[Math.floor(Math.random()*g.length)]}if(i.type==="extra")return i.extraType==="wide"?`Wide ball from ${m}`:i.extraType==="noball"?"No ball! Free hit coming up!":`${i.runs} ${i.extraType}s`;const f=i.runs;if(f===0){const b=[`Dot ball. Good tight bowling from ${m}.`,"Defended back to the bowler.",`${o} can't get it away.`,"Good length, no run.","Beaten outside off! Great delivery!"];return b[Math.floor(Math.random()*b.length)]}if(f===1)return["Single taken.","Pushed for one.","Quick single.","Rotates the strike."][Math.floor(Math.random()*4)];if(f===2)return["Two runs.","Good running between the wickets!","Pushed into the gap for two."][Math.floor(Math.random()*3)];if(f===3)return["Three runs! Excellent running!","They come back for three!"][Math.floor(Math.random()*2)];if(f===4){const b=[`FOUR! ${o} times that beautifully!`,"Boundary! That raced away to the fence!","FOUR! Cracking shot through the covers!","Swept away for FOUR!","Cut away and that's FOUR!"];return b[Math.floor(Math.random()*b.length)]}const x=[`SIX! ${o} launches it into the stands!`,"HUGE SIX! That's gone miles!",`Maximum! ${o} clears the boundary with ease!`,`SIX! What a strike from ${o}!`,"Into the crowd! Massive hit!"];return x[Math.floor(Math.random()*x.length)]},W0=(i,d,c,o,m,f,x,b,g,h,v=0,p)=>{const E=So(c),S=gx[E],j=x.battingApproach[E],N=xx[j],w=x.bowlingPlan?.bowlingApproach,A=w?.[E]?.length??"good-length",k=w?.[E]?.field??"balanced",O=K0[A],W=I0[k],_=Nx(d,A),ne=vx(i),R=J0(d),G=(ne-R)/100,ue=R0(1,i.form),B=R0(1,-d.form),ae=C0(1,i.fatigue),J=C0(1,d.fatigue),V=px(v),fe=bx[V];let se={...hx};const z=1+G*.15,P=S.boundaryMod*N.boundaryMod*O.boundaryMod*W.boundaryMod*_*fe.boundaryMod;se.four*=z*ue*ae*P,se.six*=z*ue*ae*P;const te=S.wicketMod*N.wicketMod*O.wicketMod*W.wicketMod*_*fe.wicketMod;if(se.wicket*=1/z*B*J*te,se.dot*=O.dotMod*_*fe.dotMod,se.single*=fe.singleMod,p){const re=yx(p);se.four*=re.boundaryMod,se.six*=re.boundaryMod,se.wicket*=re.wicketMod,se.dot*=re.dotMod}if(d.bowlingStyle?.includes("spin")?se.wicket*=1+(b.spin-50)/100:d.bowlingStyle?.includes("fast")&&(se.wicket*=1+(b.pace-50)/100),m!==null){const re=(jo-c)*6,Ee=(m-f)/re*6;Ee>12?(se.six*=1.3,se.four*=1.2,se.wicket*=1.4):Ee>9&&(se.six*=1.15,se.four*=1.1,se.wicket*=1.2)}const ge=Object.values(se).reduce((re,Be)=>re+Be,0);Object.keys(se).forEach(re=>{se[re]/=ge});const Y=Math.random();let M=0,I;if(Y<(M+=se.dot)?I={type:"runs",runs:0}:Y<(M+=se.single)?I={type:"runs",runs:1}:Y<(M+=se.two)?I={type:"runs",runs:2}:Y<(M+=se.three)?I={type:"runs",runs:3}:Y<(M+=se.four)?I={type:"runs",runs:4}:Y<(M+=se.six)?I={type:"runs",runs:6}:I={type:"wicket",dismissal:jx(k,{catching:ks,throwing:ks}),runs:0},I.type==="runs"){const re=Math.random();re<.0326?I={type:"extra",extraType:"wide",runs:1}:re<.0326+.0041&&(I={type:"extra",extraType:"noball",runs:1})}const de=Sx(I,i,d);return{outcome:I,narrative:de}},wx=(i,d,c,o,m,f)=>{const x=c.overs,b=c.balls,g=0,h=i.find(J=>J.id===c.currentBatters[g]);if(!h)return{ballEvent:null,updatedInnings:c,newBatsmanNeeded:!1,inningsComplete:!0};const p=c.batterStats.get(h.id)?.balls??0,E=F0(c,d.id),{outcome:S,narrative:j}=W0(h,d,x+b/6,c.wickets,f,c.runs,o,m,void 0,void 0,p,E),N={over:x,ball:b+1,batter:h.id,bowler:d.id,outcome:S,narrative:j};let w=c.runs,A=c.wickets,k=b,O=x,W=[...c.currentBatters],_=0,ne=!1,R=!0;if(S.type==="wicket"){A++,w+=S.runs,k++,ne=A<10;const J=i.filter(V=>!W.includes(V.id)&&!c.fallOfWickets.some(fe=>fe.player===V.id));J.length>0&&A<10&&(W[_]=J[0].id)}else S.type==="extra"?(w+=S.runs,S.extraType==="wide"||S.extraType==="noball"?R=!1:k++):(w+=S.runs,k++,S.runs%2===1&&(W=[W[1],W[0]]));k>=oo&&(O++,k=0,W=[W[1],W[0]]);const G=A>=10||O>=jo||f!==null&&w>=f,ue={...c,runs:w,wickets:A,overs:O,balls:k,currentBatters:W,currentBowler:d.id,overSummaries:c.overSummaries,fallOfWickets:S.type==="wicket"?[...c.fallOfWickets,{player:h.id,runs:w,overs:x+(b+1)/10}]:c.fallOfWickets,batterStats:new Map(c.batterStats),bowlerStats:new Map(c.bowlerStats)},B=ue.batterStats.get(h.id)||{runs:0,balls:0,fours:0,sixes:0};S.type==="runs"?(B.runs+=S.runs,B.balls+=1,S.runs===4&&(B.fours+=1),S.runs===6&&(B.sixes+=1)):S.type==="wicket"&&(B.runs+=S.runs,B.balls+=1),ue.batterStats.set(h.id,B);const ae=ue.bowlerStats.get(d.id)||{overs:0,runs:0,wickets:0,dots:0};return S.type==="runs"?(ae.runs+=S.runs,S.runs===0&&(ae.dots+=1)):S.type==="wicket"?(ae.wickets+=1,ae.runs+=S.runs):S.type==="extra"&&(ae.runs+=S.runs),k===0&&R&&(ae.overs+=1),ue.bowlerStats.set(d.id,ae),{ballEvent:N,updatedInnings:ue,newBatsmanNeeded:ne,inningsComplete:G}},wo=(i,d,c,o,m,f)=>{const x=Math.floor(c.overs),b=[];let g=0,h=0,v=[...c.currentBatters],p=0;new Set(Array.from(c.batterStats.keys()));const E=i.filter(O=>!c.fallOfWickets.some(W=>W.player===O.id)),S=new Map;let j=F0(c,d.id),N=0;for(;N<oo;){const O=i.find(B=>B.id===v[p]);if(!O)break;const W=c.batterStats.get(O.id)?.balls??0,_=S.get(O.id)??0,ne=W+_,R={...j,recentWickets:j.recentWickets+h,partnershipRuns:j.partnershipRuns+g},{outcome:G,narrative:ue}=W0(O,d,c.overs+N/6,c.wickets+h,f,c.runs+g,o,m,void 0,void 0,ne,R);if((G.type!=="extra"||G.extraType!=="wide"&&G.extraType!=="noball")&&S.set(O.id,(S.get(O.id)??0)+1),b.push({over:x,ball:N+1,batter:O.id,bowler:d.id,outcome:G,narrative:ue}),G.type==="wicket"){h++,g+=G.runs,j={...j,partnershipRuns:0,recentWickets:j.recentWickets+1};const B=E.find(ae=>!v.includes(ae.id)&&!c.fallOfWickets.some(J=>J.player===ae.id));if(B&&c.wickets+h<10)v[p]=B.id;else break;N++}else if(G.type==="extra"){if(g+=G.runs,G.extraType==="wide"||G.extraType==="noball")continue;N++}else g+=G.runs,G.runs%2===1&&(p=1-p),N++;if(f!==null&&c.runs+g>=f)break}const w=N>=oo;w&&(p=1-p);const A={overNumber:x,bowler:d.id,runs:g,wickets:h,balls:b},k={...c,runs:c.runs+g,wickets:c.wickets+h,overs:w?x+1:x,balls:w?0:N,currentBatters:[v[p],v[1-p]],currentBowler:d.id,overSummaries:[...c.overSummaries,A],batterStats:new Map(c.batterStats),bowlerStats:new Map(c.bowlerStats)};if(b.forEach(O=>{O.outcome.type==="wicket"&&k.fallOfWickets.push({player:O.batter,runs:k.runs,overs:O.over+O.ball/10});const W=O.batter,_=k.batterStats.get(W)||{runs:0,balls:0,fours:0,sixes:0};O.outcome.type==="runs"?(_.runs+=O.outcome.runs,_.balls+=1,O.outcome.runs===4&&(_.fours+=1),O.outcome.runs===6&&(_.sixes+=1)):O.outcome.type==="wicket"&&(_.runs+=O.outcome.runs,_.balls+=1),k.batterStats.set(W,_);const ne=k.bowlerStats.get(d.id)||{overs:0,runs:0,wickets:0,dots:0};O.outcome.type==="runs"?(ne.runs+=O.outcome.runs,O.outcome.runs===0&&(ne.dots+=1)):O.outcome.type==="wicket"?(ne.wickets+=1,ne.runs+=O.outcome.runs):O.outcome.type==="extra"&&(ne.runs+=O.outcome.runs),k.bowlerStats.set(d.id,ne)}),w){const O=k.bowlerStats.get(d.id);O&&(O.overs+=1,k.bowlerStats.set(d.id,O))}return{overSummary:A,updatedInnings:k}},B0=(i,d,c,o,m=null)=>{const f=c.playingXI.map(v=>i.find(p=>p.id===v)).filter(Boolean),x=d.filter(v=>v.role==="bowler"||v.role==="allrounder"),b=new Map;x.forEach(v=>b.set(v.id,0));let g={battingTeam:f[0]?.contract.isOverseas?"overseas":"domestic",bowlingTeam:"",runs:0,wickets:0,overs:0,balls:0,currentBatters:[f[0]?.id||"",f[1]?.id||""],currentBowler:x[0]?.id||"",overSummaries:[],fallOfWickets:[],batterStats:new Map,bowlerStats:new Map},h=null;for(let v=0;v<jo;v++){const p=x.filter(j=>(b.get(j.id)||0)<M0&&j.id!==h);if(p.length===0){const j=x.filter(N=>(b.get(N.id)||0)<M0);if(j.length===0)break;p.push(j[0])}let E=p[0];if(v>=16&&c.bowlingPlan.deathBowler){const j=p.find(N=>N.id===c.bowlingPlan.deathBowler);j&&(E=j)}else E=p[Math.floor(Math.random()*p.length)];h=E.id,b.set(E.id,(b.get(E.id)||0)+1);const{updatedInnings:S}=wo(f,E,g,c,o,m);if(g=S,g.wickets>=10||m!==null&&g.runs>=m)break}return g},Tx=(i,d,c)=>{const{homeTactics:o,awayTactics:m,pitch:f}=c;if(!o||!m)throw new Error("Both teams must have tactics set");const x=Math.random()<.5?"home":"away",b=Math.random()<.6?"bat":"bowl";let g,h,v,p;x==="home"&&b==="bat"||x==="away"&&b==="bowl"?(g=i,h=d,v=o,p=m):(g=d,h=i,v=m,p=o);const E=B0(g,h,v,f,null),S=E.runs+1,j=B0(h,g,p,f,S);let N,w;const A=g===i?c.homeTeam:c.awayTeam,k=g===i?c.awayTeam:c.homeTeam;j.runs>=S?(N=k,w={type:"wickets",value:10-j.wickets}):j.runs<E.runs?(N=A,w={type:"runs",value:E.runs-j.runs}):(N=null,w=null);const O=[...i,...d],W=O[Math.floor(Math.random()*O.length)]?.id||"";return{winner:N,winMargin:w,playerOfMatch:W,firstInnings:E,secondInnings:j}},uo=(i,d)=>{const c=i.filter(h=>h.role==="batsman"||h.role==="keeper"),o=i.filter(h=>h.role==="allrounder"),m=i.filter(h=>h.role==="bowler"),f=[...c.slice(0,4),...o.slice(0,2),...m.slice(0,4),...c.slice(4,5)].slice(0,11).map(h=>h.id),x=i.find(h=>h.role==="keeper"),b=m.filter(h=>h.bowlingStyle?.includes("fast")||h.bowlingStyle?.includes("medium")),g=[b[0]?.id||m[0]?.id||"",b[1]?.id||m[1]?.id||""];return{playingXI:f,captain:d,wicketkeeper:x?.id||f[0],battingApproach:{powerplay:"aggressive",middle:"balanced",death:"aggressive"},bowlingPlan:{openingBowlers:g,deathBowler:b[0]?.id||m[0]?.id||"",spinStrategy:"middle",bowlingApproach:{powerplay:{length:"full-pitched",field:"attacking"},middle:{length:"good-length",field:"balanced"},death:{length:"yorkers",field:"death-field"}}},playerInstructions:[]}},Mx=i=>{const d=i.bowlingStyle?.includes("fast")||i.bowlingStyle?.includes("medium"),c=i.bowlingStyle?.includes("spin")||i.bowlingStyle?.includes("leg"),o=i.bowling.accuracy;return i.bowling.variation,d&&o>=70?"death":d&&i.bowling.speed>=70?"powerplay":"middle"},mo=(i,d,c,o=4)=>{const m=d.overs,f=So(m),x=i.filter(g=>g.id===c?!1:(d.bowlerStats.get(g.id)?.overs??0)<o);if(x.length===0)return i.filter(h=>(d.bowlerStats.get(h.id)?.overs??0)<o)[0]||null;const b=x.map(g=>{const h=d.bowlerStats.get(g.id),v=h?.overs??0,p=h?.runs??0,E=h?.wickets??0,S=v>0?p/v:0,j=Mx(g),N=E>=2;let w=50;const A=g.bowlingStyle?.includes("fast")||g.bowlingStyle?.includes("medium"),k=g.bowlingStyle?.includes("spin")||g.bowlingStyle?.includes("leg");if(A){const _=E0.pace[f];w+=_*50}else if(k){const _=E0.spin[f];w+=_*50}else f==="powerplay"&&j==="powerplay"&&(w+=20),f==="middle"&&j==="middle"&&(w+=20),f==="death"&&j==="death"&&(w+=25);N&&(w+=30),v>=1&&(S<6?w+=15:S<8?w+=5:S>10?w-=10:S>12&&(w-=20)),w+=E*8,v===0&&(w+=5),o-v<=1&&f!=="death"&&(w-=10);const W=J0(g);return w+=(W-55)*.3,w+=g.form*.5,{bowler:g,role:j,score:w,overs:v,economy:S,wickets:E,isHot:N}});return b.sort((g,h)=>h.score-g.score),b[0]?.bowler||null},tl={avgScore:{min:145,max:180},avgWickets:{min:5,max:8},boundaryRate:{min:.14,max:.22},dotBallRate:{min:.3,max:.45},avgRunRate:{min:7,max:9.5},chaseSuccessRate:{min:.4,max:.6},allOutRate:{min:.05,max:.15},scoresUnder100Rate:{min:0,max:.05},scoresOver200Rate:{min:.02,max:.2}},O0=i=>{let d=0,c=0,o=0,m=0;i.batterStats.forEach(x=>{d+=x.fours,c+=x.sixes,m+=x.balls}),i.bowlerStats.forEach(x=>{o+=x.dots});const f=i.overs*6+i.balls;return{runs:i.runs,wickets:i.wickets,overs:i.overs+i.balls/6,fours:d,sixes:c,dots:o,totalBalls:f||m}},Qi=i=>{const d=Kl.find(c=>c.id===i);return d?H0.filter(c=>d.squad.includes(c.id)):[]},Ax=()=>{const i=[...Kl].sort(()=>Math.random()-.5);return[i[0].id,i[1].id]},Ex=(i,d)=>{const c=Qi(i),o=Qi(d),m=Kl.find(h=>h.id===i),f=Kl.find(h=>h.id===d),x={pace:50+Math.floor(Math.random()*20)-10,spin:50+Math.floor(Math.random()*20)-10,bounce:50+Math.floor(Math.random()*20)-10,deterioration:0},b=m.captain||c[0]?.id||"",g=f.captain||o[0]?.id||"";return{id:`test-${Date.now()}-${Math.random()}`,homeTeam:i,awayTeam:d,venue:m.homeVenue,matchNumber:0,matchType:"league",weather:"clear",status:"upcoming",tossWinner:null,tossDecision:null,currentInnings:null,innings1:null,innings2:null,result:null,homeTactics:uo(c,b),awayTactics:uo(o,g),pitch:x}},fo=(i=100,d={})=>{const c=Date.now(),o=[];for(let f=0;f<i;f++){const[x,b]=d.specificTeams||Ax(),g=Qi(x),h=Qi(b);if(g.length<11||h.length<11){d.verbose&&console.log(`Skipping match ${f+1}: Not enough players`);continue}const v=Ex(x,b);try{const p=Tx(g,h,v),E=O0(p.firstInnings),S=O0(p.secondInnings),j={firstInnings:E,secondInnings:S,winMarginRuns:p.winMargin?.type==="runs"?p.winMargin.value:null,winMarginWickets:p.winMargin?.type==="wickets"?p.winMargin.value:null,wasTie:p.winner===null,chaseSuccessful:p.winMargin?.type==="wickets"||!1};o.push(j),d.verbose&&console.log(`Match ${f+1}: ${E.runs}/${E.wickets} vs ${S.runs}/${S.wickets} | ${j.chaseSuccessful?"Chase won":j.wasTie?"Tie":"Defended"}`)}catch(p){d.verbose&&console.error(`Match ${f+1} failed:`,p)}}const m=Date.now()-c;return Rx(o,m)},Rx=(i,d)=>{if(i.length===0)throw new Error("No matches completed successfully");const c=i.flatMap(M=>[M.firstInnings,M.secondInnings]),o=i.map(M=>M.firstInnings),m=i.map(M=>M.secondInnings),f=c.map(M=>M.runs),x=o.reduce((M,I)=>M+I.runs,0)/o.length,b=m.reduce((M,I)=>M+I.runs,0)/m.length,g=c.reduce((M,I)=>M+I.wickets,0)/c.length,h=Math.min(...f),v=Math.max(...f),p=f.filter(M=>M<100).length,E=f.filter(M=>M>=100&&M<140).length,S=f.filter(M=>M>=140&&M<170).length,j=f.filter(M=>M>=170&&M<200).length,N=f.filter(M=>M>=200).length,w=c.reduce((M,I)=>M+I.totalBalls,0),A=c.reduce((M,I)=>M+I.fours,0),k=c.reduce((M,I)=>M+I.sixes,0),O=c.reduce((M,I)=>M+I.dots,0),W=c.reduce((M,I)=>M+I.runs,0),_=c.reduce((M,I)=>M+I.overs,0),ne=w>0?(A+k)/w:0,R=w>0?A/w:0,G=w>0?k/w:0,ue=w>0?O/w:0,B=_>0?W/_:0,ae=i.filter(M=>M.chaseSuccessful).length,J=i.filter(M=>M.wasTie).length;i.filter(M=>!M.chaseSuccessful&&!M.wasTie).length;const V=i.filter(M=>M.winMarginRuns!==null),fe=i.filter(M=>M.winMarginWickets!==null),se=V.length>0?V.reduce((M,I)=>M+(I.winMarginRuns||0),0)/V.length:0,z=fe.length>0?fe.reduce((M,I)=>M+(I.winMarginWickets||0),0)/fe.length:0,te=c.filter(M=>M.wickets>=10).length/c.length,ge=o.reduce((M,I)=>M+I.wickets,0)/o.length,Y=m.reduce((M,I)=>M+I.wickets,0)/m.length;return{matchCount:i.length,timeElapsedMs:d,avgFirstInningsScore:x,avgSecondInningsScore:b,avgWickets:g,minScore:h,maxScore:v,scoresUnder100:p,scores100to140:E,scores140to170:S,scores170to200:j,scoresOver200:N,boundaryRate:ne,fourRate:R,sixRate:G,dotBallRate:ue,avgRunRate:B,chaseSuccessRate:ae/i.length,avgWinByRuns:se,avgWinByWickets:z,tieRate:J/i.length,allOutRate:te,avgWicketsFirst:ge,avgWicketsSecond:Y}},Cx=i=>{const d=[],c=(x,b,g,h)=>{let v;return g>=h.min&&g<=h.max?v="PASS":g>=h.min*.9&&g<=h.max*1.1?v="WARN":v="FAIL",{passed:v==="PASS",category:x,metric:b,actual:g,expected:h,status:v}},o=(i.avgFirstInningsScore+i.avgSecondInningsScore)/2;d.push(c("Scoring","Average Score",o,tl.avgScore)),d.push(c("Scoring","Average Wickets",i.avgWickets,tl.avgWickets));const m=i.scoresUnder100/(i.matchCount*2);d.push(c("Scoring","Low Scores (<100) Rate",m,tl.scoresUnder100Rate));const f=i.scoresOver200/(i.matchCount*2);return d.push(c("Scoring","High Scores (>200) Rate",f,tl.scoresOver200Rate)),d.push(c("Ball-level","Boundary Rate",i.boundaryRate,tl.boundaryRate)),d.push(c("Ball-level","Dot Ball Rate",i.dotBallRate,tl.dotBallRate)),d.push(c("Ball-level","Run Rate",i.avgRunRate,tl.avgRunRate)),d.push(c("Outcomes","Chase Success Rate",i.chaseSuccessRate,tl.chaseSuccessRate)),d.push(c("Outcomes","All Out Rate",i.allOutRate,tl.allOutRate)),d},ho=i=>{const d=Cx(i),c=d.filter(b=>b.status==="PASS").length,o=d.filter(b=>b.status==="WARN").length,m=d.filter(b=>b.status==="FAIL").length,f=["","           MATCH ENGINE SIMULATION REPORT                    ","","",`Matches Simulated: ${i.matchCount}`,`Time Elapsed: ${(i.timeElapsedMs/1e3).toFixed(2)}s`,`Speed: ${(i.matchCount/(i.timeElapsedMs/1e3)).toFixed(1)} matches/sec`,""," SCORE DISTRIBUTION ","",`Average 1st Innings: ${i.avgFirstInningsScore.toFixed(1)}`,`Average 2nd Innings: ${i.avgSecondInningsScore.toFixed(1)}`,`Score Range: ${i.minScore} - ${i.maxScore}`,"",`Under 100:   ${i.scoresUnder100} (${(i.scoresUnder100/(i.matchCount*2)*100).toFixed(1)}%)`,`100-140:     ${i.scores100to140} (${(i.scores100to140/(i.matchCount*2)*100).toFixed(1)}%)`,`140-170:     ${i.scores140to170} (${(i.scores140to170/(i.matchCount*2)*100).toFixed(1)}%)`,`170-200:     ${i.scores170to200} (${(i.scores170to200/(i.matchCount*2)*100).toFixed(1)}%)`,`Over 200:    ${i.scoresOver200} (${(i.scoresOver200/(i.matchCount*2)*100).toFixed(1)}%)`,""," BALL-LEVEL STATS ","",`Boundary Rate: ${(i.boundaryRate*100).toFixed(1)}% (4s: ${(i.fourRate*100).toFixed(1)}%, 6s: ${(i.sixRate*100).toFixed(1)}%)`,`Dot Ball Rate: ${(i.dotBallRate*100).toFixed(1)}%`,`Run Rate: ${i.avgRunRate.toFixed(2)} per over`,""," MATCH OUTCOMES ","",`Chase Success Rate: ${(i.chaseSuccessRate*100).toFixed(1)}%`,`Avg Win by Runs: ${i.avgWinByRuns.toFixed(1)}`,`Avg Win by Wickets: ${i.avgWinByWickets.toFixed(1)}`,`Tie Rate: ${(i.tieRate*100).toFixed(1)}%`,""," WICKET STATS ","",`Average Wickets: ${i.avgWickets.toFixed(1)}`,`1st Innings Avg: ${i.avgWicketsFirst.toFixed(1)}`,`2nd Innings Avg: ${i.avgWicketsSecond.toFixed(1)}`,`All-Out Rate: ${(i.allOutRate*100).toFixed(1)}%`,""," VALIDATION RESULTS ",""],x=[...new Set(d.map(b=>b.category))];for(const b of x){f.push(`[${b}]`);const g=d.filter(h=>h.category===b);for(const h of g){const v=h.status==="PASS"?"":h.status==="WARN"?"":"",p=typeof h.actual=="number"&&h.actual<1?`${(h.actual*100).toFixed(1)}%`:h.actual.toFixed(1),E=h.expected.max<1?`${(h.expected.min*100).toFixed(0)}-${(h.expected.max*100).toFixed(0)}%`:`${h.expected.min.toFixed(0)}-${h.expected.max.toFixed(0)}`;f.push(`  ${v} ${h.metric}: ${p} (expected: ${E})`)}f.push("")}return f.push(""),f.push(`SUMMARY: ${c} PASS, ${o} WARN, ${m} FAIL`),f.push(""),m>0?f.push("  Some validations failed. Consider adjusting match engine parameters."):o>0?f.push(" All critical validations passed. Some metrics are borderline."):f.push(" All validations passed! Match engine is producing realistic results."),f.join(`
`)};typeof window<"u"&&(window.runSimulation=(i=100)=>{console.log(`
Running ${i} match simulation...
`);const d=fo(i);return console.log(ho(d)),d},window.quickTest=()=>{console.log(`
Running quick 50-match test...
`);const i=fo(50);return console.log(ho(i)),i});const Bx=()=>{const[i,d]=le.useState(!1),[c,o]=le.useState(!1),[m,f]=le.useState(!1),[x,b]=le.useState(null),{exportForBugReport:g}=Ze(),h=async()=>{try{const p=g();await navigator.clipboard.writeText(p),d(!0),setTimeout(()=>d(!1),2e3)}catch{const E=document.createElement("textarea");E.value=g(),document.body.appendChild(E),E.select(),document.execCommand("copy"),document.body.removeChild(E),d(!0),setTimeout(()=>d(!1),2e3)}},v=async p=>{f(!0),b(null),setTimeout(()=>{try{const E=fo(p),S=ho(E);b(S)}catch(E){b(`Error: ${E instanceof Error?E.message:"Unknown error"}`)}finally{f(!1)}},50)};return l.jsxs(l.Fragment,{children:[l.jsx("button",{onClick:h,onContextMenu:p=>{p.preventDefault(),o(!0)},className:`fixed bottom-20 right-4 z-50 w-10 h-10 rounded-full shadow-lg
          flex items-center justify-center transition-all duration-200
          ${i?"bg-green-600 scale-110":"bg-gray-700 hover:bg-gray-600"}`,title:"Click to copy state | Right-click for simulation",children:i?l.jsx("span",{className:"text-white text-sm",children:"OK"}):l.jsx("span",{className:"text-lg",children:""})}),c&&l.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center bg-black/70",children:l.jsxs("div",{className:"bg-gray-800 rounded-lg shadow-xl max-w-2xl w-full mx-4 max-h-[80vh] flex flex-col",children:[l.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-gray-700",children:[l.jsx("h2",{className:"text-lg font-bold text-white",children:"Match Engine Simulator"}),l.jsx("button",{onClick:()=>o(!1),className:"text-gray-400 hover:text-white text-xl",children:""})]}),l.jsx("div",{className:"p-4 flex-1 overflow-auto",children:x?l.jsxs("div",{className:"space-y-4",children:[l.jsx("pre",{className:"bg-gray-900 p-4 rounded text-xs text-gray-300 overflow-auto max-h-96 font-mono whitespace-pre",children:x}),l.jsxs("div",{className:"flex gap-3",children:[l.jsx("button",{onClick:()=>b(null),className:"flex-1 bg-gray-600 hover:bg-gray-500 text-white py-2 px-4 rounded-lg",children:"Run Again"}),l.jsx("button",{onClick:async()=>{await navigator.clipboard.writeText(x)},className:"flex-1 bg-blue-600 hover:bg-blue-700 text-white py-2 px-4 rounded-lg",children:"Copy Report"})]})]}):l.jsxs("div",{className:"space-y-4",children:[l.jsx("p",{className:"text-gray-300 text-sm",children:"Run batch simulations to validate the match engine produces realistic T20 statistics."}),l.jsxs("div",{className:"grid grid-cols-3 gap-3",children:[l.jsx("button",{onClick:()=>v(50),disabled:m,className:"bg-blue-600 hover:bg-blue-700 disabled:bg-gray-600 text-white py-3 px-4 rounded-lg font-medium",children:"Quick (50)"}),l.jsx("button",{onClick:()=>v(200),disabled:m,className:"bg-blue-600 hover:bg-blue-700 disabled:bg-gray-600 text-white py-3 px-4 rounded-lg font-medium",children:"Standard (200)"}),l.jsx("button",{onClick:()=>v(500),disabled:m,className:"bg-blue-600 hover:bg-blue-700 disabled:bg-gray-600 text-white py-3 px-4 rounded-lg font-medium",children:"Full (500)"})]}),m&&l.jsxs("div",{className:"text-center py-8",children:[l.jsx("div",{className:"text-4xl animate-bounce",children:""}),l.jsx("p",{className:"text-gray-400 mt-2",children:"Simulating matches..."})]}),l.jsxs("div",{className:"bg-gray-700/50 rounded p-3 text-xs text-gray-400",children:[l.jsx("p",{className:"font-medium text-gray-300 mb-1",children:"Console Access:"}),l.jsx("code",{className:"text-green-400",children:"runSimulation(100)"})," - Run N matches",l.jsx("br",{}),l.jsx("code",{className:"text-green-400",children:"quickTest()"})," - Quick 50-match test"]})]})})]})})]})},Ox={green:"bg-green-500",blue:"bg-blue-500",red:"bg-red-500",yellow:"bg-yellow-500",purple:"bg-purple-500"},qe=({value:i,max:d=100,label:c,showValue:o=!0,color:m="blue",size:f="md"})=>{const x=Math.min(100,Math.max(0,i/d*100));return l.jsxs("div",{className:"w-full",children:[c&&l.jsxs("div",{className:"flex justify-between text-sm mb-1",children:[l.jsx("span",{className:"text-gray-400",children:c}),o&&l.jsx("span",{className:"text-gray-300",children:i})]}),l.jsx("div",{className:`w-full bg-gray-700 rounded-full ${f==="sm"?"h-1.5":"h-2"}`,children:l.jsx("div",{className:`${Ox[m]} rounded-full transition-all duration-300 ${f==="sm"?"h-1.5":"h-2"}`,style:{width:`${x}%`}})})]})},Bn=({form:i,size:d="md"})=>{const c=()=>i>=10?"text-green-400 bg-green-900/30":i>=5?"text-green-300 bg-green-900/20":i>=0?"text-gray-300 bg-gray-700/30":i>=-5?"text-yellow-300 bg-yellow-900/20":i>=-10?"text-orange-300 bg-orange-900/20":"text-red-400 bg-red-900/30",o={sm:"text-xs px-1.5 py-0.5",md:"text-sm px-2 py-1",lg:"text-base px-3 py-1.5"};return l.jsxs("span",{className:`rounded-md font-medium ${c()} ${o[d]}`,children:[i>=0?"+":"",i]})},kx=({playerId:i,onClose:d,allowStacking:c=!1})=>{const{players:o,teams:m,openTeamModal:f,selectPlayer:x,navigateTo:b,closeAllModals:g}=Ze(),[h,v]=le.useState("overview"),p=o.find(_=>_.id===i),E=m.find(_=>_.squad.includes(i));if(!p)return null;const S=()=>{E&&f(E.id,c)},j=()=>{g(),x(i),b("player-detail")},N=()=>{switch(p.role){case"batsman":return"bg-blue-900/50 text-blue-300";case"bowler":return"bg-green-900/50 text-green-300";case"allrounder":return"bg-purple-900/50 text-purple-300";case"keeper":return"bg-yellow-900/50 text-yellow-300";default:return"bg-gray-700 text-gray-300"}},w=_=>_>=70?"green":_>=40?"yellow":"red",A=_=>_>=100?`${(_/100).toFixed(1)} Cr`:`${_} L`,k=()=>l.jsx("div",{className:"space-y-4",children:l.jsxs("div",{className:"space-y-3",children:[l.jsx(qe,{label:"Fitness",value:p.fitness,color:w(p.fitness)}),l.jsx(qe,{label:"Morale",value:p.morale,color:w(p.morale)}),l.jsx(qe,{label:"Fatigue",value:p.fatigue,color:p.fatigue>60?"red":p.fatigue>30?"yellow":"green"})]})}),O=()=>{const _=p.role!=="bowler",ne=p.role!=="batsman"&&p.role!=="keeper";return l.jsxs("div",{className:"space-y-4",children:[_&&l.jsxs("div",{children:[l.jsx("h4",{className:"text-sm font-medium text-gray-400 mb-2",children:"Batting"}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(qe,{label:"Technique",value:p.batting.technique,color:"blue",size:"sm"}),l.jsx(qe,{label:"Power",value:p.batting.power,color:"blue",size:"sm"}),l.jsx(qe,{label:"Timing",value:p.batting.timing,color:"blue",size:"sm"}),l.jsx(qe,{label:"Temperament",value:p.batting.temperament,color:"blue",size:"sm"})]})]}),ne&&l.jsxs("div",{children:[l.jsx("h4",{className:"text-sm font-medium text-gray-400 mb-2",children:"Bowling"}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(qe,{label:"Speed/Spin",value:p.bowling.speed,color:"green",size:"sm"}),l.jsx(qe,{label:"Accuracy",value:p.bowling.accuracy,color:"green",size:"sm"}),l.jsx(qe,{label:"Variation",value:p.bowling.variation,color:"green",size:"sm"}),l.jsx(qe,{label:"Stamina",value:p.bowling.stamina,color:"green",size:"sm"})]})]}),l.jsxs("div",{children:[l.jsx("h4",{className:"text-sm font-medium text-gray-400 mb-2",children:"Fielding"}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(qe,{label:"Catching",value:p.fielding.catching,color:"purple",size:"sm"}),l.jsx(qe,{label:"Ground",value:p.fielding.ground,color:"purple",size:"sm"}),l.jsx(qe,{label:"Throwing",value:p.fielding.throwing,color:"purple",size:"sm"})]})]})]})},W=()=>l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{className:"bg-gray-700/30 rounded-lg p-3 space-y-2",children:[l.jsxs("div",{className:"flex justify-between",children:[l.jsx("span",{className:"text-gray-400",children:"Salary"}),l.jsx("span",{className:"text-white font-medium",children:A(p.contract.salary)})]}),l.jsxs("div",{className:"flex justify-between",children:[l.jsx("span",{className:"text-gray-400",children:"Years Left"}),l.jsx("span",{className:"text-white",children:p.contract.yearsRemaining})]}),p.contract.releaseClause&&l.jsxs("div",{className:"flex justify-between",children:[l.jsx("span",{className:"text-gray-400",children:"Release Clause"}),l.jsx("span",{className:"text-white",children:A(p.contract.releaseClause)})]})]}),l.jsxs("div",{children:[l.jsx("h4",{className:"text-sm font-medium text-gray-400 mb-2",children:"Personality"}),l.jsxs("div",{className:"bg-gray-700/30 rounded-lg p-3 space-y-2",children:[l.jsxs("div",{className:"flex justify-between",children:[l.jsx("span",{className:"text-gray-400",children:"Temperament"}),l.jsx("span",{className:"text-white capitalize",children:p.personality.temperament})]}),l.jsxs("div",{className:"flex justify-between",children:[l.jsx("span",{className:"text-gray-400",children:"Leadership"}),l.jsx("span",{className:"text-white",children:p.personality.leadership})]}),l.jsxs("div",{className:"flex justify-between",children:[l.jsx("span",{className:"text-gray-400",children:"Professionalism"}),l.jsx("span",{className:"text-white",children:p.personality.professionalism})]}),l.jsxs("div",{className:"flex justify-between",children:[l.jsx("span",{className:"text-gray-400",children:"Ambition"}),l.jsx("span",{className:"text-white",children:p.personality.ambition})]})]})]})]});return l.jsxs("div",{className:"bg-gray-800 rounded-xl w-[400px] max-h-[85vh] overflow-hidden flex flex-col",children:[l.jsxs("div",{className:"p-4 border-b border-gray-700",children:[l.jsxs("div",{className:"flex items-start gap-3",children:[l.jsx("div",{className:"w-12 h-12 rounded-full bg-gray-700 flex items-center justify-center text-lg font-bold shrink-0",children:p.shortName.charAt(0)}),l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsx("h2",{className:"font-bold text-lg text-white truncate",children:p.name}),l.jsxs("div",{className:"flex items-center gap-2 text-sm flex-wrap",children:[E&&l.jsx("button",{onClick:S,className:"text-blue-400 hover:text-blue-300 hover:underline",children:E.shortName}),l.jsx("span",{className:"text-gray-500",children:""}),l.jsx("span",{className:`px-1.5 py-0.5 rounded text-xs ${N()}`,children:p.role}),p.contract.isOverseas&&l.jsxs(l.Fragment,{children:[l.jsx("span",{className:"text-gray-500",children:""}),l.jsx("span",{className:"text-xs text-orange-400",children:"OS"})]})]}),l.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[l.jsxs("span",{className:"text-sm text-gray-400",children:[p.age," yrs"]}),l.jsx("span",{className:"text-gray-500",children:""}),l.jsx("span",{className:"text-sm text-gray-400",children:p.nationality})]})]}),l.jsx("button",{onClick:d,className:"text-gray-400 hover:text-white text-2xl leading-none shrink-0 w-8 h-8 flex items-center justify-center",children:""})]}),l.jsx("div",{className:"mt-3",children:l.jsx(Bn,{form:p.form,size:"md"})})]}),l.jsx("div",{className:"flex border-b border-gray-700",children:["overview","skills","contract"].map(_=>l.jsx("button",{onClick:()=>v(_),className:`flex-1 py-2 text-sm font-medium transition-colors ${h===_?"text-blue-400 border-b-2 border-blue-400":"text-gray-400 hover:text-gray-300"}`,children:_.charAt(0).toUpperCase()+_.slice(1)},_))}),l.jsxs("div",{className:"flex-1 overflow-y-auto p-4",children:[h==="overview"&&k(),h==="skills"&&O(),h==="contract"&&W()]}),l.jsx("div",{className:"p-3 border-t border-gray-700 text-center",children:l.jsx("button",{onClick:j,className:"text-sm text-blue-400 hover:text-blue-300 hover:underline",children:"View full profile "})})]})},zx=({teamId:i,onClose:d,allowStacking:c=!1})=>{const{teams:o,players:m,fixtures:f,pointsTable:x,openPlayerModal:b,navigateTo:g,closeAllModals:h,selectPlayer:v}=Ze(),p=o.find(R=>R.id===i),E=x.find(R=>R.teamId===i);if(!p)return null;const j=f.filter(G=>G.status==="completed"&&(G.homeTeam===i||G.awayTeam===i)&&G.result).slice(-5).map(G=>{const ue=G.result?.winner===i,B=G.result?.winner===null;return{matchId:G.id,result:B?"T":ue?"W":"L"}}),N=p.squad.map(R=>m.find(G=>G.id===R)).filter(R=>R!==void 0).sort((R,G)=>{const ue={keeper:0,batsman:1,allrounder:2,bowler:3};return ue[R.role]-ue[G.role]}),w=R=>{c&&b(R,!0)},A=()=>{h(),p.squad.length>0&&v(p.squad[0]),g("squad")},k=R=>{switch(R){case"batsman":return"text-blue-400";case"bowler":return"text-green-400";case"allrounder":return"text-purple-400";case"keeper":return"text-yellow-400";default:return"text-gray-400"}},O=R=>{switch(R){case"batsman":return"BAT";case"bowler":return"BOWL";case"allrounder":return"AR";case"keeper":return"WK";default:return""}},W=R=>{switch(R){case"W":return"bg-green-500";case"L":return"bg-red-500";case"T":return"bg-yellow-500";default:return"bg-gray-500"}},_=R=>`${R>=0?"+":""}${R.toFixed(3)}`,ne=()=>{if(!E)return null;const R=x.findIndex(ue=>ue.teamId===i)+1;return`${R}${R===1?"st":R===2?"nd":R===3?"rd":"th"}`};return l.jsxs("div",{className:"bg-gray-800 rounded-xl w-[400px] max-h-[85vh] overflow-hidden flex flex-col",children:[l.jsxs("div",{className:"p-4 border-b border-gray-700",children:[l.jsxs("div",{className:"flex items-start gap-3",children:[l.jsx("div",{className:"w-12 h-12 rounded-lg flex items-center justify-center text-sm font-bold shrink-0",style:{backgroundColor:p.colors.primary},children:p.shortName}),l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsx("h2",{className:"font-bold text-lg text-white truncate",children:p.name}),l.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[l.jsx("span",{className:"text-gray-400",children:p.homeCity}),ne()&&l.jsxs(l.Fragment,{children:[l.jsx("span",{className:"text-gray-500",children:""}),l.jsxs("span",{className:"text-blue-400",children:[ne()," in table"]})]})]})]}),l.jsx("button",{onClick:d,className:"text-gray-400 hover:text-white text-2xl leading-none shrink-0 w-8 h-8 flex items-center justify-center",children:""})]}),j.length>0&&l.jsxs("div",{className:"mt-3 flex items-center gap-2",children:[l.jsx("span",{className:"text-xs text-gray-400",children:"Recent:"}),l.jsx("div",{className:"flex gap-1",children:j.map((R,G)=>l.jsx("div",{className:`w-6 h-6 rounded flex items-center justify-center text-xs font-bold ${W(R.result)}`,children:R.result},G))})]})]}),E&&l.jsxs("div",{className:"p-4 border-b border-gray-700",children:[l.jsxs("div",{className:"grid grid-cols-4 gap-4 text-center",children:[l.jsxs("div",{children:[l.jsx("div",{className:"text-xl font-bold",children:E.played}),l.jsx("div",{className:"text-xs text-gray-400",children:"Played"})]}),l.jsxs("div",{children:[l.jsx("div",{className:"text-xl font-bold text-green-400",children:E.won}),l.jsx("div",{className:"text-xs text-gray-400",children:"Won"})]}),l.jsxs("div",{children:[l.jsx("div",{className:"text-xl font-bold text-red-400",children:E.lost}),l.jsx("div",{className:"text-xs text-gray-400",children:"Lost"})]}),l.jsxs("div",{children:[l.jsx("div",{className:`text-xl font-bold ${E.netRunRate>=0?"text-green-400":"text-red-400"}`,children:_(E.netRunRate)}),l.jsx("div",{className:"text-xs text-gray-400",children:"NRR"})]})]}),l.jsxs("div",{className:"mt-2 text-center",children:[l.jsx("span",{className:"text-2xl font-bold text-blue-400",children:E.points}),l.jsx("span",{className:"text-sm text-gray-400 ml-1",children:"pts"})]})]}),l.jsxs("div",{className:"flex-1 overflow-y-auto p-4",children:[l.jsxs("h3",{className:"text-sm font-medium text-gray-400 mb-3",children:["Squad (",N.length,")"]}),l.jsx("div",{className:"space-y-2",children:N.map(R=>l.jsxs("button",{onClick:()=>w(R.id),disabled:!c,className:`w-full flex items-center gap-3 p-2 rounded-lg ${c?"hover:bg-gray-700/50 cursor-pointer":"cursor-default"} transition-colors`,children:[l.jsx("div",{className:"w-8 h-8 rounded-full bg-gray-700 flex items-center justify-center text-sm font-medium",children:R.shortName.charAt(0)}),l.jsxs("div",{className:"flex-1 text-left",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("span",{className:`${c?"text-blue-400":"text-white"} font-medium text-sm`,children:R.shortName}),R.contract.isOverseas&&l.jsx("span",{className:"text-xs text-orange-400",children:"OS"}),p.captain===R.id&&l.jsx("span",{className:"text-xs text-yellow-400",children:"(C)"})]}),l.jsx("span",{className:`text-xs ${k(R.role)}`,children:O(R.role)})]}),l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx(Bn,{form:R.form,size:"sm"}),l.jsx("div",{className:"w-16",children:l.jsx(qe,{label:"",value:R.fitness,color:R.fitness>=70?"green":R.fitness>=40?"yellow":"red",size:"sm",showValue:!1})})]})]},R.id))})]}),l.jsx("div",{className:"p-3 border-t border-gray-700 text-center",children:l.jsx("button",{onClick:A,className:"text-sm text-blue-400 hover:text-blue-300 hover:underline",children:"View full squad "})})]})},Dx=({allowStacking:i=!1})=>{const{modalStack:d,closeModal:c}=Ze(),o=le.useCallback(m=>{m.key==="Escape"&&d.length>0&&c()},[d.length,c]);return le.useEffect(()=>(window.addEventListener("keydown",o),()=>window.removeEventListener("keydown",o)),[o]),le.useEffect(()=>(d.length>0?document.body.style.overflow="hidden":document.body.style.overflow="",()=>{document.body.style.overflow=""}),[d.length]),d.length===0?null:l.jsx(l.Fragment,{children:d.map((m,f)=>{const x=f===d.length-1,b=60+f;return l.jsxs("div",{className:"fixed inset-0 flex items-center justify-center p-4",style:{zIndex:b},children:[l.jsx("div",{className:`absolute inset-0 bg-black/80 ${x?"cursor-pointer":""}`,onClick:x?c:void 0}),l.jsx("div",{className:"relative",style:{transform:`translate(${f*8}px, ${f*8}px)`},children:m.type==="player"?l.jsx(kx,{playerId:m.id,onClose:c,allowStacking:i}):l.jsx(zx,{teamId:m.id,onClose:c,allowStacking:i})})]},`${m.type}-${m.id}-${f}`)})})};class k0 extends le.Component{constructor(d){super(d),this.state={hasError:!1,error:null,errorInfo:null}}static getDerivedStateFromError(d){return{hasError:!0,error:d}}componentDidCatch(d,c){console.error("ErrorBoundary caught an error:",d,c),this.setState({errorInfo:c})}handleReset=()=>{this.setState({hasError:!1,error:null,errorInfo:null})};handleClearData=()=>{confirm("This will clear all saved game data. Are you sure?")&&(localStorage.removeItem("cricket-manager-save"),window.location.reload())};render(){return this.state.hasError?l.jsx("div",{className:"min-h-screen bg-gray-900 text-white flex items-center justify-center p-4",children:l.jsxs("div",{className:"max-w-lg w-full bg-gray-800 rounded-xl p-6 border border-red-700",children:[l.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[l.jsx("span",{className:"text-3xl",children:""}),l.jsx("h1",{className:"text-xl font-bold text-red-400",children:"Something went wrong"})]}),l.jsx("p",{className:"text-gray-300 mb-4",children:"The game encountered an error. This might be due to corrupted save data or a bug in the game."}),this.state.error&&l.jsxs("details",{className:"mb-4",children:[l.jsx("summary",{className:"text-sm text-gray-400 cursor-pointer hover:text-gray-300",children:"Technical details"}),l.jsxs("pre",{className:"mt-2 p-3 bg-gray-900 rounded text-xs text-red-300 overflow-auto max-h-40",children:[this.state.error.toString(),this.state.errorInfo?.componentStack]})]}),l.jsxs("div",{className:"flex flex-col gap-2",children:[l.jsx("button",{onClick:this.handleReset,className:"w-full py-2 bg-blue-600 hover:bg-blue-700 rounded-lg font-medium transition-colors",children:"Try Again"}),l.jsx("button",{onClick:()=>window.location.reload(),className:"w-full py-2 bg-gray-700 hover:bg-gray-600 rounded-lg font-medium transition-colors",children:"Reload Page"}),l.jsx("button",{onClick:this.handleClearData,className:"w-full py-2 bg-red-900/50 hover:bg-red-900 text-red-400 rounded-lg font-medium transition-colors",children:"Clear Save Data & Restart"})]}),l.jsxs("p",{className:"text-xs text-gray-500 mt-4 text-center",children:["If this keeps happening, please report it at"," ",l.jsx("a",{href:"https://github.com/anthropics/claude-code/issues",className:"text-blue-400 hover:underline",target:"_blank",rel:"noopener noreferrer",children:"GitHub Issues"})]})]})}):this.props.children}}const _x=()=>{const{loadInitialData:i,initializeGame:d,navigateTo:c,getSaveSlots:o,loadFromSlot:m,deleteSlot:f}=Ze(),[x,b]=le.useState("welcome"),[g,h]=le.useState("real-squads"),[v,p]=le.useState(""),[E,S]=le.useState("mi"),[j,N]=le.useState(null),w=o(),A=()=>{if(!v.trim())return;const _=No(E);i(H0,Kl,_),d(E,v,g),c(g==="mini-auction"?"release-phase":g==="mega-auction"?"auction":"home")},k=_=>{m(_)},O=_=>{f(_),N(null)},W=Kl.find(_=>_.id===E);return l.jsx("div",{className:"min-h-screen bg-gray-900 text-white flex flex-col items-center justify-center p-4",children:l.jsxs("div",{className:"max-w-lg w-full space-y-6",children:[l.jsxs("div",{className:"text-center",children:[l.jsx("h1",{className:"text-4xl font-bold mb-2",children:"Cricket Manager"}),l.jsx("p",{className:"text-gray-400",children:"Build your dynasty. Make tough calls. Win trophies."})]}),x==="welcome"&&l.jsxs("div",{className:"space-y-4",children:[l.jsx("button",{onClick:()=>b("setup"),className:"w-full bg-blue-600 hover:bg-blue-700 text-white py-4 rounded-lg font-semibold text-lg transition-colors",children:"New Game"}),w.length>0&&l.jsxs("div",{className:"bg-gray-800 rounded-xl p-4 border border-gray-700",children:[l.jsx("h3",{className:"text-sm font-semibold text-gray-400 mb-3",children:"Continue"}),l.jsx("div",{className:"space-y-2",children:w.map(_=>l.jsxs("div",{className:"bg-gray-700/50 rounded-lg p-3 flex items-center justify-between",children:[l.jsxs("button",{onClick:()=>k(_.id),className:"flex-1 text-left hover:text-blue-400 transition-colors",children:[l.jsx("div",{className:"font-medium",children:_.name}),l.jsxs("div",{className:"text-xs text-gray-400",children:[_.teamName,"  Season ",_.season,"  ",_.phase==="auction"?"Auction":`Match ${_.matchDay}`]}),l.jsx("div",{className:"text-xs text-gray-500 mt-1",children:po(_.savedAt)})]}),l.jsx("button",{onClick:()=>N(_.id),className:"ml-2 p-2 text-gray-500 hover:text-red-400 transition-colors",title:"Delete save",children:""})]},_.id))})]}),j&&l.jsx("div",{className:"fixed inset-0 bg-black/80 flex items-center justify-center z-50 p-4",children:l.jsxs("div",{className:"bg-gray-800 rounded-xl max-w-sm w-full p-6",children:[l.jsx("h3",{className:"font-bold mb-2",children:"Delete Save?"}),l.jsx("p",{className:"text-sm text-gray-400 mb-4",children:"This cannot be undone."}),l.jsxs("div",{className:"flex gap-3",children:[l.jsx("button",{onClick:()=>N(null),className:"flex-1 bg-gray-700 text-white py-2 rounded-lg",children:"Cancel"}),l.jsx("button",{onClick:()=>O(j),className:"flex-1 bg-red-600 hover:bg-red-700 text-white py-2 rounded-lg",children:"Delete"})]})]})})]}),x==="setup"&&l.jsxs("div",{className:"bg-gray-800 rounded-xl p-6 border border-gray-700 space-y-6",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("button",{onClick:()=>b("welcome"),className:"text-blue-400 hover:text-blue-300",children:""}),l.jsx("h2",{className:"text-lg font-semibold",children:"New Game Setup"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm text-gray-400 mb-2",children:"Manager Name"}),l.jsx("input",{type:"text",value:v,onChange:_=>p(_.target.value),placeholder:"Enter your name...",className:"w-full bg-gray-700 border border-gray-600 rounded-lg px-4 py-3 text-white placeholder-gray-500 focus:outline-none focus:border-blue-500",autoFocus:!0})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm text-gray-400 mb-2",children:"Select Your Franchise"}),l.jsx("div",{className:"grid grid-cols-5 gap-2",children:Kl.map(_=>l.jsxs("button",{onClick:()=>S(_.id),className:`p-2 rounded-lg border-2 transition-all ${E===_.id?"border-blue-500 bg-blue-900/30":"border-gray-700 bg-gray-700/30 hover:border-gray-500"}`,children:[l.jsx("div",{className:"w-8 h-8 rounded-full mx-auto mb-1 flex items-center justify-center text-xs font-bold",style:{backgroundColor:_.colors.primary},children:_.shortName}),l.jsx("div",{className:"text-xs text-center truncate",children:_.shortName})]},_.id))}),W&&l.jsxs("div",{className:"mt-2 text-sm text-gray-400 text-center",children:[W.name,"  ",W.homeCity]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm text-gray-400 mb-2",children:"Starting Auction"}),l.jsxs("div",{className:"grid grid-cols-3 gap-2",children:[l.jsxs("button",{onClick:()=>h("real-squads"),className:`p-3 rounded-lg border-2 text-center transition-all ${g==="real-squads"?"border-green-500 bg-green-900/30":"border-gray-700 bg-gray-700/30 hover:border-gray-500"}`,children:[l.jsx("div",{className:"font-semibold text-sm",children:"No Auction"}),l.jsx("div",{className:"text-xs text-gray-400 mt-1",children:"Real squads"})]}),l.jsxs("button",{onClick:()=>h("mini-auction"),className:`p-3 rounded-lg border-2 text-center transition-all ${g==="mini-auction"?"border-blue-500 bg-blue-900/30":"border-gray-700 bg-gray-700/30 hover:border-gray-500"}`,children:[l.jsx("div",{className:"font-semibold text-sm",children:"Mini"}),l.jsx("div",{className:"text-xs text-gray-400 mt-1",children:"Tune squad"})]}),l.jsxs("button",{onClick:()=>h("mega-auction"),className:`p-3 rounded-lg border-2 text-center transition-all ${g==="mega-auction"?"border-yellow-500 bg-yellow-900/30":"border-gray-700 bg-gray-700/30 hover:border-gray-500"}`,children:[l.jsx("div",{className:"font-semibold text-sm",children:"Mega"}),l.jsx("div",{className:"text-xs text-gray-400 mt-1",children:"Full rebuild"})]})]}),l.jsxs("div",{className:"mt-2 text-xs text-gray-500 text-center",children:[g==="real-squads"&&"Start Season 1 with current IPL rosters. First auction after the season.",g==="mini-auction"&&"Release players and bid on free agents before Season 1.",g==="mega-auction"&&"Retain up to 4 players, then rebuild your squad from scratch."]})]}),l.jsx("button",{onClick:A,disabled:!v.trim(),className:"w-full bg-blue-600 hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed text-white py-4 rounded-lg font-semibold text-lg transition-colors",children:g==="real-squads"?"Start Career":g==="mini-auction"?"Enter Mini Auction":"Enter Mega Auction"})]}),l.jsx("p",{className:"text-center text-xs text-gray-500",children:"v0.8 Beta"})]})})},qx={league:"League Match",qualifier1:"Qualifier 1",eliminator:"Eliminator",qualifier2:"Qualifier 2",final:"FINAL"},z0=()=>{const{manager:i,playerTeamId:d,teams:c,players:o,fixtures:m,pointsTable:f,activeEvents:x,phase:b,season:g,navigateTo:h,selectMatch:v,selectEvent:p,getSeasonResult:E,checkAndStartPlayoffs:S}=Ze(),j=c.find(J=>J.id===d),N=o.filter(J=>j?.squad.includes(J.id));hg.useEffect(()=>{if(b==="season"){const J=m.filter(fe=>fe.matchType==="league"&&(fe.homeTeam===d||fe.awayTeam===d));J.every(fe=>fe.status==="completed")&&J.length>0&&S()}},[m,b,d,S]);const w=m.find(J=>J.status==="upcoming"&&(J.homeTeam===d||J.awayTeam===d)),A=w?c.find(J=>J.id===(w.homeTeam===d?w.awayTeam:w.homeTeam)):null,k=E(),O=N.length?Math.round(N.reduce((J,V)=>J+V.morale,0)/N.length):0,W=N.length?Math.round(N.reduce((J,V)=>J+V.fitness,0)/N.length):0,_=N.filter(J=>J.fatigue>80||J.form<-10||J.fitness<50||J.morale<40),ne=x.filter(J=>!J.resolved),G=[...f].sort((J,V)=>V.points!==J.points?V.points-J.points:V.netRunRate-J.netRunRate).findIndex(J=>J.teamId===d)+1,ue=f.find(J=>J.teamId===d),B=()=>{w&&(v(w.id),h("match-prep"))},ae=J=>{p(J)};return l.jsxs("div",{className:"min-h-screen bg-gray-900 text-white pb-24",children:[l.jsx("header",{className:"bg-gray-800 p-4 border-b border-gray-700",children:l.jsxs("div",{className:"max-w-lg mx-auto flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx("h1",{className:"text-xl font-bold",children:j?.name||"Cricket Manager"}),l.jsxs("p",{className:"text-sm text-gray-400",children:["Season ",g,"  ",i.name]})]}),l.jsxs("div",{className:"text-right",children:[l.jsxs("div",{className:"text-2xl font-bold",children:["#",G]}),l.jsxs("div",{className:"text-xs text-gray-400",children:[ue?.won||0,"W ",ue?.lost||0,"L"]})]})]})}),l.jsxs("div",{className:"max-w-lg mx-auto p-4 space-y-4",children:[b==="off-season"&&l.jsxs("div",{className:"bg-gradient-to-r from-yellow-900/50 to-amber-900/50 rounded-xl p-6 border border-yellow-700",children:[l.jsx("h2",{className:"text-xl font-bold text-center mb-4",children:"Season Complete!"}),k&&l.jsxs("div",{className:"text-center space-y-2",children:[k.playerFinish===1?l.jsx("div",{className:"text-2xl text-yellow-400 font-bold",children:"CHAMPIONS!"}):k.playerFinish===2?l.jsx("div",{className:"text-xl text-gray-300",children:"Runners Up"}):k.playerFinish<=4?l.jsxs("div",{className:"text-lg text-gray-400",children:["Finished #",k.playerFinish," (Playoffs)"]}):l.jsxs("div",{className:"text-lg text-gray-400",children:["Finished #",k.playerFinish," (Missed Playoffs)"]}),k.champion&&l.jsxs("div",{className:"text-sm text-gray-500 mt-2",children:["Champion: ",c.find(J=>J.id===k.champion)?.name]})]}),l.jsx("button",{onClick:()=>h("season-summary"),className:"w-full mt-4 bg-yellow-600 hover:bg-yellow-700 text-white py-3 rounded-lg font-medium transition-colors",children:"View Season Summary"})]}),w&&A&&b!=="off-season"&&l.jsxs("div",{className:`rounded-xl p-4 border ${w.matchType!=="league"?"bg-gradient-to-r from-purple-900/50 to-blue-900/50 border-purple-700":"bg-gray-800 border-gray-700"}`,children:[l.jsxs("div",{className:"flex justify-between items-center mb-3",children:[l.jsx("span",{className:`text-sm font-medium ${w.matchType!=="league"?"text-purple-400":"text-gray-400"}`,children:qx[w.matchType]||"NEXT MATCH"}),w.matchType==="league"&&l.jsxs("span",{className:"text-sm text-blue-400",children:["Match ",w.matchNumber]}),w.matchType!=="league"&&l.jsx("span",{className:"text-xs bg-purple-600 px-2 py-1 rounded",children:"PLAYOFFS"})]}),l.jsxs("div",{className:"flex items-center justify-between mb-4",children:[l.jsxs("div",{className:"text-center flex-1",children:[l.jsx("div",{className:"w-14 h-14 rounded-full mx-auto mb-2 flex items-center justify-center text-lg font-bold",style:{backgroundColor:j?.colors.primary},children:j?.shortName}),l.jsx("div",{className:"text-sm font-medium",children:j?.shortName})]}),l.jsx("div",{className:"text-gray-500 text-lg px-4",children:"vs"}),l.jsxs("div",{className:"text-center flex-1",children:[l.jsx("div",{className:"w-14 h-14 rounded-full mx-auto mb-2 flex items-center justify-center text-lg font-bold",style:{backgroundColor:A.colors.primary},children:A.shortName}),l.jsx("div",{className:"text-sm",children:A.shortName})]})]}),l.jsx("div",{className:"text-center text-sm text-gray-400 mb-4",children:w.venue}),l.jsx("button",{onClick:B,className:`w-full py-3 rounded-lg font-medium transition-colors ${w.matchType!=="league"?"bg-purple-600 hover:bg-purple-700":"bg-blue-600 hover:bg-blue-700"} text-white`,children:"Prepare for Match"})]}),!w&&b==="playoffs"&&l.jsx("div",{className:"bg-gray-800 rounded-xl p-4 border border-gray-700 text-center",children:l.jsx("p",{className:"text-gray-400",children:"Waiting for other playoff matches to complete..."})}),(ne.length>0||_.length>0)&&l.jsxs("div",{className:"bg-gray-800 rounded-xl p-4 border border-red-900/50",children:[l.jsx("h2",{className:"text-sm font-semibold text-red-400 mb-3",children:"ATTENTION NEEDED"}),ne.map(J=>l.jsxs("div",{onClick:()=>ae(J.id),className:"flex items-center gap-3 p-3 bg-red-900/20 rounded-lg mb-2 cursor-pointer hover:bg-red-900/30 transition-colors",children:[l.jsx("span",{className:"text-red-400 text-lg",children:"!"}),l.jsxs("div",{children:[l.jsx("span",{className:"text-sm font-medium",children:J.title}),l.jsx("span",{className:"text-xs text-gray-500 ml-2",children:"Tap to resolve"})]})]},J.id)),_.slice(0,2).map(J=>l.jsxs("div",{onClick:()=>h("squad"),className:"flex items-center justify-between p-3 bg-yellow-900/20 rounded-lg mb-2 cursor-pointer hover:bg-yellow-900/30",children:[l.jsx("span",{className:"text-sm",children:J.shortName}),l.jsxs("div",{className:"flex gap-2 text-xs",children:[J.fatigue>80&&l.jsx("span",{className:"text-orange-400",children:"Exhausted"}),J.form<-10&&l.jsx("span",{className:"text-red-400",children:"Poor form"}),J.fitness<50&&l.jsx("span",{className:"text-yellow-400",children:"Injured"}),J.morale<40&&l.jsx("span",{className:"text-purple-400",children:"Unhappy"})]})]},J.id))]}),l.jsx("div",{className:"bg-gray-800 rounded-xl p-4 border border-gray-700",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{className:"flex items-center gap-6",children:[l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:`text-lg font-bold ${O>70?"text-green-400":O<50?"text-red-400":"text-yellow-400"}`,children:O}),l.jsx("div",{className:"text-xs text-gray-500",children:"Morale"})]}),l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:`text-lg font-bold ${W>70?"text-green-400":W<50?"text-red-400":"text-yellow-400"}`,children:W}),l.jsx("div",{className:"text-xs text-gray-500",children:"Fitness"})]}),l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:"text-lg font-bold",children:N.length}),l.jsx("div",{className:"text-xs text-gray-500",children:"Squad"})]})]}),l.jsx("button",{onClick:()=>h("club"),className:"text-sm text-blue-400 hover:text-blue-300",children:"More "})]})}),l.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[l.jsxs("button",{onClick:()=>h("schedule"),className:"bg-gray-800 rounded-xl p-4 border border-gray-700 text-left hover:bg-gray-700/50 transition-colors",children:[l.jsx("div",{className:"text-lg mb-1",children:""}),l.jsx("div",{className:"text-sm font-medium",children:"Schedule"}),l.jsx("div",{className:"text-xs text-gray-500",children:"View fixtures & standings"})]}),l.jsxs("button",{onClick:()=>h("stats"),className:"bg-gray-800 rounded-xl p-4 border border-gray-700 text-left hover:bg-gray-700/50 transition-colors",children:[l.jsx("div",{className:"text-lg mb-1",children:""}),l.jsx("div",{className:"text-sm font-medium",children:"Stats"}),l.jsx("div",{className:"text-xs text-gray-500",children:"Season leaderboards"})]})]})]})]})},D0={batsman:"bg-blue-600",bowler:"bg-green-600",allrounder:"bg-purple-600",keeper:"bg-yellow-600"},_0={batsman:"BAT",bowler:"BOWL",allrounder:"ALL",keeper:"WK"},go=({player:i,onClick:d,selected:c,compact:o})=>o?l.jsxs("div",{onClick:d,className:`flex items-center justify-between p-3 rounded-lg cursor-pointer transition-all
          ${c?"bg-blue-600/30 border-blue-500":"bg-gray-800 hover:bg-gray-700"}
          border ${c?"border-blue-500":"border-gray-700"}`,children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("div",{className:`w-8 h-8 rounded-full ${D0[i.role]} flex items-center justify-center text-xs font-bold`,children:_0[i.role]}),l.jsxs("div",{children:[l.jsxs("div",{className:"font-medium text-white flex items-center gap-2",children:[i.shortName,i.contract.isOverseas&&l.jsx("span",{className:"text-xs text-yellow-400",children:"OS"})]}),l.jsxs("div",{className:"text-xs text-gray-400",children:[i.age,"y  ",i.battingStyle==="left"?"LHB":"RHB",i.bowlingStyle&&`  ${i.bowlingStyle.split("-")[0]}`]})]})]}),l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx(Bn,{form:i.form,size:"sm"}),l.jsxs("div",{className:"text-right",children:[l.jsxs("div",{className:"text-sm text-gray-300",children:[i.fitness,"%"]}),l.jsx("div",{className:"text-xs text-gray-500",children:"FIT"})]})]})]}):l.jsxs("div",{onClick:d,className:`p-4 rounded-xl cursor-pointer transition-all
        ${c?"bg-blue-600/20 border-blue-500":"bg-gray-800 hover:bg-gray-750"}
        border ${c?"border-blue-500":"border-gray-700"}`,children:[l.jsxs("div",{className:"flex justify-between items-start mb-3",children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("div",{className:`w-12 h-12 rounded-full ${D0[i.role]} flex items-center justify-center text-sm font-bold`,children:_0[i.role]}),l.jsxs("div",{children:[l.jsxs("div",{className:"font-semibold text-white flex items-center gap-2",children:[i.name,i.contract.isOverseas&&l.jsx("span",{className:"text-xs bg-yellow-600/30 text-yellow-400 px-1.5 py-0.5 rounded",children:"OS"})]}),l.jsxs("div",{className:"text-sm text-gray-400",children:[i.age,"y  ",i.nationality]})]})]}),l.jsx(Bn,{form:i.form})]}),l.jsxs("div",{className:"grid grid-cols-3 gap-3 mb-3",children:[l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:"text-lg font-bold text-white",children:i.fitness}),l.jsx("div",{className:"text-xs text-gray-500",children:"Fitness"})]}),l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:"text-lg font-bold text-white",children:i.morale}),l.jsx("div",{className:"text-xs text-gray-500",children:"Morale"})]}),l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:"text-lg font-bold text-white",children:i.fatigue}),l.jsx("div",{className:"text-xs text-gray-500",children:"Fatigue"})]})]}),l.jsxs("div",{className:"space-y-2",children:[(i.role==="batsman"||i.role==="allrounder"||i.role==="keeper")&&l.jsx(qe,{value:Math.round((i.batting.technique+i.batting.power+i.batting.timing+i.batting.temperament)/4),label:"Batting",color:"blue",size:"sm"}),(i.role==="bowler"||i.role==="allrounder")&&l.jsx(qe,{value:Math.round((i.bowling.speed+i.bowling.accuracy+i.bowling.variation+i.bowling.stamina)/4),label:"Bowling",color:"green",size:"sm"})]})]}),Ux=()=>{const{playerTeamId:i,teams:d,players:c,navigateTo:o,selectPlayer:m}=Ze(),[f,x]=le.useState("name"),[b,g]=le.useState("all"),h=d.find(w=>w.id===i),v=c.filter(w=>h?.squad.includes(w.id)),E=[...b==="all"?v:v.filter(w=>w.role===b)].sort((w,A)=>{switch(f){case"form":return A.form-w.form;case"fitness":return A.fitness-w.fitness;case"morale":return A.morale-w.morale;default:return w.name.localeCompare(A.name)}}),S={batsman:E.filter(w=>w.role==="batsman"),keeper:E.filter(w=>w.role==="keeper"),allrounder:E.filter(w=>w.role==="allrounder"),bowler:E.filter(w=>w.role==="bowler")},j=w=>{m(w),o("player-detail")},N=v.filter(w=>w.contract.isOverseas).length;return l.jsxs("div",{className:"min-h-screen bg-gray-900 text-white pb-24",children:[l.jsx("header",{className:"bg-gray-800 p-4 border-b border-gray-700 sticky top-0 z-10",children:l.jsxs("div",{className:"max-w-lg mx-auto",children:[l.jsx("h1",{className:"text-xl font-bold mb-2",children:"Squad"}),l.jsxs("div",{className:"flex gap-2 text-sm text-gray-400",children:[l.jsxs("span",{children:[v.length," players"]}),l.jsx("span",{children:""}),l.jsxs("span",{children:[N,"/8 overseas"]})]})]})}),l.jsxs("div",{className:"max-w-lg mx-auto p-4 sticky top-[72px] bg-gray-900 z-10",children:[l.jsx("div",{className:"flex gap-2 overflow-x-auto pb-2",children:["all","batsman","keeper","allrounder","bowler"].map(w=>l.jsxs("button",{onClick:()=>g(w),className:`px-3 py-1.5 rounded-full text-sm whitespace-nowrap transition-colors
                ${b===w?"bg-blue-600 text-white":"bg-gray-800 text-gray-400 hover:bg-gray-700"}`,children:[w==="all"?"All":w.charAt(0).toUpperCase()+w.slice(1),"s"]},w))}),l.jsx("div",{className:"flex justify-end mt-2",children:l.jsxs("select",{value:f,onChange:w=>x(w.target.value),className:"bg-gray-800 border border-gray-700 rounded-lg px-3 py-1.5 text-sm",children:[l.jsx("option",{value:"name",children:"Sort by Name"}),l.jsx("option",{value:"form",children:"Sort by Form"}),l.jsx("option",{value:"fitness",children:"Sort by Fitness"}),l.jsx("option",{value:"morale",children:"Sort by Morale"})]})})]}),l.jsx("div",{className:"max-w-lg mx-auto px-4 space-y-6",children:b==="all"?Object.entries(S).map(([w,A])=>A.length>0&&l.jsxs("div",{children:[l.jsx("h2",{className:"text-sm font-semibold text-gray-400 mb-3 uppercase",children:w==="keeper"?"Wicketkeepers":w+"s"}),l.jsx("div",{className:"space-y-2",children:A.map(k=>l.jsx(go,{player:k,onClick:()=>j(k.id),compact:!0},k.id))})]},w)):l.jsx("div",{className:"space-y-2",children:E.map(w=>l.jsx(go,{player:w,onClick:()=>j(w.id),compact:!0},w.id))})})]})},Hx={batsman:"bg-blue-600",bowler:"bg-green-600",allrounder:"bg-purple-600",keeper:"bg-yellow-600"},Lx=i=>i&&{"opening-batter":"Opening Batter","top-order-batter":"Top Order Batter","middle-order-batter":"Middle Order Batter",finisher:"Finisher","wicketkeeper-batter":"Wicketkeeper Batter","batting-allrounder":"Batting Allrounder","bowling-allrounder":"Bowling Allrounder","spin-bowling-allrounder":"Spin Bowling Allrounder","opening-bowler":"Opening Bowler","pace-bowler":"Pace Bowler","spin-bowler":"Spin Bowler","death-bowler":"Death Bowler"}[i]||null,Gx=()=>{const{selectedPlayerId:i,players:d,playerTeamId:c,teams:o,navigateTo:m,canTalkToPlayer:f}=Ze(),[x,b]=le.useState(!1),g=d.find(S=>S.id===i),v=o.find(S=>S.id===c)?.squad.includes(g?.id||"")||!1,p=i?f(i):!1,E=Lx(g?.playingRole);return g?l.jsxs("div",{className:"min-h-screen bg-gray-900 text-white pb-24",children:[l.jsx("header",{className:"bg-gray-800 p-4 border-b border-gray-700",children:l.jsx("button",{onClick:()=>m("squad"),className:"text-blue-400 hover:text-blue-300 mb-2",children:" Back"})}),l.jsxs("div",{className:"max-w-lg mx-auto p-4 space-y-4",children:[l.jsxs("div",{className:"bg-gray-800 rounded-xl p-4 border border-gray-700",children:[l.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[g.imageUrl&&!x?l.jsx("img",{src:g.imageUrl,alt:g.name,className:"w-16 h-16 rounded-full object-cover border-2 border-gray-600",onError:()=>b(!0)}):l.jsx("div",{className:`w-16 h-16 rounded-full ${Hx[g.role]} flex items-center justify-center text-xl font-bold`,children:g.shortName.slice(0,2).toUpperCase()}),l.jsxs("div",{className:"flex-1",children:[l.jsxs("h1",{className:"text-xl font-bold flex items-center gap-2",children:[g.name,g.contract.isOverseas&&l.jsx("span",{className:"text-xs bg-yellow-600/30 text-yellow-400 px-2 py-0.5 rounded",children:"Overseas"})]}),l.jsxs("p",{className:"text-gray-400",children:[g.age," years  ",g.nationality]}),l.jsxs("p",{className:"text-sm text-gray-500",children:[E||g.role.charAt(0).toUpperCase()+g.role.slice(1)," ",""," ",g.battingStyle==="left"?"Left-hand bat":"Right-hand bat",g.bowlingStyle&&`  ${g.bowlingStyle.replace(/-/g," ")}`]})]})]}),l.jsxs("div",{className:"flex justify-between items-center",children:[l.jsx(Bn,{form:g.form,size:"lg"}),l.jsxs("div",{className:"text-right",children:[l.jsx("div",{className:"text-sm text-gray-400",children:"Contract"}),l.jsxs("div",{className:"font-bold text-green-400",children:["",g.contract.salary," L"]}),l.jsxs("div",{className:"text-xs text-gray-500",children:[g.contract.yearsRemaining," yrs left"]})]})]}),v&&l.jsxs("button",{onClick:()=>m("player-talk"),className:`w-full mt-4 py-3 rounded-lg font-medium transition-colors flex items-center justify-center gap-2 ${p?"bg-blue-600 hover:bg-blue-700 text-white":"bg-gray-700 text-gray-400 cursor-not-allowed"}`,disabled:!p,children:[l.jsx("span",{children:""}),l.jsx("span",{children:p?"Talk to Player":"Recently Talked"})]})]}),l.jsxs("div",{className:"bg-gray-800 rounded-xl p-4 border border-gray-700",children:[l.jsx("h2",{className:"text-sm font-semibold text-gray-400 mb-4",children:"CURRENT STATE"}),l.jsxs("div",{className:"space-y-3",children:[l.jsx(qe,{value:g.fitness,label:"Fitness",color:g.fitness>=80?"green":g.fitness>=60?"yellow":"red"}),l.jsx(qe,{value:g.morale,label:"Morale",color:g.morale>=80?"green":g.morale>=60?"yellow":"red"}),l.jsx(qe,{value:g.fatigue,label:"Fatigue",color:g.fatigue<=30?"green":g.fatigue<=60?"yellow":"red"})]})]}),(g.role==="batsman"||g.role==="allrounder"||g.role==="keeper")&&l.jsxs("div",{className:"bg-gray-800 rounded-xl p-4 border border-gray-700",children:[l.jsxs("div",{className:"flex justify-between items-center mb-4",children:[l.jsx("h2",{className:"text-sm font-semibold text-gray-400",children:"BATTING"}),l.jsxs("span",{className:"text-sm text-blue-400",children:["Potential: ",g.potential.batting]})]}),l.jsxs("div",{className:"space-y-3",children:[l.jsx(qe,{value:g.batting.technique,label:"Technique",color:"blue"}),l.jsx(qe,{value:g.batting.power,label:"Power",color:"blue"}),l.jsx(qe,{value:g.batting.timing,label:"Timing",color:"blue"}),l.jsx(qe,{value:g.batting.temperament,label:"Temperament",color:"blue"})]})]}),(g.role==="bowler"||g.role==="allrounder")&&g.bowlingStyle&&l.jsxs("div",{className:"bg-gray-800 rounded-xl p-4 border border-gray-700",children:[l.jsxs("div",{className:"flex justify-between items-center mb-4",children:[l.jsx("h2",{className:"text-sm font-semibold text-gray-400",children:"BOWLING"}),l.jsxs("span",{className:"text-sm text-green-400",children:["Potential: ",g.potential.bowling]})]}),l.jsxs("div",{className:"space-y-3",children:[l.jsx(qe,{value:g.bowling.speed,label:"Speed/Spin",color:"green"}),l.jsx(qe,{value:g.bowling.accuracy,label:"Accuracy",color:"green"}),l.jsx(qe,{value:g.bowling.variation,label:"Variation",color:"green"}),l.jsx(qe,{value:g.bowling.stamina,label:"Stamina",color:"green"})]})]}),l.jsxs("div",{className:"bg-gray-800 rounded-xl p-4 border border-gray-700",children:[l.jsxs("div",{className:"flex justify-between items-center mb-4",children:[l.jsx("h2",{className:"text-sm font-semibold text-gray-400",children:"FIELDING"}),l.jsxs("span",{className:"text-sm text-purple-400",children:["Potential: ",g.potential.fielding]})]}),l.jsxs("div",{className:"space-y-3",children:[l.jsx(qe,{value:g.fielding.catching,label:"Catching",color:"purple"}),l.jsx(qe,{value:g.fielding.ground,label:"Ground Fielding",color:"purple"}),l.jsx(qe,{value:g.fielding.throwing,label:"Throwing",color:"purple"}),l.jsx(qe,{value:g.fielding.athleticism,label:"Athleticism",color:"purple"})]})]}),l.jsxs("div",{className:"bg-gray-800 rounded-xl p-4 border border-gray-700",children:[l.jsx("h2",{className:"text-sm font-semibold text-gray-400 mb-4",children:"PERSONALITY"}),l.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsx("div",{className:"text-sm text-gray-400",children:"Temperament"}),l.jsx("div",{className:"font-medium capitalize",children:g.personality.temperament})]}),l.jsxs("div",{children:[l.jsx("div",{className:"text-sm text-gray-400",children:"Leadership"}),l.jsx("div",{className:"font-medium",children:g.personality.leadership})]}),l.jsxs("div",{children:[l.jsx("div",{className:"text-sm text-gray-400",children:"Professionalism"}),l.jsx("div",{className:"font-medium",children:g.personality.professionalism})]}),l.jsxs("div",{children:[l.jsx("div",{className:"text-sm text-gray-400",children:"Ambition"}),l.jsx("div",{className:"font-medium",children:g.personality.ambition})]})]})]})]})]}):l.jsx("div",{className:"min-h-screen bg-gray-900 text-white flex items-center justify-center",children:l.jsx("p",{children:"Player not found"})})},Yx={batsman:"bg-blue-600",bowler:"bg-green-600",allrounder:"bg-purple-600",keeper:"bg-yellow-600"},q0={praise:{label:"Praise",color:"text-green-400",icon:""},correct:{label:"Correct",color:"text-orange-400",icon:""},motivate:{label:"Motivate",color:"text-blue-400",icon:""}},Xx=()=>{const{selectedPlayerId:i,players:d,navigateTo:c,canTalkToPlayer:o,getInteractionOptions:m,talkToPlayer:f}=Ze(),[x,b]=le.useState(null),[g,h]=le.useState(null),v=d.find(A=>A.id===i),p=i?m(i):[],E=i?o(i):!1;if(!v)return l.jsx("div",{className:"min-h-screen bg-gray-900 text-white flex items-center justify-center",children:l.jsx("p",{children:"Player not found"})});const S=A=>{if(!i)return;const k=f(i,A);b(k)},j=()=>{c("player-detail")},N=()=>{c("player-detail")};p.reduce((A,k)=>(A[k.category]||(A[k.category]=[]),A[k.category].push(k),A),{});const w=g?p.filter(A=>A.category===g):p;return l.jsxs("div",{className:"min-h-screen bg-gray-900 text-white pb-24",children:[l.jsxs("header",{className:"bg-gray-800 p-4 border-b border-gray-700",children:[l.jsx("button",{onClick:j,className:"text-blue-400 hover:text-blue-300 mb-2",children:" Back"}),l.jsx("h1",{className:"text-lg font-bold",children:"Talk to Player"})]}),l.jsxs("div",{className:"max-w-lg mx-auto p-4 space-y-4",children:[l.jsxs("div",{className:"bg-gray-800 rounded-xl p-4 border border-gray-700",children:[l.jsxs("div",{className:"flex items-center gap-4",children:[l.jsx("div",{className:`w-14 h-14 rounded-full ${Yx[v.role]} flex items-center justify-center text-lg font-bold`,children:v.shortName.slice(0,2).toUpperCase()}),l.jsxs("div",{className:"flex-1",children:[l.jsx("h2",{className:"text-lg font-bold",children:v.name}),l.jsx("p",{className:"text-sm text-gray-400",children:v.role.charAt(0).toUpperCase()+v.role.slice(1)})]})]}),l.jsxs("div",{className:"mt-4 grid grid-cols-2 gap-3",children:[l.jsxs("div",{children:[l.jsx("div",{className:"text-xs text-gray-500 mb-1",children:"Morale"}),l.jsx(qe,{value:v.morale,label:"",color:v.morale>=70?"green":v.morale>=50?"yellow":"red"})]}),l.jsxs("div",{children:[l.jsx("div",{className:"text-xs text-gray-500 mb-1",children:"Form"}),l.jsxs("div",{className:`text-lg font-bold ${v.form>5?"text-green-400":v.form<-5?"text-red-400":"text-gray-400"}`,children:[v.form>0?"+":"",v.form]})]})]}),l.jsxs("div",{className:"mt-4 p-3 bg-gray-700/50 rounded-lg",children:[l.jsx("div",{className:"text-xs text-gray-500 mb-1",children:"Personality"}),l.jsxs("div",{className:"flex flex-wrap gap-2 text-xs",children:[l.jsx("span",{className:`px-2 py-1 rounded ${v.personality.temperament==="fiery"?"bg-red-900/50 text-red-400":v.personality.temperament==="calm"?"bg-green-900/50 text-green-400":"bg-purple-900/50 text-purple-400"}`,children:v.personality.temperament.charAt(0).toUpperCase()+v.personality.temperament.slice(1)}),v.personality.professionalism>70&&l.jsx("span",{className:"px-2 py-1 rounded bg-blue-900/50 text-blue-400",children:"Professional"}),v.personality.ambition>70&&l.jsx("span",{className:"px-2 py-1 rounded bg-yellow-900/50 text-yellow-400",children:"Ambitious"}),v.personality.leadership>70&&l.jsx("span",{className:"px-2 py-1 rounded bg-cyan-900/50 text-cyan-400",children:"Leader"})]})]})]}),x&&l.jsxs("div",{className:`rounded-xl p-4 border ${x.success?"bg-gray-800 border-gray-700":"bg-red-900/30 border-red-700"}`,children:[l.jsx("h3",{className:"font-semibold mb-2",children:x.success?"Conversation Complete":"That didn't go well..."}),l.jsxs("div",{className:"bg-gray-700/50 rounded-lg p-3 mb-4 italic text-gray-300",children:['"',x.playerResponse,'"']}),l.jsxs("div",{className:"flex flex-wrap gap-3 text-sm",children:[x.effects.morale!==0&&l.jsxs("div",{className:`flex items-center gap-1 ${x.effects.morale>0?"text-green-400":"text-red-400"}`,children:[l.jsx("span",{children:"Morale"}),l.jsxs("span",{className:"font-bold",children:[x.effects.morale>0?"+":"",x.effects.morale]})]}),x.effects.form!==0&&l.jsxs("div",{className:`flex items-center gap-1 ${x.effects.form>0?"text-green-400":"text-red-400"}`,children:[l.jsx("span",{children:"Form"}),l.jsxs("span",{className:"font-bold",children:[x.effects.form>0?"+":"",x.effects.form]})]}),x.effects.pressHeat&&l.jsxs("div",{className:"flex items-center gap-1 text-orange-400",children:[l.jsx("span",{children:"Press Heat"}),l.jsxs("span",{className:"font-bold",children:["+",x.effects.pressHeat]})]})]}),l.jsx("button",{onClick:N,className:"w-full mt-4 bg-blue-600 hover:bg-blue-700 text-white py-3 rounded-lg font-medium transition-colors",children:"Done"})]}),!x&&E&&l.jsxs(l.Fragment,{children:[l.jsxs("div",{className:"flex gap-2",children:[l.jsx("button",{onClick:()=>h(null),className:`flex-1 py-2 px-3 rounded-lg text-sm font-medium transition-colors ${g===null?"bg-gray-600 text-white":"bg-gray-800 text-gray-400 hover:bg-gray-700"}`,children:"All"}),Object.entries(q0).map(([A,{label:k,icon:O}])=>l.jsxs("button",{onClick:()=>h(A),className:`flex-1 py-2 px-3 rounded-lg text-sm font-medium transition-colors ${g===A?"bg-gray-600 text-white":"bg-gray-800 text-gray-400 hover:bg-gray-700"}`,children:[O," ",k]},A))]}),l.jsx("div",{className:"space-y-3",children:w.map(A=>{const k=q0[A.category];return l.jsx("button",{onClick:()=>S(A),className:"w-full bg-gray-800 rounded-xl p-4 border border-gray-700 text-left hover:bg-gray-700/50 transition-colors",children:l.jsxs("div",{className:"flex items-start gap-3",children:[l.jsx("span",{className:"text-xl",children:k.icon}),l.jsxs("div",{className:"flex-1",children:[l.jsx("div",{className:"font-medium mb-1",children:A.label}),l.jsx("div",{className:"text-sm text-gray-400",children:A.description}),l.jsxs("div",{className:"flex gap-3 mt-2 text-xs",children:[A.baseEffects.morale!==0&&l.jsxs("span",{className:A.baseEffects.morale>0?"text-green-500":"text-red-500",children:["Morale ",A.baseEffects.morale>0?"+":"",A.baseEffects.morale]}),A.baseEffects.form!==0&&l.jsxs("span",{className:A.baseEffects.form>0?"text-blue-500":"text-orange-500",children:["Form ",A.baseEffects.form>0?"+":"",A.baseEffects.form]})]})]})]})},A.id)})})]}),!x&&!E&&l.jsxs("div",{className:"bg-gray-800 rounded-xl p-6 border border-gray-700 text-center",children:[l.jsx("div",{className:"text-4xl mb-3",children:""}),l.jsx("h3",{className:"font-semibold mb-2",children:"Recently Talked"}),l.jsxs("p",{className:"text-gray-400 text-sm",children:["You've already spoken to ",v.shortName," recently. Give them some time before your next conversation."]}),l.jsx("button",{onClick:j,className:"mt-4 text-blue-400 hover:text-blue-300",children:"Go Back"})]})]})]})},Qx={"pre-match":{label:"Pre-Match",color:"text-blue-400",icon:""},"post-win":{label:"After Victory",color:"text-green-400",icon:""},"post-loss":{label:"After Defeat",color:"text-orange-400",icon:""},crisis:{label:"Crisis Meeting",color:"text-red-400",icon:""}},Vx=()=>{const{playerTeamId:i,teams:d,players:c,navigateTo:o,canHoldTeamMeeting:m,getTeamMeetingOptions:f,holdTeamMeeting:x}=Ze(),[b,g]=le.useState(null),h=d.find(O=>O.id===i),v=c.filter(O=>h?.squad.includes(O.id)),p=f(),E=m(),S=v.length?Math.round(v.reduce((O,W)=>O+W.morale,0)/v.length):0,j=v.filter(O=>O.morale<50).length,N=v.filter(O=>O.morale>=70).length,w=O=>{const W=x(O);g(W)},A=()=>{o("club")},k=()=>{o("home")};return l.jsxs("div",{className:"min-h-screen bg-gray-900 text-white pb-24",children:[l.jsxs("header",{className:"bg-gray-800 p-4 border-b border-gray-700",children:[l.jsx("button",{onClick:A,className:"text-blue-400 hover:text-blue-300 mb-2",children:" Back"}),l.jsx("h1",{className:"text-lg font-bold",children:"Team Meeting"})]}),l.jsxs("div",{className:"max-w-lg mx-auto p-4 space-y-4",children:[l.jsxs("div",{className:"bg-gray-800 rounded-xl p-4 border border-gray-700",children:[l.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[l.jsx("div",{className:"w-14 h-14 rounded-full flex items-center justify-center text-lg font-bold",style:{backgroundColor:h?.colors.primary},children:h?.shortName}),l.jsxs("div",{className:"flex-1",children:[l.jsx("h2",{className:"text-lg font-bold",children:h?.name}),l.jsxs("p",{className:"text-sm text-gray-400",children:[v.length," players in squad"]})]})]}),l.jsxs("div",{className:"mb-4",children:[l.jsx("div",{className:"text-xs text-gray-500 mb-1",children:"Team Morale"}),l.jsx(qe,{value:S,label:"",color:S>=70?"green":S>=50?"yellow":"red"})]}),l.jsxs("div",{className:"grid grid-cols-2 gap-3 text-sm",children:[l.jsx("div",{className:"bg-gray-700/50 rounded-lg p-3",children:l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("span",{className:"text-red-400 text-lg",children:""}),l.jsxs("div",{children:[l.jsx("div",{className:"font-bold text-red-400",children:j}),l.jsx("div",{className:"text-xs text-gray-500",children:"Low morale"})]})]})}),l.jsx("div",{className:"bg-gray-700/50 rounded-lg p-3",children:l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("span",{className:"text-green-400 text-lg",children:""}),l.jsxs("div",{children:[l.jsx("div",{className:"font-bold text-green-400",children:N}),l.jsx("div",{className:"text-xs text-gray-500",children:"High morale"})]})]})})]})]}),b&&l.jsxs("div",{className:`rounded-xl p-4 border ${b.success?"bg-gray-800 border-gray-700":"bg-red-900/30 border-red-700"}`,children:[l.jsx("h3",{className:"font-semibold mb-2",children:b.success?"Meeting Complete":"That didn't go well..."}),l.jsx("div",{className:"bg-gray-700/50 rounded-lg p-3 mb-4 text-gray-300",children:b.message}),b.notableReactions.length>0&&l.jsxs("div",{className:"mb-4",children:[l.jsx("div",{className:"text-xs text-gray-500 mb-2",children:"Notable Reactions"}),l.jsx("div",{className:"space-y-2",children:b.notableReactions.map((O,W)=>l.jsxs("div",{className:"bg-gray-700/30 rounded-lg p-2 text-sm",children:[l.jsxs("span",{className:"font-medium text-blue-400",children:[O.playerName,":"]})," ",l.jsxs("span",{className:"text-gray-300 italic",children:['"',O.reaction,'"']})]},W))})]}),l.jsx("div",{className:"flex items-center gap-4 text-sm",children:l.jsxs("div",{className:`flex items-center gap-1 ${b.avgMoraleChange>0?"text-green-400":"text-red-400"}`,children:[l.jsx("span",{children:"Avg Morale"}),l.jsxs("span",{className:"font-bold",children:[b.avgMoraleChange>0?"+":"",b.avgMoraleChange]})]})}),l.jsx("button",{onClick:k,className:"w-full mt-4 bg-blue-600 hover:bg-blue-700 text-white py-3 rounded-lg font-medium transition-colors",children:"Done"})]}),!b&&E&&l.jsxs("div",{className:"space-y-3",children:[l.jsx("h3",{className:"text-sm font-semibold text-gray-400",children:"CHOOSE YOUR MESSAGE"}),p.map(O=>{const W=Qx[O.type]||{label:O.type,icon:""};return l.jsx("button",{onClick:()=>w(O),className:"w-full bg-gray-800 rounded-xl p-4 border border-gray-700 text-left hover:bg-gray-700/50 transition-colors",children:l.jsxs("div",{className:"flex items-start gap-3",children:[l.jsx("span",{className:"text-xl",children:W.icon}),l.jsxs("div",{className:"flex-1",children:[l.jsx("div",{className:"font-medium mb-1",children:O.label}),l.jsx("div",{className:"text-sm text-gray-400",children:O.description}),l.jsx("div",{className:"flex gap-3 mt-2 text-xs",children:l.jsxs("span",{className:O.baseMoraleDelta>0?"text-green-500":O.baseMoraleDelta<0?"text-red-500":"text-gray-500",children:["Morale"," ",O.baseMoraleDelta>0?"+":"",O.baseMoraleDelta]})})]})]})},O.id)})]}),!b&&!E&&l.jsxs("div",{className:"bg-gray-800 rounded-xl p-6 border border-gray-700 text-center",children:[l.jsx("div",{className:"text-4xl mb-3",children:""}),l.jsx("h3",{className:"font-semibold mb-2",children:"Recent Meeting"}),l.jsx("p",{className:"text-gray-400 text-sm",children:"You've already held a team meeting recently. Give the players some time to absorb your message before calling another meeting."}),l.jsx("button",{onClick:A,className:"mt-4 text-blue-400 hover:text-blue-300",children:"Go Back"})]})]})]})},Zx=()=>{const{fixtures:i,players:d,teams:c,playerTeamId:o}=Ze(),[m,f]=le.useState("batting"),x=c.find(N=>N.id===o),b=le.useMemo(()=>{const N=new Map;return d.forEach(w=>{const A=c.find(k=>k.squad.includes(w.id));N.set(w.id,{playerId:w.id,name:w.name,shortName:w.shortName,teamId:A?.id||"",teamShortName:A?.shortName||"",runs:0,balls:0,fours:0,sixes:0,fifties:0,wickets:0,oversBowled:0,runsConceded:0,dots:0,fourWickets:0,matches:0})}),i.filter(w=>w.status==="completed").forEach(w=>{const A=k=>{if(!k)return;const O=k.batterStats;O&&(O instanceof Map?Array.from(O.entries()):Object.entries(O)).forEach(([ne,R])=>{const G=N.get(ne);G&&R&&(G.runs+=R.runs||0,G.balls+=R.balls||0,G.fours+=R.fours||0,G.sixes+=R.sixes||0,(R.runs||0)>=50&&(G.fifties+=1))});const W=k.bowlerStats;W&&(W instanceof Map?Array.from(W.entries()):Object.entries(W)).forEach(([ne,R])=>{const G=N.get(ne);G&&R&&(G.wickets+=R.wickets||0,G.oversBowled+=R.overs||0,G.runsConceded+=R.runs||0,G.dots+=R.dots||0,(R.wickets||0)>=4&&(G.fourWickets+=1))})};A(w.innings1),A(w.innings2),c.find(k=>k.id===w.homeTeam),c.find(k=>k.id===w.awayTeam),w.homeTactics?.playingXI.forEach(k=>{const O=N.get(k);O&&(O.matches+=1)}),w.awayTactics?.playingXI.forEach(k=>{const O=N.get(k);O&&(O.matches+=1)})}),Array.from(N.values())},[i,d,c]),g=le.useMemo(()=>[...b].filter(N=>N.runs>0).sort((N,w)=>w.runs-N.runs).slice(0,10),[b]),h=le.useMemo(()=>[...b].filter(N=>N.wickets>0).sort((N,w)=>w.wickets-N.wickets).slice(0,10),[b]),v=le.useMemo(()=>[...b].filter(N=>N.balls>=30).map(N=>({...N,strikeRate:N.runs/N.balls*100})).sort((N,w)=>w.strikeRate-N.strikeRate).slice(0,10),[b]),p=le.useMemo(()=>[...b].filter(N=>N.oversBowled>=6).map(N=>({...N,economy:N.runsConceded/N.oversBowled})).sort((N,w)=>N.economy-w.economy).slice(0,10),[b]),E=le.useMemo(()=>b.filter(N=>N.teamId===o),[b,o]),S=le.useMemo(()=>[...E].sort((N,w)=>w.runs-N.runs)[0],[E]),j=le.useMemo(()=>[...E].sort((N,w)=>w.wickets-N.wickets)[0],[E]);return l.jsxs("div",{className:"min-h-screen bg-gray-900 text-white pb-24",children:[l.jsx("header",{className:"bg-gray-800 p-4 border-b border-gray-700",children:l.jsxs("div",{className:"max-w-lg mx-auto",children:[l.jsx("h1",{className:"text-xl font-bold",children:"Season Stats"}),l.jsx("p",{className:"text-sm text-gray-400",children:"Leaderboards & Records"})]})}),l.jsxs("div",{className:"max-w-lg mx-auto p-4 space-y-4",children:[l.jsx("div",{className:"flex gap-2",children:["batting","bowling","team"].map(N=>l.jsx("button",{onClick:()=>f(N),className:`flex-1 py-2 rounded-lg text-sm font-medium transition-colors ${m===N?"bg-blue-600 text-white":"bg-gray-700 text-gray-300 hover:bg-gray-600"}`,children:N.charAt(0).toUpperCase()+N.slice(1)},N))}),m==="batting"&&l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{className:"bg-gray-800 rounded-xl p-4 border border-gray-700",children:[l.jsx("h3",{className:"text-sm font-semibold text-orange-400 mb-3",children:"TOP RUN SCORERS"}),g.length===0?l.jsx("p",{className:"text-gray-500 text-sm",children:"No data yet"}):l.jsxs("div",{className:"space-y-2",children:[l.jsxs("div",{className:"grid grid-cols-12 gap-1 text-xs text-gray-500 border-b border-gray-700 pb-1",children:[l.jsx("div",{className:"col-span-1",children:"#"}),l.jsx("div",{className:"col-span-5",children:"Player"}),l.jsx("div",{className:"col-span-2 text-right",children:"Runs"}),l.jsx("div",{className:"col-span-2 text-right",children:"SR"}),l.jsx("div",{className:"col-span-2 text-right",children:"50s"})]}),g.map((N,w)=>{const A=N.balls>0?(N.runs/N.balls*100).toFixed(1):"-",k=N.teamId===o;return l.jsxs("div",{className:`grid grid-cols-12 gap-1 text-sm ${k?"text-blue-400":""}`,children:[l.jsx("div",{className:"col-span-1 text-gray-500",children:w+1}),l.jsxs("div",{className:"col-span-5 truncate",children:[N.shortName,l.jsxs("span",{className:"text-xs text-gray-500 ml-1",children:["(",N.teamShortName,")"]})]}),l.jsx("div",{className:"col-span-2 text-right font-medium",children:N.runs}),l.jsx("div",{className:"col-span-2 text-right text-gray-400",children:A}),l.jsx("div",{className:"col-span-2 text-right text-yellow-400",children:N.fifties||"-"})]},N.playerId)})]})]}),l.jsxs("div",{className:"bg-gray-800 rounded-xl p-4 border border-gray-700",children:[l.jsx("h3",{className:"text-sm font-semibold text-green-400 mb-3",children:"BEST STRIKE RATES (min 30 balls)"}),v.length===0?l.jsx("p",{className:"text-gray-500 text-sm",children:"No data yet"}):l.jsxs("div",{className:"space-y-2",children:[l.jsxs("div",{className:"grid grid-cols-12 gap-1 text-xs text-gray-500 border-b border-gray-700 pb-1",children:[l.jsx("div",{className:"col-span-1",children:"#"}),l.jsx("div",{className:"col-span-5",children:"Player"}),l.jsx("div",{className:"col-span-2 text-right",children:"SR"}),l.jsx("div",{className:"col-span-2 text-right",children:"Runs"}),l.jsx("div",{className:"col-span-2 text-right",children:"6s"})]}),v.slice(0,5).map((N,w)=>{const A=N.teamId===o;return l.jsxs("div",{className:`grid grid-cols-12 gap-1 text-sm ${A?"text-blue-400":""}`,children:[l.jsx("div",{className:"col-span-1 text-gray-500",children:w+1}),l.jsxs("div",{className:"col-span-5 truncate",children:[N.shortName,l.jsxs("span",{className:"text-xs text-gray-500 ml-1",children:["(",N.teamShortName,")"]})]}),l.jsx("div",{className:"col-span-2 text-right font-medium text-green-400",children:N.strikeRate.toFixed(1)}),l.jsx("div",{className:"col-span-2 text-right text-gray-400",children:N.runs}),l.jsx("div",{className:"col-span-2 text-right text-purple-400",children:N.sixes||"-"})]},N.playerId)})]})]})]}),m==="bowling"&&l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{className:"bg-gray-800 rounded-xl p-4 border border-gray-700",children:[l.jsx("h3",{className:"text-sm font-semibold text-purple-400 mb-3",children:"TOP WICKET TAKERS"}),h.length===0?l.jsx("p",{className:"text-gray-500 text-sm",children:"No data yet"}):l.jsxs("div",{className:"space-y-2",children:[l.jsxs("div",{className:"grid grid-cols-12 gap-1 text-xs text-gray-500 border-b border-gray-700 pb-1",children:[l.jsx("div",{className:"col-span-1",children:"#"}),l.jsx("div",{className:"col-span-5",children:"Player"}),l.jsx("div",{className:"col-span-2 text-right",children:"Wkts"}),l.jsx("div",{className:"col-span-2 text-right",children:"Econ"}),l.jsx("div",{className:"col-span-2 text-right",children:"4W"})]}),h.map((N,w)=>{const A=N.oversBowled>0?(N.runsConceded/N.oversBowled).toFixed(1):"-",k=N.teamId===o;return l.jsxs("div",{className:`grid grid-cols-12 gap-1 text-sm ${k?"text-blue-400":""}`,children:[l.jsx("div",{className:"col-span-1 text-gray-500",children:w+1}),l.jsxs("div",{className:"col-span-5 truncate",children:[N.shortName,l.jsxs("span",{className:"text-xs text-gray-500 ml-1",children:["(",N.teamShortName,")"]})]}),l.jsx("div",{className:"col-span-2 text-right font-medium",children:N.wickets}),l.jsx("div",{className:"col-span-2 text-right text-gray-400",children:A}),l.jsx("div",{className:"col-span-2 text-right text-yellow-400",children:N.fourWickets||"-"})]},N.playerId)})]})]}),l.jsxs("div",{className:"bg-gray-800 rounded-xl p-4 border border-gray-700",children:[l.jsx("h3",{className:"text-sm font-semibold text-green-400 mb-3",children:"BEST ECONOMY (min 6 overs)"}),p.length===0?l.jsx("p",{className:"text-gray-500 text-sm",children:"No data yet"}):l.jsxs("div",{className:"space-y-2",children:[l.jsxs("div",{className:"grid grid-cols-12 gap-1 text-xs text-gray-500 border-b border-gray-700 pb-1",children:[l.jsx("div",{className:"col-span-1",children:"#"}),l.jsx("div",{className:"col-span-5",children:"Player"}),l.jsx("div",{className:"col-span-2 text-right",children:"Econ"}),l.jsx("div",{className:"col-span-2 text-right",children:"Overs"}),l.jsx("div",{className:"col-span-2 text-right",children:"Wkts"})]}),p.slice(0,5).map((N,w)=>{const A=N.teamId===o;return l.jsxs("div",{className:`grid grid-cols-12 gap-1 text-sm ${A?"text-blue-400":""}`,children:[l.jsx("div",{className:"col-span-1 text-gray-500",children:w+1}),l.jsxs("div",{className:"col-span-5 truncate",children:[N.shortName,l.jsxs("span",{className:"text-xs text-gray-500 ml-1",children:["(",N.teamShortName,")"]})]}),l.jsx("div",{className:"col-span-2 text-right font-medium text-green-400",children:N.economy.toFixed(2)}),l.jsx("div",{className:"col-span-2 text-right text-gray-400",children:N.oversBowled}),l.jsx("div",{className:"col-span-2 text-right text-purple-400",children:N.wickets})]},N.playerId)})]})]})]}),m==="team"&&l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{className:"bg-blue-900/30 rounded-xl p-4 border border-blue-700",children:[l.jsxs("h3",{className:"text-sm font-semibold text-blue-400 mb-3",children:[x?.name," TOP PERFORMERS"]}),l.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[l.jsxs("div",{className:"bg-gray-800/50 rounded-lg p-3",children:[l.jsx("div",{className:"text-xs text-gray-400 mb-1",children:"Top Scorer"}),S&&S.runs>0?l.jsxs(l.Fragment,{children:[l.jsx("div",{className:"font-medium",children:S.shortName}),l.jsxs("div",{className:"text-orange-400 text-lg font-bold",children:[S.runs," runs"]}),l.jsxs("div",{className:"text-xs text-gray-500",children:["SR: ",S.balls>0?(S.runs/S.balls*100).toFixed(1):"-"]})]}):l.jsx("div",{className:"text-gray-500 text-sm",children:"No data yet"})]}),l.jsxs("div",{className:"bg-gray-800/50 rounded-lg p-3",children:[l.jsx("div",{className:"text-xs text-gray-400 mb-1",children:"Top Wicket Taker"}),j&&j.wickets>0?l.jsxs(l.Fragment,{children:[l.jsx("div",{className:"font-medium",children:j.shortName}),l.jsxs("div",{className:"text-purple-400 text-lg font-bold",children:[j.wickets," wickets"]}),l.jsxs("div",{className:"text-xs text-gray-500",children:["Econ: ",j.oversBowled>0?(j.runsConceded/j.oversBowled).toFixed(2):"-"]})]}):l.jsx("div",{className:"text-gray-500 text-sm",children:"No data yet"})]})]})]}),l.jsxs("div",{className:"bg-gray-800 rounded-xl p-4 border border-gray-700",children:[l.jsx("h3",{className:"text-sm font-semibold text-gray-400 mb-3",children:"YOUR SQUAD STATS"}),l.jsxs("div",{className:"space-y-2",children:[l.jsxs("div",{className:"grid grid-cols-12 gap-1 text-xs text-gray-500 border-b border-gray-700 pb-1",children:[l.jsx("div",{className:"col-span-4",children:"Player"}),l.jsx("div",{className:"col-span-2 text-right",children:"Runs"}),l.jsx("div",{className:"col-span-2 text-right",children:"SR"}),l.jsx("div",{className:"col-span-2 text-right",children:"Wkts"}),l.jsx("div",{className:"col-span-2 text-right",children:"Econ"})]}),E.filter(N=>N.runs>0||N.wickets>0).sort((N,w)=>w.runs+w.wickets*20-(N.runs+N.wickets*20)).map(N=>{const w=N.balls>0?(N.runs/N.balls*100).toFixed(0):"-",A=N.oversBowled>0?(N.runsConceded/N.oversBowled).toFixed(1):"-";return l.jsxs("div",{className:"grid grid-cols-12 gap-1 text-sm",children:[l.jsx("div",{className:"col-span-4 truncate",children:N.shortName}),l.jsx("div",{className:"col-span-2 text-right text-orange-400",children:N.runs||"-"}),l.jsx("div",{className:"col-span-2 text-right text-gray-400",children:w}),l.jsx("div",{className:"col-span-2 text-right text-purple-400",children:N.wickets||"-"}),l.jsx("div",{className:"col-span-2 text-right text-gray-400",children:A})]},N.playerId)})]})]})]})]})]})},$x=()=>{const{fixtures:i,teams:d,players:c,playerTeamId:o,pointsTable:m,navigateTo:f,selectMatch:x,openPlayerModal:b,openTeamModal:g}=Ze(),[h,v]=le.useState("your"),[p,E]=le.useState(null),[S,j]=le.useState(null),N=d.find(B=>B.id===o),w=B=>B?.batterStats?B.batterStats instanceof Map?Array.from(B.batterStats.entries()):Object.entries(B.batterStats):[],A=B=>B?.bowlerStats?B.bowlerStats instanceof Map?Array.from(B.bowlerStats.entries()):Object.entries(B.bowlerStats):[],O=[...i.filter(B=>h==="your"?B.homeTeam===o||B.awayTeam===o:h==="upcoming"?B.status==="upcoming":h==="completed"?B.status==="completed":!0)].sort((B,ae)=>B.matchNumber-ae.matchNumber),W=B=>{const ae=d.find(te=>te.id===B);if(!ae)return null;const J=c.filter(te=>ae.squad.includes(te.id)),fe=i.filter(te=>te.status==="completed"&&(te.homeTeam===B||te.awayTeam===B)).slice(-3).map(te=>!te.innings1||!te.innings2?"unknown":te.innings2.runs>=te.innings1.runs+1?te.innings2.battingTeam===B?"W":"L":te.innings1.battingTeam===B?"W":"L"),se=J.filter(te=>te.role==="batsman"||te.role==="allrounder"||te.role==="keeper").sort((te,ge)=>ge.form-te.form)[0],z=J.filter(te=>te.role==="bowler"||te.role==="allrounder").sort((te,ge)=>ge.form-te.form)[0],P=m.find(te=>te.teamId===B);return{team:ae,recentResults:fe,topBatter:se,topBowler:z,tableEntry:P,avgMorale:Math.round(J.reduce((te,ge)=>te+ge.morale,0)/J.length)}},_=B=>{E(p===B?null:B)},ne=B=>{x(B),f("match-prep")},R=B=>({league:"League",qualifier1:"Qualifier 1",eliminator:"Eliminator",qualifier2:"Qualifier 2",final:"Final"})[B]||B,G=B=>{if(B.status!=="completed"||!B.innings1||!B.innings2)return null;const ae=B.innings2.runs>=B.innings1.runs+1,J=ae?B.innings2.battingTeam:B.innings1.battingTeam,V=d.find(fe=>fe.id===J);if(ae){const fe=10-B.innings2.wickets;return`${V?.shortName} won by ${fe} wickets`}else{const fe=B.innings1.runs-B.innings2.runs;return`${V?.shortName} won by ${fe} runs`}},ue=[...m].sort((B,ae)=>ae.points!==B.points?ae.points-B.points:ae.netRunRate-B.netRunRate);return l.jsxs("div",{className:"min-h-screen bg-gray-900 text-white pb-24",children:[l.jsx("header",{className:"bg-gray-800 p-4 border-b border-gray-700",children:l.jsxs("div",{className:"max-w-lg mx-auto",children:[l.jsx("h1",{className:"text-xl font-bold",children:"Schedule"}),l.jsx("p",{className:"text-sm text-gray-400",children:N?.name})]})}),l.jsxs("div",{className:"max-w-lg mx-auto p-4 space-y-4",children:[l.jsx("div",{className:"flex gap-2 overflow-x-auto pb-2",children:["your","all","upcoming","completed"].map(B=>l.jsx("button",{onClick:()=>v(B),className:`px-4 py-2 rounded-full text-sm whitespace-nowrap transition-colors ${h===B?"bg-blue-600 text-white":"bg-gray-700 text-gray-300 hover:bg-gray-600"}`,children:B==="your"?"Your Matches":B.charAt(0).toUpperCase()+B.slice(1)},B))}),l.jsxs("details",{className:"bg-gray-800 rounded-xl border border-gray-700",children:[l.jsx("summary",{className:"p-4 cursor-pointer text-sm font-semibold text-gray-400 hover:text-gray-200",children:"POINTS TABLE"}),l.jsxs("div",{className:"px-4 pb-4",children:[l.jsxs("div",{className:"flex items-center justify-between px-2 py-1 text-xs text-gray-500 border-b border-gray-700 mb-2",children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("span",{className:"w-4",children:"#"}),l.jsx("span",{className:"w-12",children:"Team"})]}),l.jsxs("div",{className:"flex items-center gap-2 text-right",children:[l.jsx("span",{className:"w-6",children:"P"}),l.jsx("span",{className:"w-6",children:"W"}),l.jsx("span",{className:"w-6",children:"L"}),l.jsx("span",{className:"w-12",children:"NRR"}),l.jsx("span",{className:"w-8",children:"Pts"})]})]}),l.jsx("div",{className:"space-y-1",children:ue.map((B,ae)=>{const J=d.find(z=>z.id===B.teamId),V=B.teamId===o,fe=B.netRunRate>=0?`+${B.netRunRate.toFixed(2)}`:B.netRunRate.toFixed(2),se=B.netRunRate>=0?"text-green-400":"text-red-400";return l.jsxs("div",{className:`flex items-center justify-between px-2 py-2 rounded-lg ${V?"bg-blue-900/30 border border-blue-800/50":"bg-gray-700/30"} ${ae===3?"border-b-2 border-dashed border-gray-600":""}`,children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("span",{className:`w-4 text-sm ${ae<4?"text-green-400 font-bold":"text-gray-500"}`,children:ae+1}),l.jsx("span",{className:`w-12 text-sm ${V?"text-blue-400 font-bold":ae<4?"font-semibold":""}`,children:J?.shortName})]}),l.jsxs("div",{className:`flex items-center gap-2 text-sm text-right ${ae<4?"font-medium":""}`,children:[l.jsx("span",{className:"w-6 text-gray-400",children:B.played}),l.jsx("span",{className:"w-6 text-green-400",children:B.won}),l.jsx("span",{className:"w-6 text-red-400",children:B.lost}),l.jsx("span",{className:`w-12 text-xs ${se}`,children:fe}),l.jsx("span",{className:`w-8 ${ae<4?"font-bold text-green-400":"font-bold"}`,children:B.points})]})]},B.teamId)})})]})]}),l.jsx("div",{className:"space-y-3",children:O.length===0?l.jsx("div",{className:"text-center text-gray-500 py-8",children:"No matches found"}):O.map(B=>{const ae=d.find(te=>te.id===B.homeTeam),J=d.find(te=>te.id===B.awayTeam),V=B.homeTeam===o||B.awayTeam===o,fe=p===B.id,se=B.homeTeam===o?B.awayTeam:B.homeTeam,z=V&&fe?W(se):null,P=B.matchType!=="league";return l.jsxs("div",{className:`rounded-xl border overflow-hidden ${P?"bg-purple-900/20 border-purple-700":V?"bg-gray-800 border-blue-700/50":"bg-gray-800 border-gray-700"}`,children:[l.jsxs("button",{onClick:()=>_(B.id),className:"w-full p-4 text-left",children:[l.jsxs("div",{className:"flex justify-between items-center mb-2",children:[l.jsxs("span",{className:`text-xs ${P?"text-purple-400":"text-gray-400"}`,children:[R(B.matchType)," #",B.matchNumber]}),l.jsx("span",{className:`text-xs px-2 py-0.5 rounded ${B.status==="completed"?"bg-green-900/50 text-green-400":"bg-blue-900/50 text-blue-400"}`,children:B.status==="completed"?"Completed":"Upcoming"})]}),l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("div",{className:"w-8 h-8 rounded-full flex items-center justify-center text-xs font-bold",style:{backgroundColor:ae?.colors.primary},children:ae?.shortName}),l.jsx("span",{className:`text-sm ${B.homeTeam===o?"text-blue-400 font-medium":""}`,children:ae?.shortName})]}),l.jsx("span",{className:"text-gray-500 text-sm",children:"vs"}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("span",{className:`text-sm ${B.awayTeam===o?"text-blue-400 font-medium":""}`,children:J?.shortName}),l.jsx("div",{className:"w-8 h-8 rounded-full flex items-center justify-center text-xs font-bold",style:{backgroundColor:J?.colors.primary},children:J?.shortName})]})]}),B.status==="completed"&&l.jsx("div",{className:"text-center text-sm text-gray-400 mt-2",children:G(B)}),B.status==="completed"&&B.innings1&&B.innings2&&l.jsxs("div",{className:"flex justify-between text-sm mt-2 text-gray-300",children:[l.jsx("span",{children:B.innings1.battingTeam===B.homeTeam?`${B.innings1.runs}/${B.innings1.wickets}`:`${B.innings2.runs}/${B.innings2.wickets}`}),l.jsx("span",{children:B.innings1.battingTeam===B.awayTeam?`${B.innings1.runs}/${B.innings1.wickets}`:`${B.innings2.runs}/${B.innings2.wickets}`})]})]}),B.status==="completed"&&B.innings1&&B.innings2&&l.jsx("div",{className:"px-4 pb-3",children:l.jsx("button",{onClick:te=>{te.stopPropagation(),j(B.id)},className:"w-full py-2 bg-gray-700 hover:bg-gray-600 rounded-lg text-sm text-gray-300 transition-colors",children:"View Scorecard"})}),fe&&V&&z&&B.status==="upcoming"&&l.jsxs("div",{className:"px-4 pb-4 border-t border-gray-700",children:[l.jsx("h4",{className:"text-xs text-gray-400 mt-3 mb-2",children:"OPPONENT SCOUTING"}),l.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[l.jsx("span",{className:"text-xs text-gray-500",children:"Recent:"}),l.jsx("div",{className:"flex gap-1",children:z.recentResults.length>0?z.recentResults.map((te,ge)=>l.jsx("span",{className:`w-6 h-6 rounded flex items-center justify-center text-xs font-bold ${te==="W"?"bg-green-900 text-green-400":"bg-red-900 text-red-400"}`,children:te},ge)):l.jsx("span",{className:"text-xs text-gray-500",children:"No matches yet"})}),z.tableEntry&&l.jsxs("span",{className:"text-xs text-gray-500 ml-auto",children:[z.tableEntry.won,"W ",z.tableEntry.lost,"L"]})]}),l.jsxs("div",{className:"grid grid-cols-2 gap-2 mb-3",children:[z.topBatter&&l.jsxs("button",{onClick:()=>b(z.topBatter.id,!0),className:"bg-gray-700/50 rounded p-2 text-left hover:bg-gray-700 transition-colors",children:[l.jsx("div",{className:"text-xs text-gray-400",children:"Top Batter"}),l.jsx("div",{className:"text-sm text-blue-400 hover:text-blue-300",children:z.topBatter.shortName}),l.jsxs("div",{className:`text-xs ${z.topBatter.form>5?"text-green-400":z.topBatter.form<-5?"text-red-400":"text-gray-400"}`,children:["Form: ",z.topBatter.form>0?"+":"",z.topBatter.form]})]}),z.topBowler&&l.jsxs("button",{onClick:()=>b(z.topBowler.id,!0),className:"bg-gray-700/50 rounded p-2 text-left hover:bg-gray-700 transition-colors",children:[l.jsx("div",{className:"text-xs text-gray-400",children:"Top Bowler"}),l.jsx("div",{className:"text-sm text-blue-400 hover:text-blue-300",children:z.topBowler.shortName}),l.jsxs("div",{className:`text-xs ${z.topBowler.form>5?"text-green-400":z.topBowler.form<-5?"text-red-400":"text-gray-400"}`,children:["Form: ",z.topBowler.form>0?"+":"",z.topBowler.form]})]})]}),l.jsxs("div",{className:"flex gap-2",children:[l.jsx("button",{onClick:()=>g(se,!0),className:"flex-1 py-2 bg-gray-700 hover:bg-gray-600 rounded-lg text-sm font-medium transition-colors",children:"View Squad"}),l.jsx("button",{onClick:()=>ne(B.id),className:"flex-1 py-2 bg-blue-600 hover:bg-blue-700 rounded-lg text-sm font-medium transition-colors",children:"Prepare for Match"})]})]}),!fe&&V&&B.status==="upcoming"&&l.jsx("div",{className:"px-4 pb-2 text-center",children:l.jsx("span",{className:"text-xs text-gray-500",children:"Tap to scout opponent"})})]},B.id)})}),S&&(()=>{const B=i.find(se=>se.id===S);if(!B||!B.innings1||!B.innings2)return null;const ae=d.find(se=>se.id===B.homeTeam),J=d.find(se=>se.id===B.awayTeam),V=d.find(se=>se.id===B.innings1?.battingTeam),fe=d.find(se=>se.id===B.innings2?.battingTeam);return l.jsx("div",{className:"fixed inset-0 bg-black/80 z-50 flex items-center justify-center p-4",children:l.jsxs("div",{className:"bg-gray-800 rounded-xl max-w-lg w-full max-h-[90vh] overflow-y-auto",children:[l.jsxs("div",{className:"sticky top-0 bg-gray-800 p-4 border-b border-gray-700 flex justify-between items-center",children:[l.jsxs("div",{children:[l.jsxs("h2",{className:"font-bold",children:[ae?.shortName," vs ",J?.shortName]}),l.jsx("p",{className:"text-sm text-gray-400",children:G(B)})]}),l.jsx("button",{onClick:()=>j(null),className:"text-gray-400 hover:text-white text-2xl",children:""})]}),l.jsxs("div",{className:"p-4 space-y-6",children:[l.jsxs("div",{children:[l.jsxs("h3",{className:"font-semibold mb-2 flex items-center gap-2",children:[l.jsx("div",{className:"w-6 h-6 rounded-full flex items-center justify-center text-xs font-bold",style:{backgroundColor:V?.colors.primary},children:V?.shortName?.charAt(0)}),V?.shortName," - ",B.innings1.runs,"/",B.innings1.wickets,l.jsxs("span",{className:"text-sm text-gray-400",children:["(",B.innings1.overs," ov)"]})]}),l.jsxs("div",{className:"bg-gray-700/50 rounded-lg p-3 mb-2",children:[l.jsx("div",{className:"text-xs text-gray-400 mb-2",children:"BATTING"}),l.jsx("div",{className:"space-y-1 text-sm",children:(()=>{const se=w(B.innings1),z=new Set(se.map(([ye])=>ye)),P=B.innings1?.battingTeam,Y=(P===B.homeTeam?B.homeTactics:B.awayTactics)?.playingXI||[],M=d.find(ye=>ye.id===P),I=Y.length>0?Y:M?.squad.slice(0,11)||[],de=B.innings1?.fallOfWickets||[],re=new Set(de.map(ye=>ye.player)),Be=new Set([...z,...re]),Ee=I.filter(ye=>!Be.has(ye));return l.jsxs(l.Fragment,{children:[se.map(([ye,lt])=>{const ct=c.find(Ke=>Ke.id===ye),Zt=lt.balls>0?(lt.runs/lt.balls*100).toFixed(0):"0";return l.jsxs("div",{className:"flex justify-between",children:[l.jsx("button",{onClick:()=>b(ye,!1),className:"text-blue-400 hover:text-blue-300 hover:underline text-left",children:ct?.shortName||"Unknown"}),l.jsxs("span",{children:[lt.runs," (",lt.balls,")",l.jsxs("span",{className:"text-gray-500 text-xs ml-1",children:["SR ",Zt]})]})]},ye)}),Ee.map(ye=>{const lt=c.find(ct=>ct.id===ye);return l.jsxs("div",{className:"flex justify-between text-gray-600",children:[l.jsx("span",{children:lt?.shortName||"Unknown"}),l.jsx("span",{className:"text-xs italic",children:"did not bat"})]},ye)})]})})()})]}),l.jsxs("div",{className:"bg-gray-700/50 rounded-lg p-3",children:[l.jsx("div",{className:"text-xs text-gray-400 mb-2",children:"BOWLING"}),l.jsx("div",{className:"space-y-1 text-sm",children:A(B.innings1).map(([se,z])=>{const P=c.find(ge=>ge.id===se),te=z.overs>0?(z.runs/z.overs).toFixed(1):"0.0";return l.jsxs("div",{className:"flex justify-between",children:[l.jsx("button",{onClick:()=>b(se,!1),className:"text-blue-400 hover:text-blue-300 hover:underline text-left",children:P?.shortName||"Unknown"}),l.jsxs("span",{children:[z.wickets,"/",z.runs," (",z.overs," ov)",l.jsxs("span",{className:"text-gray-500 text-xs ml-1",children:["Econ ",te]})]})]},se)})})]})]}),l.jsxs("div",{children:[l.jsxs("h3",{className:"font-semibold mb-2 flex items-center gap-2",children:[l.jsx("div",{className:"w-6 h-6 rounded-full flex items-center justify-center text-xs font-bold",style:{backgroundColor:fe?.colors.primary},children:fe?.shortName?.charAt(0)}),fe?.shortName," - ",B.innings2.runs,"/",B.innings2.wickets,l.jsxs("span",{className:"text-sm text-gray-400",children:["(",B.innings2.overs,B.innings2.balls>0?`.${B.innings2.balls}`:""," ov)"]})]}),l.jsxs("div",{className:"bg-gray-700/50 rounded-lg p-3 mb-2",children:[l.jsx("div",{className:"text-xs text-gray-400 mb-2",children:"BATTING"}),l.jsx("div",{className:"space-y-1 text-sm",children:(()=>{const se=w(B.innings2),z=new Set(se.map(([ye])=>ye)),P=B.innings2?.battingTeam,Y=(P===B.homeTeam?B.homeTactics:B.awayTactics)?.playingXI||[],M=d.find(ye=>ye.id===P),I=Y.length>0?Y:M?.squad.slice(0,11)||[],de=B.innings2?.fallOfWickets||[],re=new Set(de.map(ye=>ye.player)),Be=new Set([...z,...re]),Ee=I.filter(ye=>!Be.has(ye));return l.jsxs(l.Fragment,{children:[se.map(([ye,lt])=>{const ct=c.find(Ke=>Ke.id===ye),Zt=lt.balls>0?(lt.runs/lt.balls*100).toFixed(0):"0";return l.jsxs("div",{className:"flex justify-between",children:[l.jsx("button",{onClick:()=>b(ye,!1),className:"text-blue-400 hover:text-blue-300 hover:underline text-left",children:ct?.shortName||"Unknown"}),l.jsxs("span",{children:[lt.runs," (",lt.balls,")",l.jsxs("span",{className:"text-gray-500 text-xs ml-1",children:["SR ",Zt]})]})]},ye)}),Ee.map(ye=>{const lt=c.find(ct=>ct.id===ye);return l.jsxs("div",{className:"flex justify-between text-gray-600",children:[l.jsx("span",{children:lt?.shortName||"Unknown"}),l.jsx("span",{className:"text-xs italic",children:"did not bat"})]},ye)})]})})()})]}),l.jsxs("div",{className:"bg-gray-700/50 rounded-lg p-3",children:[l.jsx("div",{className:"text-xs text-gray-400 mb-2",children:"BOWLING"}),l.jsx("div",{className:"space-y-1 text-sm",children:A(B.innings2).map(([se,z])=>{const P=c.find(ge=>ge.id===se),te=z.overs>0?(z.runs/z.overs).toFixed(1):"0.0";return l.jsxs("div",{className:"flex justify-between",children:[l.jsx("button",{onClick:()=>b(se,!1),className:"text-blue-400 hover:text-blue-300 hover:underline text-left",children:P?.shortName||"Unknown"}),l.jsxs("span",{children:[z.wickets,"/",z.runs," (",z.overs," ov)",l.jsxs("span",{className:"text-gray-500 text-xs ml-1",children:["Econ ",te]})]})]},se)})})]})]})]}),l.jsx("div",{className:"p-4 border-t border-gray-700",children:l.jsx("button",{onClick:()=>j(null),className:"w-full py-2 bg-gray-700 hover:bg-gray-600 rounded-lg font-medium transition-colors",children:"Close"})})]})})})()]})]})},Px=()=>{const{playerTeamId:i,teams:d,players:c,manager:o,pressHeat:m,fixtures:f,pointsTable:x,navigateTo:b,canHoldTeamMeeting:g}=Ze(),h=g(),v=d.find(V=>V.id===i),p=c.filter(V=>v?.squad.includes(V.id)),E=p.length?Math.round(p.reduce((V,fe)=>V+fe.morale,0)/p.length):0,S=p.length?Math.round(p.reduce((V,fe)=>V+fe.fitness,0)/p.length):0;p.length&&Math.round(p.reduce((V,fe)=>V+fe.form,0)/p.length);const j=v?.boardPatience??50,w=f.filter(V=>V.status==="completed"&&(V.homeTeam===i||V.awayTeam===i)).slice(-5),A=w.filter(V=>!V.innings1||!V.innings2?!1:V.innings2.runs>=V.innings1.runs+1?V.innings2.battingTeam===i:V.innings1.battingTeam===i).length,k=w.length>0?Math.round(A/w.length*100):50,W=[...x].sort((V,fe)=>fe.points!==V.points?fe.points-V.points:fe.netRunRate-V.netRunRate).findIndex(V=>V.teamId===i)+1,_=x.find(V=>V.teamId===i),ne=p.filter(V=>V.contract.isOverseas).length,R=p.length-ne,G=p.filter(V=>V.role==="batsman").length,ue=p.filter(V=>V.role==="bowler").length,B=p.filter(V=>V.role==="allrounder").length,ae=p.filter(V=>V.role==="keeper").length,J=p.reduce((V,fe)=>V+fe.contract.salary,0);return l.jsxs("div",{className:"min-h-screen bg-gray-900 text-white pb-24",children:[l.jsx("header",{className:"bg-gray-800 p-4 border-b border-gray-700",children:l.jsxs("div",{className:"max-w-lg mx-auto flex items-center gap-4",children:[l.jsx("div",{className:"w-16 h-16 rounded-full flex items-center justify-center text-xl font-bold",style:{backgroundColor:v?.colors.primary},children:v?.shortName}),l.jsxs("div",{children:[l.jsx("h1",{className:"text-xl font-bold",children:v?.name}),l.jsxs("p",{className:"text-sm text-gray-400",children:["Manager: ",o.name]})]})]})}),l.jsxs("div",{className:"max-w-lg mx-auto p-4 space-y-4",children:[l.jsxs("div",{className:"bg-gray-800 rounded-xl p-4 border border-gray-700",children:[l.jsx("h2",{className:"text-sm font-semibold text-gray-400 mb-3",children:"SEASON PERFORMANCE"}),l.jsxs("div",{className:"flex items-center justify-between mb-4",children:[l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:"text-3xl font-bold",children:W}),l.jsx("div",{className:"text-xs text-gray-400",children:"Position"})]}),l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:"text-3xl font-bold text-green-400",children:_?.won||0}),l.jsx("div",{className:"text-xs text-gray-400",children:"Wins"})]}),l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:"text-3xl font-bold text-red-400",children:_?.lost||0}),l.jsx("div",{className:"text-xs text-gray-400",children:"Losses"})]}),l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:`text-xl font-bold ${(_?.netRunRate||0)>=0?"text-green-400":"text-red-400"}`,children:_?.netRunRate!==void 0?(_.netRunRate>=0?"+":"")+_.netRunRate.toFixed(2):"-"}),l.jsx("div",{className:"text-xs text-gray-400",children:"NRR"})]})]}),W<=4?l.jsx("div",{className:"bg-green-900/30 rounded-lg p-2 text-center",children:l.jsx("span",{className:"text-green-400 text-sm",children:"Playoff Position"})}):l.jsx("div",{className:"bg-red-900/30 rounded-lg p-2 text-center",children:l.jsxs("span",{className:"text-red-400 text-sm",children:[5-W," more wins needed for playoffs"]})})]}),l.jsxs("div",{className:"bg-gray-800 rounded-xl p-4 border border-gray-700",children:[l.jsx("h2",{className:"text-sm font-semibold text-gray-400 mb-3",children:"CLUB HEALTH"}),l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{children:[l.jsxs("div",{className:"flex justify-between text-sm mb-1",children:[l.jsx("span",{children:"Board Confidence"}),l.jsxs("span",{className:j>60?"text-green-400":j<40?"text-red-400":"text-yellow-400",children:[j,"%"]})]}),l.jsx("div",{className:"h-2 bg-gray-700 rounded-full overflow-hidden",children:l.jsx("div",{className:`h-full transition-all ${j>60?"bg-green-500":j<40?"bg-red-500":"bg-yellow-500"}`,style:{width:`${j}%`}})})]}),l.jsxs("div",{children:[l.jsxs("div",{className:"flex justify-between text-sm mb-1",children:[l.jsx("span",{children:"Fan Support"}),l.jsxs("span",{className:k>60?"text-green-400":k<40?"text-red-400":"text-yellow-400",children:[k,"%"]})]}),l.jsx("div",{className:"h-2 bg-gray-700 rounded-full overflow-hidden",children:l.jsx("div",{className:`h-full transition-all ${k>60?"bg-green-500":k<40?"bg-red-500":"bg-yellow-500"}`,style:{width:`${k}%`}})})]}),l.jsxs("div",{children:[l.jsxs("div",{className:"flex justify-between text-sm mb-1",children:[l.jsx("span",{children:"Press Heat"}),l.jsxs("span",{className:m<40?"text-green-400":m>60?"text-red-400":"text-yellow-400",children:[m,"%"]})]}),l.jsx("div",{className:"h-2 bg-gray-700 rounded-full overflow-hidden",children:l.jsx("div",{className:`h-full transition-all ${m<40?"bg-green-500":m>60?"bg-red-500":"bg-yellow-500"}`,style:{width:`${m}%`}})})]})]})]}),l.jsxs("div",{className:"bg-gray-800 rounded-xl p-4 border border-gray-700",children:[l.jsx("h2",{className:"text-sm font-semibold text-gray-400 mb-3",children:"SQUAD OVERVIEW"}),l.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-4",children:[l.jsx("div",{children:l.jsx(qe,{value:E,label:"Team Morale",color:"purple"})}),l.jsx("div",{children:l.jsx(qe,{value:S,label:"Team Fitness",color:"green"})})]}),l.jsxs("div",{className:"grid grid-cols-3 gap-2 text-center text-sm",children:[l.jsxs("div",{className:"bg-gray-700/50 rounded-lg p-2",children:[l.jsx("div",{className:"font-bold",children:p.length}),l.jsx("div",{className:"text-xs text-gray-400",children:"Squad Size"})]}),l.jsxs("div",{className:"bg-gray-700/50 rounded-lg p-2",children:[l.jsx("div",{className:"font-bold",children:R}),l.jsx("div",{className:"text-xs text-gray-400",children:"Domestic"})]}),l.jsxs("div",{className:"bg-gray-700/50 rounded-lg p-2",children:[l.jsx("div",{className:"font-bold text-blue-400",children:ne}),l.jsx("div",{className:"text-xs text-gray-400",children:"Overseas"})]})]}),l.jsxs("div",{className:"mt-4 grid grid-cols-4 gap-2 text-center text-xs",children:[l.jsxs("div",{className:"bg-orange-900/30 rounded p-2",children:[l.jsx("div",{className:"font-bold text-orange-400",children:G}),l.jsx("div",{className:"text-gray-500",children:"BAT"})]}),l.jsxs("div",{className:"bg-purple-900/30 rounded p-2",children:[l.jsx("div",{className:"font-bold text-purple-400",children:ue}),l.jsx("div",{className:"text-gray-500",children:"BOWL"})]}),l.jsxs("div",{className:"bg-green-900/30 rounded p-2",children:[l.jsx("div",{className:"font-bold text-green-400",children:B}),l.jsx("div",{className:"text-gray-500",children:"AR"})]}),l.jsxs("div",{className:"bg-blue-900/30 rounded p-2",children:[l.jsx("div",{className:"font-bold text-blue-400",children:ae}),l.jsx("div",{className:"text-gray-500",children:"WK"})]})]})]}),l.jsxs("div",{className:"bg-gray-800 rounded-xl p-4 border border-gray-700",children:[l.jsx("h2",{className:"text-sm font-semibold text-gray-400 mb-3",children:"FINANCES"}),l.jsxs("div",{className:"space-y-3",children:[l.jsxs("div",{className:"flex justify-between items-center",children:[l.jsx("span",{className:"text-gray-400",children:"Budget"}),l.jsxs("span",{className:"font-bold text-green-400",children:["",(v?.budget||0).toFixed(1)," Cr"]})]}),l.jsxs("div",{className:"flex justify-between items-center",children:[l.jsx("span",{className:"text-gray-400",children:"Total Salary"}),l.jsxs("span",{className:"font-bold",children:["",(J/100).toFixed(1)," Cr"]})]}),l.jsxs("div",{className:"flex justify-between items-center",children:[l.jsx("span",{className:"text-gray-400",children:"Salary Cap"}),l.jsxs("span",{className:"text-gray-500",children:["",(v?.salaryCap||0).toFixed(1)," Cr"]})]}),l.jsxs("div",{className:"pt-2 border-t border-gray-700",children:[l.jsxs("div",{className:"flex justify-between text-sm mb-1",children:[l.jsx("span",{className:"text-gray-400",children:"Cap Usage"}),l.jsxs("span",{children:[(J/100/(v?.salaryCap||100)*100).toFixed(0),"%"]})]}),l.jsx("div",{className:"h-2 bg-gray-700 rounded-full overflow-hidden",children:l.jsx("div",{className:"h-full bg-blue-500",style:{width:`${Math.min(100,J/100/(v?.salaryCap||100)*100)}%`}})})]})]})]}),l.jsxs("div",{className:"bg-gray-800 rounded-xl p-4 border border-gray-700",children:[l.jsx("h2",{className:"text-sm font-semibold text-gray-400 mb-3",children:"MANAGER"}),l.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[l.jsx("div",{className:"w-12 h-12 rounded-full bg-gray-700 flex items-center justify-center text-xl",children:""}),l.jsxs("div",{children:[l.jsx("div",{className:"font-bold",children:o.name}),l.jsxs("div",{className:"text-sm text-gray-400",children:["Reputation: ",o.reputation]})]})]}),l.jsxs("div",{className:"grid grid-cols-3 gap-2 text-center text-sm",children:[l.jsxs("div",{className:"bg-gray-700/50 rounded-lg p-2",children:[l.jsx("div",{className:"font-bold",children:o.history.seasonsManaged}),l.jsx("div",{className:"text-xs text-gray-400",children:"Seasons"})]}),l.jsxs("div",{className:"bg-gray-700/50 rounded-lg p-2",children:[l.jsx("div",{className:"font-bold text-yellow-400",children:o.history.titlesWon}),l.jsx("div",{className:"text-xs text-gray-400",children:"Titles"})]}),l.jsxs("div",{className:"bg-gray-700/50 rounded-lg p-2",children:[l.jsx("div",{className:"font-bold",children:o.history.playoffAppearances}),l.jsx("div",{className:"text-xs text-gray-400",children:"Playoffs"})]})]})]}),l.jsxs("div",{className:"bg-gray-800 rounded-xl p-4 border border-gray-700",children:[l.jsx("h2",{className:"text-sm font-semibold text-gray-400 mb-3",children:"TEAM ACTIONS"}),l.jsxs("button",{onClick:()=>b("team-meeting"),className:`w-full p-4 rounded-lg flex items-center gap-3 transition-colors ${h?"bg-purple-900/30 hover:bg-purple-900/50 border border-purple-700":"bg-gray-700/30 border border-gray-600 opacity-50"}`,children:[l.jsx("span",{className:"text-2xl",children:""}),l.jsxs("div",{className:"text-left flex-1",children:[l.jsx("div",{className:"font-medium",children:"Team Meeting"}),l.jsx("div",{className:"text-xs text-gray-400",children:h?"Motivate or address the squad":"Recently held a meeting"})]}),h&&l.jsx("span",{className:"text-purple-400",children:""})]})]}),l.jsxs("div",{className:"bg-gray-700/30 rounded-xl p-4 border border-dashed border-gray-600 text-center",children:[l.jsx("div",{className:"text-gray-500 text-sm",children:"Staff Management"}),l.jsx("div",{className:"text-gray-600 text-xs mt-1",children:"Coming Soon"})]})]})]})},Kx=[{value:"default",label:"Default",desc:"Bat in assigned order"},{value:"promote",label:"Promote",desc:"Send up the order when needed"},{value:"finisher",label:"Finisher",desc:"Save for death overs"},{value:"anchor",label:"Anchor",desc:"Play steady, rotate strike"}],Ix=[{value:"default",label:"Default",desc:"Bowl full quota if needed"},{value:"max-2-overs",label:"Max 2 Overs",desc:"Limit to 2 overs"},{value:"max-3-overs",label:"Max 3 Overs",desc:"Limit to 3 overs"},{value:"death-specialist",label:"Death Overs",desc:"Save for overs 16-20"},{value:"powerplay-only",label:"Powerplay Only",desc:"Bowl in overs 1-6"}],Fx=[{value:"good-length",label:"Good Length",desc:"Balanced, default approach"},{value:"short",label:"Short",desc:"Bouncers, needs pace"},{value:"yorkers",label:"Yorkers",desc:"Death specialty, needs accuracy"},{value:"full-pitched",label:"Full",desc:"Swing bowling, wicket-taking"}],Jx=[{value:"attacking",label:"Attacking",desc:"More catchers, wicket-focused"},{value:"balanced",label:"Balanced",desc:"Standard field"},{value:"defensive",label:"Defensive",desc:"Boundary protection"},{value:"death-field",label:"Death Field",desc:"Long boundaries covered"}],Wx=()=>{const{selectedMatchId:i,playerTeamId:d,teams:c,players:o,fixtures:m,setMatchTactics:f,navigateTo:x}=Ze(),[b,g]=le.useState("select"),[h,v]=le.useState([]),[p,E]=le.useState({powerplay:"aggressive",middle:"balanced",death:"aggressive"}),[S,j]=le.useState({powerplay:{length:"full-pitched",field:"attacking"},middle:{length:"good-length",field:"balanced"},death:{length:"yorkers",field:"death-field"}}),[N,w]=le.useState("batting"),[A,k]=le.useState([]),[O,W]=le.useState(null),_=m.find(Y=>Y.id===i),ne=c.find(Y=>Y.id===d),R=o.filter(Y=>ne?.squad.includes(Y.id)),G=_?c.find(Y=>Y.id===(_.homeTeam===d?_.awayTeam:_.homeTeam)):null;le.useEffect(()=>{_&&_.status!=="upcoming"&&x("home")},[_,x]);const ue=le.useMemo(()=>h.filter(Y=>o.find(M=>M.id===Y)?.contract.isOverseas).length,[h,o]),B=le.useMemo(()=>h.some(Y=>o.find(M=>M.id===Y)?.role==="keeper"),[h,o]),ae=le.useMemo(()=>h.filter(Y=>{const M=o.find(I=>I.id===Y);return M?.role==="bowler"||M?.role==="allrounder"}).length,[h,o]),J=Y=>A.find(M=>M.playerId===Y)||{playerId:Y},V=(Y,M)=>{k(I=>I.find(re=>re.playerId===Y)?I.map(re=>re.playerId===Y?{...re,...M}:re):[...I,{playerId:Y,...M}])},fe=Y=>{const M=A.find(I=>I.playerId===Y);return!!(M&&(M.batting!=="default"||M.bowling!=="default"))},se=()=>{const Y=[...R],M=[];let I=0;const de=he=>!(he.contract.isOverseas&&I>=4),re=he=>{M.push(he),he.contract.isOverseas&&I++;const We=Y.findIndex(X=>X.id===he.id);We!==-1&&Y.splice(We,1)},Be=he=>{let We=100;return We-=he.fatigue*.5,We+=he.form*2,We+=he.fitness*.3,he.role==="batsman"&&(We+=(he.batting.technique+he.batting.power)/4),he.role==="bowler"&&(We+=(he.bowling.accuracy+he.bowling.variation)/4),he.role==="allrounder"&&(We+=(he.batting.technique+he.bowling.accuracy)/4),he.role==="keeper"&&(We+=(he.batting.technique+he.fielding.catching)/4),We};Y.sort((he,We)=>Be(We)-Be(he));const Ee=Y.filter(he=>he.role==="keeper"&&de(he));Ee.length>0&&(Ee.sort((he,We)=>Be(We)-Be(he)),re(Ee[0]));const ye=Y.filter(he=>he.role==="bowler"&&de(he));ye.sort((he,We)=>Be(We)-Be(he));let lt=0;for(const he of ye){if(lt>=4)break;de(he)&&(re(he),lt++)}const ct=Y.filter(he=>he.role==="allrounder"&&de(he));ct.sort((he,We)=>Be(We)-Be(he));let Zt=0;for(const he of ct){if(Zt>=2)break;de(he)&&(re(he),Zt++)}const Ke=Y.filter(he=>he.role==="batsman"&&de(he));Ke.sort((he,We)=>Be(We)-Be(he));for(const he of Ke){if(M.length>=11)break;de(he)&&re(he)}for(const he of Y){if(M.length>=11)break;de(he)&&re(he)}const xt=[],qt=M.filter(he=>he.role==="batsman"),Wt=M.filter(he=>he.role==="keeper"),Ut=M.filter(he=>he.role==="allrounder"),ca=M.filter(he=>he.role==="bowler");xt.push(...qt.slice(0,3)),xt.push(...Wt),xt.push(...qt.slice(3)),xt.push(...Ut),xt.push(...ca),v(xt.map(he=>he.id))},z=Y=>{const M=o.find(I=>I.id===Y);if(M)if(h.includes(Y))v(h.filter(I=>I!==Y));else{if(h.length>=11||M.contract.isOverseas&&ue>=4)return;v([...h,Y])}},P=(Y,M)=>{const I=h.indexOf(Y);if(I===-1)return;const de=[...h],re=M==="up"?I-1:I+1;re<0||re>=h.length||([de[I],de[re]]=[de[re],de[I]],v(de))},te=()=>{if(!_||h.length!==11)return;const Y=h.map(Ee=>o.find(ye=>ye.id===Ee)).filter(Boolean),M=Y.reduce((Ee,ye)=>ye.personality.leadership>(Ee?.personality.leadership||0)?ye:Ee),I=Y.find(Ee=>Ee.role==="keeper"),de=Y.filter(Ee=>Ee.role==="bowler"||Ee.role==="allrounder"),re=de.filter(Ee=>Ee.bowlingStyle?.includes("fast")||Ee.bowlingStyle?.includes("medium")),Be={playingXI:h,captain:M?.id||h[0],wicketkeeper:I?.id||h[0],battingApproach:p,bowlingPlan:{openingBowlers:[re[0]?.id||de[0]?.id||h[0],re[1]?.id||de[1]?.id||h[1]],deathBowler:re[0]?.id||de[0]?.id||h[0],spinStrategy:"middle",bowlingApproach:S},playerInstructions:A.filter(Ee=>h.includes(Ee.playerId))};f(_.id,d,Be),x("match-live")};if(!_||!ne||!G)return l.jsx("div",{className:"min-h-screen bg-gray-900 text-white flex items-center justify-center",children:l.jsx("p",{children:"No match selected"})});const ge=[];return h.length>0&&!B&&ge.push("No wicketkeeper selected"),h.length>0&&ae<5&&ge.push(`Only ${ae} bowling options`),h.forEach(Y=>{const M=o.find(I=>I.id===Y);M&&M.fatigue>70&&ge.push(`${M.shortName} is fatigued (${M.fatigue}%)`),M&&M.form<-8&&ge.push(`${M.shortName} is in poor form (${M.form})`)}),l.jsxs("div",{className:"min-h-screen bg-gray-900 text-white pb-24",children:[l.jsx("header",{className:"bg-gray-800 p-4 border-b border-gray-700 sticky top-0 z-20",children:l.jsxs("div",{className:"max-w-lg mx-auto",children:[l.jsxs("div",{className:"flex justify-between items-center mb-2",children:[l.jsx("button",{onClick:()=>x("home"),className:"text-blue-400",children:" Back"}),l.jsxs("span",{className:"text-sm text-gray-400",children:["vs ",G.shortName]})]}),l.jsx("div",{className:"flex gap-2",children:["select","tactics","review"].map((Y,M)=>l.jsxs("button",{onClick:()=>Y==="select"||Y==="tactics"&&h.length===11?g(Y):null,className:`flex-1 py-2 px-3 rounded-lg text-sm font-medium transition-colors
                  ${b===Y?"bg-blue-600 text-white":"bg-gray-700 text-gray-400"}
                  ${Y!=="select"&&h.length<11?"opacity-50 cursor-not-allowed":""}`,children:[M+1,". ",Y.charAt(0).toUpperCase()+Y.slice(1)]},Y))})]})}),l.jsxs("div",{className:"max-w-lg mx-auto p-4",children:[b==="select"&&l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{className:"flex justify-between items-center",children:[l.jsxs("h2",{className:"text-lg font-semibold",children:["Playing XI (",h.length,"/11)"]}),l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("button",{onClick:se,className:"text-sm bg-gray-700 hover:bg-gray-600 px-3 py-1 rounded-lg transition-colors",children:"Auto-Select"}),l.jsxs("span",{className:`text-sm ${ue>4?"text-red-400":"text-gray-400"}`,children:["Overseas: ",ue,"/4"]})]})]}),h.length>0&&l.jsxs("div",{className:"bg-gray-800 rounded-xl p-3 border border-gray-700",children:[l.jsx("h3",{className:"text-sm text-gray-400 mb-2",children:"Batting Order (tap player for instructions)"}),l.jsx("div",{className:"space-y-2",children:h.map((Y,M)=>{const I=o.find(ye=>ye.id===Y);if(!I)return null;const de=I.role==="bowler"||I.role==="allrounder",re=J(Y),Be=fe(Y),Ee=O===Y;return l.jsxs("div",{className:"space-y-1",children:[l.jsxs("div",{className:`flex items-center gap-2 p-2 rounded-lg cursor-pointer transition-colors
                            ${Ee?"bg-blue-900/50 border border-blue-700":"bg-gray-700/50 hover:bg-gray-700"}`,onClick:()=>W(Ee?null:Y),children:[l.jsxs("span",{className:"text-gray-500 w-6",children:[M+1,"."]}),l.jsxs("span",{className:"flex-1",children:[I.shortName,Be&&l.jsx("span",{className:"ml-2 text-xs text-blue-400",children:"*"})]}),l.jsxs("div",{className:"flex gap-1",onClick:ye=>ye.stopPropagation(),children:[l.jsx("button",{onClick:()=>P(Y,"up"),className:"px-2 py-1 text-xs bg-gray-600 rounded hover:bg-gray-500",disabled:M===0,children:""}),l.jsx("button",{onClick:()=>P(Y,"down"),className:"px-2 py-1 text-xs bg-gray-600 rounded hover:bg-gray-500",disabled:M===h.length-1,children:""}),l.jsx("button",{onClick:()=>z(Y),className:"px-2 py-1 text-xs bg-red-600 rounded hover:bg-red-500",children:""})]})]}),Ee&&l.jsxs("div",{className:"ml-6 p-3 bg-gray-900 rounded-lg border border-gray-700 space-y-3",children:[l.jsxs("div",{children:[l.jsx("label",{className:"text-xs text-gray-400 block mb-1",children:"Batting"}),l.jsx("div",{className:"flex flex-wrap gap-1",children:Kx.map(ye=>l.jsx("button",{onClick:()=>V(Y,{batting:ye.value}),className:`px-2 py-1 text-xs rounded transition-colors
                                      ${(re.batting||"default")===ye.value?"bg-blue-600 text-white":"bg-gray-700 text-gray-300 hover:bg-gray-600"}`,children:ye.label},ye.value))})]}),de&&l.jsxs("div",{children:[l.jsx("label",{className:"text-xs text-gray-400 block mb-1",children:"Bowling"}),l.jsx("div",{className:"flex flex-wrap gap-1",children:Ix.map(ye=>l.jsx("button",{onClick:()=>V(Y,{bowling:ye.value}),className:`px-2 py-1 text-xs rounded transition-colors
                                        ${(re.bowling||"default")===ye.value?"bg-blue-600 text-white":"bg-gray-700 text-gray-300 hover:bg-gray-600"}`,children:ye.label},ye.value))})]})]})]},Y)})})]}),ge.length>0&&l.jsxs("div",{className:"bg-yellow-900/20 border border-yellow-700 rounded-lg p-3",children:[l.jsx("h3",{className:"text-sm font-semibold text-yellow-400 mb-2",children:"Warnings"}),l.jsx("ul",{className:"text-sm text-yellow-300 space-y-1",children:ge.map((Y,M)=>l.jsxs("li",{children:[" ",Y]},M))})]}),l.jsxs("div",{children:[l.jsx("h3",{className:"text-sm text-gray-400 mb-2",children:"Available Players"}),l.jsx("div",{className:"space-y-2",children:R.filter(Y=>!h.includes(Y.id)).map(Y=>l.jsx(go,{player:Y,onClick:()=>z(Y.id),compact:!0,selected:!1},Y.id))})]}),h.length===11&&l.jsx("button",{onClick:()=>g("tactics"),className:"w-full bg-blue-600 hover:bg-blue-700 text-white py-3 rounded-lg font-medium",children:"Continue to Tactics "})]}),b==="tactics"&&l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{className:"flex gap-2 bg-gray-800 rounded-lg p-1",children:[l.jsx("button",{onClick:()=>w("batting"),className:`flex-1 py-2 rounded-lg text-sm font-medium transition-colors
                  ${N==="batting"?"bg-blue-600 text-white":"text-gray-400 hover:text-white"}`,children:"Batting Tactics"}),l.jsx("button",{onClick:()=>w("bowling"),className:`flex-1 py-2 rounded-lg text-sm font-medium transition-colors
                  ${N==="bowling"?"bg-purple-600 text-white":"text-gray-400 hover:text-white"}`,children:"Bowling Tactics"})]}),N==="batting"&&l.jsxs(l.Fragment,{children:[l.jsx("h2",{className:"text-lg font-semibold",children:"Batting Approach"}),["powerplay","middle","death"].map(Y=>l.jsxs("div",{className:"bg-gray-800 rounded-xl p-4 border border-gray-700",children:[l.jsx("h3",{className:"text-sm text-gray-400 mb-3 capitalize",children:Y==="powerplay"?"Powerplay (1-6)":Y==="middle"?"Middle Overs (7-15)":"Death (16-20)"}),l.jsx("div",{className:"flex gap-2",children:["aggressive","balanced","cautious"].map(M=>l.jsx("button",{onClick:()=>E({...p,[Y]:M}),className:`flex-1 py-2 px-3 rounded-lg text-sm font-medium transition-colors
                            ${p[Y]===M?"bg-blue-600 text-white":"bg-gray-700 text-gray-400 hover:bg-gray-600"}`,children:M.charAt(0).toUpperCase()+M.slice(1)},M))})]},Y))]}),N==="bowling"&&l.jsxs(l.Fragment,{children:[l.jsx("h2",{className:"text-lg font-semibold",children:"Bowling Tactics"}),["powerplay","middle","death"].map(Y=>l.jsxs("div",{className:"bg-gray-800 rounded-xl p-4 border border-gray-700",children:[l.jsx("h3",{className:"text-sm text-gray-400 mb-3",children:Y==="powerplay"?"Powerplay (1-6)":Y==="middle"?"Middle Overs (7-15)":"Death (16-20)"}),l.jsxs("div",{className:"mb-3",children:[l.jsx("label",{className:"text-xs text-gray-500 mb-1 block",children:"Bowling Length"}),l.jsx("div",{className:"flex gap-1",children:Fx.map(M=>l.jsx("button",{onClick:()=>j({...S,[Y]:{...S[Y],length:M.value}}),className:`flex-1 py-2 px-1 rounded-lg text-xs font-medium transition-colors
                              ${S[Y].length===M.value?"bg-purple-600 text-white":"bg-gray-700 text-gray-400 hover:bg-gray-600"}`,children:M.label},M.value))})]}),l.jsxs("div",{children:[l.jsx("label",{className:"text-xs text-gray-500 mb-1 block",children:"Field Setting"}),l.jsx("div",{className:"flex gap-1",children:Jx.map(M=>l.jsx("button",{onClick:()=>j({...S,[Y]:{...S[Y],field:M.value}}),className:`flex-1 py-2 px-1 rounded-lg text-xs font-medium transition-colors
                              ${S[Y].field===M.value?"bg-green-600 text-white":"bg-gray-700 text-gray-400 hover:bg-gray-600"}`,children:M.label},M.value))})]})]},Y))]}),l.jsxs("div",{className:"flex gap-2",children:[l.jsx("button",{onClick:()=>g("select"),className:"flex-1 bg-gray-700 hover:bg-gray-600 text-white py-3 rounded-lg font-medium",children:" Back"}),l.jsx("button",{onClick:te,className:"flex-1 bg-green-600 hover:bg-green-700 text-white py-3 rounded-lg font-medium",children:"Start Match"})]})]})]})]})};function Et(i){return Math.max(0,Math.min(100,Math.round(i)))}function eb(i){return Math.max(-20,Math.min(20,Math.round(i)))}function U0(i){return{id:i.id,name:i.name,short_name:i.shortName,role:i.role,playing_role:i.playingRole??null,batting_style:i.battingStyle,bowling_style:i.bowlingStyle??null,batting:{technique:Et(i.batting.technique),power:Et(i.batting.power),timing:Et(i.batting.timing),temperament:Et(i.batting.temperament)},bowling:{speed:Et(i.bowling.speed),accuracy:Et(i.bowling.accuracy),variation:Et(i.bowling.variation),stamina:Et(i.bowling.stamina)},fielding:{catching:Et(i.fielding.catching),ground:Et(i.fielding.ground),throwing:Et(i.fielding.throwing),athleticism:Et(i.fielding.athleticism)},form:eb(i.form),fitness:Et(i.fitness),morale:Et(i.morale),fatigue:Et(i.fatigue),personality:i.personality?{temperament:i.personality.temperament,professionalism:Et(i.personality.professionalism),ambition:Et(i.personality.ambition),leadership:Et(i.personality.leadership)}:null}}function tb(i){const d={};i.batterStats.forEach((f,x)=>{d[x]={runs:Math.floor(f.runs),balls:Math.floor(f.balls),fours:Math.floor(f.fours),sixes:Math.floor(f.sixes)}});const c={};i.bowlerStats.forEach((f,x)=>{c[x]={overs:Math.floor(f.overs),runs:Math.floor(f.runs),wickets:Math.floor(f.wickets),dots:Math.floor(f.dots)}});const o=Math.floor(i.overs),m=Math.round((i.overs-o)*10);return{batting_team:i.battingTeam,bowling_team:i.bowlingTeam,runs:Math.floor(i.runs),wickets:Math.floor(i.wickets),overs:o,balls:Math.min(5,Math.max(0,m)),current_batters:i.currentBatters,current_bowler:i.currentBowler,over_summaries:i.overSummaries.map(ab),fall_of_wickets:i.fallOfWickets.map(f=>({player:f.player,runs:Math.floor(f.runs),overs:f.overs})),batter_stats:d,bowler_stats:c,recent_balls:[]}}function ab(i){return{over_number:i.overNumber,bowler:i.bowler,runs:i.runs,wickets:i.wickets,balls:i.balls.map(lb)}}function lb(i){return{over:i.over,ball:i.ball,batter:i.batter,bowler:i.bowler,outcome:sb(i.outcome),narrative:i.narrative}}function sb(i){return i.type==="runs"?{type:"runs",runs:i.runs,boundary_saved:!1}:i.type==="wicket"?{type:"wicket",dismissal_type:i.dismissal,runs:i.runs}:{type:"extra",extra_type:i.extraType,runs:i.runs}}function nb(i,d){return{approach:i.battingApproach[d],striker_instruction:"default"}}function ib(i,d){return{length:i,field_setting:d}}function rb(i){return{pace:i.pace,spin:i.spin,bounce:i.bounce,deterioration:i.deterioration}}function cb(i){return i.type==="runs"?{type:"runs",runs:i.runs}:i.type==="wicket"?{type:"wicket",dismissal:i.dismissal_type,runs:i.runs??0}:{type:"extra",extraType:i.extra_type,runs:i.runs}}function ob(i){return{over:i.over,ball:i.ball,batter:i.batter,bowler:i.bowler,outcome:cb(i.outcome),narrative:i.narrative}}function ef(i){return{overNumber:i.over_number,bowler:i.bowler,runs:i.runs,wickets:i.wickets,balls:i.balls.map(ob)}}function ub(i){const d=new Map;Object.entries(i.batter_stats).forEach(([o,m])=>{d.set(o,{runs:m.runs,balls:m.balls,fours:m.fours,sixes:m.sixes})});const c=new Map;return Object.entries(i.bowler_stats).forEach(([o,m])=>{c.set(o,{overs:m.overs,runs:m.runs,wickets:m.wickets,dots:m.dots})}),{battingTeam:i.batting_team,bowlingTeam:i.bowling_team,runs:i.runs,wickets:i.wickets,overs:i.overs+i.balls/10,balls:i.balls,currentBatters:i.current_batters,currentBowler:i.current_bowler,overSummaries:i.over_summaries.map(ef),fallOfWickets:i.fall_of_wickets.map(o=>({player:o.player,runs:o.runs,overs:o.overs})),batterStats:d,bowlerStats:c}}function db(i){return{overSummary:ef(i.over_summary),updatedInnings:ub(i.updated_innings_state),inningsComplete:i.innings_complete,narratives:i.narratives,recommendedNextBowler:i.recommended_next_bowler??null}}async function mb(i){const{battingTeam:d,bowlingTeam:c,bowler:o,inningsState:m,tactics:f,pitch:x,target:b,bowlingLength:g,fieldSetting:h}=i,v=So(Math.floor(m.overs));try{const A={innings_state:tb(m),batting_team:d.map(U0),bowling_team:c.map(U0),bowler_id:o.id,batting_tactics:nb(f,v),bowling_tactics:ib(g??f.bowlingPlan.bowlingApproach[v].length,h??f.bowlingPlan.bowlingApproach[v].field),pitch_conditions:rb(x),target:b},k=await mx("/api/v1/match/simulate/over",A);if(k.ok){const O=db(k.data);return{overSummary:O.overSummary,updatedInnings:O.updatedInnings,inningsComplete:O.inningsComplete,narratives:O.narratives,recommendedNextBowler:O.recommendedNextBowler,usedBackend:!0}}console.warn("Backend simulation failed, using client fallback:",k.error)}catch(A){console.warn("Backend simulation error, using client fallback:",A)}const{overSummary:p,updatedInnings:E}=wo(d,o,m,f,x,b),S=E.wickets>=10||Math.floor(E.overs)>=20||b!==null&&E.runs>=b,j=o.id,N=c.filter(A=>A.role==="bowler"||A.role==="allrounder"),w=mo(N,E,j);return{overSummary:p,updatedInnings:E,inningsComplete:S,narratives:p.balls.map(A=>A.narrative),recommendedNextBowler:w?.id??null,usedBackend:!1}}const fb=[{value:"good-length",label:"Good"},{value:"short",label:"Short"},{value:"yorkers",label:"Yorker"},{value:"full-pitched",label:"Full"}],hb=[{value:"attacking",label:"Attack"},{value:"balanced",label:"Balance"},{value:"defensive",label:"Defend"},{value:"death-field",label:"Death"}],gb=i=>({...i,batterStats:Object.fromEntries(i.batterStats),bowlerStats:Object.fromEntries(i.bowlerStats)}),xb=i=>({...i,batterStats:new Map(Object.entries(i.batterStats)),bowlerStats:new Map(Object.entries(i.bowlerStats))}),bb=()=>{const{selectedMatchId:i,playerTeamId:d,teams:c,players:o,fixtures:m,updateMatch:f,updatePointsTable:x,pointsTable:b,navigateTo:g,updatePlayerState:h,simulateBackgroundMatches:v,advanceToNextMatch:p,progressPlayoffs:E,checkAndStartPlayoffs:S,generatePostMatchEvent:j,activeEvents:N,liveMatchState:w,saveLiveMatchState:A,clearLiveMatchState:k}=Ze(),[O,W]=le.useState(!1),[_,ne]=le.useState(1),[R,G]=le.useState(null),[ue,B]=le.useState(null),[ae,J]=le.useState(!1),[V,fe]=le.useState(0),[se,z]=le.useState(null),[P,te]=le.useState([]),[ge,Y]=le.useState(!1),[M,I]=le.useState("over"),[de,re]=le.useState(!1),[Be,Ee]=le.useState(!1),[ye,lt]=le.useState("balanced"),[ct,Zt]=le.useState("balanced"),[Ke,xt]=le.useState(null),[qt,Wt]=le.useState(null),[Ut,ca]=le.useState(null),[he,We]=le.useState(!1),X=m.find(K=>K.id===i);le.useEffect(()=>{X&&X.status==="completed"&&!ae&&g("home")},[X?.status]);const Ba=c.find(K=>K.id===X?.homeTeam),Oa=c.find(K=>K.id===X?.awayTeam),Ht=o.filter(K=>Ba?.squad.includes(K.id)),ve=o.filter(K=>Oa?.squad.includes(K.id)),Oe=d===X?.homeTeam,Ae=Oe?X?.homeTactics:X?.awayTactics,Il=Oe?X?.awayTactics:X?.homeTactics,bt=le.useCallback(K=>{const xe=c.find(Ne=>Ne.id===K),Me=o.filter(Ne=>xe?.squad.includes(Ne.id));return uo(Me,xe?.captain||"")},[c,o]),Ma=le.useRef(!1);le.useEffect(()=>{if(!X||!Ae||Ma.current)return;if(w&&w.matchId===X.id){const Se=xb(w.inningsState);G(Se),ne(w.currentInnings),fe(w.firstInningsTotal),te(w.recentBalls),Ma.current=!0,f(X.id,{status:"in_progress"});return}if(!Il){const Se=Oe?X.awayTeam:X.homeTeam,Ge=bt(Se);Oe?f(X.id,{awayTactics:Ge}):f(X.id,{homeTactics:Ge})}const K=Math.random()<.5?X.homeTeam:X.awayTeam,xe=Math.random()<.6?"bat":"bowl",Me=K===X.homeTeam&&xe==="bat"||K===X.awayTeam&&xe==="bowl"?X.homeTeam:X.awayTeam,Ne=Me===X.homeTeam?X.homeTactics||bt(X.homeTeam):X.awayTactics||bt(X.awayTeam),oe={battingTeam:Me,bowlingTeam:Me===X.homeTeam?X.awayTeam:X.homeTeam,runs:0,wickets:0,overs:0,balls:0,currentBatters:[Ne.playingXI[0],Ne.playingXI[1]],currentBowler:"",overSummaries:[],fallOfWickets:[],batterStats:new Map,bowlerStats:new Map};G(oe),ne(1),Ma.current=!0,f(X.id,{status:"in_progress",tossWinner:K,tossDecision:xe,currentInnings:1})},[X?.id]),le.useEffect(()=>{!X||!R||ae||A({matchId:X.id,currentInnings:_,inningsState:gb(R),firstInningsTotal:V,recentBalls:P})},[R,_,V,P,X?.id,ae]);const El=le.useCallback(async()=>{if(!X||!R||ae||de)return;re(!0);const K=R.battingTeam,xe=R.bowlingTeam,Me=K===X.homeTeam?Ht:ve,Ne=xe===X.homeTeam?Ht:ve,oe=K===X.homeTeam?X.homeTactics||bt(X.homeTeam):X.awayTactics||bt(X.awayTeam),Se=xe===X.homeTeam?X.homeTactics||bt(X.homeTeam):X.awayTactics||bt(X.awayTeam),Ge=4,H=Ne.filter(Te=>(Te.role==="bowler"||Te.role==="allrounder")&&Se.playingXI.includes(Te.id)),$=Te=>R.bowlerStats instanceof Map?R.bowlerStats.get(Te)?.overs??0:0,ie=R.overSummaries.at(-1)?.bowler;let ce;if(Ke&&xe===d){const Te=$(Ke);Ke!==ie&&Te<Ge&&(ce=H.find($e=>$e.id===Ke)),xt(null)}if(ce||(ce=mo(H,R,ie,Ge),ce||(ce=H.filter(Ie=>$(Ie.id)<Ge)[0]||H[0])),!ce){re(!1);return}const me=_===2?V+1:null,Ue=oe.playingXI.map(Te=>Me.find(Ie=>Ie.id===Te)).filter(Te=>Te!==void 0);let Xe,Ye;try{const Te=await mb({battingTeam:Ue,bowlingTeam:Ne.filter(Ie=>Se.playingXI.includes(Ie.id)),bowler:ce,inningsState:R,tactics:oe,pitch:X.pitch,target:me,bowlingLength:qt??void 0,fieldSetting:Ut??void 0});Xe=Te.overSummary,Ye=Te.updatedInnings}catch(Te){console.warn("Backend simulation failed, using client:",Te);const Ie=wo(Ue,ce,R,oe,X.pitch,me);Xe=Ie.overSummary,Ye=Ie.updatedInnings}if(re(!1),B(Xe),G(Ye),Ye.overs>=20||Ye.wickets>=10||_===2&&Ye.runs>=V+1)if(_===1){fe(Ye.runs),ne(2);const Te=xe,Ie=K,$e=Te===X.homeTeam?X.homeTactics||bt(X.homeTeam):X.awayTactics||bt(X.awayTeam);G({battingTeam:Te,bowlingTeam:Ie,runs:0,wickets:0,overs:0,balls:0,currentBatters:[$e.playingXI[0],$e.playingXI[1]],currentBowler:"",overSummaries:[],fallOfWickets:[],batterStats:new Map,bowlerStats:new Map}),f(X.id,{currentInnings:2,innings1:Ye})}else{J(!0),W(!1),k();const Te=c.find(He=>He.id===X.innings1?.battingTeam),Ie=c.find(He=>He.id===Ye.battingTeam);let $e,mt;if(Ye.runs>=V+1?($e=Ie,mt=`${10-Ye.wickets} wickets`):Ye.runs<V?($e=Te,mt=`${V-Ye.runs} runs`):($e=void 0,mt="Tie"),z({winner:$e?.name||"Tie",margin:$e?mt:"Match Tied"}),X.matchType==="league"){const He=[...b],pt=X.innings1,vt=Ye,Ct=pt?.battingTeam||R.bowlingTeam,Yt=V,Lt=20,ea=vt.runs,Mt=Math.min(20,vt.overs+(vt.balls>0?vt.balls/6:0));vt.battingTeam;const qs=vt.runs,Da=Math.min(20,vt.overs+(vt.balls>0?vt.balls/6:0)),ll=V,sl=20,_a=Mt>0?Yt/Lt-ea/Mt:0,ft=Da>0&&sl>0?qs/Da-ll/sl:0,va=He.find(Xt=>Xt.teamId===$e?.id),Na=He.find(Xt=>Xt.teamId===($e?.id===X.homeTeam?X.awayTeam:X.homeTeam));if(va){va.played+=1,va.won+=1,va.points+=2;const Xt=$e?.id===Ct?_a:ft;va.netRunRate=Math.round((va.netRunRate*(va.played-1)+Xt)/va.played*1e3)/1e3}if(Na){Na.played+=1,Na.lost+=1;const Xt=Na.teamId===Ct?_a:ft;Na.netRunRate=Math.round((Na.netRunRate*(Na.played-1)+Xt)/Na.played*1e3)/1e3}x(He)}f(X.id,{status:"completed",innings2:Ye});const Rt=He=>He?He instanceof Map?Array.from(He):Object.entries(He):[],_s={batterStats:new Map([...Rt(X.innings1?.batterStats),...Rt(Ye.batterStats)]),bowlerStats:new Map([...Rt(X.innings1?.bowlerStats),...Rt(Ye.bowlerStats)])};[...X.homeTactics?.playingXI||[],...X.awayTactics?.playingXI||[]].forEach(He=>{const pt=o.find(ea=>ea.id===He);if(!pt)return;let vt=5;const Ct=_s.batterStats.get(He);Ct&&Ct.balls>0&&(vt+=Math.min(5,Math.floor(Ct.balls/10)));const Yt=_s.bowlerStats.get(He);Yt&&Yt.overs>0&&(vt+=Math.min(8,Yt.overs*2));let Lt=0;if(Ct&&Ct.balls>0){const ea=Ct.runs/Ct.balls*100,Mt=Ct.runs;Mt>=50?Lt+=5:Mt>=30?Lt+=3:Mt>=15&&ea>=130?Lt+=2:Mt<10&&Ct.balls>=10?Lt-=2:Mt===0&&Ct.balls>=5&&(Lt-=3)}if(Yt&&Yt.overs>0){const ea=Yt.runs/Yt.overs,Mt=Yt.wickets;Mt>=3?Lt+=5:Mt>=2?Lt+=3:Mt>=1&&ea<8?Lt+=2:ea<7&&Yt.overs>=2?Lt+=1:ea>10&&Yt.overs>=2?Lt-=2:ea>12&&Yt.overs>=2&&(Lt-=3)}h(He,{fatigue:Math.min(100,pt.fatigue+vt),form:Math.max(-20,Math.min(20,pt.form+Lt))})})}},[X,R,_,V,ae,Ht,ve,Ke,d,de,qt,Ut]),al=le.useCallback(()=>{if(!X||!R||ae||ge)return;const K=R.battingTeam,xe=R.bowlingTeam,Me=K===X.homeTeam?Ht:ve,Ne=xe===X.homeTeam?Ht:ve,oe=K===X.homeTeam?X.homeTactics||bt(X.homeTeam):X.awayTactics||bt(X.awayTeam),Se=xe===X.homeTeam?X.homeTactics||bt(X.homeTeam):X.awayTactics||bt(X.awayTeam),Ge=4,H=Ne.filter(Te=>(Te.role==="bowler"||Te.role==="allrounder")&&Se.playingXI.includes(Te.id)),$=Te=>R.bowlerStats instanceof Map?R.bowlerStats.get(Te)?.overs??0:0;let ie=R.currentBowler?H.find(Te=>Te.id===R.currentBowler):null;if(R.balls===0||!ie){const Te=R.overSummaries.at(-1)?.bowler;if(Ke&&xe===d){const Ie=$(Ke);Ke!==Te&&Ie<Ge&&(ie=H.find(mt=>mt.id===Ke)),xt(null)}ie||(ie=mo(H,R,Te,Ge),ie||(ie=H.filter($e=>$($e.id)<Ge)[0]||H[0]))}if(!ie)return;const ce=_===2?V+1:null,me=oe.playingXI.map(Te=>Me.find(Ie=>Ie.id===Te)).filter(Te=>Te!==void 0),{ballEvent:Ue,updatedInnings:Xe,newBatsmanNeeded:Ye,inningsComplete:oa}=wx(me,ie,R,oe,X.pitch,ce);if(te(Te=>[...Te.slice(-11),Ue]),G(Xe),Ye&&Xe.battingTeam===d&&(Y(!0),W(!1)),oa)if(_===1){fe(Xe.runs),ne(2),te([]);const Te=xe,Ie=Te===X.homeTeam?X.homeTactics||bt(X.homeTeam):X.awayTactics||bt(X.awayTeam);G({battingTeam:Te,bowlingTeam:K,runs:0,wickets:0,overs:0,balls:0,currentBatters:[Ie.playingXI[0],Ie.playingXI[1]],currentBowler:"",overSummaries:[],fallOfWickets:[],batterStats:new Map,bowlerStats:new Map}),f(X.id,{currentInnings:2,innings1:Xe})}else Fl(Xe);return{newBatsmanNeeded:Ye,inningsComplete:oa}},[X,R,_,V,ae,ge,Ht,ve,Ke,d]);le.useCallback(()=>{!X||!R||ae||(W(!0),I("wicket"))},[X,R,ae]);const Fl=le.useCallback(K=>{if(!X)return;J(!0),W(!1),k();const xe=c.find(Se=>Se.id===X.innings1?.battingTeam),Me=c.find(Se=>Se.id===K.battingTeam);let Ne,oe;if(K.runs>=V+1?(Ne=Me,oe=`${10-K.wickets} wickets`):K.runs<V?(Ne=xe,oe=`${V-K.runs} runs`):(Ne=void 0,oe="Tie"),z({winner:Ne?.name||"Tie",margin:Ne?oe:"Match Tied"}),X.matchType==="league"){const Se=[...b],H=X.innings1?.battingTeam||R?.bowlingTeam;K.battingTeam;const $=V,ie=20,ce=K.runs,me=Math.min(20,K.overs+(K.balls>0?K.balls/6:0)),Ue=K.runs,Xe=Math.min(20,K.overs+(K.balls>0?K.balls/6:0)),Ye=V,oa=20,Te=me>0?$/ie-ce/me:0,Ie=Xe>0&&oa>0?Ue/Xe-Ye/oa:0,$e=Se.find(Rt=>Rt.teamId===Ne?.id),mt=Se.find(Rt=>Rt.teamId===(Ne?.id===X.homeTeam?X.awayTeam:X.homeTeam));if($e){$e.played+=1,$e.won+=1,$e.points+=2;const Rt=Ne?.id===H?Te:Ie;$e.netRunRate=Math.round(($e.netRunRate*($e.played-1)+Rt)/$e.played*1e3)/1e3}if(mt){mt.played+=1,mt.lost+=1;const Rt=mt.teamId===H?Te:Ie;mt.netRunRate=Math.round((mt.netRunRate*(mt.played-1)+Rt)/mt.played*1e3)/1e3}x(Se)}f(X.id,{status:"completed",innings2:K}),Ds(K)},[X,V,b,c,R]),Ds=le.useCallback(K=>{if(!X)return;const xe=oe=>oe?oe instanceof Map?Array.from(oe):Object.entries(oe):[],Me={batterStats:new Map([...xe(X.innings1?.batterStats),...xe(K.batterStats)]),bowlerStats:new Map([...xe(X.innings1?.bowlerStats),...xe(K.bowlerStats)])};[...X.homeTactics?.playingXI||[],...X.awayTactics?.playingXI||[]].forEach(oe=>{const Se=o.find(ce=>ce.id===oe);if(!Se)return;let Ge=5;const H=Me.batterStats.get(oe);H&&H.balls>0&&(Ge+=Math.min(5,Math.floor(H.balls/10)));const $=Me.bowlerStats.get(oe);$&&$.overs>0&&(Ge+=Math.min(8,$.overs*2));let ie=0;if(H&&H.balls>0){const ce=H.runs/H.balls*100,me=H.runs;me>=50?ie+=5:me>=30?ie+=3:me>=15&&ce>=130?ie+=2:me<10&&H.balls>=10?ie-=2:me===0&&H.balls>=5&&(ie-=3)}if($&&$.overs>0){const ce=$.runs/$.overs,me=$.wickets;me>=3?ie+=5:me>=2?ie+=3:me>=1&&ce<8?ie+=2:ce<7&&$.overs>=2?ie+=1:ce>10&&$.overs>=2?ie-=2:ce>12&&$.overs>=2&&(ie-=3)}h(oe,{fatigue:Math.min(100,Se.fatigue+Ge),form:Math.max(-20,Math.min(20,Se.form+ie))})})},[X,o,h]);if(le.useEffect(()=>{if(!O||ae||ge)return;const K=setTimeout(()=>{if(M==="auto"||M==="over")El();else if(M==="ball"||M==="wicket"){const xe=al();xe&&(xe.newBatsmanNeeded||xe.inningsComplete)&&M==="wicket"&&(W(!1),I("over"))}},M==="ball"?500:M==="wicket"?300:1500);return()=>clearTimeout(K)},[O,El,al,ae,ge,M]),!X||!Ba||!Oa)return l.jsx("div",{className:"min-h-screen bg-gray-900 text-white flex items-center justify-center",children:l.jsx("p",{children:"Match not found"})});const ka=R?c.find(K=>K.id===R.battingTeam):null;R&&c.find(K=>K.id===R.bowlingTeam);const yt=R?o.find(K=>K.id===R.currentBatters[0]):null,Gt=R?o.find(K=>K.id===R.currentBatters[1]):null;return l.jsxs("div",{className:"min-h-screen bg-gray-900 text-white pb-24",children:[l.jsx("header",{className:"bg-gray-800 p-4 border-b border-gray-700",children:l.jsxs("div",{className:"max-w-lg mx-auto flex justify-between items-center",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("span",{className:"animate-pulse bg-red-600 text-xs px-2 py-1 rounded",children:"LIVE"}),l.jsxs("span",{className:"text-sm text-gray-400",children:[Ba.shortName," vs ",Oa.shortName]})]}),l.jsx("span",{className:"text-sm text-gray-400",children:_===1?"1st Innings":"2nd Innings"})]})}),l.jsxs("div",{className:"max-w-lg mx-auto p-4 space-y-4",children:[l.jsxs("div",{className:"bg-gray-800 rounded-xl p-4 border border-gray-700 text-center",children:[l.jsxs("h2",{className:"text-lg text-gray-400 mb-2",children:[ka?.name||"Team"," Batting"]}),l.jsxs("div",{className:"text-5xl font-bold mb-2",children:[R?.runs||0,"-",R?.wickets||0]}),l.jsxs("div",{className:"text-xl text-gray-400 mb-4",children:[Math.floor(R?.overs||0),".",(R?.balls||0)%6," overs"]}),_===2&&l.jsx("div",{className:"text-lg",children:R&&R.runs>=V+1?l.jsx("span",{className:"text-green-400",children:"Target reached!"}):l.jsxs("span",{className:"text-blue-400",children:["Need ",V+1-(R?.runs||0)," runs from"," ",120-(Math.floor(R?.overs||0)*6+(R?.balls||0))," balls"]})}),_===2&&l.jsxs("div",{className:"mt-2 text-sm text-gray-500",children:["Target: ",V+1]})]}),yt&&l.jsxs("div",{className:"bg-gray-800 rounded-xl p-4 border border-gray-700",children:[l.jsx("h3",{className:"text-sm text-gray-400 mb-3",children:"AT THE CREASE"}),l.jsxs("div",{className:"space-y-2",children:[(()=>{const K=R?.batterStats,xe=K instanceof Map?K.get(yt.id):void 0,Me=xe?.runs??0,Ne=xe?.balls??0,oe=xe?.fours??0,Se=xe?.sixes??0,Ge=Ne>0?(Me/Ne*100).toFixed(1):"0.0";return l.jsxs("div",{className:"flex justify-between items-center",children:[l.jsxs("span",{className:"font-medium",children:[yt.shortName,"*"]}),l.jsxs("div",{className:"text-right",children:[l.jsx("span",{className:"font-bold text-lg",children:Me}),l.jsxs("span",{className:"text-gray-400 text-sm",children:[" (",Ne,")"]}),l.jsxs("span",{className:"text-gray-500 text-xs ml-2",children:["SR: ",Ge]}),(oe>0||Se>0)&&l.jsxs("span",{className:"text-gray-500 text-xs ml-2",children:[oe>0&&l.jsxs("span",{className:"text-blue-400",children:[oe,"4"]}),oe>0&&Se>0&&" ",Se>0&&l.jsxs("span",{className:"text-green-400",children:[Se,"6"]})]})]})]})})(),Gt&&(()=>{const K=R?.batterStats,xe=K instanceof Map?K.get(Gt.id):void 0,Me=xe?.runs??0,Ne=xe?.balls??0,oe=xe?.fours??0,Se=xe?.sixes??0,Ge=Ne>0?(Me/Ne*100).toFixed(1):"0.0";return l.jsxs("div",{className:"flex justify-between items-center text-gray-400",children:[l.jsx("span",{children:Gt.shortName}),l.jsxs("div",{className:"text-right",children:[l.jsx("span",{className:"font-medium",children:Me}),l.jsxs("span",{className:"text-gray-500 text-sm",children:[" (",Ne,")"]}),l.jsxs("span",{className:"text-gray-600 text-xs ml-2",children:["SR: ",Ge]}),(oe>0||Se>0)&&l.jsxs("span",{className:"text-gray-600 text-xs ml-2",children:[oe>0&&l.jsxs("span",{className:"text-blue-400/70",children:[oe,"4"]}),oe>0&&Se>0&&" ",Se>0&&l.jsxs("span",{className:"text-green-400/70",children:[Se,"6"]})]})]})]})})()]})]}),R?.currentBowler&&(()=>{const K=o.find($=>$.id===R.currentBowler),xe=R.bowlerStats,Me=xe instanceof Map?xe.get(R.currentBowler):void 0;if(!K)return null;const Ne=Me?.overs??0,oe=Me?.runs??0,Se=Me?.wickets??0,Ge=Me?.dots??0,H=Ne>0?(oe/Ne).toFixed(2):"0.00";return l.jsx("div",{className:"bg-gray-800 rounded-xl p-3 border border-gray-700",children:l.jsxs("div",{className:"flex justify-between items-center",children:[l.jsxs("div",{children:[l.jsx("span",{className:"text-sm text-gray-400",children:"BOWLING: "}),l.jsx("span",{className:"font-medium",children:K.shortName})]}),l.jsxs("div",{className:"text-right",children:[l.jsxs("span",{className:"font-bold",children:[Se,"-",oe]}),l.jsxs("span",{className:"text-gray-400 text-sm",children:[" (",Ne,"/4 ov)"]}),l.jsxs("span",{className:"text-gray-500 text-xs ml-2",children:["Econ: ",H]}),l.jsxs("span",{className:"text-gray-500 text-xs ml-2",children:["Dots: ",Ge]})]})]})})})(),l.jsx("button",{onClick:()=>We(!he),className:"w-full py-2 bg-gray-800 rounded-lg text-sm text-gray-300 hover:bg-gray-700 border border-gray-700",children:he?"Hide Scorecard":"View Scorecard"}),he&&R&&(()=>{const K=R.battingTeam===X?.homeTeam?X?.homeTactics:X?.awayTactics,xe=R.bowlingTeam===X?.homeTeam?Ht:ve,Me=R.bowlingTeam===X?.homeTeam?X?.homeTactics:X?.awayTactics,Ne=K?.playingXI||[],oe=$=>{if(R.batterStats instanceof Map)return R.batterStats.get($);if(R.batterStats&&typeof R.batterStats=="object")return R.batterStats[$]},Se=R.fallOfWickets.map($=>$.player),Ge=$=>{if(R.bowlerStats instanceof Map)return R.bowlerStats.get($);if(R.bowlerStats&&typeof R.bowlerStats=="object")return R.bowlerStats[$]},H=xe.filter($=>($.role==="bowler"||$.role==="allrounder")&&Me?.playingXI.includes($.id));return l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{className:"bg-gray-800 rounded-xl p-4 border border-gray-700",children:[l.jsx("h3",{className:"text-sm font-semibold text-blue-400 mb-3",children:"BATTING"}),l.jsxs("div",{className:"space-y-2 text-sm",children:[l.jsxs("div",{className:"grid grid-cols-12 gap-1 text-xs text-gray-500 border-b border-gray-700 pb-1",children:[l.jsx("div",{className:"col-span-4",children:"Batter"}),l.jsx("div",{className:"col-span-2 text-right",children:"R"}),l.jsx("div",{className:"col-span-2 text-right",children:"B"}),l.jsx("div",{className:"col-span-2 text-right",children:"4s"}),l.jsx("div",{className:"col-span-2 text-right",children:"6s"})]}),Ne.map(($,ie)=>{const ce=o.find(Rt=>Rt.id===$),me=oe($),Ue=Se.includes($),Xe=R.currentBatters.includes($),Ye=$===R.currentBatters[0],oa=me||Xe||Ue,Te=me?.runs??0,Ie=me?.balls??0,$e=me?.fours??0,mt=me?.sixes??0;return l.jsxs("div",{className:`grid grid-cols-12 gap-1 ${oa?Ue?"text-gray-500":Xe?"text-white":"text-gray-400":"text-gray-600"}`,children:[l.jsxs("div",{className:"col-span-4 truncate",children:[ce?.shortName,Ye&&"*",Ue&&l.jsx("span",{className:"text-red-400 ml-1",children:""})]}),oa?l.jsxs(l.Fragment,{children:[l.jsx("div",{className:"col-span-2 text-right font-medium",children:Te}),l.jsx("div",{className:"col-span-2 text-right",children:Ie}),l.jsx("div",{className:"col-span-2 text-right text-blue-400",children:$e||"-"}),l.jsx("div",{className:"col-span-2 text-right text-green-400",children:mt||"-"})]}):l.jsx("div",{className:"col-span-8 text-right text-xs italic",children:"yet to bat"})]},$)}),l.jsxs("div",{className:"grid grid-cols-12 gap-1 text-gray-400 border-t border-gray-700 pt-1 mt-2",children:[l.jsx("div",{className:"col-span-4",children:"Extras"}),l.jsx("div",{className:"col-span-8 text-right",children:(()=>{let $=0;return Ne.forEach(ie=>{const ce=oe(ie);ce&&($+=ce.runs)}),R.runs-$})()})]}),l.jsxs("div",{className:"grid grid-cols-12 gap-1 font-bold border-t border-gray-700 pt-1",children:[l.jsx("div",{className:"col-span-4",children:"Total"}),l.jsxs("div",{className:"col-span-8 text-right",children:[R.runs,"/",R.wickets," (",R.overs," ov)"]})]})]})]}),l.jsxs("div",{className:"bg-gray-800 rounded-xl p-4 border border-gray-700",children:[l.jsx("h3",{className:"text-sm font-semibold text-purple-400 mb-3",children:"BOWLING"}),l.jsxs("div",{className:"space-y-2 text-sm",children:[l.jsxs("div",{className:"grid grid-cols-12 gap-1 text-xs text-gray-500 border-b border-gray-700 pb-1",children:[l.jsx("div",{className:"col-span-4",children:"Bowler"}),l.jsx("div",{className:"col-span-2 text-right",children:"O"}),l.jsx("div",{className:"col-span-2 text-right",children:"R"}),l.jsx("div",{className:"col-span-2 text-right",children:"W"}),l.jsx("div",{className:"col-span-2 text-right",children:"Econ"})]}),H.map($=>{const ie=Ge($.id);if(!ie||ie.overs===0)return null;const ce=ie.overs>0?(ie.runs/ie.overs).toFixed(1):"-",me=ie.overs>=4;return l.jsxs("div",{className:`grid grid-cols-12 gap-1 ${me?"text-gray-500":"text-gray-300"}`,children:[l.jsxs("div",{className:"col-span-4 truncate",children:[$.shortName,me&&l.jsx("span",{className:"text-xs text-red-400 ml-1",children:""})]}),l.jsx("div",{className:"col-span-2 text-right",children:ie.overs}),l.jsx("div",{className:"col-span-2 text-right",children:ie.runs}),l.jsx("div",{className:"col-span-2 text-right font-medium text-green-400",children:ie.wickets||"-"}),l.jsx("div",{className:"col-span-2 text-right",children:l.jsx("span",{className:parseFloat(ce)<6?"text-green-400":parseFloat(ce)>10?"text-red-400":"",children:ce})})]},$.id)})]})]})]})})(),l.jsxs("div",{className:"bg-gray-800 rounded-xl p-4 border border-gray-700 min-h-[120px]",children:[l.jsx("h3",{className:"text-sm text-gray-400 mb-3",children:P.length>0?l.jsxs(l.Fragment,{children:["THIS OVER  ",P.filter(K=>K.over===(R?.overs||0)).reduce((K,xe)=>K+(xe.outcome.runs||0),0)," runs"]}):ue?l.jsxs(l.Fragment,{children:["OVER ",ue.overNumber+1,"  ",ue.runs," runs, ",ue.wickets," wickets"]}):l.jsx(l.Fragment,{children:"WAITING FOR FIRST BALL"})}),l.jsx("div",{className:"flex gap-2 mb-3 flex-wrap min-h-[36px]",children:P.length>0?P.filter(K=>K.over===(R?.overs||0)).map((K,xe)=>{const Me=K.outcome.type==="wicket",Ne=K.outcome.type==="extra",oe=K.outcome.runs||0,Se=oe===0&&!Me&&!Ne;return l.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center text-sm font-bold ${Me?"bg-red-600 text-white":oe===6?"bg-green-600 text-white":oe===4?"bg-blue-600 text-white":Se?"bg-gray-600 text-gray-300":"bg-gray-700 text-white"}`,children:Me?"W":oe===0?"":oe},xe)}):ue?ue.balls.slice(-6).map((K,xe)=>{const Me=K.outcome.type==="wicket",Ne=K.outcome.runs||0;return l.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center text-sm font-bold ${Me?"bg-red-600 text-white":Ne===6?"bg-green-600 text-white":Ne===4?"bg-blue-600 text-white":Ne===0?"bg-gray-600 text-gray-300":"bg-gray-700 text-white"}`,children:Me?"W":Ne===0?"":Ne},xe)}):l.jsx("div",{className:"text-gray-500 text-sm",children:"Press Next Ball or Next Over to start"})}),P.length>0&&l.jsxs("div",{className:"text-sm border-t border-gray-700 pt-2 min-h-[24px]",children:[l.jsxs("span",{className:"text-gray-500",children:[P[P.length-1].over,".",P[P.length-1].ball]})," - ",l.jsx("span",{className:P[P.length-1].outcome.type==="wicket"?"text-red-400":P[P.length-1].outcome.runs===4||P[P.length-1].outcome.runs===6?"text-green-400":"text-gray-300",children:P[P.length-1].narrative})]})]}),!ae&&Be&&l.jsxs("div",{className:"bg-gray-800 rounded-xl p-4 border border-blue-700",children:[l.jsxs("div",{className:"flex justify-between items-center mb-3",children:[l.jsx("h3",{className:"text-sm font-semibold text-blue-400",children:"TACTICAL ADJUSTMENTS"}),l.jsx("button",{onClick:()=>Ee(!1),className:"text-gray-400 hover:text-white text-sm",children:"Close"})]}),R?.battingTeam===d&&l.jsxs("div",{className:"mb-4",children:[l.jsx("h4",{className:"text-xs text-gray-400 mb-2",children:"BATTING APPROACH"}),l.jsxs("div",{className:"space-y-2",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("span",{className:"text-sm",children:[yt?.shortName,"* ",l.jsx("span",{className:"text-gray-500",children:"(striker)"})]}),l.jsx("div",{className:"flex gap-1",children:["aggressive","balanced","defensive"].map(K=>l.jsx("button",{onClick:()=>lt(K),className:`px-2 py-1 text-xs rounded transition-colors ${ye===K?"bg-blue-600 text-white":"bg-gray-700 text-gray-300 hover:bg-gray-600"}`,children:K==="aggressive"?"Attack":K==="balanced"?"Normal":"Defend"},K))})]}),l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("span",{className:"text-sm",children:[Gt?.shortName," ",l.jsx("span",{className:"text-gray-500",children:"(non-striker)"})]}),l.jsx("div",{className:"flex gap-1",children:["aggressive","balanced","defensive"].map(K=>l.jsx("button",{onClick:()=>Zt(K),className:`px-2 py-1 text-xs rounded transition-colors ${ct===K?"bg-blue-600 text-white":"bg-gray-700 text-gray-300 hover:bg-gray-600"}`,children:K==="aggressive"?"Attack":K==="balanced"?"Normal":"Defend"},K))})]})]})]}),R?.bowlingTeam===d&&(()=>{const K=Oe?X?.homeTactics:X?.awayTactics,xe=(Oe?Ht:ve).filter(oe=>(oe.role==="bowler"||oe.role==="allrounder")&&K?.playingXI.includes(oe.id)),Me=R?.overSummaries.at(-1)?.bowler,Ne=4;return l.jsxs("div",{children:[l.jsx("h4",{className:"text-xs text-gray-400 mb-2",children:"SELECT NEXT BOWLER"}),l.jsx("div",{className:"grid grid-cols-2 gap-2",children:xe.map(oe=>{const Se=R?.bowlerStats instanceof Map?R.bowlerStats.get(oe.id):void 0,Ge=Se?.overs??0,H=Ge>=Ne,$=oe.id===Me,ie=$||H,ce=Ke===oe.id;return l.jsxs("button",{onClick:()=>!ie&&xt(ce?null:oe.id),disabled:ie,className:`p-2 rounded-lg text-left text-sm transition-colors ${ce?"bg-purple-600 border border-purple-500":ie?"bg-gray-700/50 text-gray-500 cursor-not-allowed":"bg-gray-700 hover:bg-gray-600"}`,children:[l.jsxs("div",{className:"font-medium flex justify-between",children:[l.jsx("span",{children:oe.shortName}),l.jsxs("span",{className:`text-xs ${H?"text-red-400":"text-gray-500"}`,children:[Ge,"/",Ne]})]}),l.jsxs("div",{className:"text-xs text-gray-400",children:[Se?`${Se.wickets}-${Se.runs}`:"0-0",$&&"  Just bowled",H&&"  Maxed out"]})]},oe.id)})}),Ke&&l.jsxs("p",{className:"text-xs text-purple-400 mt-2",children:[o.find(oe=>oe.id===Ke)?.shortName," will bowl next over"]}),l.jsxs("div",{className:"mt-4",children:[l.jsx("h4",{className:"text-xs text-gray-400 mb-2",children:"BOWLING LENGTH (this over)"}),l.jsx("div",{className:"flex gap-1",children:fb.map(oe=>l.jsx("button",{onClick:()=>Wt(qt===oe.value?null:oe.value),className:`flex-1 px-2 py-2 text-xs rounded-lg transition-colors ${qt===oe.value?"bg-purple-600 text-white":"bg-gray-700 text-gray-300 hover:bg-gray-600"}`,children:oe.label},oe.value))}),qt&&l.jsxs("p",{className:"text-xs text-purple-400 mt-1",children:["Override: ",qt," (tap to clear)"]})]}),l.jsxs("div",{className:"mt-3",children:[l.jsx("h4",{className:"text-xs text-gray-400 mb-2",children:"FIELD SETTING (this over)"}),l.jsx("div",{className:"flex gap-1",children:hb.map(oe=>l.jsx("button",{onClick:()=>ca(Ut===oe.value?null:oe.value),className:`flex-1 px-2 py-2 text-xs rounded-lg transition-colors ${Ut===oe.value?"bg-green-600 text-white":"bg-gray-700 text-gray-300 hover:bg-gray-600"}`,children:oe.label},oe.value))}),Ut&&l.jsxs("p",{className:"text-xs text-green-400 mt-1",children:["Override: ",Ut," (tap to clear)"]})]})]})})()]}),ge&&l.jsxs("div",{className:"bg-blue-900/50 rounded-xl p-4 border border-blue-700",children:[l.jsx("h3",{className:"font-semibold text-blue-300 mb-2",children:"New Batsman"}),l.jsx("p",{className:"text-sm text-gray-300 mb-3",children:"A wicket has fallen. The new batsman is coming to the crease."}),R&&(()=>{const K=o.find(xe=>xe.id===R.currentBatters[0]);return K&&l.jsxs("div",{className:"bg-gray-800 rounded-lg p-3 mb-3",children:[l.jsx("div",{className:"font-medium",children:K.name}),l.jsxs("div",{className:"text-sm text-gray-400",children:[K.role,"  Form: ",K.form>0?"+":"",K.form]})]})})(),l.jsx("button",{onClick:()=>Y(!1),className:"w-full bg-blue-600 hover:bg-blue-700 py-2 rounded-lg font-medium",children:"Continue"})]}),!ae&&!ge&&l.jsxs("div",{className:"space-y-2 bg-gray-900 sticky bottom-0 pt-2 pb-4 -mx-4 px-4 border-t border-gray-800",children:[l.jsx("button",{onClick:()=>Ee(!Be),className:`w-full py-2 rounded-lg font-medium transition-colors text-sm ${Be?"bg-blue-900 text-blue-300 border border-blue-700":"bg-gray-700 text-gray-300 hover:bg-gray-600"}`,children:Be?"Hide Tactics":"Adjust Tactics"}),l.jsxs("div",{className:"flex gap-2",children:[l.jsx("button",{onClick:()=>{I("ball"),al()},disabled:O||de,className:`flex-1 py-3 rounded-lg font-medium text-sm disabled:opacity-50
                  ${de?"bg-gray-600 animate-pulse":"bg-gray-700 hover:bg-gray-600"}`,children:de?"Simulating...":"Next Ball"}),l.jsx("button",{onClick:()=>{I("wicket"),W(!0)},disabled:O||de,className:"flex-1 bg-purple-700 hover:bg-purple-600 disabled:opacity-50 py-3 rounded-lg font-medium text-sm",children:"Sim to Wicket"})]}),l.jsxs("div",{className:"flex gap-2",children:[l.jsx("button",{onClick:()=>{I("auto"),W(!O)},disabled:de,className:`flex-1 py-3 rounded-lg font-medium transition-colors disabled:opacity-50
                  ${O?"bg-yellow-600 hover:bg-yellow-700":"bg-blue-600 hover:bg-blue-700"}`,children:O?"Pause":"Auto Simulate"}),l.jsx("button",{onClick:()=>{I("over"),El()},disabled:O||de,className:`flex-1 py-3 rounded-lg font-medium transition-colors disabled:opacity-50
                  ${de?"bg-gray-600 animate-pulse":"bg-gray-700 hover:bg-gray-600"}`,children:de?"Simulating...":"Next Over"})]})]}),ae&&se&&l.jsxs("div",{className:`border rounded-xl p-6 text-center ${X?.matchType!=="league"?"bg-purple-900/30 border-purple-700":"bg-green-900/30 border-green-700"}`,children:[X?.matchType==="final"&&se.winner===c.find(K=>K.id===(R?.battingTeam===X.homeTeam?X.homeTeam:X.awayTeam)&&R&&R.runs>=V+1)?.name&&l.jsx("div",{className:"text-3xl mb-2",children:""}),l.jsx("h2",{className:"text-2xl font-bold mb-2",children:se.winner}),l.jsxs("p",{className:"text-lg text-gray-300",children:["won by ",se.margin]}),X?.matchType!=="league"&&l.jsx("p",{className:"text-sm text-purple-400 mt-2",children:X?.matchType==="final"?"IPL CHAMPIONS!":X?.matchType?.replace(/([A-Z])/g," $1").replace("qualifier","Qualifier ").toUpperCase()}),l.jsx("button",{onClick:()=>{const K=R&&R.runs>=V+1?R.battingTeam:X?.innings1?.battingTeam||X?.homeTeam,xe=K===X?.homeTeam?X?.awayTeam:X?.homeTeam;j(K===d),X?.matchType==="league"?(v(),p(),S()):X&&K&&xe&&(E(X.id,K,xe),p()),g("home")},className:`mt-4 px-6 py-2 rounded-lg font-medium ${X?.matchType!=="league"?"bg-purple-600 hover:bg-purple-700":"bg-blue-600 hover:bg-blue-700"}`,children:"Continue"})]})]})]})},yb=()=>{const{playerTeamId:i,teams:d,players:c,fixtures:o,pointsTable:m,manager:f,season:x,navigateTo:b,resetGame:g,getSeasonResult:h,startNextSeason:v}=Ze(),p=d.find(G=>G.id===i),E=c.filter(G=>p?.squad.includes(G.id)),S=h(),j=o.filter(G=>G.status==="completed"&&(G.homeTeam===i||G.awayTeam===i)),N=j.filter(G=>{if(!G.innings1||!G.innings2)return!1;const ue=G.innings1.battingTeam,B=G.innings2.battingTeam;return G.innings2.runs>=G.innings1.runs+1?B===i:ue===i}).length,w=j.length-N,A=m.find(G=>G.teamId===i),k=new Map;j.forEach(G=>{[G.innings1,G.innings2].forEach(ue=>{ue&&(ue.batterStats&&(ue.batterStats instanceof Map?Array.from(ue.batterStats.entries()):Object.entries(ue.batterStats)).forEach(([ae,J])=>{if(!E.some(fe=>fe.id===ae))return;const V=k.get(ae)||{runs:0,balls:0,wickets:0,overs:0};V.runs+=J.runs||0,V.balls+=J.balls||0,k.set(ae,V)}),ue.bowlerStats&&(ue.bowlerStats instanceof Map?Array.from(ue.bowlerStats.entries()):Object.entries(ue.bowlerStats)).forEach(([ae,J])=>{if(!E.some(fe=>fe.id===ae))return;const V=k.get(ae)||{runs:0,balls:0,wickets:0,overs:0};V.wickets+=J.wickets||0,V.overs+=J.overs||0,k.set(ae,V)}))})});const O=Array.from(k.entries()).sort((G,ue)=>ue[1].runs-G[1].runs)[0],W=O?c.find(G=>G.id===O[0]):null,_=Array.from(k.entries()).filter(([G,ue])=>ue.wickets>0).sort((G,ue)=>ue[1].wickets-G[1].wickets)[0],ne=_?c.find(G=>G.id===_[0]):null,R=[...m].sort((G,ue)=>ue.points!==G.points?ue.points-G.points:ue.netRunRate-G.netRunRate);return l.jsxs("div",{className:"min-h-screen bg-gray-900 text-white pb-24",children:[l.jsx("header",{className:"bg-gradient-to-r from-yellow-900 to-amber-800 p-6 border-b border-yellow-700",children:l.jsxs("div",{className:"max-w-lg mx-auto text-center",children:[l.jsxs("h1",{className:"text-2xl font-bold mb-1",children:["Season ",x," Complete"]}),l.jsx("p",{className:"text-yellow-200",children:p?.name})]})}),l.jsxs("div",{className:"max-w-lg mx-auto p-4 space-y-4",children:[S&&l.jsxs("div",{className:`rounded-xl p-6 text-center border ${S.playerFinish===1?"bg-gradient-to-r from-yellow-900/50 to-amber-900/50 border-yellow-600":S.playerFinish===2?"bg-gradient-to-r from-gray-700/50 to-gray-600/50 border-gray-500":"bg-gray-800 border-gray-700"}`,children:[S.playerFinish===1&&l.jsxs(l.Fragment,{children:[l.jsx("div",{className:"text-5xl mb-3",children:""}),l.jsx("h2",{className:"text-3xl font-bold text-yellow-400",children:"CHAMPIONS!"}),l.jsxs("p",{className:"text-lg text-yellow-200 mt-2",children:["IPL Season ",x," Winners"]})]}),S.playerFinish===2&&l.jsxs(l.Fragment,{children:[l.jsx("div",{className:"text-4xl mb-3",children:""}),l.jsx("h2",{className:"text-2xl font-bold text-gray-300",children:"Runners Up"}),l.jsx("p",{className:"text-gray-400 mt-2",children:"So close! Better luck next season."})]}),S.playerFinish>2&&S.playerFinish<=4&&l.jsxs(l.Fragment,{children:[l.jsx("h2",{className:"text-xl font-bold",children:"Playoff Finish"}),l.jsxs("p",{className:"text-gray-400 mt-2",children:["Finished #",S.playerFinish," in the playoffs."]})]}),S.playerFinish>4&&l.jsxs(l.Fragment,{children:[l.jsx("h2",{className:"text-xl font-bold text-gray-400",children:"Season Over"}),l.jsxs("p",{className:"text-gray-500 mt-2",children:["Finished #",S.playerFinish," - Missed playoffs."]})]})]}),l.jsxs("div",{className:"bg-gray-800 rounded-xl p-4 border border-gray-700",children:[l.jsx("h3",{className:"text-sm font-semibold text-gray-400 mb-3",children:"YOUR SEASON"}),l.jsxs("div",{className:"grid grid-cols-3 gap-4 text-center",children:[l.jsxs("div",{children:[l.jsx("div",{className:"text-2xl font-bold text-green-400",children:N}),l.jsx("div",{className:"text-xs text-gray-500",children:"Wins"})]}),l.jsxs("div",{children:[l.jsx("div",{className:"text-2xl font-bold text-red-400",children:w}),l.jsx("div",{className:"text-xs text-gray-500",children:"Losses"})]}),l.jsxs("div",{children:[l.jsx("div",{className:`text-2xl font-bold ${(A?.netRunRate||0)>=0?"text-green-400":"text-red-400"}`,children:A?.netRunRate?.toFixed(2)||"0.00"}),l.jsx("div",{className:"text-xs text-gray-500",children:"NRR"})]})]})]}),l.jsxs("div",{className:"bg-gray-800 rounded-xl p-4 border border-gray-700",children:[l.jsx("h3",{className:"text-sm font-semibold text-gray-400 mb-3",children:"TOP PERFORMERS"}),l.jsxs("div",{className:"space-y-3",children:[W&&O&&l.jsxs("div",{className:"flex justify-between items-center",children:[l.jsxs("div",{children:[l.jsx("div",{className:"text-sm font-medium",children:W.shortName}),l.jsx("div",{className:"text-xs text-gray-500",children:"Top Run Scorer"})]}),l.jsxs("div",{className:"text-right",children:[l.jsx("div",{className:"text-lg font-bold text-blue-400",children:O[1].runs}),l.jsx("div",{className:"text-xs text-gray-500",children:"runs"})]})]}),ne&&_&&l.jsxs("div",{className:"flex justify-between items-center",children:[l.jsxs("div",{children:[l.jsx("div",{className:"text-sm font-medium",children:ne.shortName}),l.jsx("div",{className:"text-xs text-gray-500",children:"Top Wicket Taker"})]}),l.jsxs("div",{className:"text-right",children:[l.jsx("div",{className:"text-lg font-bold text-purple-400",children:_[1].wickets}),l.jsx("div",{className:"text-xs text-gray-500",children:"wickets"})]})]})]})]}),l.jsxs("div",{className:"bg-gray-800 rounded-xl p-4 border border-gray-700",children:[l.jsx("h3",{className:"text-sm font-semibold text-gray-400 mb-3",children:"FINAL STANDINGS"}),l.jsx("div",{className:"space-y-1",children:R.map((G,ue)=>{const B=d.find(V=>V.id===G.teamId),ae=G.teamId===i,J=S?.champion===G.teamId;return l.jsxs("div",{className:`flex items-center justify-between px-2 py-2 rounded-lg ${ae?"bg-blue-900/30 border border-blue-800/50":"bg-gray-700/30"}`,children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("span",{className:"text-gray-500 w-4 text-sm",children:ue+1}),l.jsxs("span",{className:`text-sm ${ae?"text-blue-400 font-medium":""}`,children:[B?.shortName,J&&l.jsx("span",{className:"ml-1",children:""})]})]}),l.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[l.jsxs("span",{className:"text-gray-400",children:[G.played,"P"]}),l.jsxs("span",{className:"text-green-400",children:[G.won,"W"]}),l.jsxs("span",{className:"text-red-400",children:[G.lost,"L"]}),l.jsxs("span",{className:"w-10 font-bold",children:[G.points,"pts"]})]})]},G.teamId)})})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsxs("button",{onClick:()=>v(),className:"w-full bg-gradient-to-r from-amber-600 to-yellow-600 hover:from-amber-500 hover:to-yellow-500 text-white py-4 rounded-lg font-bold text-lg transition-colors shadow-lg",children:["Continue to Season ",x+1]}),l.jsx("button",{onClick:()=>b("home"),className:"w-full bg-gray-700 hover:bg-gray-600 text-white py-3 rounded-lg font-medium transition-colors",children:"Back to Home"}),l.jsx("button",{onClick:()=>{confirm("Start a new game? This will erase your current progress.")&&(g(),b("home"),window.location.reload())},className:"w-full bg-red-900/50 hover:bg-red-900 text-red-300 py-3 rounded-lg font-medium transition-colors border border-red-800",children:"New Game"})]}),l.jsxs("div",{className:"bg-gray-800/50 rounded-xl p-4 border border-gray-700",children:[l.jsx("h3",{className:"text-xs font-semibold text-gray-500 mb-2",children:"MANAGER RECORD"}),l.jsxs("p",{className:"text-sm text-gray-400",children:[f.name,"  ",f.history.seasonsManaged+1," season",f.history.seasonsManaged>0?"s":""," managed",f.history.titlesWon>0&&`  ${f.history.titlesWon} title${f.history.titlesWon>1?"s":""}`]})]})]})]})},pb={player:"from-blue-900/50 to-blue-800/50 border-blue-700",media:"from-purple-900/50 to-purple-800/50 border-purple-700",team:"from-green-900/50 to-green-800/50 border-green-700",board:"from-amber-900/50 to-amber-800/50 border-amber-700"},vb={player:"Player Issue",media:"Media",team:"Team",board:"Board"},Nb={player:"",media:"",team:"",board:""},jb=()=>{const{activeEvents:i,players:d,resolveEvent:c,navigateTo:o,openPlayerModal:m}=Ze(),f=i.find(g=>!g.resolved);if(!f)return o("home"),null;const x=f.involvedPlayers.length>0?d.find(g=>g.id===f.involvedPlayers[0]):null,b=g=>{c(f.id,g),i.filter(v=>!v.resolved&&v.id!==f.id).length===0&&o("home")};return l.jsxs("div",{className:"min-h-screen bg-gray-900 text-white",children:[l.jsx("header",{className:`p-6 border-b bg-gradient-to-r ${pb[f.category]}`,children:l.jsxs("div",{className:"max-w-lg mx-auto",children:[l.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[l.jsx("span",{className:"text-2xl",children:Nb[f.category]}),l.jsx("span",{className:"text-sm text-gray-300 uppercase tracking-wide",children:vb[f.category]})]}),l.jsx("h1",{className:"text-xl font-bold",children:f.title})]})}),l.jsxs("div",{className:"max-w-lg mx-auto p-4 space-y-6",children:[l.jsxs("div",{className:"bg-gray-800 rounded-xl p-5 border border-gray-700",children:[x&&l.jsxs("button",{onClick:()=>m(x.id,!1),className:"flex items-center gap-3 mb-4 pb-4 border-b border-gray-700 w-full text-left hover:bg-gray-700/30 -mx-2 px-2 py-2 rounded-lg transition-colors",children:[l.jsx("div",{className:"w-12 h-12 bg-gray-700 rounded-full flex items-center justify-center text-lg font-bold",children:x.shortName.charAt(0)}),l.jsxs("div",{children:[l.jsx("div",{className:"font-medium text-blue-400 hover:text-blue-300",children:x.name}),l.jsxs("div",{className:"text-sm text-gray-400",children:[x.role.charAt(0).toUpperCase()+x.role.slice(1),"  Morale: ",x.morale,"  Form: ",x.form>0?"+":"",x.form]})]}),l.jsx("span",{className:"ml-auto text-gray-500 text-sm",children:"View Profile"})]}),l.jsx("p",{className:"text-gray-200 leading-relaxed",children:f.description})]}),l.jsxs("div",{className:"space-y-3",children:[l.jsx("h3",{className:"text-sm text-gray-400 uppercase tracking-wide",children:"Your Response"}),f.options.map(g=>l.jsxs("button",{onClick:()=>b(g.id),className:"w-full text-left bg-gray-800 hover:bg-gray-750 border border-gray-700 hover:border-gray-600 rounded-xl p-4 transition-colors group",children:[l.jsx("div",{className:"font-medium text-white group-hover:text-blue-400 transition-colors",children:g.label}),l.jsx("div",{className:"text-sm text-gray-400 mt-1",children:g.description}),l.jsx("div",{className:"flex flex-wrap gap-2 mt-3",children:g.effects.map((h,v)=>{let p="",E="";return h.target==="player"?h.attribute==="morale"?(p=h.change>0?`+${h.change} Morale`:`${h.change} Morale`,E=h.change>0?"bg-green-900/50 text-green-400":"bg-red-900/50 text-red-400"):h.attribute==="form"?(p=h.change>0?`+${h.change} Form`:`${h.change} Form`,E=h.change>0?"bg-blue-900/50 text-blue-400":"bg-orange-900/50 text-orange-400"):h.attribute==="fatigue"&&(p=h.change<0?`${h.change} Fatigue`:`+${h.change} Fatigue`,E=h.change<0?"bg-green-900/50 text-green-400":"bg-red-900/50 text-red-400"):h.target==="team"&&(h.attribute==="pressHeat"?(p=h.change>0?`+${h.change} Press Heat`:`${h.change} Press Heat`,E=h.change>0?"bg-red-900/50 text-red-400":"bg-green-900/50 text-green-400"):h.attribute==="boardPatience"?(p=h.change>0?`+${h.change} Board Patience`:`${h.change} Board Patience`,E=h.change>0?"bg-green-900/50 text-green-400":"bg-red-900/50 text-red-400"):h.attribute==="morale"&&(p=h.change>0?`+${h.change} Team Morale`:`${h.change} Team Morale`,E=h.change>0?"bg-green-900/50 text-green-400":"bg-red-900/50 text-red-400")),p?l.jsx("span",{className:`text-xs px-2 py-1 rounded ${E}`,children:p},v):null})})]},g.id))]}),f.urgency!=="immediate"&&l.jsx("button",{onClick:()=>o("home"),className:"w-full text-center text-gray-500 hover:text-gray-400 text-sm py-2",children:"Deal with this later"})]})]})},Ta={batsman:"bg-orange-600",bowler:"bg-green-600",allrounder:"bg-purple-600",keeper:"bg-blue-600"},En={batsman:"BAT",bowler:"BOWL",allrounder:"AR",keeper:"WK"},Sb=()=>{const{playerTeamId:i,teams:d,players:c,auctionState:o,unsoldPlayers:m,startMode:f,navigateTo:x,initializeAuction:b,setRetention:g,removeRetention:h,confirmRetentions:v,startBidding:p,placeBid:E,passBid:S,processAIBidRound:j,nextPlayer:N,markPlayerSold:w,markPlayerUnsold:A,setAuctionMode:k,simRestOfAuction:O,completeAuction:W,canPlayerBid:_,getNextBidAmountForPlayer:ne,pickSquadFillPlayer:R,autoFillPlayerSquad:G,completeSquadFill:ue}=Ze(),[B,ae]=le.useState(!1),[J,V]=le.useState(null),[fe,se]=le.useState("waiting_for_player"),[z,P]=le.useState(""),[te,ge]=le.useState("all"),[Y,M]=le.useState(null),[I,de]=le.useState(!1),[re,Be]=le.useState(null),[Ee,ye]=le.useState(!1),[lt,ct]=le.useState(!1),[Zt,Ke]=le.useState(!1),[xt,qt]=le.useState(!1),[Wt,Ut]=le.useState(!1),ca=le.useRef(!1),he=le.useRef(!1),{getSaveSlots:We,saveToSlot:X,resetGame:Ba}=Ze(),Oa=We(),Ht=d.find(H=>H.id===i),ve=o?.teamStates[i];le.useEffect(()=>{o||b(f==="mini-auction"?"mini":"mega")},[o,b,f]),le.useEffect(()=>{o&&o.status==="bidding"&&!o.currentPlayer&&!he.current&&o.auctionPool.some(H=>H.status==="available")&&(he.current=!0,N())},[o,N]),le.useEffect(()=>{o?.status!=="bidding"&&(he.current=!1)},[o?.status]);const Oe=o?.currentPlayer,Ae=Oe?c.find(H=>H.id===Oe.playerId):null;le.useEffect(()=>{Oe&&(se("waiting_for_player"),M(null),qt(!1),ca.current=!1)},[Oe?.playerId]);const Il=()=>{_()&&(E(),M(i),El())},bt=()=>{S(),qt(!0),ca.current=!1,al()},Ma=()=>{ca.current=!0;const H=Ze.getState();H.auctionState&&Ze.setState({auctionState:{...H.auctionState,teamStates:{...H.auctionState.teamStates,[i]:{...H.auctionState.teamStates[i],hasPassedCurrentPlayer:!1}}}}),qt(!1),se("waiting_for_player")},El=()=>{se("ai_bidding"),setTimeout(()=>{if(j()){const $=Ze.getState().auctionState?.currentPlayer;M($?.currentBidder||null),se("waiting_for_player")}else Fl()},600)},al=()=>{se("ai_bidding");const H=()=>{setTimeout(()=>{if(ca.current)return;if(j()){const ie=Ze.getState().auctionState?.currentPlayer;M(ie?.currentBidder||null),H()}else Fl()},500)};H()},Fl=()=>{const H=Ze.getState().auctionState?.currentPlayer;H?.currentBidder?(se("sold"),M(H.currentBidder)):se("unsold")},Ds=()=>{fe==="sold"?w():A(),N(),se("waiting_for_player"),M(null)},ka=()=>{v(),p(),se("waiting_for_player")},yt=()=>{W(),x("home")},Gt=()=>{O()},K=H=>{X(H)&&(de(!1),Ba(),x("home"))};if(!o||!Ht||!ve)return l.jsx("div",{className:"min-h-screen bg-gray-900 text-white flex items-center justify-center",children:l.jsx("p",{children:"Loading auction..."})});if(o.status==="retention_phase")return l.jsxs("div",{className:"min-h-screen bg-gray-900 text-white pb-24",children:[l.jsx("header",{className:"bg-gray-800 p-4 border-b border-gray-700",children:l.jsxs("div",{className:"flex items-center justify-between max-w-lg mx-auto",children:[l.jsx("button",{onClick:()=>de(!0),className:"text-gray-400 hover:text-white text-sm",children:"Save & Exit"}),l.jsxs("div",{className:"text-center flex-1",children:[l.jsx("h1",{className:"text-xl font-bold",children:"Mega Auction - Retentions"}),l.jsx("p",{className:"text-sm text-gray-400 mt-1",children:"Choose up to 4 players to retain"})]}),l.jsx("div",{className:"w-16"})]})}),l.jsxs("div",{className:"max-w-lg mx-auto p-4 space-y-4",children:[l.jsx("div",{className:"bg-gray-800 rounded-xl p-4 border border-gray-700",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("div",{className:"w-12 h-12 rounded-full flex items-center justify-center font-bold",style:{backgroundColor:Ht.colors.primary},children:Ht.shortName}),l.jsxs("div",{children:[l.jsx("div",{className:"font-semibold",children:Ht.name}),l.jsx("div",{className:"text-sm text-gray-400",children:"Select your retentions"})]})]}),l.jsxs("div",{className:"text-right",children:[l.jsx("div",{className:"text-2xl font-bold text-green-400",children:Dt(ve.remainingPurse)}),l.jsx("div",{className:"text-xs text-gray-400",children:"Remaining Purse"})]})]})}),l.jsx("div",{className:"space-y-3",children:ve.retentions.map(H=>{const $=H.playerId?c.find(ie=>ie.id===H.playerId):null;return l.jsx("div",{className:"bg-gray-800 rounded-xl p-4 border border-gray-700",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("div",{className:"w-8 h-8 rounded-full bg-gray-700 flex items-center justify-center text-sm font-bold",children:H.slotNumber}),$?l.jsxs("div",{children:[l.jsx("div",{className:"font-medium",children:$.name}),l.jsxs("div",{className:"text-xs text-gray-400",children:[$.role,"  Cost: ",Dt(H.cost)]})]}):l.jsxs("div",{className:"text-gray-500",children:["Empty Slot  Cost: ",Dt(H.cost)]})]}),l.jsx("div",{className:"flex gap-2",children:$?l.jsx("button",{onClick:()=>h(H.slotNumber),className:"px-3 py-1 bg-red-900/50 text-red-400 rounded-lg text-sm",children:"Remove"}):l.jsx("button",{onClick:()=>{V(H.slotNumber),ae(!0)},className:"px-3 py-1 bg-blue-600 text-white rounded-lg text-sm",children:"Select"})})]})},H.slotNumber)})}),l.jsx("button",{onClick:ka,className:"w-full bg-green-600 hover:bg-green-700 text-white py-4 rounded-lg font-semibold text-lg",children:"Confirm Retentions & Start Auction"})]}),B&&J&&l.jsx("div",{className:"fixed inset-0 bg-black/80 flex items-center justify-center z-50 p-4",children:l.jsxs("div",{className:"bg-gray-800 rounded-xl max-w-md w-full max-h-[80vh] overflow-y-auto",children:[l.jsx("div",{className:"p-4 border-b border-gray-700",children:l.jsxs("h3",{className:"font-bold",children:["Select Player for Slot ",J]})}),l.jsx("div",{className:"p-4 space-y-2",children:c.filter(H=>Ht.squad.includes(H.id)).filter(H=>!ve.retentions.some($=>$.playerId===H.id)).map(H=>l.jsxs("button",{onClick:()=>{g(H.id,J),ae(!1),V(null)},className:"w-full bg-gray-700 hover:bg-gray-600 rounded-lg p-3 flex items-center gap-3 text-left",children:[l.jsx("div",{className:`w-10 h-10 rounded-full ${Ta[H.role]} flex items-center justify-center text-xs font-bold`,children:H.shortName.slice(0,2)}),l.jsxs("div",{className:"flex-1",children:[l.jsx("div",{className:"font-medium",children:H.name}),l.jsxs("div",{className:"text-xs text-gray-400",children:[H.role,"  ",H.nationality]})]}),H.contract.isOverseas&&l.jsx("span",{className:"px-2 py-1 bg-blue-900/50 text-blue-400 text-xs rounded",children:"OS"})]},H.id))}),l.jsx("div",{className:"p-4 border-t border-gray-700",children:l.jsx("button",{onClick:()=>{ae(!1),V(null)},className:"w-full bg-gray-700 text-white py-2 rounded-lg",children:"Cancel"})})]})}),I&&l.jsx("div",{className:"fixed inset-0 bg-black/80 flex items-center justify-center z-50 p-4",children:l.jsxs("div",{className:"bg-gray-800 rounded-xl max-w-md w-full",children:[l.jsxs("div",{className:"p-4 border-b border-gray-700",children:[l.jsx("h3",{className:"font-bold",children:"Save Game"}),l.jsx("p",{className:"text-sm text-gray-400 mt-1",children:"Choose a save slot. This will exit to the main menu."})]}),l.jsx("div",{className:"p-4 space-y-2",children:[1,2,3].map(H=>{const $=Oa.find(ie=>ie.id===H);return l.jsxs("button",{onClick:()=>K(H),className:"w-full bg-gray-700 hover:bg-gray-600 rounded-lg p-3 text-left",children:[l.jsxs("div",{className:"flex justify-between items-center",children:[l.jsxs("span",{className:"font-medium",children:["Slot ",H]}),$&&l.jsx("span",{className:"text-xs text-yellow-500",children:"Overwrite"})]}),$?l.jsxs("div",{className:"text-xs text-gray-400 mt-1",children:[$.name,"  ",po($.savedAt)]}):l.jsx("div",{className:"text-xs text-gray-500 mt-1",children:"Empty"})]},H)})}),l.jsx("div",{className:"p-4 border-t border-gray-700",children:l.jsx("button",{onClick:()=>de(!1),className:"w-full bg-gray-700 text-white py-2 rounded-lg",children:"Cancel"})})]})})]});if(o.status==="squad_fill"){const H=o.settings.minSquadSize-ve.squadSize,ie=io(c,d,m).filter(({player:me})=>{const Ue=z===""||me.name.toLowerCase().includes(z.toLowerCase())||me.shortName.toLowerCase().includes(z.toLowerCase()),Xe=te==="all"||me.role===te;return Ue&&Xe}),ce=ve.squadSize>=o.settings.minSquadSize;return l.jsxs("div",{className:"min-h-screen bg-gray-900 text-white pb-24",children:[l.jsxs("header",{className:"bg-gray-800 p-4 border-b border-gray-700",children:[l.jsxs("h1",{className:"text-xl font-bold text-center",children:["Squad Fill ",H>0?`- Need ${H} more`:"- Complete!"]}),l.jsxs("div",{className:"flex justify-center gap-6 mt-2 text-sm",children:[l.jsxs("span",{children:["Budget: ",l.jsx("span",{className:"text-green-400 font-medium",children:Dt(ve.remainingPurse)})]}),l.jsxs("span",{children:["Squad: ",l.jsxs("span",{className:"font-medium",children:[ve.squadSize,"/",o.settings.minSquadSize]})]}),l.jsxs("span",{children:["Overseas: ",l.jsxs("span",{className:"text-blue-400 font-medium",children:[ve.overseasCount,"/8"]})]})]})]}),l.jsxs("div",{className:"max-w-lg mx-auto p-4 space-y-4",children:[l.jsxs("div",{className:"flex gap-2",children:[l.jsx("input",{type:"text",placeholder:"Search players...",value:z,onChange:me=>P(me.target.value),className:"flex-1 bg-gray-800 border border-gray-700 rounded-lg px-3 py-2 text-sm focus:outline-none focus:border-blue-500"}),l.jsxs("select",{value:te,onChange:me=>ge(me.target.value),className:"bg-gray-800 border border-gray-700 rounded-lg px-3 py-2 text-sm focus:outline-none focus:border-blue-500",children:[l.jsx("option",{value:"all",children:"All Roles"}),l.jsx("option",{value:"batsman",children:"Batsman"}),l.jsx("option",{value:"bowler",children:"Bowler"}),l.jsx("option",{value:"allrounder",children:"All-rounder"}),l.jsx("option",{value:"keeper",children:"Keeper"})]})]}),ie.filter(me=>me.isUnsold).length>0&&l.jsxs("div",{className:"bg-gray-800 rounded-xl p-4 border border-yellow-600/30",children:[l.jsx("h3",{className:"font-semibold mb-3 text-yellow-400",children:"Unsold From Auction"}),l.jsx("div",{className:"space-y-2 max-h-48 overflow-y-auto",children:ie.filter(me=>me.isUnsold).map(({player:me,basePrice:Ue})=>{const{canPick:Xe,reason:Ye}=ro(ve,me,Ue,o.settings);return l.jsxs("div",{className:"flex items-center justify-between py-2 border-b border-gray-700 last:border-0",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("span",{className:`px-2 py-1 text-xs rounded ${Ta[me.role]}`,children:En[me.role]}),l.jsx("span",{children:me.shortName}),me.contract.isOverseas&&l.jsx("span",{className:"text-xs text-blue-400",children:"OS"})]}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("span",{className:"text-gray-400 text-sm",children:Dt(Ue)}),l.jsx("button",{onClick:()=>R(me.id),disabled:!Xe,className:`px-3 py-1 text-sm rounded ${Xe?"bg-green-600 hover:bg-green-700":"bg-gray-600 cursor-not-allowed opacity-50"}`,title:Ye,children:"+"})]})]},me.id)})})]}),l.jsxs("div",{className:"bg-gray-800 rounded-xl p-4 border border-gray-700",children:[l.jsxs("h3",{className:"font-semibold mb-3",children:["Free Agents (",ie.filter(me=>!me.isUnsold).length,")"]}),l.jsxs("div",{className:"space-y-2 max-h-64 overflow-y-auto",children:[ie.filter(me=>!me.isUnsold).slice(0,50).map(({player:me,basePrice:Ue})=>{const{canPick:Xe,reason:Ye}=ro(ve,me,Ue,o.settings);return l.jsxs("div",{className:"flex items-center justify-between py-2 border-b border-gray-700 last:border-0",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("span",{className:`px-2 py-1 text-xs rounded ${Ta[me.role]}`,children:En[me.role]}),l.jsx("span",{children:me.shortName}),me.contract.isOverseas&&l.jsx("span",{className:"text-xs text-blue-400",children:"OS"})]}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("span",{className:"text-gray-400 text-sm",children:Dt(Ue)}),l.jsx("button",{onClick:()=>R(me.id),disabled:!Xe,className:`px-3 py-1 text-sm rounded ${Xe?"bg-green-600 hover:bg-green-700":"bg-gray-600 cursor-not-allowed opacity-50"}`,title:Ye,children:"+"})]})]},me.id)}),ie.filter(me=>!me.isUnsold).length>50&&l.jsxs("div",{className:"text-center text-gray-400 text-sm py-2",children:["...and ",ie.filter(me=>!me.isUnsold).length-50," more (use search to find specific players)"]})]})]}),l.jsxs("div",{className:"flex gap-3",children:[!ce&&l.jsx("button",{onClick:G,className:"flex-1 bg-purple-600 hover:bg-purple-700 text-white py-3 rounded-lg font-medium",children:"Auto-Fill Cheapest"}),l.jsx("button",{onClick:ue,disabled:!ce,className:`flex-1 py-3 rounded-lg font-medium ${ce?"bg-blue-600 hover:bg-blue-700 text-white":"bg-gray-700 text-gray-400 cursor-not-allowed"}`,children:ce?"Start Season":`Need ${H} more players`})]})]})]})}if(o.status==="completed")return l.jsxs("div",{className:"min-h-screen bg-gray-900 text-white pb-24",children:[l.jsx("header",{className:"bg-gray-800 p-4 border-b border-gray-700",children:l.jsx("h1",{className:"text-xl font-bold text-center",children:"Auction Complete"})}),l.jsxs("div",{className:"max-w-lg mx-auto p-4 space-y-4",children:[l.jsxs("div",{className:"bg-gray-800 rounded-xl p-4 border border-gray-700",children:[l.jsx("h2",{className:"font-semibold mb-3",children:"Your Squad"}),l.jsxs("div",{className:"grid grid-cols-3 gap-3 text-center",children:[l.jsxs("div",{children:[l.jsx("div",{className:"text-2xl font-bold",children:ve.squadSize}),l.jsx("div",{className:"text-xs text-gray-400",children:"Players"})]}),l.jsxs("div",{children:[l.jsx("div",{className:"text-2xl font-bold text-green-400",children:Os(ve.remainingPurse)}),l.jsx("div",{className:"text-xs text-gray-400",children:"Remaining"})]}),l.jsxs("div",{children:[l.jsx("div",{className:"text-2xl font-bold text-blue-400",children:ve.overseasCount}),l.jsx("div",{className:"text-xs text-gray-400",children:"Overseas"})]})]})]}),l.jsxs("div",{className:"bg-gray-800 rounded-xl p-4 border border-gray-700",children:[l.jsx("h3",{className:"font-semibold mb-3",children:"Players Bought"}),l.jsx("div",{className:"space-y-2 max-h-60 overflow-y-auto",children:o.soldPlayers.filter(H=>H.currentBidder===i).map(H=>{const $=c.find(ie=>ie.id===H.playerId);return $?l.jsxs("div",{className:"flex items-center justify-between py-2 border-b border-gray-700 last:border-0",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("span",{className:`px-2 py-1 text-xs rounded ${Ta[$.role]}`,children:En[$.role]}),l.jsx("span",{children:$.shortName}),$.contract.isOverseas&&l.jsx("span",{className:"text-xs text-blue-400",children:"OS"})]}),l.jsx("span",{className:"text-green-400 font-medium",children:Dt(H.currentBid)})]},H.playerId):null})})]}),l.jsx("button",{onClick:yt,className:"w-full bg-blue-600 hover:bg-blue-700 text-white py-4 rounded-lg font-semibold text-lg",children:"Start Season"})]})]});const xe=fe==="waiting_for_player",Me=fe==="ai_bidding",Ne=fe==="sold",oe=fe==="unsold",Se=Ne||oe,Ge=Oe?.currentBidder===i;return l.jsxs("div",{className:"min-h-screen bg-gray-900 text-white pb-4",children:[l.jsx("header",{className:"bg-gray-800 p-3 border-b border-gray-700 sticky top-0 z-10",children:l.jsxs("div",{className:"flex items-center justify-between max-w-lg mx-auto",children:[l.jsxs("button",{onClick:()=>Ke(!0),className:"text-left hover:bg-gray-700/50 rounded-lg px-2 py-1 -ml-2 transition-colors",children:[l.jsxs("div",{className:"text-sm text-gray-400",children:["Player ",o.totalPlayersAuctioned,"/",o.auctionPool.length,l.jsx("span",{className:"text-blue-400 ml-1",children:""})]}),l.jsxs("div",{className:"text-xs text-yellow-400",children:[xe&&"Your turn to bid",Me&&"AI teams responding...",Ne&&"SOLD!",oe&&"UNSOLD"]})]}),l.jsxs("button",{onClick:()=>ct(!0),className:"text-right hover:bg-gray-700/50 rounded-lg px-2 py-1 -mr-2 transition-colors",children:[l.jsx("div",{className:"text-sm font-medium text-green-400",children:Dt(ve.remainingPurse)}),l.jsxs("div",{className:"text-xs text-gray-400",children:[ve.squadSize,"/",o.settings.maxSquadSize," players",l.jsx("span",{className:"text-blue-400 ml-1",children:""})]})]})]})}),l.jsxs("div",{className:"max-w-lg mx-auto p-3 space-y-3",children:[Ae&&Oe?l.jsxs("div",{className:`bg-gray-800 rounded-xl p-4 border ${Ne?"border-green-500":oe?"border-red-500":"border-gray-700"}`,children:[l.jsx("button",{onClick:()=>ye(!0),className:"w-full text-left",children:l.jsxs("div",{className:"flex items-start gap-4",children:[l.jsx("div",{className:`w-16 h-16 rounded-full ${Ta[Ae.role]} flex items-center justify-center text-lg font-bold`,children:Ae.shortName.slice(0,2).toUpperCase()}),l.jsxs("div",{className:"flex-1",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("h2",{className:"text-lg font-bold",children:Ae.name}),Ae.contract.isOverseas&&l.jsx("span",{className:"px-2 py-0.5 bg-blue-900/50 text-blue-400 text-xs rounded",children:"OVERSEAS"})]}),l.jsxs("div",{className:"text-sm text-gray-400",children:[Ae.role.charAt(0).toUpperCase()+Ae.role.slice(1)," "," ",Ae.nationality,"  Age ",Ae.age]}),l.jsxs("div",{className:"mt-2 grid grid-cols-2 gap-2 text-xs",children:[l.jsxs("div",{children:["Batting:"," ",l.jsx("span",{className:"text-orange-400",children:Math.round((Ae.batting.technique+Ae.batting.power+Ae.batting.timing)/3)})]}),l.jsxs("div",{children:["Bowling:"," ",l.jsx("span",{className:"text-green-400",children:Math.round((Ae.bowling.speed+Ae.bowling.accuracy+Ae.bowling.variation)/3)})]})]}),l.jsx("div",{className:"mt-1 text-xs text-blue-400",children:"Tap for full stats"})]})]})}),l.jsxs("div",{className:"mt-4 flex items-center justify-between bg-gray-700/50 rounded-lg p-3",children:[l.jsxs("div",{children:[l.jsx("div",{className:"text-xs text-gray-400",children:"Base Price"}),l.jsx("div",{className:"text-lg font-medium",children:Dt(Oe.basePrice)})]}),l.jsxs("div",{className:"text-right",children:[l.jsx("div",{className:"text-xs text-gray-400",children:"Current Bid"}),l.jsx("div",{className:`text-2xl font-bold ${Ne?"text-green-400":oe?"text-red-400":"text-green-400"}`,children:Dt(Oe.currentBid)})]})]}),Oe.currentBidder&&l.jsxs("div",{className:"mt-2 text-center text-sm",children:[l.jsx("span",{className:"text-gray-400",children:Se?"Sold to: ":"Highest Bidder: "}),l.jsxs("span",{className:`font-medium ${Oe.currentBidder===i?"text-green-400":"text-yellow-400"}`,children:[d.find(H=>H.id===Oe.currentBidder)?.name,Oe.currentBidder===i&&" (You)"]})]}),Ne&&l.jsx("div",{className:"mt-3 bg-green-900/50 border border-green-600 rounded-lg p-2 text-center",children:l.jsx("span",{className:"text-green-400 font-bold text-lg",children:"SOLD!"})}),oe&&l.jsx("div",{className:"mt-3 bg-red-900/50 border border-red-600 rounded-lg p-2 text-center",children:l.jsx("span",{className:"text-red-400 font-bold text-lg",children:"UNSOLD"})})]}):l.jsx("div",{className:"bg-gray-800 rounded-xl p-8 border border-gray-700 text-center",children:l.jsx("p",{className:"text-gray-400",children:"Preparing next player..."})}),Ae&&Oe&&!Se&&l.jsxs(l.Fragment,{children:[!xt&&l.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[l.jsx("button",{onClick:Il,disabled:!xe||!_(),className:`py-4 rounded-lg font-semibold text-lg transition-colors ${xe&&_()?"bg-green-600 hover:bg-green-700 text-white":"bg-gray-700 text-gray-500 cursor-not-allowed"}`,children:Me?"Wait...":`BID ${Dt(ne())}`}),l.jsx("button",{onClick:bt,disabled:!xe||ve.hasPassedCurrentPlayer||Ge,className:`py-4 rounded-lg font-semibold text-lg transition-colors ${xe&&!ve.hasPassedCurrentPlayer&&!Ge?"bg-red-600 hover:bg-red-700 text-white":"bg-gray-700 text-gray-500 cursor-not-allowed"}`,children:ve.hasPassedCurrentPlayer?"PASSED":Me?"Wait...":"PASS"})]}),xt&&Me&&l.jsx("button",{onClick:Ma,className:"w-full py-4 bg-yellow-600 hover:bg-yellow-700 text-white rounded-lg font-semibold text-lg animate-pulse",children:"JUMP BACK IN!"})]}),Se&&l.jsx("button",{onClick:Ds,className:"w-full py-4 bg-blue-600 hover:bg-blue-700 rounded-lg font-semibold text-lg",children:"Next Player"}),!Se&&l.jsxs("div",{className:`text-center py-2 rounded-lg ${xe?"bg-yellow-900/30 border border-yellow-700":xt&&Me?"bg-yellow-900/20 border border-yellow-800":"bg-gray-700/30"}`,children:[xe&&l.jsx("span",{className:"text-yellow-400 font-medium",children:"Your turn - Analyze and decide"}),Me&&!xt&&l.jsx("span",{className:"text-gray-400",children:"AI teams are responding..."}),xt&&Me&&l.jsx("span",{className:"text-yellow-500",children:"You passed - Tap above to jump back in!"})]}),Oe&&Oe.bidHistory.length>0&&l.jsxs("div",{className:"bg-gray-800 rounded-lg p-3 border border-gray-700",children:[l.jsx("div",{className:"text-xs text-gray-400 mb-2",children:"Bid History"}),l.jsx("div",{className:"space-y-1 max-h-32 overflow-y-auto",children:[...Oe.bidHistory].reverse().map((H,$)=>{const ie=d.find(ce=>ce.id===H.teamId);return l.jsxs("div",{className:"flex justify-between text-sm",children:[l.jsxs("span",{className:H.teamId===i?"text-green-400 font-medium":"text-gray-300",children:[ie?.shortName,H.teamId===i&&" (You)"]}),l.jsx("span",{className:"text-gray-400",children:Dt(H.amount)})]},$)})})]}),(()=>{const H=o.auctionPool.filter($=>$.status==="available").slice(0,5);return H.length===0?null:l.jsxs("button",{onClick:()=>Ut(!0),className:"w-full bg-gray-800 rounded-lg p-3 border border-gray-700 text-left hover:bg-gray-700/50 transition-colors",children:[l.jsxs("div",{className:"flex items-center justify-between mb-2",children:[l.jsx("span",{className:"text-xs text-gray-400",children:"Coming Up Next"}),l.jsx("span",{className:"text-xs text-blue-400",children:"See all "})]}),l.jsx("div",{className:"flex gap-2 overflow-x-auto",children:H.map(($,ie)=>{const ce=c.find(me=>me.id===$.playerId);return ce?l.jsxs("div",{className:`flex-shrink-0 w-16 text-center ${ie===0?"opacity-100":"opacity-60"}`,children:[l.jsx("div",{className:`w-10 h-10 mx-auto rounded-full ${Ta[ce.role]} flex items-center justify-center text-xs font-bold mb-1`,children:ce.shortName.slice(0,2).toUpperCase()}),l.jsx("div",{className:"text-xs truncate",children:ce.shortName}),l.jsx("div",{className:"text-xs text-gray-500",children:Os($.basePrice)})]},$.playerId):null})})]})})(),l.jsxs("div",{className:"bg-gray-800 rounded-lg p-3 border border-gray-700",children:[l.jsx("div",{className:"text-xs text-gray-400 mb-2",children:"Team Status"}),l.jsx("div",{className:"grid grid-cols-3 gap-2 text-xs",children:Object.entries(o.teamStates).map(([H,$])=>{const ie=d.find(Ue=>Ue.id===H),ce=Oe?.currentBidder===H,me=$.hasPassedCurrentPlayer;return l.jsxs("div",{className:`p-2 rounded-lg ${ce?"bg-green-900/50 border border-green-700":me?"bg-gray-700/30 opacity-50":"bg-gray-700/50"}`,children:[l.jsx("div",{className:`font-medium ${H===i?"text-blue-400":""}`,children:ie?.shortName}),l.jsx("div",{className:"text-gray-400",children:Os($.remainingPurse)}),l.jsxs("div",{className:"text-gray-500",children:[$.squadSize," players"]})]},H)})})]}),Zg(ve,o.settings)&&!Se&&xe&&l.jsxs("div",{className:"flex gap-2",children:[l.jsx("button",{onClick:()=>k("spectate"),className:"flex-1 py-2 bg-gray-700 hover:bg-gray-600 rounded-lg text-sm",children:"Spectate"}),l.jsx("button",{onClick:Gt,className:"flex-1 py-2 bg-purple-600 hover:bg-purple-700 rounded-lg text-sm",children:"Sim Rest"})]})]}),Ee&&Ae&&l.jsx("div",{className:"fixed inset-0 bg-black/90 flex items-center justify-center z-50 p-4 overflow-y-auto",children:l.jsxs("div",{className:"bg-gray-800 rounded-xl max-w-md w-full max-h-[90vh] overflow-y-auto",children:[l.jsxs("div",{className:"sticky top-0 bg-gray-800 p-4 border-b border-gray-700 flex items-center justify-between",children:[l.jsx("h3",{className:"font-bold text-lg",children:"Player Details"}),l.jsx("button",{onClick:()=>ye(!1),className:"text-gray-400 hover:text-white text-xl",children:""})]}),l.jsxs("div",{className:"p-4 space-y-4",children:[l.jsxs("div",{className:"flex items-center gap-4",children:[l.jsx("div",{className:`w-16 h-16 rounded-full ${Ta[Ae.role]} flex items-center justify-center text-lg font-bold`,children:Ae.shortName.slice(0,2).toUpperCase()}),l.jsxs("div",{children:[l.jsx("h2",{className:"text-xl font-bold",children:Ae.name}),l.jsxs("div",{className:"text-sm text-gray-400",children:[Ae.role.charAt(0).toUpperCase()+Ae.role.slice(1)," "," ",Ae.nationality]}),l.jsxs("div",{className:"flex gap-2 mt-1",children:[l.jsxs("span",{className:"text-xs bg-gray-700 px-2 py-0.5 rounded",children:["Age ",Ae.age]}),Ae.contract.isOverseas&&l.jsx("span",{className:"text-xs bg-blue-900/50 text-blue-400 px-2 py-0.5 rounded",children:"Overseas"})]})]})]}),l.jsxs("div",{className:"grid grid-cols-3 gap-2",children:[l.jsxs("div",{className:"bg-gray-700/50 rounded-lg p-3 text-center",children:[l.jsxs("div",{className:`text-xl font-bold ${Ae.form>10?"text-green-400":Ae.form<-10?"text-red-400":"text-yellow-400"}`,children:[Ae.form>0?"+":"",Ae.form]}),l.jsx("div",{className:"text-xs text-gray-400",children:"Form"})]}),l.jsxs("div",{className:"bg-gray-700/50 rounded-lg p-3 text-center",children:[l.jsxs("div",{className:`text-xl font-bold ${Ae.fitness>80?"text-green-400":Ae.fitness<50?"text-red-400":"text-yellow-400"}`,children:[Ae.fitness,"%"]}),l.jsx("div",{className:"text-xs text-gray-400",children:"Fitness"})]}),l.jsxs("div",{className:"bg-gray-700/50 rounded-lg p-3 text-center",children:[l.jsxs("div",{className:`text-xl font-bold ${Ae.morale>70?"text-green-400":Ae.morale<40?"text-red-400":"text-yellow-400"}`,children:[Ae.morale,"%"]}),l.jsx("div",{className:"text-xs text-gray-400",children:"Morale"})]})]}),l.jsxs("div",{className:"bg-gray-700/30 rounded-lg p-4",children:[l.jsx("h4",{className:"font-semibold text-orange-400 mb-3",children:"Batting"}),l.jsx("div",{className:"space-y-2",children:Object.entries(Ae.batting).map(([H,$])=>l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("div",{className:"w-24 text-xs text-gray-400 capitalize",children:H}),l.jsx("div",{className:"flex-1 bg-gray-700 rounded-full h-2",children:l.jsx("div",{className:"bg-orange-500 h-2 rounded-full",style:{width:`${$}%`}})}),l.jsx("div",{className:"w-8 text-xs text-right",children:$})]},H))})]}),l.jsxs("div",{className:"bg-gray-700/30 rounded-lg p-4",children:[l.jsx("h4",{className:"font-semibold text-green-400 mb-3",children:"Bowling"}),l.jsx("div",{className:"space-y-2",children:Object.entries(Ae.bowling).map(([H,$])=>l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("div",{className:"w-24 text-xs text-gray-400 capitalize",children:H}),l.jsx("div",{className:"flex-1 bg-gray-700 rounded-full h-2",children:l.jsx("div",{className:"bg-green-500 h-2 rounded-full",style:{width:`${$}%`}})}),l.jsx("div",{className:"w-8 text-xs text-right",children:$})]},H))})]}),l.jsxs("div",{className:"bg-gray-700/30 rounded-lg p-4",children:[l.jsx("h4",{className:"font-semibold text-blue-400 mb-3",children:"Fielding"}),l.jsx("div",{className:"space-y-2",children:Object.entries(Ae.fielding).map(([H,$])=>l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("div",{className:"w-24 text-xs text-gray-400 capitalize",children:H}),l.jsx("div",{className:"flex-1 bg-gray-700 rounded-full h-2",children:l.jsx("div",{className:"bg-blue-500 h-2 rounded-full",style:{width:`${$}%`}})}),l.jsx("div",{className:"w-8 text-xs text-right",children:$})]},H))})]}),l.jsxs("div",{className:"bg-gray-700/30 rounded-lg p-4",children:[l.jsx("h4",{className:"font-semibold text-purple-400 mb-3",children:"Profile"}),l.jsxs("div",{className:"grid grid-cols-2 gap-2 text-sm",children:[l.jsxs("div",{children:[l.jsx("span",{className:"text-gray-400",children:"Batting Style: "}),l.jsxs("span",{className:"capitalize",children:[Ae.battingStyle,"-handed"]})]}),l.jsxs("div",{children:[l.jsx("span",{className:"text-gray-400",children:"Bowling: "}),l.jsx("span",{className:"capitalize",children:Ae.bowlingStyle?.replace(/-/g," ")||"N/A"})]}),l.jsxs("div",{children:[l.jsx("span",{className:"text-gray-400",children:"Temperament: "}),l.jsx("span",{className:"capitalize",children:Ae.personality.temperament})]}),l.jsxs("div",{children:[l.jsx("span",{className:"text-gray-400",children:"Leadership: "}),l.jsxs("span",{children:[Ae.personality.leadership,"/100"]})]})]})]}),l.jsxs("div",{className:"bg-gray-700/30 rounded-lg p-4 border border-dashed border-gray-600",children:[l.jsx("h4",{className:"font-semibold text-gray-500 mb-2",children:"Season Stats"}),l.jsx("p",{className:"text-xs text-gray-500 italic",children:"Career statistics will be available once backend integration is complete."})]})]}),l.jsx("div",{className:"sticky bottom-0 bg-gray-800 p-4 border-t border-gray-700",children:l.jsx("button",{onClick:()=>ye(!1),className:"w-full bg-blue-600 hover:bg-blue-700 text-white py-3 rounded-lg font-medium",children:"Back to Auction"})})]})}),lt&&ve&&l.jsx("div",{className:"fixed inset-0 bg-black/90 flex items-center justify-center z-50 p-4 overflow-y-auto",children:l.jsxs("div",{className:"bg-gray-800 rounded-xl max-w-md w-full max-h-[90vh] overflow-y-auto",children:[l.jsxs("div",{className:"sticky top-0 bg-gray-800 p-4 border-b border-gray-700 flex items-center justify-between",children:[l.jsx("h3",{className:"font-bold text-lg",children:"Your Squad"}),l.jsx("button",{onClick:()=>ct(!1),className:"text-gray-400 hover:text-white text-xl",children:""})]}),l.jsxs("div",{className:"p-4 space-y-4",children:[l.jsxs("div",{className:"bg-gray-700/50 rounded-lg p-4",children:[l.jsxs("div",{className:"flex justify-between items-center mb-2",children:[l.jsx("span",{className:"text-gray-400",children:"Remaining Purse"}),l.jsx("span",{className:"text-2xl font-bold text-green-400",children:Dt(ve.remainingPurse)})]}),l.jsxs("div",{className:"flex justify-between text-sm",children:[l.jsx("span",{className:"text-gray-400",children:"Squad Size"}),l.jsxs("span",{children:[ve.squadSize," / ",o.settings.maxSquadSize]})]}),l.jsxs("div",{className:"flex justify-between text-sm",children:[l.jsx("span",{className:"text-gray-400",children:"Overseas"}),l.jsxs("span",{className:ve.overseasCount>=o.settings.maxOverseas?"text-red-400":"",children:[ve.overseasCount," / ",o.settings.maxOverseas]})]})]}),l.jsxs("div",{className:"bg-gray-700/30 rounded-lg p-4",children:[l.jsx("h4",{className:"font-semibold mb-3",children:"Squad Composition"}),l.jsx("div",{className:"space-y-3",children:[{role:"Batsmen",count:ve.batsmen,ideal:6,color:"bg-orange-500"},{role:"Bowlers",count:ve.bowlers,ideal:6,color:"bg-green-500"},{role:"All-rounders",count:ve.allrounders,ideal:4,color:"bg-purple-500"},{role:"Keepers",count:ve.keepers,ideal:2,color:"bg-blue-500"}].map(({role:H,count:$,ideal:ie,color:ce})=>l.jsxs("div",{children:[l.jsxs("div",{className:"flex justify-between text-sm mb-1",children:[l.jsx("span",{children:H}),l.jsxs("span",{className:$<Math.ceil(ie/2)?"text-red-400":$>=ie?"text-green-400":"text-yellow-400",children:[$," / ",ie," ideal"]})]}),l.jsx("div",{className:"flex gap-1",children:Array.from({length:ie}).map((me,Ue)=>l.jsx("div",{className:`h-2 flex-1 rounded ${Ue<$?ce:"bg-gray-700"}`},Ue))})]},H))})]}),l.jsxs("div",{className:"bg-gray-700/30 rounded-lg p-4",children:[l.jsx("h4",{className:"font-semibold mb-2",children:"Priority Needs"}),l.jsxs("div",{className:"space-y-1 text-sm",children:[ve.keepers<1&&l.jsx("div",{className:"text-red-400",children:" Urgent: Need at least 1 keeper"}),ve.bowlers<4&&l.jsxs("div",{className:"text-red-400",children:[" Urgent: Need more bowlers (",ve.bowlers,"/4 min)"]}),ve.batsmen<4&&l.jsxs("div",{className:"text-yellow-400",children:[" Need more batsmen (",ve.batsmen,"/4 min)"]}),ve.allrounders<2&&l.jsx("div",{className:"text-yellow-400",children:" Could use more all-rounders"}),ve.squadSize<18&&l.jsxs("div",{className:"text-gray-400",children:[" ",18-ve.squadSize," more players needed for minimum squad"]}),ve.keepers>=1&&ve.bowlers>=4&&ve.batsmen>=4&&ve.squadSize>=18&&l.jsx("div",{className:"text-green-400",children:" Squad looking balanced!"})]})]}),o.soldPlayers.filter(H=>H.currentBidder===i).length>0&&l.jsxs("div",{className:"bg-gray-700/30 rounded-lg p-4",children:[l.jsx("h4",{className:"font-semibold mb-3",children:"Players Bought"}),l.jsx("div",{className:"space-y-2 max-h-48 overflow-y-auto",children:o.soldPlayers.filter(H=>H.currentBidder===i).map(H=>{const $=c.find(ie=>ie.id===H.playerId);return $?l.jsxs("div",{className:"flex items-center justify-between text-sm",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("span",{className:`w-2 h-2 rounded-full ${Ta[$.role]}`}),l.jsx("span",{children:$.shortName}),$.contract.isOverseas&&l.jsx("span",{className:"text-xs text-blue-400",children:"OS"})]}),l.jsx("span",{className:"text-green-400",children:Dt(H.currentBid)})]},H.playerId):null})})]})]}),l.jsx("div",{className:"sticky bottom-0 bg-gray-800 p-4 border-t border-gray-700",children:l.jsx("button",{onClick:()=>ct(!1),className:"w-full bg-blue-600 hover:bg-blue-700 text-white py-3 rounded-lg font-medium",children:"Back to Auction"})})]})}),Wt&&l.jsx("div",{className:"fixed inset-0 bg-black/90 flex items-center justify-center z-50 p-4 overflow-y-auto",children:l.jsxs("div",{className:"bg-gray-800 rounded-xl max-w-md w-full max-h-[90vh] overflow-y-auto",children:[l.jsxs("div",{className:"sticky top-0 bg-gray-800 p-4 border-b border-gray-700 flex items-center justify-between",children:[l.jsx("h3",{className:"font-bold text-lg",children:"Upcoming Players"}),l.jsx("button",{onClick:()=>Ut(!1),className:"text-gray-400 hover:text-white text-xl",children:""})]}),l.jsx("div",{className:"p-4 space-y-4",children:(()=>{const H=o.auctionPool.filter(ce=>ce.status==="available").map(ce=>({...ce,player:c.find(me=>me.id===ce.playerId)})).filter(ce=>ce.player),$={batsman:H.filter(ce=>ce.player?.role==="batsman").length,bowler:H.filter(ce=>ce.player?.role==="bowler").length,allrounder:H.filter(ce=>ce.player?.role==="allrounder").length,keeper:H.filter(ce=>ce.player?.role==="keeper").length},ie=H.reduce((ce,me)=>ce+me.basePrice,0);return l.jsxs(l.Fragment,{children:[l.jsxs("div",{className:"bg-gray-700/50 rounded-lg p-3",children:[l.jsxs("div",{className:"flex justify-between items-center mb-2",children:[l.jsx("span",{className:"text-gray-400",children:"Players Remaining"}),l.jsx("span",{className:"text-xl font-bold",children:H.length})]}),l.jsxs("div",{className:"flex justify-between text-sm text-gray-400",children:[l.jsx("span",{children:"Combined Base Value"}),l.jsx("span",{className:"text-yellow-400",children:Dt(ie)})]})]}),l.jsx("div",{className:"grid grid-cols-4 gap-2",children:[{role:"batsman",label:"BAT",count:$.batsman,color:"bg-orange-600"},{role:"bowler",label:"BOWL",count:$.bowler,color:"bg-green-600"},{role:"allrounder",label:"AR",count:$.allrounder,color:"bg-purple-600"},{role:"keeper",label:"WK",count:$.keeper,color:"bg-blue-600"}].map(({label:ce,count:me,color:Ue})=>l.jsxs("div",{className:"bg-gray-700/50 rounded-lg p-2 text-center",children:[l.jsx("div",{className:`w-6 h-6 mx-auto rounded ${Ue} flex items-center justify-center text-xs font-bold mb-1`,children:ce}),l.jsx("div",{className:"text-sm font-bold",children:me})]},ce))}),["batsman","bowler","allrounder","keeper"].map(ce=>{const me=H.filter(Ue=>Ue.player?.role===ce);return me.length===0?null:l.jsxs("div",{className:"bg-gray-700/30 rounded-lg p-4",children:[l.jsxs("h4",{className:"font-semibold mb-3 flex items-center gap-2",children:[l.jsx("span",{className:`w-3 h-3 rounded ${Ta[ce]}`}),ce==="batsman"?"Batsmen":ce==="bowler"?"Bowlers":ce==="allrounder"?"All-rounders":"Keepers",l.jsxs("span",{className:"text-gray-500 font-normal",children:["(",me.length,")"]})]}),l.jsx("div",{className:"space-y-2 max-h-48 overflow-y-auto",children:me.map((Ue,Xe)=>{const Ye=Ue.player;return l.jsxs("div",{className:`flex items-center justify-between text-sm py-1 ${Xe===0?"bg-gray-700/50 -mx-2 px-2 rounded":""}`,children:[l.jsxs("div",{className:"flex items-center gap-2 flex-1 min-w-0",children:[l.jsxs("span",{className:"text-xs text-gray-500 w-5",children:["#",Xe+1]}),l.jsx("span",{className:"truncate",children:Ye.name}),Ye.contract.isOverseas&&l.jsx("span",{className:"text-xs text-blue-400",children:"OS"})]}),l.jsx("span",{className:"text-yellow-400 ml-2",children:Os(Ue.basePrice)})]},Ue.playerId)})})]},ce)}),l.jsxs("div",{className:"bg-yellow-900/30 border border-yellow-700/50 rounded-lg p-3",children:[l.jsx("div",{className:"text-sm text-yellow-400 font-medium mb-1",children:"Budget Tip"}),l.jsxs("div",{className:"text-xs text-gray-300",children:["You have ",Dt(ve.remainingPurse)," remaining and need"," ",Math.max(0,o.settings.minSquadSize-ve.squadSize)," more players.",ve.squadSize<o.settings.minSquadSize&&l.jsxs("span",{className:"text-yellow-400",children:[" ","Reserve at least ",Dt((o.settings.minSquadSize-ve.squadSize)*dt.MIN_RESERVE_PER_SLOT)," for minimum slots."]})]})]})]})})()}),l.jsx("div",{className:"sticky bottom-0 bg-gray-800 p-4 border-t border-gray-700",children:l.jsx("button",{onClick:()=>Ut(!1),className:"w-full bg-blue-600 hover:bg-blue-700 text-white py-3 rounded-lg font-medium",children:"Back to Auction"})})]})}),Zt&&l.jsx("div",{className:"fixed inset-0 bg-black/90 flex items-center justify-center z-50 p-4 overflow-y-auto",children:l.jsxs("div",{className:"bg-gray-800 rounded-xl max-w-md w-full max-h-[90vh] overflow-y-auto",children:[l.jsxs("div",{className:"sticky top-0 bg-gray-800 p-4 border-b border-gray-700 flex items-center justify-between",children:[l.jsx("h3",{className:"font-bold text-lg",children:"Auction Log"}),l.jsx("button",{onClick:()=>Ke(!1),className:"text-gray-400 hover:text-white text-xl",children:""})]}),l.jsxs("div",{className:"p-4 space-y-4",children:[l.jsxs("div",{className:"grid grid-cols-3 gap-2",children:[l.jsxs("div",{className:"bg-gray-700/50 rounded-lg p-3 text-center",children:[l.jsx("div",{className:"text-xl font-bold text-green-400",children:o.soldPlayers.length}),l.jsx("div",{className:"text-xs text-gray-400",children:"Sold"})]}),l.jsxs("div",{className:"bg-gray-700/50 rounded-lg p-3 text-center",children:[l.jsx("div",{className:"text-xl font-bold text-red-400",children:o.unsoldPlayers.length}),l.jsx("div",{className:"text-xs text-gray-400",children:"Unsold"})]}),l.jsxs("div",{className:"bg-gray-700/50 rounded-lg p-3 text-center",children:[l.jsx("div",{className:"text-xl font-bold text-gray-400",children:o.auctionPool.filter(H=>H.status==="available").length}),l.jsx("div",{className:"text-xs text-gray-400",children:"Remaining"})]})]}),o.soldPlayers.length>0&&l.jsxs("div",{className:"bg-gray-700/30 rounded-lg p-4",children:[l.jsx("h4",{className:"font-semibold mb-3 text-green-400",children:"Sold Players"}),l.jsx("div",{className:"space-y-2 max-h-64 overflow-y-auto",children:[...o.soldPlayers].reverse().map(H=>{const $=c.find(ce=>ce.id===H.playerId),ie=d.find(ce=>ce.id===H.currentBidder);return $?l.jsxs("div",{className:"flex items-center justify-between text-sm py-1 border-b border-gray-700 last:border-0",children:[l.jsxs("div",{className:"flex items-center gap-2 flex-1 min-w-0",children:[l.jsx("span",{className:`px-1.5 py-0.5 text-xs rounded ${Ta[$.role]}`,children:En[$.role]}),l.jsx("span",{className:"truncate",children:$.shortName}),$.contract.isOverseas&&l.jsx("span",{className:"text-xs text-blue-400",children:"OS"})]}),l.jsxs("div",{className:"flex items-center gap-2 ml-2",children:[l.jsx("span",{className:"text-xs px-1.5 py-0.5 rounded",style:{backgroundColor:ie?.colors.primary||"#666"},children:ie?.shortName}),l.jsx("span",{className:"text-green-400 font-medium w-16 text-right",children:Os(H.currentBid)})]})]},H.playerId):null})})]}),o.unsoldPlayers.length>0&&l.jsxs("div",{className:"bg-gray-700/30 rounded-lg p-4",children:[l.jsx("h4",{className:"font-semibold mb-3 text-red-400",children:"Unsold Players"}),l.jsx("div",{className:"space-y-1 max-h-32 overflow-y-auto",children:o.unsoldPlayers.map(H=>{const $=c.find(ie=>ie.id===H.playerId);return $?l.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-400",children:[l.jsx("span",{className:`px-1.5 py-0.5 text-xs rounded opacity-50 ${Ta[$.role]}`,children:En[$.role]}),l.jsx("span",{children:$.shortName}),l.jsxs("span",{className:"text-xs",children:["(",Os(H.basePrice)," base)"]})]},H.playerId):null})})]}),o.soldPlayers.length===0&&o.unsoldPlayers.length===0&&l.jsx("div",{className:"text-center text-gray-500 py-8",children:"No players have been auctioned yet."})]}),l.jsx("div",{className:"sticky bottom-0 bg-gray-800 p-4 border-t border-gray-700",children:l.jsx("button",{onClick:()=>Ke(!1),className:"w-full bg-blue-600 hover:bg-blue-700 text-white py-3 rounded-lg font-medium",children:"Back to Auction"})})]})})]})},wb=()=>{const{playerTeamId:i,teams:d,players:c,season:o,releasedPlayers:m,releasePlayer:f,confirmReleases:x}=Ze(),[b,g]=le.useState(new Set(m)),h=d.find(A=>A.id===i),v=c.filter(A=>h?.squad.includes(A.id)),p=[...v].sort((A,k)=>A.contract.yearsRemaining===0&&k.contract.yearsRemaining>0?-1:k.contract.yearsRemaining===0&&A.contract.yearsRemaining>0?1:A.contract.yearsRemaining-k.contract.yearsRemaining),E=()=>v.filter(A=>b.has(A.id)).reduce((A,k)=>A+k.contract.salary,0),S=A=>{const k=c.find(W=>W.id===A);if(!k||k.contract.yearsRemaining===0)return;const O=new Set(b);O.has(A)?O.delete(A):O.add(A),g(O)},j=()=>{b.forEach(A=>{m.includes(A)||f(A)}),x()},N=A=>{switch(A){case"batsman":return"text-blue-400";case"bowler":return"text-green-400";case"allrounder":return"text-purple-400";case"keeper":return"text-yellow-400";default:return"text-gray-400"}},w=A=>A>=100?`${(A/100).toFixed(2)} Cr`:`${A} L`;return l.jsxs("div",{className:"min-h-screen bg-gray-900 text-white pb-24",children:[l.jsx("header",{className:"bg-gradient-to-r from-orange-900 to-amber-800 p-6 border-b border-orange-700",children:l.jsxs("div",{className:"max-w-lg mx-auto text-center",children:[l.jsx("h1",{className:"text-2xl font-bold mb-1",children:"Release Phase"}),l.jsxs("p",{className:"text-orange-200",children:["Season ",o," - Mini Auction Preparation"]})]})}),l.jsxs("div",{className:"max-w-lg mx-auto p-4 space-y-4",children:[l.jsxs("div",{className:"bg-gray-800 rounded-xl p-4 border border-gray-700",children:[l.jsx("h3",{className:"text-sm font-semibold text-gray-400 mb-2",children:"RELEASE PHASE"}),l.jsx("p",{className:"text-sm text-gray-300",children:"Select players to release for the upcoming mini auction. Players with expired contracts (0 years remaining) are automatically released."}),l.jsxs("div",{className:"mt-3 flex justify-between items-center text-sm",children:[l.jsx("span",{className:"text-gray-400",children:"Potential Purse Refund:"}),l.jsx("span",{className:"text-green-400 font-bold",children:w(E())})]})]}),l.jsxs("div",{className:"bg-gray-800 rounded-xl border border-gray-700 overflow-hidden",children:[l.jsxs("div",{className:"p-3 border-b border-gray-700 flex justify-between items-center",children:[l.jsx("h3",{className:"text-sm font-semibold text-gray-400",children:"YOUR SQUAD"}),l.jsxs("span",{className:"text-xs text-gray-500",children:[b.size," selected for release"]})]}),l.jsx("div",{className:"divide-y divide-gray-700",children:p.map(A=>{const k=A.contract.yearsRemaining===0,O=b.has(A.id);return l.jsxs("div",{onClick:()=>S(A.id),className:`p-3 flex items-center justify-between cursor-pointer transition-colors ${O?"bg-red-900/30 border-l-4 border-red-500":"hover:bg-gray-700/50"} ${k?"opacity-75":""}`,children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("div",{className:`w-5 h-5 rounded border-2 flex items-center justify-center ${O?"bg-red-600 border-red-600":"border-gray-500"}`,children:O&&l.jsx("svg",{className:"w-3 h-3 text-white",fill:"currentColor",viewBox:"0 0 20 20",children:l.jsx("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})})}),l.jsxs("div",{children:[l.jsxs("div",{className:"font-medium flex items-center gap-2",children:[A.shortName,A.contract.isOverseas&&l.jsx("span",{className:"text-xs bg-blue-900/50 text-blue-300 px-1.5 py-0.5 rounded",children:"OS"})]}),l.jsxs("div",{className:"text-xs text-gray-500 flex items-center gap-2",children:[l.jsx("span",{className:N(A.role),children:A.role.charAt(0).toUpperCase()+A.role.slice(1)}),l.jsxs("span",{children:["Age ",A.age]})]})]})]}),l.jsxs("div",{className:"text-right",children:[l.jsx("div",{className:"text-sm font-medium",children:w(A.contract.salary)}),l.jsx("div",{className:`text-xs ${k?"text-red-400 font-medium":"text-gray-500"}`,children:k?"EXPIRED":`${A.contract.yearsRemaining}yr left`})]})]},A.id)})})]}),l.jsxs("div",{className:"bg-gray-800 rounded-xl p-4 border border-gray-700",children:[l.jsxs("div",{className:"flex justify-between items-center mb-2",children:[l.jsx("span",{className:"text-gray-400",children:"Squad After Releases:"}),l.jsxs("span",{className:`font-bold ${v.length-b.size<18?"text-yellow-400":"text-white"}`,children:[v.length-b.size," players"]})]}),l.jsxs("div",{className:"flex justify-between items-center",children:[l.jsx("span",{className:"text-gray-400",children:"Overseas After Releases:"}),l.jsxs("span",{className:"font-bold",children:[v.filter(A=>!b.has(A.id)&&A.contract.isOverseas).length," / 8"]})]})]}),l.jsx("button",{onClick:j,className:"w-full bg-gradient-to-r from-orange-600 to-amber-600 hover:from-orange-500 hover:to-amber-500 text-white py-4 rounded-lg font-bold text-lg transition-colors shadow-lg",children:"Confirm Releases & Start Mini Auction"})]})]})};function Tb(){const{initialized:i,currentScreen:d,phase:c,auctionState:o,liveMatchState:m,navigateTo:f,selectMatch:x}=Ze(),b=le.useRef(!1);if(le.useEffect(()=>{if(!(!i||b.current)){if(m?.matchId){b.current=!0,x(m.matchId),f("match-live");return}if(c==="auction"&&o?.status&&o.status!=="completed"){b.current=!0,o.status==="release_phase"?f("release-phase"):f("auction");return}b.current=!0}},[i]),!i)return l.jsx(k0,{children:l.jsx(_x,{})});const h=!["match-live","match-prep","event","season-summary","player-talk","team-meeting","auction","release-phase"].includes(d),v=()=>{switch(d){case"home":return l.jsx(z0,{});case"squad":return l.jsx(Ux,{});case"player-detail":return l.jsx(Gx,{});case"player-talk":return l.jsx(Xx,{});case"team-meeting":return l.jsx(Vx,{});case"stats":return l.jsx(Zx,{});case"schedule":return l.jsx($x,{});case"club":return l.jsx(Px,{});case"match-prep":return l.jsx(Wx,{});case"match-live":return l.jsx(bb,{});case"season-summary":return l.jsx(yb,{});case"event":return l.jsx(jb,{});case"auction":return l.jsx(Sb,{});case"release-phase":return l.jsx(wb,{});default:return l.jsx(z0,{})}},E=["schedule"].includes(d);return l.jsx(k0,{children:l.jsxs("div",{className:"min-h-screen bg-gray-900",children:[l.jsx(fx,{}),l.jsx(Bx,{}),v(),h&&l.jsx(ux,{}),l.jsx(Dx,{allowStacking:E})]})})}Ng.createRoot(document.getElementById("root")).render(l.jsx(le.StrictMode,{children:l.jsx(Tb,{})}));
